{"version":3,"sources":["webpack:///./src/mixins/paneMixin.ts","webpack:///./src/components/trades/Trades.vue?ab41","webpack:///./src/services/gifsService.ts","webpack:///./src/components/trades/TradesPlaceholder.vue?6f57","webpack:///./src/components/trades/TradesPlaceholder.vue","webpack:///./src/components/trades/TradesPlaceholder.vue?0fd6","webpack:///./src/components/trades/TradesPlaceholder.vue?1145","webpack:///./src/components/trades/tradesFeed.ts","webpack:///./src/components/trades/Trades.vue","webpack:///./src/components/trades/Trades.vue?4a3c","webpack:///./src/components/trades/Trades.vue?1801","webpack:///./src/components/trades/TradesPlaceholder.vue?d1dd","webpack:///./src/components/trades/Trades.vue?bddd","webpack:///./src/components/panes/PaneHeader.vue?8308","webpack:///./src/components/panes/PaneHeader.vue","webpack:///./src/components/panes/PaneHeader.vue?260b","webpack:///./src/components/panes/PaneHeader.vue?7137"],"names":["PaneMixin","this","$store","state","panes","paneId","$el","id","refreshZoom","$nextTick","width","clientWidth","onResize","clientHeight","addEventListener","focusPane","removeEventListener","_onStoreMutation","dispatch","commit","props","required","type","String","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","value","callback","$$v","sliderDropdownTrigger","expression","staticStyle","gradient","thresholdsMultipler","on","$event","market","scopedSlots","_u","key","fn","_v","_s","toFixed","proxy","currentTarget","class","showLogos","monochromeLogos","_e","staticRenderFns","cache","promisesOfGifs","setTimeout","cleanExpiredGifs","bind","Math","random","async","keywords","workspacesService","getGifsKeywords","now","Date","keyword","slug","storedGifs","getGifs","timestamp","deleteGifs","store","title","length","showNotice","then","data","fetchGifByKeyword","fetch","res","json","item","push","images","downsized","url","saveGifs","finally","filterRecap","exchangesReady","domProps","paneMarketStringified","_l","pair","index","toggleShowMore","showMore","app","isExchangesReady","markets","paneMarkets","join","mergeUsdt","settings","searchTypes","reduce","pairs","marketKey","marketsListeners","localPair","local","indexOf","thresholds","liquidations","tradeType","minimumTradeAmount","tradesThresholds","amount","minimumLiquidationAmount","liquidationsThresholds","focusedElement","document","activeElement","blur","name","component","containerElement","maxCount","count","cachePreferences","cachePaneMarkets","loadGifs","prepareColors","cacheAudio","trades","html","i","exchange","trade","marketsMultipliers","liquidation","showTrades","maximumTradeAmount","showTrade","tradesColors","tradesAudios","significantTradeAmount","audioThreshold","side","audioService","showLiquidations","maximumLiquidationAmount","liquidationsColors","liquidationsAudios","significantLiquidationAmount","insertAdjacentHTML","trim","audioThresholdValue","showGifsValue","showGifs","Infinity","processTrades","colorStep","significantAmount","percentToNextThreshold","max","from","range","percentToSignificant","min","colorBySide","backgroundGif","gif","gifsService","floor","foregroundColor","luminance","backgroundColor","to","colors","audios","level","maxLevel","renderRow","timestampClass","timestampText","lastTimestamp","showTimeAgo","date","getHours","getMinutes","priceSlippage","slippageMode","slippage","exchangeName","replace","sideClass","sideType","lastSide","pairName","showTradesPairs","getTradeInlineStyles","showPrice","price","size","toString","loadThresholdsGifs","getTradesThesholds","getLiquidationsThresholds","threshold","buyGif","sellGif","appBackgroundColor","prepareColorsThresholds","steps","len","buyFrom","buyColor","buyTo","sellFrom","sellColor","sellTo","buy","fromLuminance","toLuminance","sell","prepareThresholds","useAudio","muted","audioVolume","test","parseFloat","audioPitch","cacheAudioThresholds","buildAudioFunction","buyAudio","sellAudio","calculateSlippage","disableAnimations","timeUpdateInterval","setupTimeUpdateInterval","clearInterval","output","split","activeExchanges","multiplier","multipliers","timeAgo","milliseconds","setInterval","elements","getElementsByClassName","previousRowTimeAgo","topOfTheMinute","getAttribute","txt","textContent","className","removeChild","lastChild","innerHTML","showPlaceholder","pane","aggregatorService","onTrades","subscribe","mutation","feed","refreshList","setMaxCount","payload","$refs","tradesContainer","maxRows","off","destroy","element","querySelector","innerText","classList","contains","preferQuoteCurrencySize","clear","processTradesSilent","components","PaneHeader","TradesPlaceholder","Slider","loading","renamePane","maximizePane","_t","openSearch","openSettings","toggleDropdown","paneDropdownTrigger","stopPropagation","changeZoom","resetZoom","apply","arguments","zoom","duplicatePane","removePane","event","direction","shiftKey","$emit","dialogService","confirm","parentElement","target","el","isMaximized","toggle","siblings","sibling","remove","style","display","cls","Event","window","dispatchEvent","prompt","action","input","open","default","Function","Boolean"],"mappings":"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","file":"js/chunk-7845aa3c.810bf325.js","sourcesContent":["import { Pane } from '@/store/panes'\nimport Vue from 'vue'\nimport Component from 'vue-class-component'\n\n@Component({\n  props: {\n    paneId: {\n      required: true,\n      type: String\n    }\n  }\n})\nexport default class PaneMixin extends Vue {\n  paneId: string\n  protected _onStoreMutation: () => void\n\n  get pane(): Pane {\n    return this.$store.state.panes.panes[this.paneId]\n  }\n\n  mounted() {\n    this.$el.id = this.paneId\n\n    this.refreshZoom()\n\n    this.$nextTick(() => {\n      const width = this.$el.clientWidth\n\n      if (typeof this.onResize === 'function') {\n        this.onResize(width, this.$el.clientHeight, true)\n      }\n    })\n\n    this.$el.addEventListener('mousedown', this.focusPane)\n  }\n\n  beforeDestroy() {\n    this.$el.removeEventListener('mousedown', this.focusPane)\n\n    if (this._onStoreMutation) {\n      this._onStoreMutation()\n    }\n  }\n\n  refreshZoom() {\n    this.$store.dispatch('panes/refreshZoom', this.paneId)\n  }\n\n  focusPane() {\n    this.$store.commit('app/SET_FOCUSED_PANE', this.paneId)\n  }\n\n  onResize?(newWidth: number, newHeight: number, isMounting?: boolean)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pane-trades\"},[_c('pane-header',{ref:\"paneHeader\",attrs:{\"paneId\":_vm.paneId,\"settings\":function () { return import('@/components/trades/TradesDialog.vue'); }}},[_c('dropdown',{attrs:{\"interactive\":\"\",\"no-scroll\":\"\"},model:{value:(_vm.sliderDropdownTrigger),callback:function ($$v) {_vm.sliderDropdownTrigger=$$v},expression:\"sliderDropdownTrigger\"}},[_c('slider',{staticStyle:{\"width\":\"100px\"},attrs:{\"min\":0,\"max\":10,\"step\":0.01,\"label\":\"\",\"show-completion\":false,\"gradient\":_vm.gradient,\"value\":_vm.thresholdsMultipler,\"log\":\"\"},on:{\"input\":function($event){return _vm.$store.commit(_vm.paneId + '/SET_THRESHOLDS_MULTIPLER', {\n            value: $event,\n            market: _vm.market\n          })},\"reset\":function($event){return _vm.$store.commit(_vm.paneId + '/SET_THRESHOLDS_MULTIPLER', {\n            value: 1,\n            market: _vm.market\n          })}},scopedSlots:_vm._u([{key:\"tooltip\",fn:function(){return [_vm._v(\" \"+_vm._s(+(_vm.thresholdsMultipler * 100).toFixed(2))+\"% \")]},proxy:true}])})],1),_c('button',{staticClass:\"toolbar__label\",attrs:{\"name\":_vm.paneId},on:{\"click\":function($event){_vm.sliderDropdownTrigger = _vm.sliderDropdownTrigger\n          ? null\n          : $event.currentTarget}}},[_c('i',{staticClass:\"icon-gauge\"})])],1),_c('div',{ref:\"tradesContainer\",staticClass:\"trades-list\",class:[\n      'hide-scrollbar',\n      this.showLogos && '-logos',\n      !this.monochromeLogos && '-logos-colors'\n    ]}),(_vm.showPlaceholder)?_c('trades-placeholder',{attrs:{\"paneId\":_vm.paneId}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import store from '@/store'\nimport { slugify } from '@/utils/helpers'\nimport workspacesService from './workspacesService'\n\nclass GifsService {\n  cache: { [keyword: string]: string[] } = {}\n  promisesOfGifs: { [keyword: string]: Promise<string[]> } = {}\n\n  constructor() {\n    setTimeout(this.cleanExpiredGifs.bind(this), 60000 + Math.random() * 60000)\n  }\n\n  async cleanExpiredGifs() {\n    const keywords = await workspacesService.getGifsKeywords()\n    const now = Date.now()\n\n    for (const keyword of keywords) {\n      if (this.cache[keyword]) {\n        continue\n      }\n\n      const slug = slugify(keyword)\n\n      const storedGifs = await workspacesService.getGifs(slug)\n\n      if (\n        !storedGifs ||\n        now - storedGifs.timestamp >= 1000 * 60 * 60 * 24 * 7\n      ) {\n        this.deleteGifs(keyword)\n      }\n    }\n  }\n\n  forgetGifs(keyword) {\n    if (this.cache[keyword]) {\n      store.dispatch('app/showNotice', {\n        title:\n          'Forgeting ' +\n          this.cache[keyword].length +\n          ' gifs about \"' +\n          keyword +\n          '\"',\n        type: 'info'\n      })\n\n      delete this.cache[keyword]\n    }\n  }\n\n  async deleteGifs(keyword) {\n    const slug = slugify(keyword)\n    await workspacesService.deleteGifs(slug)\n\n    store.dispatch('app/showNotice', {\n      title: 'Removed gifs about \"' + keyword + '\"',\n      type: 'info'\n    })\n  }\n\n  async getGifs(keyword, showNotice?: boolean) {\n    if (!keyword) {\n      return\n    }\n\n    if (this.cache[keyword]) {\n      return this.cache[keyword]\n    }\n\n    if (this.promisesOfGifs[keyword]) {\n      return this.promisesOfGifs[keyword]\n    }\n\n    const slug = slugify(keyword)\n\n    this.promisesOfGifs[keyword] = workspacesService\n      .getGifs(slug)\n      .then(storedGifs => {\n        delete this.promisesOfGifs[keyword]\n\n        if (\n          storedGifs &&\n          Date.now() - storedGifs.timestamp < 1000 * 60 * 60 * 24 * 7\n        ) {\n          this.cache[keyword] = storedGifs.data\n\n          return storedGifs.data\n        } else {\n          return this.fetchGifByKeyword(keyword, showNotice)\n        }\n      })\n\n    return this.promisesOfGifs[keyword]\n  }\n\n  async fetchGifByKeyword(keyword: string, showNotice?: boolean) {\n    if (!keyword) {\n      return\n    }\n\n    const slug = slugify(keyword)\n\n    return fetch(\n      'https://api.giphy.com/v1/gifs/search?q=' +\n        keyword +\n        '&rating=r&limit=100&api_key=b5Y5CZcpj9spa0xEfskQxGGnhChYt3hi'\n    )\n      .then(res => res.json())\n      .then(async res => {\n        if (!res.data || !res.data.length) {\n          return\n        }\n\n        this.cache[keyword] = []\n\n        for (const item of res.data) {\n          this.cache[keyword].push(item.images.downsized.url)\n        }\n\n        if (showNotice) {\n          store.dispatch('app/showNotice', {\n            title:\n              'Fetched ' + this.cache[keyword].length + ' ' + keyword + ' gifs',\n            type: 'success'\n          })\n        }\n\n        await workspacesService.saveGifs({\n          slug,\n          keyword: keyword,\n          timestamp: Date.now(),\n          data: this.cache[keyword]\n        })\n\n        return this.cache[keyword]\n      })\n      .finally(() => {\n        delete this.promisesOfGifs[keyword]\n      })\n  }\n}\n\nexport default new GifsService()\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"trades-placeholder hide-scrollbar\"},[_c('p',{staticClass:\"trades-placeholder__dimmed\"},[_vm._v(_vm._s(_vm.filterRecap))]),(!_vm.exchangesReady)?_c('p',[_vm._v(\"...\")]):[(_vm.showMore)?_c('pre',{domProps:{\"textContent\":_vm._s(_vm.paneMarketStringified)}}):_c('div',{staticClass:\"pl16 pr16\"},_vm._l((_vm.pairs),function(pair,index){return _c('button',{key:index,staticClass:\"btn mx4 -small\",attrs:{\"disabled\":\"\"}},[_vm._v(\" \"+_vm._s(pair)+\" \")])}),0),_c('button',{staticClass:\"mt8 btn -text trades-placeholder__dimmed -small\",on:{\"click\":_vm.toggleShowMore}},[_vm._v(\" \"+_vm._s(_vm.showMore ? 'Show less' : 'Show more')+\" \")])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Threshold } from '@/store/panesSettings/trades'\nimport { formatAmount, stripStable } from '@/services/productsService'\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  name: 'TradesPlaceholder',\n  props: {\n    paneId: {\n      type: String,\n      required: true\n    }\n  }\n})\nexport default class extends Vue {\n  paneId: string\n  showMore = false\n\n  get exchangesReady() {\n    return this.$store.state.app.isExchangesReady\n  }\n\n  get paneMarkets() {\n    return this.$store.state.panes.panes[this.paneId].markets\n  }\n\n  get paneMarketStringified() {\n    return this.paneMarkets.join('\\n')\n  }\n\n  get pairs() {\n    const mergeUsdt = this.$store.state.settings.searchTypes.mergeUsdt\n\n    return this.paneMarkets.reduce((pairs, marketKey) => {\n      const market = this.$store.state.panes.marketsListeners[marketKey]\n\n      let localPair = market ? market.local : marketKey\n\n      if (mergeUsdt) {\n        localPair = stripStable(localPair)\n      }\n\n      if (pairs.indexOf(localPair) === -1) {\n        pairs.push(localPair)\n      }\n\n      return pairs\n    }, [])\n  }\n\n  get tradesThresholds(): Threshold[] {\n    return this.$store.state[this.paneId].thresholds\n  }\n\n  get liquidationsThresholds(): Threshold[] {\n    return this.$store.state[this.paneId].liquidations\n  }\n\n  get tradeType() {\n    return this.$store.state[this.paneId].tradeType\n  }\n\n  get filterRecap() {\n    const minimumTradeAmount = this.tradesThresholds[0].amount\n    const minimumLiquidationAmount = this.liquidationsThresholds[0].amount\n\n    if (this.tradeType === 'both') {\n      return `Waiting for trades or liquidations > ${formatAmount(\n        minimumTradeAmount\n      )} / ${formatAmount(minimumLiquidationAmount)}`\n    } else if (this.tradeType === 'trades') {\n      return `Waiting for trades > ${formatAmount(minimumTradeAmount)}`\n    } else {\n      return `Waiting for liquidations > ${formatAmount(\n        minimumLiquidationAmount\n      )}`\n    }\n  }\n\n  toggleShowMore() {\n    this.showMore = !this.showMore\n\n    const focusedElement = document.activeElement as HTMLElement\n\n    if (focusedElement) {\n      focusedElement.blur()\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TradesPlaceholder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TradesPlaceholder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TradesPlaceholder.vue?vue&type=template&id=b0a97f14&\"\nimport script from \"./TradesPlaceholder.vue?vue&type=script&lang=ts&\"\nexport * from \"./TradesPlaceholder.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TradesPlaceholder.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import audioService, { AudioFunction } from '@/services/audioService'\nimport gifsService from '@/services/gifsService'\nimport { formatAmount, formatMarketPrice } from '@/services/productsService'\nimport store from '@/store'\nimport { SlippageMode, Trade } from '@/types/types'\nimport {\n  getAppBackgroundColor,\n  getColorByWeight,\n  getColorLuminance,\n  splitColorCode\n} from '@/utils/colors'\n\ninterface PreparedColorStep {\n  from?: number\n  to?: number\n  range?: number\n  level?: number\n  buy: {\n    from: number[]\n    to: number[]\n    fromLuminance: number\n    toLuminance: number\n    gif: string\n  }\n  sell: {\n    from: number[]\n    to: number[]\n    fromLuminance: number\n    toLuminance: number\n    gif: string\n  }\n}\n\ninterface PreparedAudioStep {\n  buy: AudioFunction\n  sell: AudioFunction\n}\nexport default class TradesFeed {\n  paneId: string\n  containerElement: HTMLElement\n\n  private count: number\n  private maxCount: number\n  private maxLevel: number\n\n  private showGifs: boolean\n  private showTrades: boolean\n  private showLiquidations: boolean\n  private showLogos: boolean\n  private showTradesPairs: boolean\n  private showPrice: boolean\n  private showTimeAgo: boolean\n  private slippageMode: SlippageMode\n  private paneMarkets: { [identifier: string]: boolean }\n\n  private tradesAudios: PreparedAudioStep[]\n  private tradesColors: PreparedColorStep[]\n  private minimumTradeAmount: number\n  private significantTradeAmount: number\n  private maximumTradeAmount: number\n\n  private liquidationsAudios: PreparedAudioStep[]\n  private liquidationsColors: PreparedColorStep[]\n  private minimumLiquidationAmount: number\n  private significantLiquidationAmount: number\n  private maximumLiquidationAmount: number\n\n  private audioThreshold: number\n\n  private lastSide: 'buy' | 'sell' | 'lbuy' | 'lsell'\n  private lastTimestamp: number\n  private timeUpdateInterval: number\n  private marketsMultipliers: { [identifier: string]: number }\n\n  constructor(paneId: string, containerElement: HTMLElement, maxCount: number) {\n    this.paneId = paneId\n    this.containerElement = containerElement\n    this.count = 0\n    this.maxCount = maxCount\n\n    this.cachePreferences()\n    this.cachePaneMarkets()\n    this.loadGifs()\n    this.prepareColors()\n    this.cacheAudio()\n  }\n\n  processTrades(trades: Trade[]) {\n    let html = ''\n\n    for (let i = 0; i < trades.length; i++) {\n      const marketKey = trades[i].exchange + ':' + trades[i].pair\n\n      if (!this.paneMarkets[marketKey]) {\n        continue\n      }\n\n      const trade = trades[i]\n\n      if (typeof this.marketsMultipliers[marketKey] !== 'undefined') {\n        trade.amount /= this.marketsMultipliers[marketKey]\n      }\n\n      if (!trade.liquidation && this.showTrades) {\n        if (\n          trade.amount >= this.minimumTradeAmount &&\n          trade.amount < this.maximumTradeAmount\n        ) {\n          html += this.showTrade(\n            trade,\n            marketKey,\n            this.tradesColors,\n            this.tradesAudios,\n            this.significantTradeAmount\n          )\n        } else if (\n          trade.amount > this.audioThreshold &&\n          trade.amount < this.maximumTradeAmount\n        ) {\n          this.tradesAudios[0][trade.side](\n            audioService,\n            trade.amount / this.significantTradeAmount\n          )\n        }\n      } else if (trade.liquidation && this.showLiquidations) {\n        if (\n          trade.amount >= this.minimumLiquidationAmount &&\n          trade.amount < this.maximumLiquidationAmount\n        ) {\n          html += this.showTrade(\n            trade,\n            marketKey,\n            this.liquidationsColors,\n            this.liquidationsAudios,\n            this.significantLiquidationAmount\n          )\n        } else if (\n          trade.amount > this.audioThreshold &&\n          trade.amount < this.maximumLiquidationAmount\n        ) {\n          this.liquidationsAudios[0][trade.side](\n            audioService,\n            trade.amount / this.significantLiquidationAmount\n          )\n        }\n      }\n    }\n\n    if (html.length) {\n      this.containerElement.insertAdjacentHTML('afterbegin', html)\n      this.trim()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  processTradesSilent(trades: Trade[]) {\n    // cache audio & gifs preferences\n    const audioThresholdValue = this.audioThreshold\n    const showGifsValue = this.showGifs\n\n    // disable audio & gifs\n    this.audioThreshold = Infinity\n    this.showGifs = false\n\n    this.processTrades(trades)\n\n    // rollack to original values\n    this.audioThreshold = audioThresholdValue\n    this.showGifs = showGifsValue\n  }\n\n  getTradeInlineStyles(\n    trade: Trade,\n    colorStep: PreparedColorStep,\n    significantAmount: number\n  ) {\n    const percentToNextThreshold =\n      (Math.max(trade.amount, colorStep.from) - colorStep.from) /\n      colorStep.range\n    const percentToSignificant = Math.min(1, trade.amount / significantAmount)\n\n    const colorBySide = colorStep[trade.side]\n\n    let backgroundGif = ''\n\n    if (this.showGifs && colorStep[trade.side].gif) {\n      const keyword = colorStep[trade.side].gif\n\n      if (gifsService.cache[keyword]) {\n        backgroundGif = `background-image:url('${\n          gifsService.cache[keyword][\n            Math.floor(Math.random() * (gifsService.cache[keyword].length - 1))\n          ]\n        }')`\n      }\n    }\n\n    // -1 to 1 luminance of nearest color\n    const luminance =\n      colorBySide[(percentToNextThreshold < 0.5 ? 'from' : 'to') + 'Luminance']\n\n    // background color simple color to color based on percentage of amount to next threshold\n    const backgroundColor = getColorByWeight(\n      colorBySide.from,\n      colorBySide.to,\n      percentToNextThreshold\n    )\n\n    // take background color and apply logarithmic shade based on amount to this.significantThresholdAmount percentage\n    // darken if luminance of background is high, lighten otherwise\n    let foregroundColor\n\n    if (luminance > (backgroundGif ? 0.15 : 0.33)) {\n      foregroundColor =\n        'rgba(0, 0, 0, ' + Math.min(1, 0.33 + percentToSignificant) + ')'\n    } else {\n      foregroundColor =\n        'rgba(255, 255, 255, ' + Math.min(1, 0.33 + percentToSignificant) + ')'\n    }\n\n    return `background-color:rgb(${backgroundColor[0]}, ${backgroundColor[1]}, ${backgroundColor[2]});color:${foregroundColor};${backgroundGif}`\n  }\n\n  showTrade(\n    trade: Trade,\n    marketKey: string,\n    colors: PreparedColorStep[],\n    audios: PreparedAudioStep[],\n    significantAmount: number\n  ) {\n    let level = this.maxLevel\n    let colorStep: PreparedColorStep = colors[level]\n\n    for (level = 0; level < colors.length; level++) {\n      if (trade.amount < colors[level].to) {\n        colorStep = colors[level]\n        break\n      }\n    }\n\n    if (level < colors.length && trade.amount > this.audioThreshold) {\n      audios[level][trade.side](audioService, trade.amount / significantAmount)\n    }\n\n    this.count++\n\n    return this.renderRow(trade, marketKey, colorStep, significantAmount)\n  }\n\n  renderRow(\n    trade: Trade,\n    marketKey: string,\n    colorStep: PreparedColorStep,\n    significantAmount: number\n  ) {\n    let timestampClass = ''\n    let timestampText = ''\n\n    if (trade.timestamp !== this.lastTimestamp) {\n      timestampClass = ' -timestamp'\n\n      this.lastTimestamp = trade.timestamp\n\n      if (!this.showTimeAgo) {\n        const date = new Date(+trade.timestamp)\n        timestampText = date.getHours() + ':' + date.getMinutes()\n        timestampClass += ' -fixed'\n      }\n    }\n\n    let priceSlippage = ''\n\n    if (this.slippageMode && trade.slippage) {\n      priceSlippage = `<small>${trade.slippage > 0 ? '+' : ''}${\n        trade.slippage\n      }${this.slippageMode === 'bps' ? ' bps' : ''}</small>`\n    }\n\n    let exchangeName = ''\n\n    if (!this.showLogos) {\n      exchangeName = trade.exchange.replace('_', ' ')\n    }\n\n    let sideClass = ''\n\n    const sideType: any = trade.side\n    if (trade.liquidation || sideType !== this.lastSide) {\n      sideClass = ' icon-side'\n      this.lastSide = sideType\n    }\n\n    let pairName = ''\n\n    if (this.showTradesPairs) {\n      pairName = `<div class=\"trade__pair\">${trade.pair.replace(\n        '_',\n        ' '\n      )}</div>`\n    }\n\n    return `<li class=\"trade -${trade.exchange} -${trade.side} -level-${\n      colorStep.level\n    }${trade.liquidation ? ' -liquidation' : ''}\" title=\"${trade.exchange}:${\n      trade.pair\n    }\" style=\"${this.getTradeInlineStyles(\n      trade,\n      colorStep,\n      significantAmount\n    )}\">\n    <div class=\"trade__side${sideClass}\"></div>\n    <div class=\"trade__exchange\">${exchangeName}</div>\n    ${pairName}\n    ${\n      this.showPrice\n        ? `<div class=\"trade__price\">${formatMarketPrice(\n            trade.price,\n            marketKey\n          )}${priceSlippage}</div>`\n        : ''\n    }\n    <div class=\"trade__amount\">\n      <span class=\"trade__amount__quote\">\n        <span class=\"icon-quote\"></span>\n        <span>${formatAmount(trade.size * trade.price)}</span>\n      </span>\n      <span class=\"trade__amount__base\">\n        <span class=\"icon-base\"></span>\n        <span>${formatAmount(trade.size)}</span>\n      </span>\n    </div>\n    <div class=\"trade__time ${timestampClass}\" data-timestamp=\"${trade.timestamp.toString()}\">${timestampText}</div>\n    </li>`\n  }\n\n  getTradesThesholds() {\n    return store.state[this.paneId].thresholds\n  }\n\n  getLiquidationsThresholds() {\n    return store.state[this.paneId].liquidations\n  }\n\n  async loadGifs() {\n    this.loadThresholdsGifs(this.getTradesThesholds())\n    this.loadThresholdsGifs(this.getLiquidationsThresholds())\n  }\n\n  async loadThresholdsGifs(thresholds) {\n    for (const threshold of thresholds) {\n      if (threshold.buyGif) {\n        gifsService.getGifs(threshold.buyGif)\n      }\n\n      if (threshold.sellGif) {\n        gifsService.getGifs(threshold.sellGif)\n      }\n    }\n  }\n\n  prepareColors() {\n    const tradesThresholds = this.getTradesThesholds()\n    const liquidationsThresholds = this.getLiquidationsThresholds()\n\n    const appBackgroundColor = getAppBackgroundColor()\n    this.tradesColors = this.prepareColorsThresholds(\n      tradesThresholds,\n      appBackgroundColor\n    )\n    this.liquidationsColors = this.prepareColorsThresholds(\n      liquidationsThresholds,\n      appBackgroundColor\n    )\n\n    this.maxLevel = tradesThresholds.length - 1\n\n    this.minimumTradeAmount = tradesThresholds[0].amount\n    this.significantTradeAmount = tradesThresholds[1].amount\n    if (tradesThresholds[tradesThresholds.length - 1].max) {\n      this.maximumTradeAmount =\n        tradesThresholds[tradesThresholds.length - 1].amount\n    } else {\n      this.maximumTradeAmount = Infinity\n    }\n\n    this.minimumLiquidationAmount = liquidationsThresholds[0].amount\n    this.significantLiquidationAmount = liquidationsThresholds[1].amount\n    if (liquidationsThresholds[liquidationsThresholds.length - 1].max) {\n      this.maximumLiquidationAmount =\n        liquidationsThresholds[liquidationsThresholds.length - 1].amount\n    } else {\n      this.maximumLiquidationAmount = Infinity\n    }\n  }\n\n  prepareColorsThresholds(thresholds, appBackgroundColor) {\n    const steps = []\n\n    const len = thresholds.length\n\n    for (let i = 0; i < len; i++) {\n      if (i === len - 1) {\n        steps.push({ ...steps[steps.length - 1], max: Infinity })\n        break\n      }\n\n      const buyFrom = splitColorCode(thresholds[i].buyColor, appBackgroundColor)\n      const buyTo = splitColorCode(\n        thresholds[i + 1].buyColor,\n        appBackgroundColor\n      )\n      const sellFrom = splitColorCode(\n        thresholds[i].sellColor,\n        appBackgroundColor\n      )\n      const sellTo = splitColorCode(\n        thresholds[i + 1].sellColor,\n        appBackgroundColor\n      )\n\n      steps.push({\n        from: thresholds[i].amount,\n        to: thresholds[i + 1].amount,\n        range: thresholds[i + 1].amount - thresholds[i].amount,\n        level: Math.floor((i / (len - 1)) * 4),\n        max: i === len - 1 && thresholds[i + 1].max,\n        buy: {\n          from: buyFrom,\n          to: buyTo,\n          fromLuminance: getColorLuminance(buyFrom, appBackgroundColor),\n          toLuminance: getColorLuminance(buyTo, appBackgroundColor),\n          gif: thresholds[i].buyGif\n        },\n        sell: {\n          from: sellFrom,\n          to: sellTo,\n          fromLuminance: getColorLuminance(sellFrom, appBackgroundColor),\n          toLuminance: getColorLuminance(sellTo, appBackgroundColor),\n          gif: thresholds[i].sellGif\n        }\n      })\n    }\n\n    return steps\n  }\n\n  async cacheAudio(prepareThresholds = true) {\n    const audioThreshold = store.state[this.paneId].audioThreshold\n\n    if (\n      !store.state.settings.useAudio ||\n      store.state[this.paneId].muted ||\n      store.state[this.paneId].audioVolume === 0\n    ) {\n      this.audioThreshold = Infinity\n      return\n    }\n\n    if (audioThreshold) {\n      if (\n        typeof audioThreshold === 'string' &&\n        /\\d\\s*%$/.test(audioThreshold)\n      ) {\n        this.audioThreshold =\n          this.minimumTradeAmount * (parseFloat(audioThreshold) / 100)\n      } else {\n        this.audioThreshold = +audioThreshold\n      }\n    } else {\n      this.audioThreshold = this.minimumTradeAmount * 0.1\n    }\n\n    if (!this.tradesAudios || prepareThresholds) {\n      const audioPitch = store.state[this.paneId].audioPitch\n\n      this.tradesAudios = await this.cacheAudioThresholds(\n        this.getTradesThesholds(),\n        audioPitch\n      )\n      this.liquidationsAudios = await this.cacheAudioThresholds(\n        this.getLiquidationsThresholds(),\n        audioPitch\n      )\n    }\n  }\n\n  async cacheAudioThresholds(thresholds, audioPitch) {\n    const audios = []\n\n    for (let i = 0; i < thresholds.length; i++) {\n      audios.push({\n        buy: await audioService.buildAudioFunction(\n          thresholds[i].buyAudio,\n          'buy',\n          audioPitch\n        ),\n        sell: await audioService.buildAudioFunction(\n          thresholds[i].sellAudio,\n          'sell',\n          audioPitch\n        )\n      })\n    }\n\n    return audios\n  }\n\n  cachePreferences() {\n    const tradeType = store.state[this.paneId].tradeType\n\n    this.slippageMode = store.state.settings.calculateSlippage\n    this.showTrades = tradeType === 'both' || tradeType === 'trades'\n    this.showLiquidations = tradeType === 'both' || tradeType === 'liquidations'\n    this.showGifs = !store.state.settings.disableAnimations\n    this.showLogos = store.state[this.paneId].showLogos\n    this.showTradesPairs = store.state[this.paneId].showTradesPairs\n    this.showPrice = store.state[this.paneId].showPrice\n    this.showTimeAgo = store.state[this.paneId].showTimeAgo\n\n    if (this.showTimeAgo && !this.timeUpdateInterval) {\n      this.setupTimeUpdateInterval()\n    } else if (!this.showTimeAgo && this.timeUpdateInterval) {\n      clearInterval(this.timeUpdateInterval)\n      this.timeUpdateInterval = null\n    }\n  }\n\n  cachePaneMarkets() {\n    this.marketsMultipliers = {}\n\n    this.paneMarkets = store.state.panes.panes[this.paneId].markets.reduce(\n      (output, marketKey) => {\n        const [exchange] = marketKey.split(':')\n\n        if (!store.state.app.activeExchanges[exchange]) {\n          output[marketKey] = false\n          return output\n        }\n\n        const multiplier = store.state[this.paneId].multipliers[marketKey]\n\n        if (typeof multiplier !== 'undefined') {\n          this.marketsMultipliers[marketKey] = multiplier\n        }\n\n        output[marketKey] = true\n        return output\n      },\n      {}\n    )\n  }\n\n  setupTimeUpdateInterval() {\n    let now\n\n    const timeAgo = milliseconds => {\n      if (milliseconds < 60000) {\n        return Math.floor(milliseconds / 1000) + 's'\n      } else if (milliseconds < 3600000) {\n        return Math.floor(milliseconds / 60000) + 'm'\n      } else {\n        return Math.floor(milliseconds / 3600000) + 'h'\n      }\n    }\n\n    this.timeUpdateInterval = setInterval(() => {\n      const elements = this.containerElement.getElementsByClassName(\n        '-timestamp'\n      )\n      const length = elements.length\n\n      if (!length) {\n        return\n      }\n\n      now = Date.now()\n\n      const topOfTheMinute = (now / 1000) % 60 < 1\n\n      let previousRowTimeAgo\n\n      for (let i = 0; i < length; i++) {\n        if (typeof elements[i] === 'undefined') {\n          break\n        }\n\n        const milliseconds =\n          now - (elements[i] as any).getAttribute('data-timestamp')\n        const txt = timeAgo(milliseconds)\n\n        if (txt === previousRowTimeAgo && txt) {\n          elements[i - 1].textContent = ''\n          elements[i - 1].className = 'trade__time'\n          continue\n        }\n\n        if (txt != elements[i].textContent) {\n          elements[i].textContent = txt\n\n          if (!topOfTheMinute && txt[txt.length - 1] !== 's') {\n            break\n          }\n        }\n\n        previousRowTimeAgo = txt\n      }\n    }, 1000)\n  }\n\n  setMaxCount(maxCount: number) {\n    this.maxCount = maxCount\n  }\n\n  trim() {\n    while (this.count > this.maxCount) {\n      this.containerElement.removeChild(this.containerElement.lastChild)\n      this.count--\n    }\n  }\n\n  clear() {\n    this.containerElement.innerHTML = ''\n    this.count = 0\n  }\n\n  destroy() {\n    clearInterval(this.timeUpdateInterval)\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Mixins } from 'vue-property-decorator'\r\n\r\nimport { Trade } from '@/types/types'\r\n\r\nimport aggregatorService from '@/services/aggregatorService'\r\nimport gifsService from '@/services/gifsService'\r\nimport PaneMixin from '@/mixins/paneMixin'\r\nimport PaneHeader from '@/components/panes/PaneHeader.vue'\r\nimport TradesPlaceholder from '@/components/trades/TradesPlaceholder.vue'\r\nimport { parseMarket } from '@/services/productsService'\r\nimport TradesFeed from '@/components/trades/tradesFeed'\r\nimport Slider from '@/components/framework/picker/Slider.vue'\r\n\r\n@Component({\r\n  components: { PaneHeader, TradesPlaceholder, Slider },\r\n  name: 'Trades'\r\n})\r\nexport default class extends Mixins(PaneMixin) {\r\n  showPlaceholder = true\r\n  sliderDropdownTrigger = null\r\n\r\n  private feed: TradesFeed\r\n\r\n  get market() {\r\n    return this.pane.markets[0]\r\n  }\r\n\r\n  get showLogos() {\r\n    return this.$store.state[this.paneId].showLogos\r\n  }\r\n\r\n  get monochromeLogos() {\r\n    return this.$store.state[this.paneId].monochromeLogos\r\n  }\r\n\r\n  get thresholdsMultipler() {\r\n    return this.$store.state[this.paneId].thresholdsMultipler\r\n  }\r\n\r\n  get gradient() {\r\n    return [\r\n      this.$store.state[this.paneId].thresholds[0].buyColor,\r\n      this.$store.state[this.paneId].thresholds[\r\n        this.$store.state[this.paneId].thresholds.length - 1\r\n      ].buyColor\r\n    ]\r\n  }\r\n\r\n  $refs!: {\r\n    tradesContainer: HTMLElement\r\n  }\r\n\r\n  created() {\r\n    aggregatorService.on('trades', this.onTrades)\r\n\r\n    this._onStoreMutation = this.$store.subscribe(mutation => {\r\n      switch (mutation.type) {\r\n        case 'app/EXCHANGE_UPDATED':\r\n        case 'settings/TOGGLE_SLIPPAGE':\r\n        case this.paneId + '/TOGGLE_TRADE_TYPE':\r\n        case this.paneId + '/TOGGLE_TRADES_PAIRS':\r\n        case this.paneId + '/TOGGLE_LOGOS':\r\n        case this.paneId + '/TOGGLE_TIME_AGO':\r\n        case this.paneId + '/TOGGLE_PRICE':\r\n          this.feed.cachePreferences()\r\n          this.refreshList()\r\n          break\r\n        case this.paneId + '/SET_MAX_ROWS':\r\n          this.feed.setMaxCount(mutation.payload)\r\n          break\r\n        case 'panes/SET_PANE_MARKETS':\r\n        case this.paneId + '/SET_THRESHOLD_MULTIPLIER':\r\n          if (\r\n            mutation.type !== 'panes/SET_PANE_MARKETS' ||\r\n            mutation.payload.id === this.paneId\r\n          ) {\r\n            this.feed.cachePaneMarkets()\r\n            this.refreshList()\r\n          }\r\n          break\r\n        case this.paneId + '/SET_THRESHOLD_GIF':\r\n          gifsService.getGifs(mutation.payload.value, true)\r\n          this.feed.prepareColors()\r\n          this.refreshList()\r\n          break\r\n        case this.paneId + '/SET_THRESHOLD_AUDIO':\r\n        case this.paneId + '/SET_AUDIO_VOLUME':\r\n        case this.paneId + '/SET_AUDIO_PITCH':\r\n        case 'settings/SET_AUDIO_VOLUME':\r\n        case 'settings/TOGGLE_AUDIO':\r\n          this.feed.cacheAudio()\r\n          break\r\n        case this.paneId + '/SET_AUDIO_THRESHOLD':\r\n        case this.paneId + '/TOGGLE_MUTED':\r\n          this.feed.cacheAudio(false)\r\n          break\r\n        case 'settings/SET_BACKGROUND_COLOR':\r\n        case this.paneId + '/SET_THRESHOLD_COLOR':\r\n        case this.paneId + '/SET_THRESHOLD_AMOUNT':\r\n        case this.paneId + '/SET_THRESHOLDS_MULTIPLER':\r\n        case this.paneId + '/TOGGLE_THRESHOLD_MAX':\r\n        case this.paneId + '/DELETE_THRESHOLD':\r\n        case this.paneId + '/ADD_THRESHOLD':\r\n          this.feed.prepareColors()\r\n          this.refreshList()\r\n\r\n          if (\r\n            mutation.type === this.paneId + '/DELETE_THRESHOLD' ||\r\n            this.paneId + '/ADD_THRESHOLD'\r\n          ) {\r\n            this.feed.cacheAudio()\r\n          }\r\n          break\r\n      }\r\n    })\r\n  }\r\n\r\n  mounted() {\r\n    this.feed = new TradesFeed(\r\n      this.paneId,\r\n      this.$refs.tradesContainer,\r\n      this.$store.state[this.paneId].maxRows\r\n    )\r\n  }\r\n\r\n  beforeDestroy() {\r\n    aggregatorService.off('trades', this.onTrades)\r\n\r\n    if (this.feed) {\r\n      this.feed.destroy()\r\n    }\r\n  }\r\n\r\n  onTrades(trades: Trade[]) {\r\n    if (this.feed.processTrades(trades) === this.showPlaceholder) {\r\n      this.showPlaceholder = false\r\n    }\r\n  }\r\n\r\n  refreshList() {\r\n    const elements = this.$el.getElementsByClassName('trade')\r\n\r\n    const trades: Trade[] = []\r\n\r\n    for (const element of elements) {\r\n      const [exchange, pair] = parseMarket(element.getAttribute('title'))\r\n\r\n      const timestamp = element\r\n        .querySelector('.trade__time')\r\n        .getAttribute('data-timestamp')\r\n      const price =\r\n        parseFloat(\r\n          (element.querySelector('.trade__price') as HTMLElement)?.innerText\r\n        ) || 0\r\n      const size =\r\n        parseFloat(\r\n          (element.querySelector('.trade__amount__base') as HTMLElement)\r\n            .innerText\r\n        ) || 0\r\n      const side: 'buy' | 'sell' = element.classList.contains('-buy')\r\n        ? 'buy'\r\n        : 'sell'\r\n      const amount =\r\n        size * (this.$store.state.settings.preferQuoteCurrencySize ? price : 1)\r\n      const trade: Trade = {\r\n        timestamp: (timestamp as unknown) as number,\r\n        exchange,\r\n        pair,\r\n        price,\r\n        amount,\r\n        size,\r\n        side\r\n      }\r\n\r\n      if (element.classList.contains('-liquidation')) {\r\n        trade.liquidation = true\r\n      }\r\n\r\n      trades.push(trade)\r\n    }\r\n\r\n    this.feed.clear()\r\n    this.feed.processTradesSilent(trades)\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trades.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trades.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Trades.vue?vue&type=template&id=052a941f&\"\nimport script from \"./Trades.vue?vue&type=script&lang=ts&\"\nexport * from \"./Trades.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Trades.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TradesPlaceholder.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trades.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pane-header hide-scrollbar pane-overlay d-flex\",class:{ '-loading': _vm.loading }},[_c('div',{staticClass:\"pane-header__loader\"}),_c('span',{staticClass:\"pane-header__name ml4 mrauto\",attrs:{\"data-hide-header\":\"\"},on:{\"dblclick\":_vm.renamePane}},[_vm._v(_vm._s(_vm.name))]),_c('div',{staticClass:\"toolbar flex-grow-1\",on:{\"dblclick\":_vm.maximizePane}},[_vm._t(\"default\"),_c('button',{staticClass:\"toolbar__label min-768\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openSearch}},[_c('i',{staticClass:\"icon-search\"})]),(_vm.settings)?_c('button',{staticClass:\"toolbar__label min-768\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openSettings}},[_c('i',{staticClass:\"icon-cog\"})]):_vm._e(),_c('button',{staticClass:\"toolbar__label\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleDropdown}},[_c('i',{staticClass:\"icon-more\"})]),_c('dropdown',{model:{value:(_vm.paneDropdownTrigger),callback:function ($$v) {_vm.paneDropdownTrigger=$$v},expression:\"paneDropdownTrigger\"}},[_c('div',{staticClass:\"d-flex btn-group\"},[_c('button',{staticClass:\"btn -green\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeZoom($event, -1)}}},[_c('i',{staticClass:\"icon-minus\"})]),_c('button',{staticClass:\"btn -green text-monospace flex-grow-1 text-center\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.resetZoom.apply(null, arguments)}}},[_vm._v(\" × \"+_vm._s(_vm.zoom.toFixed(2))+\" \")]),_c('button',{staticClass:\"btn -green\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeZoom($event, 1)}}},[_c('i',{staticClass:\"icon-plus\"})])]),_vm._t(\"menu\"),(_vm.settings !== null)?_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openSettings}},[_c('i',{staticClass:\"icon-cog\"}),_c('span',[_vm._v(\"Settings\")])]):_vm._e(),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$store.dispatch('app/showSearch', _vm.paneId)}}},[_c('i',{staticClass:\"icon-search\"}),_c('span',[_vm._v(\"Sources\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.maximizePane}},[_c('i',{staticClass:\"icon-enlarge\"}),_c('span',[_vm._v(\"Maximize\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.duplicatePane}},[_c('i',{staticClass:\"icon-copy-paste\"}),_c('span',[_vm._v(\"Duplicate\")])]),_c('div',{staticClass:\"dropdown--divider\"}),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.removePane}},[_c('i',{staticClass:\"icon-trash\"}),_c('span',[_vm._v(\"Remove\")])])],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport Component from 'vue-class-component'\n\nimport { getSiblings } from '@/utils/helpers'\nimport dialogService from '@/services/dialogService'\n\n@Component({\n  name: 'PaneHeader',\n  props: {\n    paneId: {\n      type: String\n    },\n    settings: {\n      type: Function,\n      default: null\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  }\n})\nexport default class extends Vue {\n  private settings?: () => Promise<any>\n  paneId: string\n  paneDropdownTrigger = null\n\n  get zoom() {\n    return this.$store.state.panes.panes[this.paneId].zoom || 1\n  }\n\n  get type() {\n    return this.$store.state.panes.panes[this.paneId].type\n  }\n\n  get name() {\n    const name = this.$store.state.panes.panes[this.paneId].name\n    const market = this.$store.state.panes.marketsListeners[\n      this.$store.state.panes.panes[this.paneId].markets[0]\n    ]\n\n    if (name) {\n      return name\n    } else if (market) {\n      return market.local\n    } else {\n      return this.type\n    }\n  }\n\n  openSearch() {\n    this.$store.dispatch('app/showSearch', this.paneId)\n  }\n\n  changeZoom(event, direction) {\n    const zoom = this.zoom + (event.shiftKey ? 0.0625 : 0.125) * direction\n    this.$store.dispatch('panes/setZoom', { id: this.paneId, zoom: zoom })\n\n    this.$emit('zoom', zoom)\n  }\n\n  resetZoom() {\n    this.$store.dispatch('panes/setZoom', { id: this.paneId, zoom: 1 })\n\n    this.$emit('zoom', 1)\n  }\n\n  async removePane() {\n    if (await dialogService.confirm(`Delete pane \"${this.paneId}\" ?`)) {\n      this.$store.dispatch('panes/removePane', this.paneId)\n    }\n  }\n\n  duplicatePane() {\n    this.$store.dispatch('panes/duplicatePane', this.paneId)\n  }\n\n  highlightPane(value: boolean) {\n    this.$el.parentElement.parentElement.classList[value ? 'add' : 'remove'](\n      '-highlight'\n    )\n  }\n\n  maximizePane(event) {\n    if (\n      event.type === 'dblclick' &&\n      event.currentTarget !== event.target &&\n      event.target.className !== 'toolbar__spacer'\n    ) {\n      return\n    }\n\n    const el = this.$el.parentElement.parentElement\n    const isMaximized = el.classList.toggle('-maximized')\n\n    const siblings = getSiblings(el)\n\n    for (const sibling of siblings) {\n      if (!sibling.getAttribute('type')) {\n        continue\n      }\n      sibling.classList.remove('-maximized')\n      sibling.style.display = isMaximized ? 'none' : 'block'\n    }\n\n    const cls = Event as any\n\n    window.dispatchEvent(new cls('resize'))\n  }\n\n  async renamePane() {\n    const name = await dialogService.prompt({\n      action: 'Rename',\n      input: this.name\n    })\n\n    if (name !== this.name) {\n      this.$store.commit('panes/SET_PANE_NAME', { id: this.paneId, name: name })\n    }\n  }\n\n  toggleDropdown(event) {\n    if (this.paneDropdownTrigger) {\n      this.paneDropdownTrigger = null\n    } else {\n      this.paneDropdownTrigger = event.currentTarget\n    }\n  }\n\n  async openSettings() {\n    if (!this.settings) {\n      return\n    }\n\n    dialogService.open((await this.settings()).default, {\n      paneId: this.paneId\n    })\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaneHeader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaneHeader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PaneHeader.vue?vue&type=template&id=219eac84&\"\nimport script from \"./PaneHeader.vue?vue&type=script&lang=ts&\"\nexport * from \"./PaneHeader.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}