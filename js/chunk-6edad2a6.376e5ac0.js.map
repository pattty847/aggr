{"version":3,"sources":["webpack:///./src/mixins/paneDialogMixin.ts","webpack:///./src/components/counters/CountersDialog.vue?0260","webpack:///./src/components/counters/CountersSettings.vue?ae41","webpack:///./src/components/counters/CountersSettings.vue","webpack:///./src/components/counters/CountersSettings.vue?2c58","webpack:///./src/components/counters/CountersSettings.vue?e985","webpack:///src/components/counters/CountersDialog.vue","webpack:///./src/components/counters/CountersDialog.vue?b3b9","webpack:///./src/components/counters/CountersDialog.vue"],"names":["PaneDialogMixin","this","$store","state","panes","paneId","name","markets","length","pair","type","value","commit","id","async","prompt","action","input","data","close","JSON","parse","stringify","dispatch","getState","props","required","String","render","_vm","_h","$createElement","_c","_self","staticClass","on","scopedSlots","_u","key","fn","domProps","_s","renamePane","proxy","attrs","staticRenderFns","directives","rawName","placement","expression","countersCount","$event","target","checked","countersStepsStringified","replaceCounters","liquidationsOnly","_v","count","steps","now","Date","countersSteps","map","a","join","counters","split","trim","test","parseFloat","filter","item","pos","self","indexOf","isNaN","title","component","components","mixins","methods"],"mappings":"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","file":"js/chunk-6edad2a6.376e5ac0.js","sourcesContent":["import dialogService from '@/services/dialogService'\nimport { parseMarket } from '@/services/productsService'\nimport workspacesService from '@/services/workspacesService'\nimport { Pane } from '@/store/panes'\nimport panesSettings from '@/store/panesSettings'\nimport Vue from 'vue'\nimport Component from 'vue-class-component'\n\n@Component({\n  props: {\n    paneId: {\n      required: true,\n      type: String\n    }\n  }\n})\nexport default class PaneDialogMixin extends Vue {\n  paneId: string\n\n  get pane(): Pane {\n    return this.$store.state.panes.panes[this.paneId]\n  }\n\n  get name() {\n    const name = this.$store.state.panes.panes[this.paneId].name\n\n    if (!name) {\n      if (!name && this.$store.state.panes.panes[this.paneId].markets.length) {\n        const [, pair] = parseMarket(\n          this.$store.state.panes.panes[this.paneId].markets[0]\n        )\n        return pair + ' - ' + this.$store.state.panes.panes[this.paneId].type\n      } else {\n        return this.paneId\n      }\n    }\n\n    return name\n  }\n\n  set name(value: string) {\n    this.$store.commit('panes/SET_PANE_NAME', { id: this.paneId, name: value })\n  }\n\n  async renamePane() {\n    const name = await dialogService.prompt({\n      action: 'Rename',\n      input: this.name\n    })\n\n    if (name !== this.name) {\n      this.name = name\n    }\n  }\n\n  async resetPane(data?: any) {\n    await (this as any).close()\n\n    if (!data) {\n      data = JSON.parse(\n        JSON.stringify(\n          panesSettings[this.$store.state.panes.panes[this.paneId].type].state\n        )\n      )\n    }\n\n    await this.$store.dispatch('panes/resetPane', { id: this.paneId, data })\n  }\n\n  async getPreset() {\n    return await workspacesService.getState(this.paneId)\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{staticClass:\"pane-dialog\",on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"title -editable\",domProps:{\"textContent\":_vm._s(_vm.name)},on:{\"dblclick\":_vm.renamePane}}),_c('div',{staticClass:\"column -center\"})]},proxy:true}])},[_c('counters-settings',{attrs:{\"paneId\":_vm.paneId}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings-counters\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"form-group -tight\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'bottom' }),expression:\"{ placement: 'bottom' }\"}],staticClass:\"checkbox-control checkbox-control-input -auto flex-right\",attrs:{\"title\":\"Sum amount of trades instead of volume\"}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.countersCount},on:{\"change\":function($event){return _vm.$store.commit(_vm.paneId + '/TOGGLE_COUNT', $event.target.checked)}}}),_c('div',{attrs:{\"on\":\"count\",\"off\":\"volume\"}})])]),_c('div',{staticClass:\"form-group -fill\"},[_c('input',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"form-control\",attrs:{\"title\":\"Comma separated list of steps (ex: 1m, 5m, 10m, 15m)\",\"type\":\"string\",\"placeholder\":\"Enter a set of timeframes (ie 1m, 15m)\"},domProps:{\"value\":_vm.countersStepsStringified},on:{\"change\":function($event){return _vm.replaceCounters($event.target.value)}}})])]),_c('div',{staticClass:\"form-group mt8\"},[_c('label',{staticClass:\"checkbox-control -rip checkbox-control-input\",on:{\"change\":function($event){return _vm.$store.commit(\n          _vm.paneId + '/TOGGLE_LIQUIDATIONS_ONLY',\n          $event.target.checked\n        )}}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.liquidationsOnly}}),_c('div'),_c('span',[_vm._v(\"Only count liquidations\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { ago } from '@/utils/helpers'\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  name: 'CountersSettings',\n  props: {\n    paneId: {\n      type: String,\n      required: true\n    }\n  }\n})\nexport default class extends Vue {\n  paneId: string\n\n  get countersCount() {\n    return this.$store.state[this.paneId].count\n  }\n\n  get countersSteps() {\n    return this.$store.state[this.paneId].steps\n  }\n\n  get liquidationsOnly() {\n    return this.$store.state[this.paneId].liquidationsOnly\n  }\n\n  get countersStepsStringified() {\n    const now = Date.now()\n\n    return this.countersSteps.map(a => ago(now - a)).join(', ')\n  }\n\n  replaceCounters(value) {\n    const counters = value\n      .split(',')\n      .map(a => {\n        a = a.trim()\n\n        if (/[\\d.]+s/.test(a)) {\n          return parseFloat(a) * 1000\n        } else if (/[\\d.]+h/.test(a)) {\n          return parseFloat(a) * 1000 * 60 * 60\n        } else {\n          return parseFloat(a) * 1000 * 60\n        }\n      })\n      .filter(function(item, pos, self) {\n        return self.indexOf(item) == pos\n      })\n\n    if (counters.filter(a => isNaN(a)).length) {\n      this.$store.dispatch('app/showNotice', {\n        type: 'error',\n        title: `Counters (${value}) contains invalid steps.`\n      })\n      return\n    }\n\n    this.$store.commit(this.paneId + '/REPLACE_COUNTERS', counters)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountersSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountersSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CountersSettings.vue?vue&type=template&id=7f8fff46&\"\nimport script from \"./CountersSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./CountersSettings.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <Dialog @clickOutside=\"close\" class=\"pane-dialog\">\n    <template v-slot:header>\n      <div class=\"title -editable\" @dblclick=\"renamePane\" v-text=\"name\"></div>\n      <div class=\"column -center\"></div>\n    </template>\n    <counters-settings :paneId=\"paneId\" />\n  </Dialog>\n</template>\n\n<script>\nimport DialogMixin from '../../mixins/dialogMixin'\nimport PaneDialogMixin from '../../mixins/paneDialogMixin'\nimport CountersSettings from './CountersSettings.vue'\n\nexport default {\n  components: { CountersSettings },\n  mixins: [DialogMixin, PaneDialogMixin],\n  data: () => ({\n    renaming: false\n  }),\n  methods: {}\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountersDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountersDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CountersDialog.vue?vue&type=template&id=6e7c2f54&\"\nimport script from \"./CountersDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./CountersDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}