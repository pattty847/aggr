(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6aa087d4"],{"0ba8":function(t,r,o){"use strict";o("217c")},"0c35":function(t,r,o){"use strict";o.r(r);var n=function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("Dialog",{staticClass:"color-picker",attrs:{mask:!1,"header-background":t.outputColor},on:{clickOutside:t.close},nativeOn:{mousedown:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"header",fn:function(){return[o("div",[o("div",{staticClass:"title"},[t._v(t._s(t.label))])])]},proxy:!0}])},[o("div",{ref:"canvas",staticClass:"color-picker-canvas",on:{mousedown:t.startMovingThumbWithMouse,touchstart:t.startMovingThumbWithTouch}},[o("div",{ref:"thumb",staticClass:"color-picker-canvas__thumb",attrs:{tabindex:"0","aria-label":"Color space thumb"}})]),o("div",{staticClass:"color-picker-sliders"},[o("slider",{staticClass:"color-picker-sliders__hue",attrs:{showCompletion:!1,gradient:["#f00","#ff0","#0f0","#0ff","#00f","#f0f","#f00"],max:360},on:{input:function(r){return t.updateHue(t.hue)}},model:{value:t.hue,callback:function(r){t.hue=r},expression:"hue"}}),o("slider",{staticClass:"color-picker-sliders__alpha -alpha",attrs:{gradient:["rgba("+255*t.colors.rgb.r+", "+255*t.colors.rgb.g+", "+255*t.colors.rgb.b+", 0)","rgba("+255*t.colors.rgb.r+", "+255*t.colors.rgb.g+", "+255*t.colors.rgb.b+", 1)"],min:0,max:1,step:.01,value:t.alpha,showCompletion:!1},on:{input:function(r){return t.updateAlpha(t.alpha)}},model:{value:t.alpha,callback:function(r){t.alpha=r},expression:"alpha"}})],1),o("div",{staticClass:"color-picker-controls"},[o("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text",attrs:{type:"button",title:"Rotate"},on:{click:t.switchFormat}},[o("i",{staticClass:"icon-refresh"})]),o("editable",{staticClass:"form-control hide-scrollbar",attrs:{value:t.displayColor},on:{input:function(r){return t.setColorFromProp(r)}}}),o("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text",attrs:{type:"button",title:"Save color"},on:{click:t.submitColor}},[o("i",{staticClass:"icon-save"})])],1),t.showPalette?[o("div",{staticClass:"color-picker-colors"},[t._l(t.swatches,(function(r){return o("a",{key:r,staticClass:"color-picker-colors__color",style:"color: "+r,attrs:{role:"button",href:"#"},on:{click:function(o){return o.preventDefault(),t.setColorFromProp(r)}}})})),o("a",{staticClass:"color-picker-colors__color -transparent",attrs:{role:"button",href:"#"},on:{click:function(r){return r.preventDefault(),t.setNull.apply(null,arguments)}}})],2),o("div",{staticClass:"color-picker-colors"},t._l(t.recentColors,(function(r){return o("a",{key:r,staticClass:"color-picker-colors__color",style:"color: "+r,attrs:{role:"button",href:"#"},on:{click:function(o){return o.preventDefault(),t.setColorFromProp(r)}}})})),0)]:t._e()],2)},e=[],a=o("fa07"),i=o("7250"),s=o("7ab0"),u=o("1ea0"),l=o("be31");function c(t,r){return m(t)||p(t,r)||f(t,r)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,r){if(t){if("string"===typeof t)return v(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?v(t,r):void 0}}function v(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,n=new Array(r);o<r;o++)n[o]=t[o];return n}function p(t,r){var o=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,e,a=[],i=!0,s=!1;try{for(o=o.call(t);!(i=(n=o.next()).done);i=!0)if(a.push(n.value),r&&a.length===r)break}catch(u){s=!0,e=u}finally{try{i||null==o["return"]||o["return"]()}finally{if(s)throw e}}return a}}function m(t){if(Array.isArray(t))return t}function b(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t.toFixed(r).replace(/0+$/,"").replace(/\.$/,"")}function d(t){for(var r=t.replace(/^#/,""),o=[],n=r.length>4?2:1,e=0;e<r.length;e+=n){var a=r.slice(e,e+n);o.push(a.repeat(n%2+1))}3===o.length&&o.push("ff");var i=o.map((function(t){return parseInt(t,16)/255}));return{r:i[0],g:i[1],b:i[2],a:i[3]}}function g(t){var r=t.l+t.s*Math.min(t.l,1-t.l),o=0===r?0:2-2*t.l/r;return{h:t.h,s:o,v:r,a:t.a}}function y(t,r,o){return o<0?o+=1:o>1&&(o-=1),o<1/6?t+6*(r-t)*o:o<.5?r:o<2/3?t+(r-t)*(2/3-o)*6:t}function C(t){var r=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,o=2*t.l-r;return{r:y(o,r,t.h+1/3),g:y(o,r,t.h),b:y(o,r,t.h-1/3),a:t.a}}function w(t){var r=t.v-t.v*t.s/2,o=Math.min(r,1-r),n=0===o?0:(t.v-r)/o;return{h:t.h,s:n,l:r,a:t.a}}function x(t){return{h:t.h,w:(1-t.s)*t.v,b:1-t.v,a:t.a}}function k(t,r){var o=(t+6*r.h)%6;return r.v-r.v*r.s*Math.max(0,Math.min(o,4-o,1))}function F(t){return{r:k(5,t),g:k(3,t),b:k(1,t),a:t.a}}function M(t){return{h:t.h,s:1===t.b?0:1-t.w/(1-t.b),v:1-t.b,a:t.a}}function T(t){var r=Object.values(t).map((function(t){var r=255*t,o=Math.round(r).toString(16);return 1===o.length?"0"+o:o}));return"#"+r.join("")}function S(t){var r,o=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b);return r=n===o?0:n===t.r?(0+(t.g-t.b)/(n-o))/6:n===t.g?(2+(t.b-t.r)/(n-o))/6:(4+(t.r-t.g)/(n-o))/6,r<0&&(r+=1),{h:r,w:o,b:1-n,a:t.a}}function N(t){var r,o=S(t),n=o.w,e=1-o.b,a=(e+n)/2;return r=0===e||1===n?0:(e-a)/Math.min(a,1-a),{h:o.h,s:r,l:a,a:t.a}}function A(t,r,o){return Math.max(r,Math.min(t,o))}function _(t){return b(360*t)}function P(t,r){if("string"===typeof t||"string"===typeof r)return t===r;for(var o in t)if(t[o]!==r[o])return!1;return!0}function W(t,r){return r.reduce((function(t,r){return r(t)}),t)}function O(t){var r={};for(var o in t)r[o]=t[o];return r}function j(t){if(t.endsWith("."))return NaN;var r=(parseFloat(t)%360+360)%360;return r/360}function E(t){if(!t.endsWith("%"))return NaN;var r=t.substring(0,t.length-1);if(r.endsWith("."))return NaN;var o=parseFloat(r);return Number.isNaN(o)?NaN:A(o,0,100)/100}function $(t){return b(100*t)+"%"}function I(t){if(t.endsWith("%"))return E(t);if(t.endsWith("."))return NaN;var r=parseFloat(t);return Number.isNaN(r)?NaN:A(r,0,255)/255}function D(t){return b(255*t)}function L(t){return t.endsWith("%")?E(t):A(parseFloat(t),0,1)}function H(t){return String(t)}function U(t){return Object.prototype.hasOwnProperty.call(t,"r")?"rgb":Object.prototype.hasOwnProperty.call(t,"w")?"hwb":Object.prototype.hasOwnProperty.call(t,"v")?"hsv":"hsl"}var B={hex:function(t,r){return r&&[5,9].includes(t.length)?t.substring(0,t.length-(t.length-1)/4):t},hsl:function(t,r){var o=Math.round(360*t.h),n=Math.round(100*t.s),e=Math.round(100*t.l);return"hsl".concat(r||1===t.a?"":"a","(").concat(o,",").concat(n,"%,").concat(e,"%")+(r||1===t.a?")":",".concat(b(t.a),")"))},hwb:function(t,r){var o=b(360*t.h),n=b(100*t.w),e=b(100*t.b);return"hwb(".concat(o," ").concat(n,"% ").concat(e,"%")+(r?")":" / ".concat(b(t.a),")"))},rgb:function(t,r){var o=Math.round(255*t.r),n=Math.round(255*t.g),e=Math.round(255*t.b);return"rgb".concat(1===t.a||r?"":"a","(").concat(o,",").concat(n,",").concat(e).concat(1===t.a||r?"":",".concat(b(t.a)),")")}};function J(t,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return B[r](t,o)}function R(t){return!!t.startsWith("#")&&(!![3,4,6,8].includes(t.length-1)&&/^#[0-9A-Fa-f]+$/.test(t))}var V={hex:[["hsl",function(t){return W(t,[d,N])}],["hsv",function(t){return W(t,[d,S,M])}],["hwb",function(t){return W(t,[d,S])}],["rgb",d]],hsl:[["hex",function(t){return W(t,[C,T])}],["hsv",g],["hwb",function(t){return W(t,[C,S])}],["rgb",C]],hsv:[["hex",function(t){return W(t,[F,T])}],["hsl",w],["hwb",x],["rgb",F]],hwb:[["hex",function(t){return W(t,[M,F,T])}],["hsl",function(t){return W(t,[M,F,N])}],["hsv",M],["rgb",function(t){return W(t,[M,F])}]],rgb:[["hex",T],["hsl",N],["hsv",function(t){return W(t,[S,M])}],["hwb",S]]},X={hsl:{h:{to:_,from:j},s:{to:$,from:E},l:{to:$,from:E},a:{to:H,from:L}},hwb:{h:{to:_,from:j},w:{to:$,from:E},b:{to:$,from:E},a:{to:H,from:L}},rgb:{r:{to:D,from:I},g:{to:D,from:I},b:{to:D,from:I},a:{to:H,from:L}}};function Y(t){if("string"!==typeof t){var r=U(t);return{format:r,color:t}}if(R(t))return{format:"hex",color:t};if(!t.includes("(")){var o=document.createElement("canvas").getContext("2d");o.fillStyle=t;var n=o.fillStyle;return"#000000"===n&&"black"!==t?null:{format:"hex",color:n}}var e=t.split("("),a=c(e,2),i=a[0],s=a[1],u=i.substring(0,3),l=s.replace(/[,/)]/g," ").replace(/\s+/g," ").trim().split(" ");3===l.length&&l.push("1");var h=u.split("").concat("a"),f=Object.fromEntries(h.map((function(t,r){return[t,X[u][t].from(l[r])]})));return{format:u,color:f}}function z(t,r){return K(t)||G(t,r)||Z(t,r)||q()}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G(t,r){var o=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,e,a=[],i=!0,s=!1;try{for(o=o.call(t);!(i=(n=o.next()).done);i=!0)if(a.push(n.value),r&&a.length===r)break}catch(u){s=!0,e=u}finally{try{i||null==o["return"]||o["return"]()}finally{if(s)throw e}}return a}}function K(t){if(Array.isArray(t))return t}function Q(t,r){var o="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=Z(t))||r&&t&&"number"===typeof t.length){o&&(t=o);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==o.return||o.return()}finally{if(s)throw a}}}}function Z(t,r){if(t){if("string"===typeof t)return tt(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?tt(t,r):void 0}}function tt(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,n=new Array(r);o<r;o++)n[o]=t[o];return n}var rt=["hex","hsl","rgb"],ot={name:"ColorPickerDialog",mixins:[u["a"]],components:{Dialog:i["a"],Slider:s["a"]},props:{value:{type:String,default:"#000"},label:{type:String,default:"Select color"},outputFormat:{type:String,default:"rgb"},showPalette:{type:Boolean,default:!0},allowNull:{type:Boolean,default:!1}},data:function(){return{colors:{hex:"#ffffffff",hsl:{h:0,s:0,l:1,a:1},hsv:{h:0,s:0,v:1,a:1},rgb:{r:1,g:1,b:1,a:1}},activeFormat:"rgb",recentColors:[],movingFromCanvas:!1,hue:null,alpha:1}},computed:{swatches:function(){return a["a"]},outputColor:function(){var t=this.colors[this.outputFormat],r=J(t,this.outputFormat);return r},displayColor:function(){if(this.activeFormat===this.outputFormat)return this.outputColor;var t=this.colors[this.activeFormat],r=J(t,this.activeFormat);return r},visibleChannels:function(){var t=Object.keys(this.colors[this.activeFormat]);return"hex"!==this.activeFormat?t.slice(0,3):t}},created:function(){var t=this;l["a"].getColors().then((function(r){Array.prototype.push.apply(t.recentColors,r)})),this.value&&"string"===typeof this.value&&this.setColorFromProp(this.value,!0)},mounted:function(){var t={passive:!0};document.addEventListener("mousemove",this.moveThumbWithMouse,t),document.addEventListener("touchmove",this.moveThumbWithTouch,t),document.addEventListener("mouseup",this.stopMovingThumb,t),document.addEventListener("touchend",this.stopMovingThumb),this.updateCanvas(this.colors)},beforeDestroy:function(){document.removeEventListener("mousemove",this.moveThumbWithMouse),document.removeEventListener("touchmove",this.moveThumbWithTouch),document.removeEventListener("mouseup",this.stopMovingThumb),document.removeEventListener("touchend",this.stopMovingThumb)},methods:{setColorFromProp:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!==t){var o=Y(t);this.activeFormat=o.format,null!==o&&this.setColor(o.format,o.color,r)}},startMovingThumbWithMouse:function(t){this.movingFromCanvas=!0,this.moveThumbWithMouse(t)},startMovingThumbWithTouch:function(t){this.movingFromCanvas=!0,this.moveThumbWithTouch(t)},moveThumbWithMouse:function(t){1===t.buttons&&!1!==this.movingFromCanvas&&this.moveThumb(t.clientX,t.clientY)},moveThumbWithTouch:function(t){if(!1!==this.movingFromCanvas){var r=t.touches[0];this.moveThumb(r.clientX,r.clientY)}},moveThumb:function(t,r){var o=this.getNewThumbPosition(t,r),n=O(this.colors.hsv);n.s=o.x,n.v=o.y,this.setColor("hsv",n)},stopMovingThumb:function(){this.movingFromCanvas=!1},getNewThumbPosition:function(t,r){var o=this.$refs.canvas.getBoundingClientRect(),n=t-o.left,e=r-o.top,a={x:A(n/o.width,0,1),y:A(1-e/o.height,0,1)};return a},applyColorUpdates:function(t){var r,o=Q(V[t]);try{for(o.s();!(r=o.n()).done;){var n=z(r.value,2),e=n[0],a=n[1];this.colors[e]=a(this.colors[t])}}catch(i){o.e(i)}finally{o.f()}this.hue=360*this.colors.hsl.h,this.alpha=this.colors.rgb.a,this.updateCanvas(this.colors)},getEventData:function(t,r){var o=J(t[r],r);return{colors:t,cssColor:o}},setColor:function(t,r,o){var n=r;if(!P(this.colors[t],n)&&(this.colors[t]=n,this.applyColorUpdates(t),!o)){var e=0===this.alpha&&this.allowNull?null:this.outputColor;this.$emit("input",e)}},addColorToHistory:function(t){-1===this.recentColors.indexOf(t)&&(l["a"].saveColor(t),this.recentColors.push(t),this.recentColors.length>32&&l["a"].removeColor(this.recentColors.shift()))},switchFormat:function(){var t=this,r=rt.findIndex((function(r){return r===t.activeFormat})),o=r===rt.length-1?0:r+1;this.activeFormat=rt[o]},submitColor:function(){this.addColorToHistory(this.outputColor)},updateHue:function(t){var r=O(this.colors.hsv);r.h=t/360,this.setColor("hsv",r)},updateAlpha:function(t){var r=O(this.colors.hsv);r.a=t,this.setColor("hsv",r)},updateHexColorValue:function(t){isValidHexColor(t)&&this.setColor("hex",t)},updateCanvas:function(t){this.$el&&(this.$el.style.setProperty("--vacp-hsl-h",String(t.hsl.h)),this.$el.style.setProperty("--vacp-hsl-s",String(t.hsl.s)),this.$el.style.setProperty("--vacp-hsl-l",String(t.hsl.l)),this.$el.style.setProperty("--vacp-hsl-a",String(t.hsl.a)),this.$refs.canvas.setAttribute("style","\n    position: relative;\n    background-color: hsl(calc(var(--vacp-hsl-h) * 360) 100% 50%); /* 1. */\n    background-image:\n      linear-gradient(to top, #000, transparent),  /* 2. */\n      linear-gradient(to right, #fff, transparent) /* 2. */\n    ;\n  "),this.$refs.thumb.setAttribute("style","\n    box-sizing: border-box;\n    position: absolute;\n    left: ".concat(100*t.hsv.s,"%;   /* 3. */\n    bottom: ").concat(100*t.hsv.v,"%; /* 3. */\n  ")))},setNull:function(){this.setColorFromProp("rgba(0,0,0,0)")}}},nt=ot,et=(o("0ba8"),o("2877")),at=Object(et["a"])(nt,n,e,!1,null,"45f20e28",null);r["default"]=at.exports},"217c":function(t,r,o){}}]);
//# sourceMappingURL=chunk-6aa087d4.78dcda5f.js.map