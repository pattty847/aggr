{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/settings/AudioSettings.vue?2cad","webpack:///./src/components/SearchDialog.vue?5ec6","webpack:///./src/components/framework/Carousel.vue?084f","webpack:///./src/components/framework/Carousel.vue","webpack:///./src/components/framework/Carousel.vue?9efd","webpack:///./src/components/framework/Carousel.vue?2b16","webpack:///src/components/SearchDialog.vue","webpack:///./src/components/SearchDialog.vue?c6c9","webpack:///./src/components/SearchDialog.vue","webpack:///./src/components/TimeframeDialog.vue?2825","webpack:///src/components/TimeframeDialog.vue","webpack:///./src/components/TimeframeDialog.vue?b04a","webpack:///./src/components/TimeframeDialog.vue","webpack:///./src/store/app.ts","webpack:///./src/store/settings.ts","webpack:///./src/store/exchanges.ts","webpack:///./src/store/panes.ts","webpack:///./src/store/index.ts","webpack:///./src/services/productsService.ts","webpack:///./src/components/framework/ConfirmDialog.vue?c112","webpack:///src/components/framework/ConfirmDialog.vue","webpack:///./src/components/framework/ConfirmDialog.vue?3f23","webpack:///./src/components/framework/ConfirmDialog.vue","webpack:///./src/components/framework/PromptDialog.vue?b22b","webpack:///src/components/framework/PromptDialog.vue","webpack:///./src/components/framework/PromptDialog.vue?86ed","webpack:///./src/components/framework/PromptDialog.vue","webpack:///./src/services/dialogService.ts","webpack:///./src/components/settings/Exchange.vue?98ad","webpack:///./src/components/TimeframeDialog.vue?b682","webpack:///./src/mixins/dialogMixin.ts","webpack:///./src/components/stats/StatDialog.vue?9c99","webpack:///src/components/stats/StatDialog.vue","webpack:///./src/components/stats/StatDialog.vue?61d4","webpack:///./src/components/stats/StatDialog.vue","webpack:///./src/utils/helpers.ts","webpack:///./src/components/framework/Carousel.vue?7dff","webpack:///./src/components/framework/picker/Slider.vue?2402","webpack:///./src/components/framework/DropdownButton.vue?cc86","webpack:///./src/components/framework/DropdownButton.vue","webpack:///./src/components/framework/DropdownButton.vue?9eb7","webpack:///./src/components/framework/DropdownButton.vue?5a55","webpack:///./src/services/audioService.ts","webpack:///./src/assets/down.png","webpack:///./src/components/framework/Dropdown.vue?db1c","webpack:///./src/components/settings/SettingsDialog.vue?92aa","webpack:///./src/components/framework/Dialog.vue?4c78","webpack:///./src/components/framework/Dialog.vue","webpack:///./src/components/framework/Dialog.vue?9e76","webpack:///./src/components/framework/Dialog.vue?a06f","webpack:///./src/components/framework/picker/Slider.vue?8d7d","webpack:///src/components/framework/picker/Slider.vue","webpack:///./src/components/framework/picker/Slider.vue?9727","webpack:///./src/components/framework/picker/Slider.vue","webpack:///./src/components/framework/picker/ColorPickerControl.vue?6cf5","webpack:///src/components/framework/picker/ColorPickerControl.vue","webpack:///./src/components/framework/picker/ColorPickerControl.vue?4b3e","webpack:///./src/components/framework/picker/ColorPickerControl.vue","webpack:///./src/assets/up.png","webpack:///./src/utils/touchevent.ts","webpack:///./src/utils/constants.ts","webpack:///./src/components/chart/TimeframeInput.vue?d805","webpack:///./src/components/chart/TimeframeInput.vue","webpack:///./src/components/chart/TimeframeInput.vue?2e50","webpack:///./src/components/chart/TimeframeInput.vue?f200","webpack:///./src/worker/aggregator.ts","webpack:///./src/services/aggregatorService.ts","webpack:///./src/components/framework/picker/ColorPickerControl.vue?e774","webpack:///./src/components/Menu.vue?a60a","webpack:///./src/store/panesSettings/chart.ts","webpack:///./src/store/panesSettings/stats.ts","webpack:///./src/store/panesSettings/trades.ts","webpack:///./src/store/panesSettings/prices.ts","webpack:///./src/store/panesSettings/counters.ts","webpack:///./src/store/panesSettings/website.ts","webpack:///./src/store/panesSettings/index.ts","webpack:///./src/services/migrations.ts","webpack:///./src/services/workspacesService.ts","webpack:///./src/App.vue?db2c","webpack:///./src/components/framework/Notices.vue?0d3b","webpack:///./src/components/framework/Notices.vue","webpack:///./src/components/framework/Notices.vue?ea73","webpack:///./src/components/framework/Notices.vue?a606","webpack:///./src/components/Menu.vue?b2f2","webpack:///./src/components/settings/SettingsDialog.vue?0bda","webpack:///./src/components/settings/Exchange.vue?63fe","webpack:///./src/components/settings/Exchange.vue","webpack:///./src/components/settings/Exchange.vue?0320","webpack:///./src/components/settings/Exchange.vue?352f","webpack:///./src/components/settings/DonoDropdown.vue?014b","webpack:///./src/components/settings/DonoDropdown.vue","webpack:///./src/components/settings/DonoDropdown.vue?0c85","webpack:///./src/components/settings/DonoDropdown.vue?7675","webpack:///./src/components/settings/AudioSettings.vue?b0b4","webpack:///./src/components/settings/AudioSettings.vue","webpack:///./src/components/settings/AudioSettings.vue?d257","webpack:///./src/components/settings/AudioSettings.vue?b958","webpack:///./src/components/settings/OtherSettings.vue?2833","webpack:///./src/components/settings/OtherSettings.vue","webpack:///./src/components/settings/OtherSettings.vue?7a32","webpack:///./src/components/settings/OtherSettings.vue?072c","webpack:///src/components/settings/SettingsDialog.vue","webpack:///./src/components/settings/SettingsDialog.vue?6b97","webpack:///./src/components/settings/SettingsDialog.vue","webpack:///./src/components/Menu.vue","webpack:///./src/components/Menu.vue?e3cb","webpack:///./src/components/Menu.vue?e6a6","webpack:///./src/components/panes/Panes.vue?eaa5","webpack:///./src/components/panes/Panes.vue","webpack:///./src/components/panes/Panes.vue?5665","webpack:///./src/components/panes/Panes.vue?ac67","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/components/framework/Editable.vue?8087","webpack:///./src/components/framework/Editable.vue","webpack:///./src/components/framework/Editable.vue?0d07","webpack:///./src/components/framework/Editable.vue?8663","webpack:///./src/components/framework/Dropdown.vue?ff5a","webpack:///./src/components/framework/Dropdown.vue","webpack:///./src/components/framework/Dropdown.vue?0ac8","webpack:///./src/components/framework/Dropdown.vue?ec06","webpack:///./src/components/framework/Presets.vue?122d","webpack:///./src/components/settings/PresetDialog.vue?2564","webpack:///src/components/settings/PresetDialog.vue","webpack:///./src/components/settings/PresetDialog.vue?2e26","webpack:///./src/components/settings/PresetDialog.vue","webpack:///./src/components/framework/Presets.vue","webpack:///./src/components/framework/Presets.vue?cffa","webpack:///./src/components/framework/Presets.vue?0447","webpack:///./src/directives/autofocusDirective.ts","webpack:///./src/main.ts","webpack:///./src/utils/store.ts","webpack:///./src/components/settings/ImportConfirmation.vue?ee32","webpack:///./src/components/settings/ImportConfirmation.vue","webpack:///./src/components/settings/ImportConfirmation.vue?bc36","webpack:///./src/components/settings/ImportConfirmation.vue?9063","webpack:///./src/services/importService.ts","webpack:///./src/components/SearchDialog.vue?1f51","webpack:///./src/services/alertService.ts","webpack:///./src/utils/colors.ts","webpack:///./src/components/framework/TransitionHeight.vue?bb4d","webpack:///./src/components/framework/TransitionHeight.vue","webpack:///./src/components/framework/TransitionHeight.vue?d6eb","webpack:///./src/components/framework/TransitionHeight.vue?4b7e"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","loading","on","hide","scopedSlots","_u","fn","_v","staticStyle","domProps","_s","paneName","directives","rawName","attrs","detargetPane","proxy","mobileShowFilters","sections","indexOf","searchTypes","normalize","$event","$store","commit","mergeUsdt","historical","recent","_e","allExchangesEnabled","toggleAll","_l","id","state","exchanges","disabled","searchExchanges","boundary","placement","expression","stopPropagation","refreshExchangeProducts","spots","perpetuals","futures","quote","searchQuotes","checked","ref","groupsCount","$refs","input","focus","selection","clearSelection","markets","localPair","join","preventDefault","deselectWhileRetainingScroll","market","activeMarkets","query","page","previousSearchSelections","savedSelection","label","selectMarkets","shiftKey","count","results","showLess","group","index","active","activeIndex","selectMarket","exchange","pair","historicalMarkets","addAll","resultsPerPage","showMore","hasFilters","clearFilters","submit","submitLabel","staticRenderFns","canRight","canLeft","onScroll","$slots","default","components","Vnodes","functional","h","ctx","props","vnodes","mounted","$nextTick","methods","scroller","scrollWidth","scrollLeft","clientWidth","goLeft","element","scroll","left","Math","max","behavior","goRight","nextScrollLeft","maxScrollLeft","ceil","min","component","mixins","Dialog","Carousel","paneId","required","computed","settings","searchSections","RESULTS_PER_PAGE","otherPanes","keys","panes","marketsListeners","paneMarkets","toConnect","filter","toDisconnect","originalSelection","quoteCurrencies","reduce","acc","allQuotes","values","find","getters","output","app","queryFilter","RegExp","multiQuery","filteredProducts","flattenedProducts","hasHistorical","a","marketsByPair","groupedSelection","groups","watch","close","initSelection","cacheProducts","addEventListener","onPaste","onKeydown","beforeDestroy","removeEventListener","_hideHistoryTimeout","containMultipleMarketsConfigurations","selectPaneMarkets","pane","removeFromHistory","marketsToAdd","concat","dispatch","title","Array","isArray","deselectMarkets","deselectMarket","scrollTop","toggleType","toggleExchange","copySelection","activeElement","tagName","deleteLast","lastPair","normalized","selectAll","Boolean","$set","exchangeId","_refreshProductsTimeout","canRefreshProducts","workspacesService","arguments","placeholder","onTimeframe","timeframeForHuman","timeframe","String","valid","created","focusedPaneId","newTimeframe","isBooted","isLoading","isExchangesReady","showSearch","activeExchanges","notices","apiSupportedTimeframes","version","buildDate","baseCurrency","baseCurrencySymbol","quoteCurrency","quoteCurrencySymbol","actions","boot","setBooted","showNotice","notice","getNoticeById","update","_timeout","hideNotice","_reject","updateNotice","currentNotice","dialogService","open","SearchDialog","showTimeframe","rootState","TimeframeDialog","hideSearch","getApiSupportedPairs","mutations","SET_BOOTED","SET_EXCHANGES_READY","EXCHANGE_UPDATED","set","TOGGLE_LOADING","CREATE_NOTICE","UPDATE_NOTICE","REMOVE_NOTICE","TOGGLE_SEARCH","SET_HISTORICAL_MARKETS","SET_API_SUPPORTED_TIMEFRAMES","trim","split","SET_VERSION","SET_BUILD_DATE","SET_CURRENCIES","currencies","base","baseSymbol","quoteSymbol","SET_FOCUSED_PANE","namespaced","assign","_id","aggregatorService","op","calculateSlippage","aggregationLength","preferQuoteCurrencySize","nextTick","useAudio","audioService","connect","disconnect","setColor","toLowerCase","mutation","toUpperCase","refreshTheme","backgroundRgb","backgroundColor","backgroundLuminance","theme","textColor","updateCSS","backgroundDirection","background100Rgb","background100","documentElement","style","setProperty","textColorRgb","buyRgb","buyColor","sellRgb","sellColor","setAudioVolume","volume","setVolume","saveSearchSelection","sortedSelection","sort","b","localeCompare","pairs","product","local","SET_QUOTE_AS_PREFERED_CURRENCY","TOGGLE_SLIPPAGE","TOGGLE_AGGREGATION","TOGGLE_ANIMATIONS","disableAnimations","TOGGLE_NORMAMIZE_WATERMARKS","normalizeWatermarks","TOGGLE_SETTINGS_PANEL","TOGGLE_SEARCH_PANEL","TOGGLE_AUDIO","SET_AUDIO_VOLUME","audioVolume","SET_AUDIO_FILTER","audioFilters","reconnect","SET_BACKGROUND_COLOR","SET_CHART_THEME","SET_TEXT_COLOR","SET_BUY_COLOR","SET_SELL_COLOR","SET_TIMEZONE_OFFSET","timezoneOffset","TOGGLE_AUTO_HIDE_HEADERS","autoHideHeaders","TOGGLE_SEARCH_TYPE","TOGGLE_SEARCH_QUOTE","TOGGLE_SEARCH_EXCHANGE","CLEAR_SEARCH_FILTERS","TOGGLE_FAVORITE_TIMEFRAME","favoriteTimeframes","delete","TOGGLE_ALERTS","alerts","alertsClick","SET_ALERTS_COLOR","alertsColor","SET_ALERTS_LINESTYLE","alertsLineStyle","SET_ALERTS_LINEWIDTH","alertsLineWidth","TOGGLE_ALERTS_CLICK","SET_ALERT_SOUND","alertSound","SAVE_SEARCH_SELECTION","matchingSavedSearch","unshift","CLEAR_SEARCH_HISTORY","REMOVE_SEARCH_HISTORY","match","REMOVE_TIMEFRAME","timeframes","ADD_TIMEFRAME","TOGGLE_TIMEFRAME_GROUP","timeframeGroups","supportedExchanges","map","exchangesState","test","_exchanges","getExchanges","prepareExchanges","exchangeRegex","TOGGLE_EXCHANGE","layoutDesktop","x","y","w","layoutMobile","JSON","parse","stringify","defaultPanes","layout","listeners","addPane","options","panesSettings","zoom","originalGridItem","scrollTo","body","scrollHeight","removePane","item","removeState","unregisterModule","localStorage","removeItem","appendPaneGridItem","removePaneGridItems","refreshMarketsListeners","originalListeners","listenersByMarkets","marketKey","buckets","bucketId","allUniqueMarkets","v","previousListeners","currentListeners","setMarketsForAll","setMarketsForPane","duplicatePane","resetPane","currentPaneState","layoutItem","originalPaneType","saveState","setZoom","refreshZoom","el","getElementById","parent","parentElement","fontSize","classList","remove","add","setupLayout","initialZoom","innerWidth","liquidations","ADD_PANE","REMOVE_PANE","ADD_GRID_ITEM","cols","size","width","height","items","columns","REMOVE_GRID_ITEM","UPDATE_LAYOUT","TOGGLE_LAYOUT","locked","SET_MARKETS_LISTENERS","SET_PANE_MARKETS","SET_PANE_NAME","SET_PANE_ZOOM","use","Store","async","workspace","pairsFromURL","marketsOverride","subscribe","baseQuoteLookupKnown","baseQuoteLookupOthers","baseQuoteLookupPoloniex","promisesOfProducts","indexedProducts","marketDecimals","requestExchangeProductsData","forceFetch","dispatchAsync","getExchangeStoredProductsData","storage","getProducts","Date","now","timestamp","saveExchangeProductsData","productsData","saveProducts","fetchExchangeProducts","endpoints","instruction","url","method","json","fetch","response","getStoredProductsOrFetch","stripStable","replace","getExchangeSymbols","symbols","products","parseMarket","getMarketProduct","symbol","noStable","localSymbol","localSymbolAlpha","getApiSupportedMarkets","cache","getItem","arr","catch","setItem","indexProducts","ensureIndexedProducts","resolvePairs","searchPreference","historicalOnly","spot","perp","future","allTypes","filtered","formatAmount","amount","decimals","negative","abs","toFixed","isNaN","countDecimals","parts","toString","formatMarketPrice","price","formatPrice","precision","parseInt","html","action","onClickAction","cancel","ok","callback","question","composing","mountedComponents","isInteracting","hasDialogOpened","dialogId","Factory","extend","store","cmp","propsData","destroyed","pickerInstance","createComponent","mountDialog","onClose","container","$mount","$el","initialColor","cb","allowNull","$off","setColorFromProp","$on","indicatorId","openAsPromise","ConfirmDialog","PromptDialog","_isDestroyed","preventClose","$destroy","availableTypes","prop","model","$$v","conditionnalColor","color","getHms","enabled","disable","DropdownButton","ColorPickerControl","DAY","ago","interval","seconds","floor","round","isNegPrefix","getHmsFull","randomString","characters","charactersLength","charAt","random","slugify","string","downloadAnything","filename","downloadAnchorNode","Blob","URL","createObjectURL","encodeURIComponent","click","uniqueName","names","slug","suffix","sleep","duration","getBucketId","mA","mB","openBase64InNewTab","mimeType","byteCharacters","atob","byteNumbers","charCodeAt","byteArray","Uint8Array","file","fileURL","findClosingBracketMatchIndex","str","pos","depth","parseFunctionArguments","paranthesisMatch","trimArguments","maxIterations","PARANTHESIS_REGEX","iteration","exec","closingParenthesisIndex","contentWithinParenthesis","arg","camelize","g","formatBytes","bytes","k","dm","sizes","log","parseFloat","pow","fallbackCopyTextToClipboard","text","textArea","top","position","select","execCommand","browseFile","onchange","files","copyTextToClipboard","navigator","clipboard","writeText","getTimeframeForHuman","full","getSiblings","elem","children","sibling","isOddTimeframe","floorTimestampToTimeframe","isOdd","dayOpen","parseVersion","padStart","handleFetchError","hasSomethingToSay","location","hostname","getApiUrl","path","getEventCords","touch","touches","clientX","clientY","debounce","func","immediate","later","callNow","cancelAnimationFrame","requestAnimationFrame","getClosestValue","array","prev","curr","buttonClass","toggleDropdown","_t","nativeOn","selectFromElementRecursive","dropdownTrigger","option","currentTarget","contains","selectOption","optionElement","$emit","audioParametersDescriptions","frequency","gain","fadeOut","delay","fadeIn","holdDuration","osc","startGain","endGain","startTime","audioParametersDefinitions","play","playurl","audioDefaultParameters","AudioService","filtersOptions","HighPassFilter","Q","filterType","bypass","LowPassFilter","Compressor","threshold","makeupGain","attack","release","ratio","knee","automakeup","Delay","feedback","delayTime","PingPongDelay","wetLevel","delayTimeLeft","delayTimeRight","Chorus","rate","minTime","context","bindContext","bindOutput","AudioContext","webkitAudioContext","checkInProgress","application","resumeOnFocus","resume","tuna","effects","gainNode","Gain","source","effect","destination","res","arrayBuffer","blob","getSound","reader","FileReader","onloadend","readAsArrayBuffer","savedAudioBuffers","fetchArrayBuffer","retrieveArrayBuffer","decodeAudioData","time","getNextTime","createGain","createBufferSource","buffer","fade","currentTime","createOscillator","onended","setValueAtTime","exponentialRampToValueAtTime","start","stop","cueTime","litteral","side","frequencyMultiplier","gainMultiplier","FUNCTION_LOOKUP_REGEX","functionMatch","originalParameters","functionArguments","defaultArguments","argumentValue","stringProvided","defaultExpectedString","loadSoundBuffer","finalParameters","replaceAll","Function","mask","clickOutside","contentClass","transform","delta","onMouseDown","headerColor","background","headerBackground","handleDrag","bodyClass","animating","lum","startPosition","innerHeight","_handleRelease","button","lastMove","startOffset","dialogContent","offsetTop","minY","_handleDragging","evnt","endPosition","animate","_deinteractionTimeout","handler","distance","header","showCompletion","handles","handle","gradient","colorCode","step","handlesValue","initGradient","val","reloadHandlesColor","multiple","fill","oldVal","currentValue","updateValue","init","$emitInputEvent","Number","initElements","initEvents","forEach","wrapper","track","classes","backgroundImage","handleResize","updateSize","buttons","_dblClickTimeout","pendingDblClick","ticking","activeHandle","closest","stepValue","tempDrag","dragging","tempRelease","getStepValue","stepCount","decimalsCount","trackRect","stepWidth","getPositionPercentage","normalizeValue","prevValue","nextValue","addHandle","newIndex","positionX","positionY","removeHandle","getHandleColor","region","colorCount","muted","stepSplited","_updateSizeTimeout","openPicker","_m","dialogInstance","isTouchSupported","prefixes","mq","matchMedia","matches","getEventOffset","offsetX","offsetY","rect","getBoundingClientRect","pageX","pageY","APPLICATION_START_TIME","MAX_BARS_PER_CHUNKS","GRID_COLS","PRODUCTS_EXPIRES_AFTER","onInput","which","format","innerText","trimmed","hero","autofocus","Worker_fn","Worker","worker","emit","trackingId","listenUtilityEvents","once","initialize","_normalizeDecimalsTimeout","normalizeDecimals","payload","postMessage","listener","decimalsByLocalMarkets","averageDecimals","indicatorsErrors","indicators","priceScales","right","scaleMargins","bottom","layouting","refreshRate","showLegend","fillGapsWithEmpty","forceNormalizePrice","showHorizontalGridlines","horizontalGridlinesColor","showVerticalGridlines","verticalGridlinesColor","showWatermark","watermarkColor","hiddenMarkets","barSpacing","getIndicators","indicator","series","addIndicator","ids","priceScaleId","duplicateIndicator","updatedAt","createdAt","downloadIndicator","priceScale","exportableIndicator","description","toggleSerieVisibility","visible","setIndicatorOption","silent","unsavedChanges","removeIndicator","confirm","saveIndicator","renameIndicator","newId","indicatorCopy","transferIndicator","otherPaneIndicator","setIndicatorNavigationState","navigationState","undoIndicator","savedIndicator","getIndicator","toggleMarkets","inverse","containsHidden","isHidden","indexedMarket","SET_REFRESH_RATE","TOGGLE_LEGEND","SET_GRIDLINES","SET_WATERMARK","SET_INDICATOR_SERIES","SET_INDICATOR_ERROR","SET_TIMEFRAME","ADD_INDICATOR","UPDATE_DESCRIPTION","REMOVE_INDICATOR","SET_INDICATOR_OPTION","REMOVE_INDICATOR_OPTION","SET_INDICATOR_SCRIPT","FLAG_INDICATOR_AS_UNSAVED","FLAG_INDICATOR_AS_SAVED","TOGGLE_LAYOUTING","TOGGLE_FILL_GAPS_WITH_EMPTY","TOGGLE_FORCE_NORMALIZE_PRICE","UPDATE_INDICATOR_DISPLAY_NAME","displayName","TOGGLE_MARKET","marketId","SET_PRICE_SCALE","SET_BAR_SPACING","granularity","enableChart","trades","vold","tradesd","createBucket","otherIds","otherNames","StatDialog","updateBucket","renameBucket","TOGGLE_BUCKET","stat","SET_BUCKET_INPUT","RENAME_BUCKET","SET_BUCKET_COLOR","SET_BUCKET_TYPE","TOGGLE_BUCKET_COLOR_CONDITION","SET_BUCKET_PRECISION","SET_BUCKET_WINDOW","milliseconds","CREATE_BUCKET","REMOVE_BUCKET","SET_WINDOW","TOGGLE_CHART","getThreshold","thresholds","buyAudio","sellAudio","buyGif","sellGif","audioThreshold","multipliers","showThresholdsAsTable","maxRows","audioPitch","showTradesPairs","tradeType","showLogos","monochromeLogos","showTimeAgo","showPrice","thresholdsMultipler","firstTime","updateThreshold","updateLiquidations","generateSwatch","baseVariance","baseMultipler","buyScaled","sellScaled","TOGGLE_TRADES_PAIRS","SET_MAX_ROWS","TOGGLE_LOGOS","TOGGLE_MUTED","SET_AUDIO_PITCH","TOGGLE_MONOCHROME_LOGOS","TOGGLE_TRADE_TYPE","TOGGLE_TIME_AGO","TOGGLE_PRICE","TOGGLE_THRESHOLDS_TABLE","SET_THRESHOLD_AMOUNT","TOGGLE_THRESHOLD_MAX","SET_THRESHOLD_MULTIPLIER","identifier","multiplier","SET_THRESHOLD_GIF","gif","isDeleted","SET_THRESHOLD_COLOR","SET_THRESHOLD_AUDIO","ADD_THRESHOLD","previousThreshold","DELETE_THRESHOLD","tradesIndex","liquidationsIndex","SET_AUDIO_THRESHOLD","SET_THRESHOLDS_MULTIPLER","change","animateSort","showPairs","showVolume","showVolumeDelta","period","showChange","sortType","sortOrder","TOGGLE_SORT_ANIMATION","TOGGLE_PAIRS","TOGGLE_VOLUME","TOGGLE_VOLUME_DELTA","SET_PERIOD","TOGGLE_CHANGE","TOGGLE_SORT_ORDER","SET_SORT_TYPE","liquidationsOnly","steps","REPLACE_COUNTERS","counters","TOGGLE_COUNT","TOGGLE_LIQUIDATIONS_ONLY","reloadTimer","interactive","setUrl","setTitle","previousHostname","currentHostname","SET_URL","TOGGLE_INTERACTIVE","UNLOCK_URL","SET_RELOAD_TIMER","chart","stats","prices","website","databaseUpgrades","0","db","workspacesStore","createObjectStore","keyPath","createIndex","seriesStore","1","deleteObjectStore","indicatorsStore","2","3","autoIncrement","5","7","tx","objectStore","getAllKeys","record","alert","put","workspaceUpgrades","states","layouts","lg","normalTradesSettings","liquidationsTradesSettings","upgradeThreshold","defaultThreshold","audioFilter","audioCompressor","audioDelay","audioPingPong","breakpointsWidth","xl","md","sm","xs","breakpointsCols","breakpoints","breakpoint","currentBreakpoint","currentLayout","coeficient","rightIndicatorId","4","liquidationThreshold","liquidation","urlStrategy","defaultInserted","latestDatabaseVersion","latestWorkspaceVersion","previousAppVersion","latestAppVersion","createDatabase","insertDefault","alertService","syncTriggeredAlerts","getCurrentWorkspace","setCurrentWorkspace","promiseOfUpgrade","upgrade","oldVersion","newVersion","oncomplete","blocked","blocking","terminated","insertDefaultIndicators","insertDefaultPresets","transaction","existing","defaultIndicators","added","done","defaultPresets","preset","urlWorkspaceId","urlPairs","lastWorkspaceId","hash","substring","decodeURIComponent","pathname","getWorkspace","createWorkspace","previousWorkspaceId","reload","upgradeWorkspace","history","replaceState","addWorkspace","getWorkspaces","stateId","cleanState","saveWorkspace","makeUniqueWorkspace","workspaces","workspaceCopy","getAllFromIndex","removeWorkspace","uses","confirmOverride","inputType","targetType","pop","getPreset","IDBKeyRange","bound","sound","getAll","marketAlerts","Dexie","exportDB","tableName","preferedSizingCurrency","resetAndReload","transitionGroupName","icon","TransitionHeight","menuDropdown","toggle","panesDropdown","_g","volumeSliderTriggerEvents","mouseleave","volumeSliderOpened","volumeSliderEvents","toggleAudio","toggleFullscreen","isFullscreen","showSettings","hits","toggleWorkspaceDropdown","currentWorkspace","workspaceDropdownTrigger","openWorkspace","workspaceDropdownId","renameWorkspace","duplicateWorkspace","exportWorkspace","createWorkspaceDropdown","uploadWorkspace","createBlankWorkspace","regenerateSwatch","databaseDropdown","reset","exportDatabase","expanded","updateMarketsPrices","off","Slider","donationMenu","onSelect","filtersDescriptions","filters","animationsEnabled","getTimezoneOffset","responsiveEnabled","Exchange","AudioSettings","OtherSettings","DonoDropdown","_hitsTimeout","getHits","newWindow","isCurrent","nextWorkspace","randomName","importService","content","sounds","presets","workspaceId","colorDidChanged","toElement","volumeSliderTrigger","volumeSlider","mouseenter","SettingsDialog","HTMLElement","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","cancelFullScreen","webkitCancelFullScreen","mozCancelFullScreen","webkitIsFullScreen","mozFullScreen","rowHeight","unlocked","layoutReady","onLayoutUpdated","gridItem","onContainerResized","onItemResized","refInFor","draggable","resizable","updateRowHeight","maximizedItem","_maximizedPaneId","getElementsByClassName","maximizedPaneId","clientHeight","resizePane","onResize","hPx","wPx","gridItems","isTrusted","_resizeTimeout","resizeMaximizedPane","GridLayout","GridItem","Chart","Trades","Stats","Counters","Prices","Website","TradesLite","showStuck","_stuckTimeout","bindDropFile","updatePrice","onDocumentKeyPress","onBlur","unbindDropFile","stopUpdatingPrice","marketsPrices","_mainMarkets","updateFavicon","_mainPair","direction","_faviconElement","keyCode","metaKey","ctrlKey","altKey","isContentEditable","downloadWorkspace","handleDrop","dataTransfer","importAnything","marketsByNormalizedPair","Menu","Notices","Panes","newMarkets","previousMarkets","refreshMainMarkets","editable","onKeyDown","changed","onFocus","onWheel","sel","range","caretPos","getSelection","rangeCount","getRangeAt","commonAncestorContainer","endOffset","innerHTML","removeAllRanges","empty","blur","increment","partIndex","_incrementSelectionTimeout","getCaretPosition","part","Infinity","createRange","moveStart","collapse","lastChild","_emitTimeout","focusedElement","sign","deltaY","onEnterStart","noScroll","transparent","margin","onSides","triggerElement","nextTriggerElement","fitScreen","bindResize","bindClickOutside","unbindResize","unbindClickOutside","querySelector","dropdownElement","offsetHeight","optimalLeft","viewportWidth","viewportHeight","triggerElementRect","dropdownElementRect","dropdownElementWidth","triggerIsBeyondViewportMiddle","maxHeight","dropdownElementHeight","triggerIsLowerThanViewportMiddle","_resizeHandler","clickOutsideHandler","bindPaste","unbindPaste","savePreset","handleFile","applyDefault","selectPreset","openPreset","deletePreset","meta","renamePreset","showDetails","presetDropdown","downloadPreset","replacePreset","copyPreset","menu","dataProperties","cat","retrieveDataProperties","obj","getPresets","getPresetsKeysByType","applyPreset","postClose","PresetDialog","isOverride","prompt","adapter","original","importPreset","removePreset","_pasteHandler","clipboardData","getData","setSelectionRange","register","maxWidth","arrow","animation","animateFill","Dropdown","Editable","Presets","directive","App","persistModulesTimers","syncState","scheduleSync","mergeStoredState","storedState","getState","bootPane","_actions","registerModule","waitForStateMutation","unsubscribe","readAsText","uploadedSound","saveSound","presetType","getJSON","addAndSetWorkspace","chartPaneId","getIndicatorsIds","openIndicator","formatName","importDatabase","importIndicator","importWorkspace","importSound","importDB","currentWorkspaceId","AlertService","publicVapidKey","base64String","padding","repeat","base64","rawData","outputArray","_promiseOfSync","getAlerts","serviceWorker","ready","registration","markAlertsAsTriggered","getNotifications","notification","triggered","saveAlerts","pushSubscription","getRegistration","pushManager","userVisibleOnly","applicationServerKey","urlBase64ToUint8Array","toggleAlert","newPrice","moveAlert","marketsStats","marketPrice","getPrice","percentChangeToAlert","subscription","getPushSubscription","validateAlert","origin","headers","PALETTE","getColorByWeight","weight","w1","w2","rgb","rgbaToRgb","alpha","hexToRgb","hex","shorthandRegex","getColorLuminance","colorsByName","getColorByName","canvas","getContext","clearRect","fillStyle","fillRect","getImageData","splitColorCode","joinRgba","getAppBackgroundColor","getComputedStyle","getLogShade","percent","luminance","adjustedPercent","P","rgbToHsl","hslToRgb","hue2rgb","q","getTextColor","strength","hsl","luminanceFactor","strengthLog","saturation","lightness","getLinearShare","luminanceIndexedTo1","luminanceWithMinimum","luminanceLog","single","beforeEnter","enter","afterEnter","beforeLeave","leave","Element","dataset","getChildrenHeight","styles","getPropertyValue"],"mappings":"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","file":"js/app.e313766d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-00f8fb9c\":\"858693fb\",\"chunk-187d1773\":\"22e7e72d\",\"chunk-35847707\":\"32238db9\",\"chunk-d2fbbe60\":\"7f14c283\",\"chunk-1456abbc\":\"b5f0dd0a\",\"chunk-107476e4\":\"48609679\",\"chunk-2bd9cf2c\":\"00630cce\",\"chunk-2ce686f6\":\"a958cc7b\",\"chunk-2d0cc844\":\"534b1991\",\"chunk-48d3df3e\":\"eaf17294\",\"chunk-6aa087d4\":\"78dcda5f\",\"chunk-7845aa3c\":\"810bf325\",\"chunk-85145916\":\"eacab412\",\"chunk-10024d20\":\"8ebea174\",\"chunk-35bede6e\":\"4e571d23\",\"chunk-2f4fd947\":\"822e9851\",\"chunk-653050d6\":\"c06e8cde\",\"chunk-4cbfe090\":\"d9ddb1f9\",\"chunk-6edad2a6\":\"376e5ac0\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-187d1773\":1,\"chunk-35847707\":1,\"chunk-1456abbc\":1,\"chunk-107476e4\":1,\"chunk-2bd9cf2c\":1,\"chunk-2ce686f6\":1,\"chunk-48d3df3e\":1,\"chunk-6aa087d4\":1,\"chunk-7845aa3c\":1,\"chunk-35bede6e\":1,\"chunk-4cbfe090\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-00f8fb9c\":\"31d6cfe0\",\"chunk-187d1773\":\"058181ef\",\"chunk-35847707\":\"de824d83\",\"chunk-d2fbbe60\":\"31d6cfe0\",\"chunk-1456abbc\":\"cfb431e9\",\"chunk-107476e4\":\"6dc9840e\",\"chunk-2bd9cf2c\":\"7e8ff99a\",\"chunk-2ce686f6\":\"8dbd7c45\",\"chunk-2d0cc844\":\"31d6cfe0\",\"chunk-48d3df3e\":\"dbf034c7\",\"chunk-6aa087d4\":\"791dd542\",\"chunk-7845aa3c\":\"7dc42311\",\"chunk-85145916\":\"31d6cfe0\",\"chunk-10024d20\":\"31d6cfe0\",\"chunk-35bede6e\":\"903252b6\",\"chunk-2f4fd947\":\"31d6cfe0\",\"chunk-653050d6\":\"31d6cfe0\",\"chunk-4cbfe090\":\"40fb51df\",\"chunk-6edad2a6\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/aggr/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioSettings.vue?vue&type=style&index=0&id=75ae916c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{staticClass:\"-sticky-footer -mobile-fs -internal-scroll -auto\",class:[_vm.loading && '-loading'],on:{\"clickOutside\":_vm.hide},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [(_vm.paneId)?_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"ADD/REMOVE SOURCES\")]),_c('div',{staticClass:\"subtitle\",staticStyle:{\"opacity\":\"1\"}},[_vm._v(\" to \"),_c('span',{staticClass:\"text-success\",domProps:{\"textContent\":_vm._s(_vm.paneName)}}),_vm._v(\" pane \"),_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"btn -small ml4 -text\",attrs:{\"type\":\"button\",\"title\":\"Target all instead\"},on:{\"click\":_vm.detargetPane}},[_c('i',{staticClass:\"icon-cross\"})])])]):_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"REPLACE SOURCES\")]),_c('div',{staticClass:\"subtitle\"},[_vm._v(\"across all panes\")])]),_c('div',{staticClass:\"column -center\"})]},proxy:true}])},[_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search__side hide-scrollbar\",class:{ '-show': _vm.mobileShowFilters }},[_c('section',{staticClass:\"section\"},[(_vm.sections.indexOf('extras') > -1)?_c('div',{staticClass:\"section__content\"},[_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.normalize},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'normalize')}}}),_c('div'),_c('span',[_vm._v(\"Group by pair\")])]),_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.mergeUsdt},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'mergeUsdt')}}}),_c('div'),_c('span',[_vm._v(\"Merge stablecoins\")])]),_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.historical},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'historical')}}}),_c('div'),_c('span',[_vm._v(\"With historical data\")])]),_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.recent},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'recent')}}}),_c('div'),_c('span',[_vm._v(\"Show recents\")])])]):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_PANEL', 'extras')}}},[_vm._v(\" Extras \"),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section\"},[(_vm.sections.indexOf('exchanges') > -1)?_c('div',{staticClass:\"section__content\"},[_c('label',{staticClass:\"section__controls checkbox-control -small mb4 flex-right\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.allExchangesEnabled},on:{\"change\":_vm.toggleAll}}),_c('div')]),_vm._l((_vm.exchanges),function(id){return [(!_vm.$store.state.exchanges[id].disabled)?_c('label',{key:id,staticClass:\"checkbox-control -small mb4 -custom hide-scrollbar\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchExchanges[id] !== false},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_EXCHANGE', id)}}}),_c('div',{class:'icon-' + id}),_c('span',[_c('span',{domProps:{\"textContent\":_vm._s(id)}}),(_vm.canRefreshProducts)?_c('a',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ boundary: 'window', placement: 'left' }),expression:\"{ boundary: 'window', placement: 'left' }\"}],staticClass:\"-text\",attrs:{\"href\":\"javascript:void(0);\",\"title\":(\"Refresh \" + id + \"'s products\")},on:{\"click\":function($event){$event.stopPropagation();return _vm.refreshExchangeProducts(id)}}},[_c('i',{staticClass:\"icon-refresh ml8 mr8\"})]):_vm._e()])]):_vm._e()]})],2):_vm._e(),_c('div',{staticClass:\"section__title text-muted mb8\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_PANEL', 'exchanges')}}},[_vm._v(\" Exchanges \"),(_vm.canRefreshProducts)?_c('a',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"refresh-all -text\",attrs:{\"href\":\"javascript:void(0);\",\"title\":\"Refresh all exchange's products\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.refreshExchangeProducts()}}},[_c('i',{staticClass:\"icon-refresh ml8 mr8\"})]):_vm._e(),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section mb16\"},[(_vm.sections.indexOf('types') > -1)?_c('div',{staticClass:\"section__content\"},[_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.spots},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'spots')}}}),_c('div'),_c('span',[_vm._v(\"Spots\")])]),_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.perpetuals},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'perpetuals')}}}),_c('div'),_c('span',[_vm._v(\"Perpetuals\")])]),_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.futures},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'futures')}}}),_c('div'),_c('span',[_vm._v(\"Futures\")])])]):_vm._e(),_c('div',{staticClass:\"section__title text-muted mb8\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_PANEL', 'types')}}},[_vm._v(\" Type \"),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section\"},[(_vm.sections.indexOf('quotes') > -1)?_c('div',{staticClass:\"section__content\"},_vm._l((_vm.quoteCurrencies),function(quote){return _c('label',{key:quote,staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchQuotes[quote] === true ||\n                  _vm.searchQuotes[quote] === undefined},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_QUOTE', {\n                  key: quote,\n                  value: $event.target.checked\n                })}}}),_c('div'),_c('span',[_vm._v(_vm._s(quote))])])}),0):_vm._e(),_c('div',{staticClass:\"section__title text-muted mb8\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_PANEL', 'quotes')}}},[_vm._v(\" Quote currency \"),_c('i',{staticClass:\"icon-up-thin\"})])])]),_c('div',{staticClass:\"search__wrapper hide-scrollbar\"},[_c('div',{ref:\"selection\",staticClass:\"search-selection search__tags form-control\",class:_vm.groupsCount < 10 && '-sticky',on:{\"click\":function($event){return _vm.$refs.input.focus()}}},[(_vm.selection.length)?_c('div',{staticClass:\"search-selection__controls\"},[_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ boundary: 'window', placement: 'bottom' }),expression:\"{ boundary: 'window', placement: 'bottom' }\"}],staticClass:\"btn -text\",attrs:{\"title\":\"Toggle grouping\"},on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'normalize')}}},[_c('i',{staticClass:\"icon-merge\"})]),_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ boundary: 'window', placement: 'bottom' }),expression:\"{ boundary: 'window', placement: 'bottom' }\"}],staticClass:\"btn -text\",attrs:{\"title\":\"Clear\"},on:{\"click\":_vm.clearSelection}},[_c('i',{staticClass:\"icon-eraser\"})])]):_vm._e(),(_vm.searchTypes.normalize)?_vm._l((_vm.groupedSelection),function(markets,localPair){return _c('button',{key:localPair,staticClass:\"btn -pill\",attrs:{\"title\":'Click to remove ' + markets.join(', ')},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deselectWhileRetainingScroll(markets)}}},[(markets.length > 1)?_c('span',{staticClass:\"badge -compact ml8\",domProps:{\"textContent\":_vm._s(markets.length)}}):_vm._e(),_c('span',{domProps:{\"textContent\":_vm._s(localPair)}})])}):_vm._l((_vm.selection),function(market){return _c('button',{key:market,staticClass:\"btn\",class:{ '-green': _vm.activeMarkets.indexOf(market) !== -1 },attrs:{\"title\":\"Click to remove\"},domProps:{\"textContent\":_vm._s(market)},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deselectWhileRetainingScroll(market)}}})}),_c('input',{ref:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"Search\"},domProps:{\"value\":_vm.query},on:{\"input\":function($event){;(_vm.page = 0), (_vm.query = $event.target.value)}}})],2),_c('div',{staticClass:\"search__results\"},[(_vm.searchTypes.recent && _vm.previousSearchSelections.length)?_c('div',{staticClass:\"search-recent-searches\"},[_c('carousel',{staticClass:\"search__tags\"},_vm._l((_vm.previousSearchSelections),function(savedSelection){return _c('button',{key:savedSelection.label,staticClass:\"btn -pill -small\",attrs:{\"title\":savedSelection.markets.join(', ')},on:{\"click\":function($event){return _vm.selectMarkets(savedSelection.markets, $event.shiftKey)}}},[(savedSelection.count > 1)?_c('span',{staticClass:\"badge -invert ml8\",domProps:{\"textContent\":_vm._s(savedSelection.markets.length)}}):_vm._e(),_c('span',[_vm._v(_vm._s(savedSelection.label))])])}),0),_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"btn -outline search-history__clear\",attrs:{\"title\":\"Clear recent searches<br><i>💡 SHIFT+CLIC to delete 1 item</i>\"}},[_c('i',{staticClass:\"icon-trash -small\",on:{\"click\":function($event){return _vm.$store.commit('settings/CLEAR_SEARCH_HISTORY')}}})])],1):_vm._e(),(_vm.results.length)?[(_vm.page > 0)?_c('div',{staticClass:\"d-flex mt8\"},[_c('button',{staticClass:\"btn -text mlauto switch-page\",on:{\"click\":_vm.showLess}},[_vm._v(\" ... go page \"+_vm._s(_vm.page)+\" \")])]):_vm._e(),(_vm.searchTypes.normalize)?_c('table',{staticClass:\"table mt8\"},[_c('tbody',_vm._l((_vm.results),function(group,index){return _c('tr',{key:group.localPair,staticClass:\"-action\",class:{ active: _vm.activeIndex === index },on:{\"click\":function($event){return _vm.selectMarkets(group.markets)}}},[_c('td',{domProps:{\"textContent\":_vm._s(group.localPair)}}),_c('td',[_c('small',{domProps:{\"textContent\":_vm._s(group.markets.join(', '))}})])])}),0)]):_c('table',{staticClass:\"table mt8\"},[_c('tbody',_vm._l((_vm.results),function(market,index){return _c('tr',{key:market.id,staticClass:\"-action\",class:{ active: _vm.activeIndex === index },on:{\"click\":function($event){return _vm.selectMarket(market.id)}}},[_c('td',{staticClass:\"icon search__exchange text-center\",class:'icon-' + market.exchange}),_c('td',{domProps:{\"textContent\":_vm._s(market.exchange)}}),_c('td',{domProps:{\"textContent\":_vm._s(market.pair)}}),_c('td',{domProps:{\"textContent\":_vm._s(market.type)}}),_c('td',{staticClass:\"text-center\"},[(_vm.historicalMarkets.indexOf(market.id) !== -1)?_c('i',{staticClass:\"icon-candlestick\",attrs:{\"title\":\"historical data available for this market\"}}):_vm._e()])])}),0)]),_c('div',{staticClass:\"mt8 d-flex\"},[_c('button',{staticClass:\"btn -text\",on:{\"click\":_vm.addAll}},[_c('i',{staticClass:\"icon-plus mr8\"}),_vm._v(\" add all of the above \")]),(_vm.results.length === _vm.resultsPerPage)?_c('button',{staticClass:\"btn -text mlauto switch-page\",on:{\"click\":_vm.showMore}},[_vm._v(\" go page \"+_vm._s(_vm.page + 2)+\" ... \")]):_vm._e()])]:(_vm.query.length)?_c('p',{staticClass:\"mb0 pb0\"},[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"No results found for \\\"\"+_vm._s(_vm.query)+\"\\\".\")]),_c('br'),(_vm.hasFilters || !_vm.allExchangesEnabled)?_c('button',{staticClass:\"btn -cases -text\",on:{\"click\":_vm.clearFilters}},[_c('i',{staticClass:\"icon-refresh\"}),_vm._v(\" Retry without filters \")]):_vm._e()]):_vm._e()],2)])]),_c('footer',[_c('a',{staticClass:\"btn -text mrauto search__side-toggle\",attrs:{\"href\":\"javascript:void(0);\"},domProps:{\"textContent\":_vm._s(_vm.mobileShowFilters ? 'Hide filters' : 'Show filters')},on:{\"click\":function($event){_vm.mobileShowFilters = !_vm.mobileShowFilters}}}),_c('a',{staticClass:\"btn -text\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.hide}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn -large ml8 -green\",class:_vm.loading && '-loading',on:{\"click\":_vm.submit}},[_vm._v(\" \"+_vm._s(_vm.submitLabel)+\" \"),(_vm.loading)?_c('div',{staticClass:\"lds-spinner -center\"},[_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div')]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"carousel\",class:[\n    _vm.canRight && 'carousel--can-right',\n    _vm.canLeft && 'carousel--can-left'\n  ]},[_c('div',{ref:\"scroller\",staticClass:\"carousel__wrapper\",on:{\"scroll\":_vm.onScroll}},[_c('vnodes',{attrs:{\"vnodes\":this.$slots.default}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default {\n  name: 'Carousel',\n  components: {\n    Vnodes: {\n      functional: true,\n      render: (h, ctx) => ctx.props.vnodes\n    }\n  },\n  data: () => ({\n    canRight: false,\n    canLeft: false\n  }),\n  mounted() {\n    this.$nextTick().then(() => this.onScroll())\n  },\n  methods: {\n    onScroll() {\n      const { scrollWidth, scrollLeft, clientWidth } = this.$refs.scroller\n\n      this.canLeft = scrollLeft > 0\n\n      this.canRight = scrollLeft < scrollWidth - clientWidth\n    },\n    goLeft() {\n      const element = this.$refs.scroller as HTMLElement\n\n      element.scroll({\n        left: Math.max(0, element.scrollLeft - element.clientWidth),\n        behavior: 'smooth'\n      })\n    },\n    goRight() {\n      const element = this.$refs.scroller as HTMLElement\n\n      const { scrollWidth, scrollLeft, clientWidth } = element\n\n      const nextScrollLeft = element.scrollLeft + element.clientWidth\n      const maxScrollLeft = scrollWidth - clientWidth\n\n      if (Math.ceil(scrollLeft) < maxScrollLeft) {\n        element.scroll({\n          left: Math.min(maxScrollLeft, nextScrollLeft),\n          behavior: 'smooth'\n        })\n      }\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carousel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carousel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Carousel.vue?vue&type=template&id=3742e45a&scoped=true&\"\nimport script from \"./Carousel.vue?vue&type=script&lang=ts&\"\nexport * from \"./Carousel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Carousel.vue?vue&type=style&index=0&id=3742e45a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3742e45a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <Dialog\n    @clickOutside=\"hide\"\n    class=\"-sticky-footer -mobile-fs -internal-scroll -auto\"\n    :class=\"[loading && '-loading']\"\n  >\n    <template v-slot:header>\n      <div v-if=\"paneId\">\n        <div class=\"title\">ADD/REMOVE SOURCES</div>\n        <div class=\"subtitle\" style=\"opacity: 1\">\n          to\n          <span class=\"text-success\" v-text=\"paneName\"></span>\n          pane\n          <button\n            type=\"button\"\n            class=\"btn -small ml4 -text\"\n            v-tippy\n            title=\"Target all instead\"\n            @click=\"detargetPane\"\n          >\n            <i class=\"icon-cross\"></i>\n          </button>\n        </div>\n      </div>\n      <div v-else>\n        <div class=\"title\">REPLACE SOURCES</div>\n        <div class=\"subtitle\">across all panes</div>\n      </div>\n      <div class=\"column -center\"></div>\n    </template>\n    <div class=\"search\">\n      <div\n        class=\"search__side hide-scrollbar\"\n        :class=\"{ '-show': mobileShowFilters }\"\n      >\n        <section class=\"section\">\n          <div v-if=\"sections.indexOf('extras') > -1\" class=\"section__content\">\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.normalize\"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_TYPE', 'normalize')\n                \"\n              />\n              <div></div>\n              <span>Group by pair</span>\n            </label>\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.mergeUsdt\"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_TYPE', 'mergeUsdt')\n                \"\n              />\n              <div></div>\n              <span>Merge stablecoins</span>\n            </label>\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.historical\"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_TYPE', 'historical')\n                \"\n              />\n              <div></div>\n              <span>With historical data</span>\n            </label>\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.recent\"\n                @change=\"$store.commit('settings/TOGGLE_SEARCH_TYPE', 'recent')\"\n              />\n              <div></div>\n              <span>Show recents</span>\n            </label>\n          </div>\n          <div\n            class=\"section__title\"\n            @click=\"$store.commit('settings/TOGGLE_SEARCH_PANEL', 'extras')\"\n          >\n            Extras <i class=\"icon-up-thin\"></i>\n          </div>\n        </section>\n\n        <section class=\"section\">\n          <div\n            class=\"section__content\"\n            v-if=\"sections.indexOf('exchanges') > -1\"\n          >\n            <label\n              class=\"section__controls checkbox-control -small mb4 flex-right\"\n            >\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"allExchangesEnabled\"\n                @change=\"toggleAll\"\n              />\n              <div></div>\n            </label>\n            <template v-for=\"id of exchanges\">\n              <label\n                class=\"checkbox-control -small mb4 -custom hide-scrollbar\"\n                :key=\"id\"\n                v-if=\"!$store.state.exchanges[id].disabled\"\n              >\n                <input\n                  type=\"checkbox\"\n                  class=\"form-control\"\n                  :checked=\"searchExchanges[id] !== false\"\n                  @change=\"$store.commit('settings/TOGGLE_SEARCH_EXCHANGE', id)\"\n                />\n                <div :class=\"'icon-' + id\"></div>\n                <span>\n                  <span v-text=\"id\"></span>\n                  <a\n                    v-if=\"canRefreshProducts\"\n                    href=\"javascript:void(0);\"\n                    class=\"-text\"\n                    @click.stop=\"refreshExchangeProducts(id)\"\n                    :title=\"`Refresh ${id}'s products`\"\n                    v-tippy=\"{ boundary: 'window', placement: 'left' }\"\n                  >\n                    <i class=\"icon-refresh ml8 mr8\"></i>\n                  </a>\n                </span>\n              </label>\n            </template>\n          </div>\n          <div\n            class=\"section__title text-muted mb8\"\n            @click=\"$store.commit('settings/TOGGLE_SEARCH_PANEL', 'exchanges')\"\n          >\n            Exchanges\n            <a\n              v-if=\"canRefreshProducts\"\n              href=\"javascript:void(0);\"\n              class=\"refresh-all -text\"\n              @click.stop=\"refreshExchangeProducts()\"\n              title=\"Refresh all exchange's products\"\n              v-tippy\n            >\n              <i class=\"icon-refresh ml8 mr8\"></i>\n            </a>\n            <i class=\"icon-up-thin\"></i>\n          </div>\n        </section>\n\n        <section class=\"section mb16\">\n          <div class=\"section__content\" v-if=\"sections.indexOf('types') > -1\">\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.spots\"\n                @change=\"$store.commit('settings/TOGGLE_SEARCH_TYPE', 'spots')\"\n              />\n              <div></div>\n              <span>Spots</span>\n            </label>\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.perpetuals\"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_TYPE', 'perpetuals')\n                \"\n              />\n              <div></div>\n              <span>Perpetuals</span>\n            </label>\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.futures\"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_TYPE', 'futures')\n                \"\n              />\n              <div></div>\n              <span>Futures</span>\n            </label>\n          </div>\n          <div\n            class=\"section__title text-muted mb8\"\n            @click=\"$store.commit('settings/TOGGLE_SEARCH_PANEL', 'types')\"\n          >\n            Type\n            <i class=\"icon-up-thin\"></i>\n          </div>\n        </section>\n        <section class=\"section\">\n          <div class=\"section__content\" v-if=\"sections.indexOf('quotes') > -1\">\n            <label\n              class=\"checkbox-control -small mb4\"\n              v-for=\"quote of quoteCurrencies\"\n              :key=\"quote\"\n            >\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"\n                  searchQuotes[quote] === true ||\n                    searchQuotes[quote] === undefined\n                \"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_QUOTE', {\n                    key: quote,\n                    value: $event.target.checked\n                  })\n                \"\n              />\n              <div></div>\n              <span>{{ quote }}</span>\n            </label>\n          </div>\n          <div\n            class=\"section__title text-muted mb8\"\n            @click=\"$store.commit('settings/TOGGLE_SEARCH_PANEL', 'quotes')\"\n          >\n            Quote currency\n            <i class=\"icon-up-thin\"></i>\n          </div>\n        </section>\n      </div>\n      <div class=\"search__wrapper hide-scrollbar\">\n        <div\n          class=\"search-selection search__tags form-control\"\n          :class=\"groupsCount < 10 && '-sticky'\"\n          @click=\"$refs.input.focus()\"\n          ref=\"selection\"\n        >\n          <div v-if=\"selection.length\" class=\"search-selection__controls\">\n            <button\n              class=\"btn -text\"\n              @click=\"$store.commit('settings/TOGGLE_SEARCH_TYPE', 'normalize')\"\n              title=\"Toggle grouping\"\n              v-tippy=\"{ boundary: 'window', placement: 'bottom' }\"\n            >\n              <i class=\"icon-merge\"></i>\n            </button>\n            <button\n              class=\"btn -text\"\n              @click=\"clearSelection\"\n              title=\"Clear\"\n              v-tippy=\"{ boundary: 'window', placement: 'bottom' }\"\n            >\n              <i class=\"icon-eraser\"></i>\n            </button>\n          </div>\n          <template v-if=\"searchTypes.normalize\">\n            <button\n              v-for=\"(markets, localPair) of groupedSelection\"\n              :key=\"localPair\"\n              class=\"btn -pill\"\n              :title=\"'Click to remove ' + markets.join(', ')\"\n              @click.stop.prevent=\"deselectWhileRetainingScroll(markets)\"\n            >\n              <span\n                v-if=\"markets.length > 1\"\n                class=\"badge -compact ml8\"\n                v-text=\"markets.length\"\n              ></span>\n              <span v-text=\"localPair\"></span>\n            </button>\n          </template>\n          <template v-else>\n            <button\n              v-for=\"market of selection\"\n              :key=\"market\"\n              class=\"btn\"\n              :class=\"{ '-green': activeMarkets.indexOf(market) !== -1 }\"\n              title=\"Click to remove\"\n              @click.stop.prevent=\"deselectWhileRetainingScroll(market)\"\n              v-text=\"market\"\n            ></button>\n          </template>\n          <input\n            ref=\"input\"\n            type=\"text\"\n            placeholder=\"Search\"\n            :value=\"query\"\n            @input=\";(page = 0), (query = $event.target.value)\"\n          />\n        </div>\n        <div class=\"search__results\">\n          <div\n            v-if=\"searchTypes.recent && previousSearchSelections.length\"\n            class=\"search-recent-searches\"\n          >\n            <carousel class=\"search__tags\">\n              <button\n                v-for=\"savedSelection of previousSearchSelections\"\n                :key=\"savedSelection.label\"\n                class=\"btn -pill -small\"\n                :title=\"savedSelection.markets.join(', ')\"\n                @click=\"selectMarkets(savedSelection.markets, $event.shiftKey)\"\n              >\n                <span\n                  v-if=\"savedSelection.count > 1\"\n                  class=\"badge -invert ml8\"\n                  v-text=\"savedSelection.markets.length\"\n                ></span>\n                <span>{{ savedSelection.label }}</span>\n              </button>\n            </carousel>\n            <button\n              class=\"btn -outline search-history__clear\"\n              v-tippy\n              title=\"Clear recent searches<br><i>💡 SHIFT+CLIC to delete 1 item</i>\"\n            >\n              <i\n                class=\"icon-trash -small\"\n                @click=\"$store.commit('settings/CLEAR_SEARCH_HISTORY')\"\n              ></i>\n            </button>\n          </div>\n          <template v-if=\"results.length\">\n            <div v-if=\"page > 0\" class=\"d-flex mt8\">\n              <button class=\"btn -text mlauto switch-page\" @click=\"showLess\">\n                ... go page {{ page }}\n              </button>\n            </div>\n\n            <table class=\"table mt8\" v-if=\"searchTypes.normalize\">\n              <tbody>\n                <tr\n                  v-for=\"(group, index) in results\"\n                  :key=\"group.localPair\"\n                  @click=\"selectMarkets(group.markets)\"\n                  :class=\"{ active: activeIndex === index }\"\n                  class=\"-action\"\n                >\n                  <td v-text=\"group.localPair\"></td>\n                  <td>\n                    <small v-text=\"group.markets.join(', ')\"></small>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <table v-else class=\"table mt8\">\n              <tbody>\n                <tr\n                  v-for=\"(market, index) of results\"\n                  :key=\"market.id\"\n                  @click=\"selectMarket(market.id)\"\n                  :class=\"{ active: activeIndex === index }\"\n                  class=\"-action\"\n                >\n                  <td\n                    class=\"icon search__exchange text-center\"\n                    :class=\"'icon-' + market.exchange\"\n                  ></td>\n                  <td v-text=\"market.exchange\"></td>\n                  <td v-text=\"market.pair\"></td>\n                  <td v-text=\"market.type\"></td>\n                  <td class=\"text-center\">\n                    <i\n                      v-if=\"historicalMarkets.indexOf(market.id) !== -1\"\n                      class=\"icon-candlestick\"\n                      title=\"historical data available for this market\"\n                    ></i>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n\n            <div class=\"mt8 d-flex\">\n              <button class=\"btn -text\" @click=\"addAll\">\n                <i class=\"icon-plus mr8\"></i> add all of the above\n              </button>\n              <button\n                class=\"btn -text mlauto switch-page\"\n                @click=\"showMore\"\n                v-if=\"results.length === resultsPerPage\"\n              >\n                go page {{ page + 2 }} ...\n              </button>\n            </div>\n          </template>\n          <p class=\"mb0 pb0\" v-else-if=\"query.length\">\n            <span class=\"text-muted\">No results found for \"{{ query }}\".</span>\n            <br />\n\n            <button\n              v-if=\"hasFilters || !allExchangesEnabled\"\n              class=\"btn -cases -text\"\n              @click=\"clearFilters\"\n            >\n              <i class=\"icon-refresh\"></i> Retry without filters\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <footer>\n      <a\n        href=\"javascript:void(0);\"\n        class=\"btn -text mrauto search__side-toggle\"\n        @click=\"mobileShowFilters = !mobileShowFilters\"\n        v-text=\"mobileShowFilters ? 'Hide filters' : 'Show filters'\"\n      ></a>\n      <a href=\"javascript:void(0);\" class=\"btn -text\" @click=\"hide\">Cancel</a>\n      <button\n        class=\"btn -large ml8 -green\"\n        @click=\"submit\"\n        :class=\"loading && '-loading'\"\n      >\n        {{ submitLabel }}\n        <div v-if=\"loading\" class=\"lds-spinner -center\">\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </button>\n    </footer>\n  </Dialog>\n</template>\n\n<script>\nimport Dialog from '@/components/framework/Dialog.vue'\nimport DialogMixin from '@/mixins/dialogMixin'\nimport { copyTextToClipboard, getBucketId } from '@/utils/helpers'\nimport dialogService from '@/services/dialogService'\nimport workspacesService from '@/services/workspacesService'\nimport {\n  stripStable,\n  indexedProducts,\n  indexProducts,\n  getExchangeSymbols,\n  ensureIndexedProducts\n} from '@/services/productsService'\nimport Carousel from '@/components/framework/Carousel.vue'\n\nconst RESULTS_PER_PAGE = 25\n\nexport default {\n  mixins: [DialogMixin],\n  components: {\n    Dialog,\n    Carousel\n  },\n  props: {\n    paneId: {\n      required: false\n    }\n  },\n  data: () => ({\n    page: 0,\n    query: '',\n    markets: [],\n    loading: false,\n    selection: [],\n    originalSelection: [],\n    activeIndex: null,\n    mobileShowFilters: false,\n    canRefreshProducts: true,\n    flattenedProducts: [],\n    quoteCurrencies: [\n      'USD',\n      'USDT',\n      'UST',\n      'USDC',\n      'BUSD',\n      'ETH',\n      'BTC',\n      'BNB',\n      'EUR',\n      'AUD',\n      'GBP',\n      'OTHERS'\n    ]\n  }),\n  computed: {\n    sections() {\n      return this.$store.state.settings.searchSections\n    },\n    previousSearchSelections() {\n      return this.$store.state.settings.previousSearchSelections\n    },\n    resultsPerPage() {\n      return RESULTS_PER_PAGE\n    },\n    otherPanes() {\n      return Object.keys(this.$store.state.panes.panes)\n        .filter(a => a !== this.paneId)\n        .map(a => this.$store.state.panes.panes[a])\n    },\n    paneName() {\n      if (this.paneId) {\n        return this.$store.state.panes.panes[this.paneId].name || this.paneId\n      } else {\n        return null\n      }\n    },\n    activeMarkets() {\n      return Object.keys(this.$store.state.panes.marketsListeners)\n    },\n    paneMarkets() {\n      if (!this.paneId) {\n        return []\n      }\n\n      return this.$store.state.panes.panes[this.paneId].markets\n    },\n    toConnect() {\n      if (this.paneId) {\n        return this.selection.filter(a => this.paneMarkets.indexOf(a) === -1)\n          .length\n      } else {\n        return this.selection.filter(a => this.activeMarkets.indexOf(a) === -1)\n          .length\n      }\n    },\n    toDisconnect() {\n      return this.originalSelection.filter(\n        a => this.selection.indexOf(a) === -1\n      ).length\n    },\n    submitLabel() {\n      const toConnect = +this.toConnect\n      const toDisconnect = +this.toDisconnect\n      let label = ''\n\n      if (toConnect) {\n        label += `connect${this.loading ? 'ing' : ''} ${toConnect}`\n      }\n\n      if (toDisconnect) {\n        label += `${toConnect ? ' and ' : ''}disconnect${\n          this.loading ? 'ing' : ''\n        } ${toDisconnect}`\n      }\n\n      return label ? label : 'REFRESH'\n    },\n    searchTypes() {\n      return this.$store.state.settings.searchTypes\n    },\n    searchQuotes() {\n      const searchQuotesPreferences = this.$store.state.settings.searchQuotes\n\n      return this.quoteCurrencies.reduce((acc, quote) => {\n        acc[quote] =\n          typeof searchQuotesPreferences[quote] === 'undefined'\n            ? false\n            : searchQuotesPreferences[quote]\n\n        return acc\n      }, {})\n    },\n    allQuotes() {\n      return !Object.values(this.searchQuotes).find(a => !!a)\n    },\n    exchanges() {\n      return this.$store.getters['exchanges/getExchanges']\n    },\n    searchExchanges() {\n      const searchExchanges = this.$store.state.settings.searchExchanges\n\n      return Object.keys(this.$store.state.exchanges).reduce((output, id) => {\n        if (this.$store.state.exchanges[id].disabled) {\n          return output\n        }\n\n        output[id] =\n          typeof searchExchanges[id] === 'undefined'\n            ? true\n            : searchExchanges[id]\n\n        return output\n      }, {})\n    },\n    allExchangesEnabled() {\n      return (\n        typeof Object.values(this.searchExchanges).find(a => a === false) ===\n        'undefined'\n      )\n    },\n    hasFilters() {\n      const hasHistorical = this.searchTypes.historical\n      const hasSpot = this.searchTypes.spots\n      const hasPerpetuals = this.searchTypes.perpetuals\n      const hasFutures = this.searchTypes.futures\n      const isMergeStables = this.searchTypes.mergeUsdt\n      return (\n        isMergeStables ||\n        hasHistorical ||\n        hasSpot ||\n        hasPerpetuals ||\n        hasFutures\n      )\n    },\n    historicalMarkets() {\n      return this.$store.state.app.historicalMarkets\n    },\n    queryFilter: function() {\n      const multiQuery = this.query\n        .replace(/[ ,]/g, '|')\n        .replace(/(^|\\w|\\s)\\*(\\w|\\s|$)/g, '$1.*$2')\n\n      if (this.searchTypes.normalize) {\n        return new RegExp('^' + multiQuery, 'i')\n      } else {\n        return new RegExp(multiQuery, 'i')\n      }\n    },\n    filteredProducts() {\n      const hasHistorical = this.searchTypes.historical\n      const hasSpot = this.searchTypes.spots\n      const hasPerpetuals = this.searchTypes.perpetuals\n      const hasFutures = this.searchTypes.futures\n\n      const exchanges = this.searchExchanges\n      const hasTypeFilters = hasSpot || hasPerpetuals || hasFutures\n\n      const searchQuotes = this.searchQuotes\n      const allQuotes = this.allQuotes\n\n      // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n      this.page = 0\n\n      return this.flattenedProducts.filter(a => {\n        if (hasHistorical && this.historicalMarkets.indexOf(a.id) === -1) {\n          return false\n        }\n\n        if (\n          !allQuotes &&\n          ((typeof searchQuotes[a.quote] === 'boolean' &&\n            searchQuotes[a.quote] === false) ||\n            (typeof searchQuotes[a.quote] !== 'boolean' &&\n              !searchQuotes.OTHERS))\n        ) {\n          return false\n        }\n\n        if (!exchanges[a.exchange]) {\n          return false\n        }\n\n        if (\n          hasTypeFilters &&\n          ((!hasFutures && a.type === 'future') ||\n            (!hasPerpetuals && a.type === 'perp') ||\n            (!hasSpot && a.type === 'spot'))\n        ) {\n          return false\n        }\n\n        return true\n      })\n    },\n    results: function() {\n      const offset = this.page * RESULTS_PER_PAGE\n\n      if (this.searchTypes.normalize) {\n        const marketsByPair = this.filteredProducts\n          .filter(\n            product =>\n              this.selection.indexOf(product.id) === -1 &&\n              this.queryFilter.test(product.local)\n          )\n          .reduce((groups, product) => {\n            let local = product.local\n\n            if (this.searchTypes.mergeUsdt) {\n              local = stripStable(local)\n            }\n\n            if (!groups[local]) {\n              groups[local] = []\n            }\n\n            groups[local].push(product.id)\n\n            return groups\n          }, {})\n\n        return Object.keys(marketsByPair)\n          .slice(offset, offset + RESULTS_PER_PAGE)\n          .map(localPair => ({\n            localPair,\n            markets: marketsByPair[localPair]\n          }))\n      } else {\n        return this.filteredProducts\n          .filter(\n            product =>\n              this.selection.indexOf(product.id) === -1 &&\n              this.queryFilter.test(product.id)\n          )\n          .slice(offset, offset + RESULTS_PER_PAGE)\n      }\n    },\n    groupedSelection: function() {\n      return this.selection.reduce((groups, market) => {\n        const [exchange] = market.split(':')\n\n        if (!indexedProducts[exchange]) {\n          return groups\n        }\n\n        const indexedProduct = indexedProducts[exchange].find(\n          product => product.id === market\n        )\n\n        let localPair = indexedProduct ? indexedProduct.local : market\n\n        if (this.searchTypes.mergeUsdt) {\n          localPair = stripStable(localPair)\n        }\n\n        if (!groups[localPair]) {\n          groups[localPair] = []\n        }\n\n        groups[localPair].push(market)\n\n        return groups\n      }, {})\n    },\n    groupsCount() {\n      return Object.keys(this.groupedSelection).length\n    }\n  },\n\n  watch: {\n    '$store.state.app.showSearch': function(value) {\n      if (!value) {\n        this.close(false)\n      }\n    }\n  },\n  async created() {\n    await ensureIndexedProducts()\n\n    this.initSelection()\n\n    this.cacheProducts()\n  },\n  mounted() {\n    this.$nextTick(() => {\n      if (!this.$refs.input) {\n        return\n      }\n\n      this.$refs.input.focus()\n    })\n\n    document.addEventListener('paste', this.onPaste)\n    document.addEventListener('keydown', this.onKeydown)\n  },\n  beforeDestroy() {\n    document.removeEventListener('paste', this.onPaste)\n    document.removeEventListener('keydown', this.onKeydown)\n\n    if (this._hideHistoryTimeout) {\n      clearTimeout(this._hideHistoryTimeout)\n    }\n  },\n  methods: {\n    detargetPane() {\n      this.$store.commit('app/SET_FOCUSED_PANE', null)\n      this.paneId = null\n      this.initSelection()\n    },\n    initSelection() {\n      if (this.paneId) {\n        this.selection = this.$store.state.panes.panes[\n          this.paneId\n        ].markets.slice()\n      } else {\n        this.selection = this.activeMarkets.slice()\n      }\n\n      this.originalSelection = this.selection.slice()\n    },\n    containMultipleMarketsConfigurations() {\n      return (\n        Object.keys(this.$store.state.panes.panes)\n          .map(id => getBucketId(this.$store.state.panes.panes[id].markets))\n          .filter((v, i, a) => a.indexOf(v) === i).length > 1\n      )\n    },\n    selectPaneMarkets(paneId) {\n      const pane = this.otherPanes[paneId]\n\n      for (let i = 0; i < pane.markets.length; i++) {\n        if (this.selection.indexOf(pane.markets[i]) !== -1) {\n          continue\n        }\n\n        this.selection.push(pane.markets[i])\n      }\n    },\n    selectMarket(market) {\n      this.selection.push(market)\n    },\n    selectMarkets(markets, removeFromHistory) {\n      if (removeFromHistory) {\n        this.$store.commit('settings/REMOVE_SEARCH_HISTORY', markets)\n        clearTimeout(this._hideHistoryTimeout)\n        return\n      }\n\n      const marketsToAdd = markets.filter(\n        market => this.selection.indexOf(market) === -1\n      )\n\n      if (!marketsToAdd.length) {\n        this.$store.dispatch('app/showNotice', {\n          id: 'select-market-already-added',\n          title: `You already selected ${\n            markets.length > 1 ? 'these markets' : markets[0]\n          } !`,\n          type: 'error'\n        })\n        return\n      }\n\n      this.selection = this.selection.concat(marketsToAdd)\n    },\n    async deselectWhileRetainingScroll(markets) {\n      const scrollTop = this.$refs.selection.scrollTop\n\n      if (Array.isArray(markets)) {\n        this.deselectMarkets(markets)\n      } else {\n        this.deselectMarket(markets)\n      }\n\n      await this.$nextTick()\n\n      this.$refs.input.focus()\n\n      this.$refs.selection.scrollTop = scrollTop\n    },\n    deselectMarket(market) {\n      this.selection.splice(this.selection.indexOf(market), 1)\n    },\n    deselectMarkets(markets) {\n      for (const market of markets) {\n        this.deselectMarket(market)\n      }\n    },\n    async submit() {\n      if (this.selection.length) {\n        this.$store.dispatch('settings/saveSearchSelection', this.selection)\n      }\n\n      if (!this.paneId) {\n        if (\n          this.containMultipleMarketsConfigurations() &&\n          !(await dialogService.confirm(\n            'Are you sure ? Some of the panes are watching specific markets.'\n          ))\n        ) {\n          return\n        }\n\n        this.loading = true\n\n        if (!Object.keys(this.$store.state.panes.panes).length) {\n          await this.$store.dispatch('panes/addPane', { type: 'trades' })\n        }\n\n        await this.$store.dispatch('panes/setMarketsForAll', this.selection)\n      } else {\n        this.loading = true\n\n        await this.$store.dispatch('panes/setMarketsForPane', {\n          id: this.paneId,\n          markets: this.selection\n        })\n      }\n\n      this.loading = false\n\n      this.hide()\n    },\n    hide() {\n      this.$store.dispatch('app/hideSearch')\n    },\n    toggleType(key) {\n      this.$store.commit('settings/TOGGLE_SEARCH_TYPE', key)\n    },\n    toggleExchange(key) {\n      this.$store.commit('settings/TOGGLE_SEARCH_EXCHANGE', key)\n    },\n\n    clearSelection() {\n      this.selection.splice(0, this.selection.length)\n\n      this.query = ''\n\n      this.$refs.input.focus()\n    },\n\n    copySelection() {\n      copyTextToClipboard(this.selection.join(','))\n\n      this.$store.dispatch('app/showNotice', {\n        id: 'products-clipboard',\n        title: `Copied ${this.selection.length} product(s) to clipboard`\n      })\n    },\n\n    clearFilters() {\n      this.$store.commit('settings/CLEAR_SEARCH_FILTERS')\n      this.toggleAll(true)\n    },\n\n    onPaste(event) {\n      if (document.activeElement) {\n        if (document.activeElement.tagName === 'INPUT') {\n          return\n        }\n      }\n\n      const raw = event.clipboardData.getData('text/plain')\n      const markets = raw.split(',').filter(a => /^.{3,}:.{4,32}$/.test(a))\n\n      if (!markets.length) {\n        return\n      }\n\n      this.selection = markets\n    },\n\n    onKeydown(event) {\n      switch (event.key) {\n        case 'Enter':\n          event.preventDefault()\n          if (this.results[this.activeIndex]) {\n            if (this.searchTypes.normalize) {\n              this.selectMarkets(this.results[this.activeIndex].markets)\n            } else {\n              this.selectMarket(this.results[this.activeIndex].id)\n            }\n          }\n          break\n\n        case 'ArrowDown':\n        case 'ArrowUp':\n          if (this.results.length) {\n            if (event.key === 'ArrowUp') {\n              this.activeIndex = Math.max(0, this.activeIndex - 1)\n            } else {\n              if (this.activeIndex === null) {\n                this.activeIndex = 0\n              } else {\n                this.activeIndex = Math.min(\n                  this.results.length - 1,\n                  this.activeIndex + 1\n                )\n              }\n            }\n          }\n          break\n\n        case 'Backspace':\n        case 'Delete':\n          this.deleteLast()\n          break\n\n        case 'c':\n          if (\n            (event.ctrlKey || event.metaKey) &&\n            !window.getSelection().toString().length\n          ) {\n            this.copySelection()\n          }\n          break\n      }\n    },\n\n    deleteLast() {\n      if (!this.query.length && this.selection.length) {\n        if (this.searchTypes.normalize) {\n          const lastPair = Object.keys(this.groupedSelection).pop()\n          this.deselectMarkets(this.groupedSelection[lastPair])\n        } else {\n          this.selection.splice(this.selection.length - 1, 1)\n        }\n      }\n    },\n\n    addAll() {\n      const normalized = this.searchTypes.normalize\n      const markets = []\n\n      for (let i = 0; i < this.results.length; i++) {\n        if (normalized) {\n          for (const market of this.results[i].markets) {\n            markets.push(market)\n          }\n        } else {\n          markets.push(this.results[i].id)\n        }\n      }\n\n      this.selectMarkets(markets)\n    },\n\n    toggleAll(selectAll) {\n      if (typeof selectAll !== 'boolean') {\n        selectAll = Boolean(!this.allExchangesEnabled)\n      }\n\n      this.$set(\n        this.$store.state.settings,\n        'searchExchanges',\n        this.exchanges.reduce((output, id) => {\n          output[id] = selectAll ? true : false\n          return output\n        }, {})\n      )\n    },\n\n    async refreshExchangeProducts(exchangeId) {\n      if (!exchangeId) {\n        if (\n          await dialogService.confirm(\n            `Download all exchange's products ?\\n\\nThis might take a while.`\n          )\n        ) {\n          for (const exchange of this.exchanges) {\n            await this.refreshExchangeProducts(exchange)\n          }\n        }\n\n        return\n      }\n\n      if (this._refreshProductsTimeout) {\n        clearTimeout(this._refreshProductsTimeout)\n      }\n\n      this.canRefreshProducts = false\n\n      this.$store.dispatch('app/showNotice', {\n        id: exchangeId,\n        title: `Refreshing ${exchangeId}'s products...`\n      })\n\n      await workspacesService.deleteProducts(exchangeId)\n\n      const count = (\n        await indexProducts(\n          exchangeId,\n          await getExchangeSymbols(exchangeId, true)\n        )\n      ).length\n\n      this.$store.dispatch('app/showNotice', {\n        id: exchangeId,\n        title: `Saved ${count} ${exchangeId}'s products`\n      })\n\n      await this.$store.dispatch('exchanges/disconnect', exchangeId)\n      await this.$store.dispatch('exchanges/connect', exchangeId)\n\n      this._refreshProductsTimeout = setTimeout(() => {\n        this._refreshProductsTimeout = null\n        this.canRefreshProducts = true\n      }, 10000)\n\n      this.cacheProducts()\n    },\n\n    showMore() {\n      this.page++\n    },\n\n    showLess() {\n      this.page = Math.max(this.page - 1, 0)\n    },\n\n    cacheProducts() {\n      this.flattenedProducts = Array.prototype.concat(\n        ...Object.values(indexedProducts)\n      )\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.search {\n  display: flex;\n  align-items: stretch;\n  height: 100%;\n  overflow: hidden;\n\n  &__side {\n    width: 12.5rem;\n    min-width: 12.5rem;\n    overflow: auto;\n\n    .section {\n      background: 0;\n\n      &__title:first-child {\n        padding-bottom: 0;\n      }\n    }\n\n    @media screen and (max-width: 550px) {\n      display: none;\n\n      &.-show {\n        display: block;\n      }\n    }\n\n    &-toggle {\n      @media screen and (min-width: 550px) {\n        display: none;\n      }\n    }\n  }\n\n  &__wrapper {\n    flex-grow: 1;\n    width: 650px;\n    max-width: 650px;\n    padding: 0 1rem 1rem;\n    overflow: auto;\n\n    @media screen and (min-width: 551px) {\n      padding-left: 0;\n    }\n  }\n\n  &__results {\n    table {\n      border: 0;\n      border-collapse: collapse;\n      width: 100%;\n    }\n\n    tr.active {\n      background-color: rgba(black, 0.2) !important;\n    }\n\n    td {\n      padding: 0.5em;\n    }\n  }\n\n  &__tags {\n    padding: 6px 2rem 2px 6px;\n\n    &-controls > button,\n    > button,\n    > input {\n      margin-bottom: 4px;\n      margin-right: 5px;\n      height: 32px;\n    }\n\n    input {\n      border: 0;\n      background: 0;\n      color: inherit;\n      font-family: inherit;\n      padding: 0 4px;\n      flex-grow: 1;\n      font-size: 1em;\n    }\n  }\n\n  &-selection {\n    position: relative;\n    min-width: 19rem;\n    border: 0;\n    max-height: 50%;\n    overflow: auto;\n\n    &.-sticky {\n      @media screen and (min-width: 550px) {\n        backdrop-filter: blur(0.25rem);\n        background-color: var(--theme-background-o20);\n        position: sticky;\n        top: 0;\n        z-index: 2;\n        border-radius: 0;\n      }\n    }\n\n    &__controls {\n      position: absolute;\n      top: 0;\n      right: 0;\n      margin: 6px 0 6px 6px;\n    }\n  }\n\n  &-recent-searches {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: var(--theme-color-o10);\n    margin-top: 0.5rem;\n\n    small {\n      text-transform: uppercase;\n    }\n\n    &__clear {\n      padding: 0;\n      margin: 0.25rem 1rem;\n    }\n\n    .search__tags {\n      padding: 0;\n      max-width: 100%;\n      overflow: hidden;\n      flex-grow: 1;\n      padding: 0.25rem 0.5rem;\n\n      button,\n      button:hover {\n        background: none;\n        border: 1px dashed currentColor;\n        height: 24px;\n      }\n    }\n  }\n  .section {\n    &__controls {\n      top: 0.75rem;\n      right: 0.75rem;\n      font-size: 0.875em;\n      z-index: 1;\n    }\n\n    label {\n      overflow-y: auto;\n    }\n  }\n\n  .checkbox-control {\n    a {\n      visibility: hidden;\n    }\n\n    &:hover a {\n      visibility: visible;\n    }\n  }\n}\n\n.search .switch-page {\n  height: 0;\n  display: block;\n  padding: 0;\n  line-height: 0;\n  border: 0;\n  background: 0 !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchDialog.vue?vue&type=template&id=cf96adc4&scoped=true&\"\nimport script from \"./SearchDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchDialog.vue?vue&type=style&index=0&id=cf96adc4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cf96adc4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{staticClass:\"-timeframe\",on:{\"clickOutside\":_vm.hide},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"Timeframe\")]),_c('div',{staticClass:\"subtitle pl0\",domProps:{\"textContent\":_vm._s(_vm.paneName)}})]),_c('div',{staticClass:\"column -center\"})]},proxy:true}])},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_c('div',{staticClass:\"text-center\"},[_c('timeframe-input',{staticClass:\"form-control w-100\",attrs:{\"placeholder\":_vm.placeholder},on:{\"input\":_vm.onTimeframe,\"submit\":_vm.submit}})],1),_c('div',{staticClass:\"timeframe-for-human\"},[(_vm.valid)?_c('code',{staticClass:\"text-muted\",domProps:{\"textContent\":_vm._s('= ' + _vm.timeframeForHuman)}}):_c('code',{staticClass:\"form-feedback\"},[_vm._v(\"Unknown timeframe\")])]),_c('footer',[_c('button',{staticClass:\"btn -green ml8 -large\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Go\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Dialog @clickOutside=\"hide\" class=\"-timeframe\">\n    <template v-slot:header>\n      <div>\n        <div class=\"title\">Timeframe</div>\n        <div class=\"subtitle pl0\" v-text=\"paneName\"></div>\n      </div>\n\n      <div class=\"column -center\"></div>\n    </template>\n    <form @submit.prevent=\"submit\">\n      <div class=\"text-center\">\n        <timeframe-input\n          :placeholder=\"placeholder\"\n          @input=\"onTimeframe\"\n          @submit=\"submit\"\n          class=\"form-control w-100\"\n        />\n      </div>\n\n      <div class=\"timeframe-for-human\">\n        <code\n          v-if=\"valid\"\n          class=\"text-muted\"\n          v-text=\"'= ' + timeframeForHuman\"\n        ></code>\n        <code v-else class=\"form-feedback\">Unknown timeframe</code>\n      </div>\n\n      <footer>\n        <button type=\"submit\" class=\"btn -green ml8 -large\">Go</button>\n      </footer>\n    </form>\n  </Dialog>\n</template>\n\n<script>\nimport DialogMixin from '@/mixins/dialogMixin'\nimport { getTimeframeForHuman } from '@/utils/helpers'\nimport TimeframeInput from './chart/TimeframeInput.vue'\n\nexport default {\n  components: { TimeframeInput },\n  props: {\n    timeframe: {\n      type: String\n    }\n  },\n  mixins: [DialogMixin],\n  data: () => ({\n    newTimeframe: '',\n    paneId: null\n  }),\n  computed: {\n    paneName() {\n      return this.$store.state.panes.panes[this.paneId].name || this.paneId\n    },\n    timeframeForHuman() {\n      return getTimeframeForHuman(this.newTimeframe)\n    },\n    valid() {\n      return this.timeframeForHuman !== null\n    }\n  },\n  watch: {\n    '$store.state.app.showSearch': function(value) {\n      if (!value) {\n        this.close(false)\n      }\n    }\n  },\n  created() {\n    this.paneId = this.$store.state.app.focusedPaneId\n\n    if (this.timeframe) {\n      this.newTimeframe = this.timeframe\n    }\n\n    this.placeholder = this.$store.state[this.paneId].timeframe\n  },\n  methods: {\n    hide() {\n      this.$store.dispatch('app/hideSearch')\n    },\n    onTimeframe({ value }) {\n      this.newTimeframe = value\n    },\n    submit() {\n      if (!this.valid) {\n        return\n      }\n\n      this.$store.commit(this.paneId + '/SET_TIMEFRAME', this.newTimeframe)\n\n      this.hide()\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.dialog.-timeframe {\n  .dialog-content {\n    min-width: 0;\n\n    .form-control {\n      font-size: 2rem;\n      font-family: $font-monospace;\n      text-align: center;\n      padding: 0.5em;\n      border: 0;\n    }\n\n    .timeframe-for-human {\n      padding: 0.5rem 1rem 0;\n      text-align: center;\n      font-size: 1.125rem;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeframeDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeframeDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeframeDialog.vue?vue&type=template&id=5e17e77a&\"\nimport script from \"./TimeframeDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeframeDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeframeDialog.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import dialogService from '@/services/dialogService'\nimport { randomString } from '@/utils/helpers'\nimport Vue from 'vue'\nimport { ActionTree, GetterTree, Module, MutationTree } from 'vuex'\nimport { ModulesState } from '.'\nimport SearchDialog from '../components/SearchDialog.vue'\nimport TimeframeDialog from '../components/TimeframeDialog.vue'\nimport { getApiSupportedMarkets } from '../services/productsService'\n\nexport interface Notice {\n  id?: string\n  title?: string\n  timeout?: number\n  button: NoticeButton\n  _timeoutId?: number\n}\n\ninterface BaseQuoteCurrencies {\n  base: string\n  baseSymbol: string\n  quote: string\n  quoteSymbol: string\n}\n\ninterface NoticeButton {\n  text: string\n  icon?: string\n  click?: Function\n}\n\nexport interface NoticesState {\n  notices: Notice[]\n}\n\nexport interface Product {\n  id: string\n  pair: string\n  exchange: string\n  type: string\n  base: string\n  quote: string\n  local: string\n}\n\nexport interface ListenedProduct extends Product {\n  listeners?: number\n}\n\nexport interface AppState {\n  isBooted: boolean\n  isLoading: boolean\n  isExchangesReady: boolean\n  showSearch: boolean\n  historicalMarkets: string[]\n  apiSupportedTimeframes: number[]\n  activeExchanges: { [exchangeId: string]: boolean }\n  version: string\n  buildDate: number | string\n  notices: Notice[]\n  baseCurrency: string\n  baseCurrencySymbol: string\n  quoteCurrency: string\n  quoteCurrencySymbol: string\n  focusedPaneId: string\n}\n\nconst state = {\n  isBooted: false,\n  isLoading: false,\n  isExchangesReady: false,\n  showSearch: false,\n  activeExchanges: {},\n  notices: [],\n  historicalMarkets: [],\n  apiSupportedTimeframes: [],\n  version: 'DEV',\n  buildDate: 'now',\n  baseCurrency: 'coin',\n  baseCurrencySymbol: '฿',\n  quoteCurrency: 'dollar',\n  quoteCurrencySymbol: '$',\n  focusedPaneId: null\n} as AppState\n\nconst actions = {\n  async boot({ commit, dispatch }) {\n    await dispatch('getApiSupportedPairs')\n    commit(\n      'SET_API_SUPPORTED_TIMEFRAMES',\n      process.env.VUE_APP_API_SUPPORTED_TIMEFRAMES\n    )\n    commit('SET_VERSION', process.env.VUE_APP_VERSION)\n    commit('SET_BUILD_DATE', process.env.VUE_APP_BUILD_DATE)\n  },\n  setBooted({ commit }, value = true) {\n    commit('SET_BOOTED', value)\n  },\n  async showNotice({ commit, getters }, notice) {\n    if (typeof notice === 'string') {\n      notice = {\n        title: notice\n      }\n    }\n\n    if (notice.id && getters.getNoticeById(notice.id)) {\n      if (notice.update) {\n        return this.dispatch('app/updateNotice', notice)\n      } else {\n        try {\n          await this.dispatch('app/hideNotice', notice.id)\n        } catch (error) {\n          // notice was already hiding, no worries\n          return\n        }\n      }\n    }\n\n    if (!notice.id) {\n      notice.id = randomString()\n    }\n\n    if (typeof notice.timeout === 'undefined') {\n      notice.timeout = notice.type === 'error' ? 10000 : 3000\n    }\n\n    if (notice.timeout > 0) {\n      notice._timeout = setTimeout(() => {\n        delete notice._timeout\n        this.dispatch('app/hideNotice', notice.id)\n      }, notice.timeout)\n    }\n\n    commit('CREATE_NOTICE', notice)\n  },\n  hideNotice({ commit, getters }, id): Promise<void> {\n    const notice = getters.getNoticeById(id)\n\n    if (!notice) {\n      return Promise.resolve()\n    }\n\n    if (notice._timeout) {\n      clearTimeout(notice._timeout)\n    }\n\n    if (notice._reject) {\n      // notice is already hiding\n      notice._reject()\n    }\n\n    return new Promise((resolve, reject) => {\n      notice._reject = reject // mark notice as hiding\n      notice._timeout = setTimeout(() => {\n        commit('REMOVE_NOTICE', notice)\n        delete notice._reject\n        delete notice._timeout\n        resolve()\n      }, 100)\n    })\n  },\n  updateNotice({ commit, getters, state }, notice) {\n    const currentNotice = getters.getNoticeById(notice.id)\n    const index = state.notices.indexOf(currentNotice)\n\n    if (!currentNotice || index === -1) {\n      return Promise.resolve()\n    }\n\n    commit('UPDATE_NOTICE', {\n      index,\n      notice\n    })\n  },\n  showSearch({ commit, state }, paneId?: string) {\n    if (state.showSearch) {\n      return\n    }\n\n    commit('TOGGLE_SEARCH', true)\n\n    if (typeof paneId === 'undefined' && state.focusedPaneId) {\n      paneId = state.focusedPaneId\n    }\n\n    dialogService.open(SearchDialog, { paneId })\n  },\n  showTimeframe({ commit, state, rootState }) {\n    if (\n      state.showSearch ||\n      !state.focusedPaneId ||\n      !rootState[state.focusedPaneId]\n    ) {\n      return\n    }\n\n    commit('TOGGLE_SEARCH', true)\n\n    dialogService.open(TimeframeDialog)\n  },\n  hideSearch({ commit, state }) {\n    if (!state.showSearch) {\n      return\n    }\n\n    commit('TOGGLE_SEARCH', false)\n  },\n  async getApiSupportedPairs({ commit }) {\n    const markets = await getApiSupportedMarkets()\n    commit('SET_HISTORICAL_MARKETS', markets)\n  }\n} as ActionTree<AppState, ModulesState>\n\nconst mutations = {\n  SET_BOOTED: (state, value: boolean) => {\n    state.isBooted = value\n  },\n  SET_EXCHANGES_READY(state) {\n    state.isExchangesReady = true\n  },\n  EXCHANGE_UPDATED(state, exchangeId: string) {\n    Vue.set(\n      state.activeExchanges,\n      exchangeId,\n      !this.state.exchanges[exchangeId].disabled\n    )\n  },\n  TOGGLE_LOADING(state, value) {\n    state.isLoading = value ? true : false\n  },\n  CREATE_NOTICE(state, notice) {\n    state.notices.push(notice)\n  },\n  UPDATE_NOTICE(state, { index, notice }) {\n    Vue.set(state.notices, index, notice)\n  },\n  REMOVE_NOTICE(state, notice) {\n    const index = state.notices.indexOf(notice)\n\n    if (index !== -1) {\n      state.notices.splice(index, 1)\n    }\n  },\n  TOGGLE_SEARCH(state, value) {\n    state.showSearch = typeof value === 'boolean' ? value : !state.showSearch\n  },\n  SET_HISTORICAL_MARKETS(state, value) {\n    state.historicalMarkets = value\n  },\n  SET_API_SUPPORTED_TIMEFRAMES(state, value) {\n    if (value && value.trim()) {\n      state.apiSupportedTimeframes = value.split(',')\n    } else {\n      state.apiSupportedTimeframes = []\n    }\n  },\n  SET_VERSION(state, value) {\n    state.version = value\n  },\n  SET_BUILD_DATE(state, value) {\n    state.buildDate = value\n  },\n  SET_CURRENCIES(state, currencies: BaseQuoteCurrencies) {\n    state.baseCurrency = currencies.base\n    state.baseCurrencySymbol = currencies.baseSymbol\n    state.quoteCurrency = currencies.quote\n    state.quoteCurrencySymbol = currencies.quoteSymbol\n  },\n  SET_FOCUSED_PANE(state, id: string) {\n    state.focusedPaneId = id\n  }\n} as MutationTree<AppState>\n\nconst getters = {\n  getNoticeById: state => id => {\n    for (let i = 0; i < state.notices.length; i++) {\n      if (state.notices[i].id === id) {\n        return state.notices[i]\n      }\n    }\n  }\n} as GetterTree<AppState, ModulesState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<AppState, ModulesState>\n","import Vue from 'vue'\n\nimport { ActionTree, Module, MutationTree } from 'vuex'\n\nimport DEFAULTS_STATE from './defaultSettings.json'\nimport {\n  getColorLuminance,\n  getLinearShare,\n  getLogShade,\n  getTextColor,\n  joinRgba,\n  splitColorCode\n} from '@/utils/colors'\nimport { ModulesState } from '.'\nimport {\n  AggregationLength,\n  PreviousSearchSelection,\n  SlippageMode\n} from '@/types/types'\nimport aggregatorService from '@/services/aggregatorService'\nimport audioService from '@/services/audioService'\nimport { getTimeframeForHuman } from '@/utils/helpers'\nimport { isTouchSupported } from '@/utils/touchevent'\nimport { getMarketProduct, parseMarket } from '../services/productsService'\n\nexport type AudioFilters = { [id: string]: boolean }\nexport interface SettingsState {\n  preferQuoteCurrencySize?: boolean\n  calculateSlippage?: SlippageMode\n  aggregationLength?: AggregationLength\n  theme?: string\n  backgroundColor?: string\n  textColor?: string\n  buyColor?: string\n  sellColor?: string\n  timezoneOffset?: number\n  useAudio?: boolean\n  audioVolume?: number\n  audioFilters?: AudioFilters\n  settings?: string[]\n  searchSections?: string[]\n  disableAnimations?: boolean\n  autoHideHeaders?: boolean\n  searchTypes?: any\n  searchQuotes?: any\n  searchExchanges?: any\n  previousSearchSelections?: PreviousSearchSelection[]\n  timeframes?: { label: string; value: string }[]\n  timeframeGroups?: string[]\n  favoriteTimeframes?: { [timeframe: number]: string }\n  normalizeWatermarks: boolean\n  alerts: number | boolean\n  alertsLineStyle: number\n  alertsLineWidth: number\n  alertsColor: string\n  alertsClick: boolean\n  alertSound: string\n}\n\nconst state = Object.assign(\n  {\n    _id: 'settings'\n  },\n  DEFAULTS_STATE\n) as SettingsState\n\nconst actions = {\n  async boot({ state, dispatch }) {\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: { key: 'calculateSlippage', value: state.calculateSlippage }\n    })\n\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: { key: 'aggregationLength', value: state.aggregationLength }\n    })\n\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: {\n        key: 'preferQuoteCurrencySize',\n        value: state.preferQuoteCurrencySize\n      }\n    })\n\n    dispatch('updateCSS')\n\n    Vue.nextTick(() => {\n      if (state.useAudio) {\n        audioService.connect()\n      } else {\n        audioService.disconnect()\n      }\n    })\n  },\n  async setColor(\n    { commit, dispatch, state },\n    { type, value }: { type: string; value: string }\n  ) {\n    state[type.toLowerCase() + 'Color'] = value\n\n    const mutation = `SET_${type.toUpperCase()}_COLOR`\n\n    if (mutation === 'SET_BACKGROUND_COLOR') {\n      dispatch('refreshTheme')\n    }\n\n    dispatch('updateCSS')\n\n    commit(mutation, value)\n  },\n  refreshTheme({ commit, state }) {\n    const backgroundRgb = splitColorCode(state.backgroundColor)\n    const backgroundLuminance = getColorLuminance(backgroundRgb)\n    const theme = backgroundLuminance > 0 ? 'light' : 'dark'\n\n    if (theme !== state.theme) {\n      commit('SET_CHART_THEME', theme)\n    }\n\n    if (state.textColor) {\n      commit('SET_TEXT_COLOR', '')\n    }\n  },\n  updateCSS({ state }) {\n    const theme = state.theme\n    const backgroundDirection = theme === 'dark' ? 1 : -1\n    const backgroundRgb = splitColorCode(state.backgroundColor)\n    const background100Rgb = getLinearShare(\n      backgroundRgb,\n      0.025 * backgroundDirection\n    )\n    const background100 = joinRgba(background100Rgb)\n\n    document.documentElement.style.setProperty(\n      '--theme-background-base',\n      state.backgroundColor\n    )\n    document.documentElement.style.setProperty(\n      '--theme-background-100',\n      background100\n    )\n    document.documentElement.style.setProperty(\n      '--theme-background-150',\n      joinRgba(getLinearShare(backgroundRgb, 0.05 * backgroundDirection))\n    )\n    document.documentElement.style.setProperty(\n      '--theme-background-200',\n      joinRgba(getLinearShare(backgroundRgb, 0.08 * backgroundDirection))\n    )\n    document.documentElement.style.setProperty(\n      '--theme-background-300',\n      joinRgba(getLinearShare(backgroundRgb, 0.125 * backgroundDirection))\n    )\n\n    // const background100 = splitColorCode(document.documentElement.style.getPropertyValue('--theme-background-100'))\n    document.documentElement.style.setProperty(\n      '--theme-background-o75',\n      `rgba(${background100Rgb[0]}, ${background100Rgb[1]},${background100Rgb[2]}, .75)`\n    )\n    document.documentElement.style.setProperty(\n      '--theme-background-o20',\n      `rgba(${background100Rgb[0]}, ${background100Rgb[1]},${background100Rgb[2]}, .2)`\n    )\n\n    let textColor = state.textColor\n    let textColorRgb\n\n    if (!textColor) {\n      textColorRgb = getTextColor(backgroundRgb, 1.25)\n      textColor = joinRgba(textColorRgb)\n    } else {\n      textColorRgb = splitColorCode(textColor)\n    }\n\n    document.documentElement.style.setProperty('--theme-color-base', textColor)\n    document.documentElement.style.setProperty(\n      '--theme-color-100',\n      joinRgba(getTextColor(backgroundRgb, 1.2))\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-150',\n      joinRgba(getTextColor(backgroundRgb, 1.4))\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-200',\n      joinRgba(getTextColor(backgroundRgb, 1.7))\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-o75',\n      `rgba(${textColorRgb[0]}, ${textColorRgb[1]},${textColorRgb[2]}, .75)`\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-o50',\n      `rgba(${textColorRgb[0]}, ${textColorRgb[1]},${textColorRgb[2]}, .5)`\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-o20',\n      `rgba(${textColorRgb[0]}, ${textColorRgb[1]},${textColorRgb[2]}, .2)`\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-o10',\n      `rgba(${textColorRgb[0]}, ${textColorRgb[1]},${textColorRgb[2]}, .1)`\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-o05',\n      `rgba(${textColorRgb[0]}, ${textColorRgb[1]},${textColorRgb[2]}, .05)`\n    )\n\n    const buyRgb = splitColorCode(state.buyColor)\n\n    document.documentElement.style.setProperty(\n      '--theme-buy-base',\n      state.buyColor\n    )\n    document.documentElement.style.setProperty(\n      '--theme-buy-100',\n      getLogShade(buyRgb, 0.25)\n    )\n    document.documentElement.style.setProperty(\n      '--theme-buy-color',\n      joinRgba(getTextColor(buyRgb))\n    )\n\n    const sellRgb = splitColorCode(state.sellColor)\n\n    document.documentElement.style.setProperty(\n      '--theme-sell-base',\n      state.sellColor\n    )\n    document.documentElement.style.setProperty(\n      '--theme-sell-100',\n      getLogShade(sellRgb, 0.25)\n    )\n    document.documentElement.style.setProperty(\n      '--theme-sell-color',\n      joinRgba(getTextColor(sellRgb))\n    )\n  },\n  setAudioVolume({ commit, state }, volume: number) {\n    commit('SET_AUDIO_VOLUME', volume)\n\n    audioService.setVolume(volume)\n\n    if (volume && !state.useAudio) {\n      commit('TOGGLE_AUDIO', true)\n    } else if (!volume && state.useAudio) {\n      commit('TOGGLE_AUDIO', false)\n    }\n  },\n  saveSearchSelection({ commit }, selection: string[]) {\n    const sortedSelection = selection.sort((a, b) => a.localeCompare(b))\n\n    const pairs = []\n    const exchanges = []\n\n    for (const market of sortedSelection) {\n      const [exchange, pair] = parseMarket(market)\n      const product = getMarketProduct(exchange, pair, true)\n\n      const local = product.local\n\n      if (pairs.indexOf(local) === -1) {\n        pairs.push(local)\n      }\n\n      if (exchanges.indexOf(exchange) === -1) {\n        exchanges.push(exchange)\n      }\n    }\n\n    let label\n    let count = 0\n\n    if (sortedSelection.length === 1) {\n      label = sortedSelection[0]\n    } else if (exchanges.length === 1) {\n      label = exchanges[0] + ':' + pairs.join('+')\n      count = sortedSelection.length\n    } else {\n      label = pairs.join('+')\n      count = sortedSelection.length\n    }\n\n    commit('SAVE_SEARCH_SELECTION', {\n      label: label.length > 32 ? label.slice(0, 29) + '...' : label,\n      markets: sortedSelection,\n      count\n    })\n  }\n} as ActionTree<SettingsState, ModulesState>\n\nconst mutations = {\n  SET_QUOTE_AS_PREFERED_CURRENCY(state, value) {\n    state.preferQuoteCurrencySize = value ? true : false\n\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: {\n        key: 'preferQuoteCurrencySize',\n        value: state.preferQuoteCurrencySize\n      }\n    })\n  },\n  TOGGLE_SLIPPAGE(state) {\n    const values: SlippageMode[] = [false, 'bps', 'price']\n\n    const index = Math.max(0, values.indexOf(state.calculateSlippage))\n\n    state.calculateSlippage = values[(index + 1) % values.length]\n\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: { key: 'calculateSlippage', value: state.calculateSlippage }\n    })\n  },\n  TOGGLE_AGGREGATION(state) {\n    const values: AggregationLength[] = [0, 1, 10, 100, 1000]\n\n    const index = Math.max(0, values.indexOf(state.aggregationLength))\n\n    state.aggregationLength = values[(index + 1) % values.length]\n\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: { key: 'aggregationLength', value: state.aggregationLength }\n    })\n  },\n  TOGGLE_ANIMATIONS(state) {\n    state.disableAnimations = !state.disableAnimations\n  },\n  TOGGLE_NORMAMIZE_WATERMARKS(state) {\n    state.normalizeWatermarks = !state.normalizeWatermarks\n  },\n  TOGGLE_SETTINGS_PANEL(state, value) {\n    const index = state.settings.indexOf(value)\n\n    if (index === -1) {\n      state.settings.push(value)\n    } else {\n      state.settings.splice(index, 1)\n    }\n  },\n  TOGGLE_SEARCH_PANEL(state, value) {\n    const index = state.searchSections.indexOf(value)\n\n    if (index === -1) {\n      state.searchSections.push(value)\n    } else {\n      state.searchSections.splice(index, 1)\n    }\n  },\n  TOGGLE_AUDIO(state, value) {\n    state.useAudio = value ? true : false\n\n    if (state.useAudio) {\n      audioService.connect()\n    } else {\n      audioService.disconnect()\n    }\n  },\n  SET_AUDIO_VOLUME(state, value) {\n    state.audioVolume = value\n  },\n  SET_AUDIO_FILTER(state, { id, value }: { id: string; value: boolean }) {\n    state.audioFilters[id] = value\n    audioService.reconnect()\n  },\n  SET_BACKGROUND_COLOR(state, value) {\n    state.backgroundColor = value\n  },\n  SET_CHART_THEME(state, value) {\n    state.theme = value\n  },\n  SET_TEXT_COLOR(state, value) {\n    state.textColor = value\n  },\n  SET_BUY_COLOR(state, value) {\n    state.buyColor = value\n  },\n  SET_SELL_COLOR(state, value) {\n    state.sellColor = value\n  },\n  SET_TIMEZONE_OFFSET(state, value) {\n    state.timezoneOffset = +value || 0\n  },\n  TOGGLE_AUTO_HIDE_HEADERS(state) {\n    state.autoHideHeaders = !state.autoHideHeaders\n  },\n  TOGGLE_SEARCH_TYPE(state, key: string) {\n    Vue.set(state.searchTypes, key, !state.searchTypes[key])\n  },\n  TOGGLE_SEARCH_QUOTE(state, { key, value }: { key: string; value: boolean }) {\n    Vue.set(state.searchQuotes, key, value)\n  },\n  TOGGLE_SEARCH_EXCHANGE(state, key: string) {\n    Vue.set(\n      state.searchExchanges,\n      key,\n      typeof state.searchExchanges[key] === 'boolean'\n        ? !state.searchExchanges[key]\n        : false\n    )\n  },\n  CLEAR_SEARCH_FILTERS(state) {\n    for (const key in state.searchTypes) {\n      if (key === 'normalize') {\n        continue\n      }\n\n      state.searchTypes[key] = false\n    }\n\n    Vue.set(state, 'searchTypes', state.searchTypes)\n    Vue.set(state, 'searchQuotes', {})\n  },\n  TOGGLE_FAVORITE_TIMEFRAME(state, value) {\n    if (typeof state.favoriteTimeframes[value] === 'undefined') {\n      Vue.set(state.favoriteTimeframes, value, getTimeframeForHuman(value))\n    } else {\n      Vue.delete(state.favoriteTimeframes, value)\n    }\n  },\n  TOGGLE_ALERTS(state, value) {\n    state.alerts = typeof value !== 'undefined' ? value : !state.alerts\n\n    if (value && isTouchSupported()) {\n      state.alertsClick = true\n    }\n  },\n  SET_ALERTS_COLOR(state, value) {\n    state.alertsColor = value\n  },\n  SET_ALERTS_LINESTYLE(state, value) {\n    state.alertsLineStyle = Math.max(0, Math.min(4, value))\n  },\n  SET_ALERTS_LINEWIDTH(state, value) {\n    state.alertsLineWidth = Math.max(0, +value || 0)\n  },\n  TOGGLE_ALERTS_CLICK(state) {\n    state.alertsClick = !state.alertsClick\n  },\n  SET_ALERT_SOUND(state, value) {\n    state.alertSound = value\n  },\n  SAVE_SEARCH_SELECTION(state, value) {\n    const matchingSavedSearch = state.previousSearchSelections.find(\n      a => a.label === value.label && a.count === value.count\n    )\n\n    if (matchingSavedSearch) {\n      state.previousSearchSelections.splice(\n        state.previousSearchSelections.indexOf(matchingSavedSearch),\n        1\n      )\n    }\n    state.previousSearchSelections.unshift(value)\n\n    if (state.previousSearchSelections.length > 32) {\n      state.previousSearchSelections.splice(\n        32,\n        state.previousSearchSelections.length - 32\n      )\n    }\n  },\n  CLEAR_SEARCH_HISTORY(state) {\n    state.previousSearchSelections = []\n  },\n  REMOVE_SEARCH_HISTORY(state, markets) {\n    const match = state.previousSearchSelections.find(\n      a => a.markets === markets\n    )\n\n    if (match) {\n      state.previousSearchSelections.splice(\n        state.previousSearchSelections.indexOf(match),\n        1\n      )\n    }\n  },\n  REMOVE_TIMEFRAME(state, value) {\n    const index = state.timeframes.indexOf(\n      state.timeframes.find(timeframe => timeframe.value === value)\n    )\n\n    if (index !== -1) {\n      state.timeframes.splice(index, 1)\n    }\n  },\n  ADD_TIMEFRAME(state, value) {\n    state.timeframes.push({\n      label: getTimeframeForHuman(value),\n      value\n    })\n  },\n  TOGGLE_TIMEFRAME_GROUP(state, value) {\n    const index = state.timeframeGroups.indexOf(value)\n\n    if (index === -1) {\n      state.timeframeGroups.push(value)\n    } else {\n      state.timeframeGroups.splice(index, 1)\n    }\n  }\n} as MutationTree<SettingsState>\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  mutations\n} as Module<SettingsState, ModulesState>\n","import aggregatorService from '@/services/aggregatorService'\nimport Vue from 'vue'\nimport { ActionTree, GetterTree, Module, MutationTree } from 'vuex'\nimport { ModulesState } from '.'\n\nexport interface ExchangeSettings {\n  disabled?: boolean\n}\n\nexport type ExchangesState = { [exchangeId: string]: ExchangeSettings } & {\n  _id: string\n  _exchanges: string[]\n}\n\nconst supportedExchanges = process.env.VUE_APP_EXCHANGES.split(',').map(id =>\n  id.toUpperCase()\n)\n\nconst state = supportedExchanges.reduce(\n  (exchangesState: ExchangesState, id: string) => {\n    exchangesState[id] = {\n      disabled: /HITBTC|PHEMEX|BINANCE_US|SERUM|OKEX|HUOBI|BITSTAMP|KRAKEN|POLONIEX/.test(\n        id\n      )\n    }\n\n    return exchangesState\n  },\n  {\n    _exchanges: []\n  } as any\n) as ExchangesState\n\nstate._id = 'exchanges'\n\nconst getters = {\n  getExchanges: state =>\n    Object.keys(state).filter(id => id !== 'INDEX' && !/^_/.test(id))\n} as GetterTree<ExchangesState, ModulesState>\n\nconst actions = {\n  async boot({ dispatch }) {\n    await dispatch('prepareExchanges')\n  },\n  prepareExchanges({ state, getters, rootState }) {\n    state._exchanges.splice(0, state._exchanges.length)\n\n    for (const id of getters.getExchanges) {\n      if (supportedExchanges.indexOf(id) === -1) {\n        if (rootState.settings.searchExchanges[id]) {\n          delete rootState.settings.searchExchanges[id]\n        }\n\n        if (rootState.exchanges[id]) {\n          delete rootState.exchanges[id]\n        }\n\n        continue\n      }\n\n      state._exchanges.push(id)\n      rootState.app.activeExchanges[id] = !state[id].disabled\n    }\n  },\n  async toggleExchange({ commit, state, dispatch }, id: string) {\n    commit('TOGGLE_EXCHANGE', id)\n\n    if (state[id].disabled) {\n      await dispatch('disconnect', id)\n    } else {\n      await dispatch('connect', id)\n    }\n\n    this.commit('app/EXCHANGE_UPDATED', id)\n  },\n  async disconnect({ rootState }, id: string) {\n    const exchangeRegex = new RegExp(`^${id}:`, 'i')\n    const markets = Object.keys(rootState.panes.marketsListeners).filter(p =>\n      exchangeRegex.test(p)\n    )\n\n    console.log(\n      `[exchanges.${id}] manually disconnecting ${markets.join(', ')}`\n    )\n\n    await aggregatorService.disconnect(markets)\n  },\n  async connect({ rootState }, id: string) {\n    const exchangeRegex = new RegExp(`^${id}:`, 'i')\n    const markets = Object.keys(rootState.panes.marketsListeners).filter(p =>\n      exchangeRegex.test(p)\n    )\n\n    console.log(`[exchanges.${id}] manually connecting ${markets.join(', ')}`)\n\n    await aggregatorService.connect(markets)\n  }\n} as ActionTree<ExchangesState, ModulesState>\n\nconst mutations = {\n  TOGGLE_EXCHANGE: (state, id: string) => {\n    let disabled = true\n\n    if (typeof state[id].disabled === 'boolean') {\n      disabled = !state[id].disabled\n    }\n\n    Vue.set(state[id], 'disabled', disabled)\n  }\n} as MutationTree<ExchangesState>\n\nexport default {\n  namespaced: true,\n  getters,\n  state,\n  actions,\n  mutations\n} as Module<ExchangesState, ModulesState>\n","import aggregatorService from '@/services/aggregatorService'\nimport workspacesService from '@/services/workspacesService'\nimport { getBucketId, slugify, uniqueName } from '@/utils/helpers'\nimport { registerModule } from '@/utils/store'\nimport Vue from 'vue'\nimport { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\nimport { ModulesState } from '.'\nimport panesSettings from './panesSettings'\nimport defaultPanes from './defaultPanes.json'\nimport { ListenedProduct } from './app'\nimport { GRID_COLS } from '@/utils/constants'\nimport { getMarketProduct, parseMarket } from '../services/productsService'\n\nexport type PaneType =\n  | 'trades'\n  | 'chart'\n  | 'stats'\n  | 'counters'\n  | 'prices'\n  | 'website'\nexport type MarketsListeners = { [market: string]: ListenedProduct }\nexport interface GridItem {\n  x?: number\n  y?: number\n  w?: number\n  h?: number\n  i: string\n  type?: string\n}\n\nexport interface Pane {\n  type: string\n  id: string\n  name: string\n  zoom?: number\n  markets?: string[]\n  settings?: any\n}\n\nexport interface PanesState {\n  locked?: boolean\n  layout: GridItem[]\n  panes: { [paneId: string]: Pane }\n  marketsListeners: MarketsListeners\n}\n\nconst layoutDesktop = [\n  { i: 'chart', type: 'chart', x: 0, y: 0, w: 20, h: 24 },\n  { i: 'trades', type: 'trades', x: 20, y: 0, w: 4, h: 20 },\n  { i: 'liquidations', type: 'trades', x: 20, y: 20, w: 4, h: 4 }\n]\n\nconst layoutMobile = [\n  { i: 'chart', type: 'chart', x: 0, y: 0, w: 24, h: 16 },\n  { i: 'trades', type: 'trades', x: 0, y: 0, w: 24, h: 8 }\n]\n\nconst state: PanesState = JSON.parse(JSON.stringify(defaultPanes))\n\nconst getters = {} as GetterTree<PanesState, ModulesState>\n\nconst actions = {\n  async boot({ state, dispatch }) {\n    if (!state.layout) {\n      dispatch('setupLayout')\n    }\n\n    for (const market in state.marketsListeners) {\n      if (typeof state.marketsListeners[market] === 'number') {\n        delete state.marketsListeners[market]\n      } else {\n        state.marketsListeners[market].listeners = 0\n      }\n    }\n  },\n  async addPane(\n    { commit, dispatch, state },\n    options: Pane & { settings?: any; originalGridItem?: any }\n  ) {\n    if (!panesSettings[options.type]) {\n      this.dispatch('app/showNotice', {\n        title: 'Unrecognized pane type \"' + options.type + '\"',\n        type: 'error'\n      })\n      return\n    }\n\n    const name = options.name || ''\n    const id = uniqueName(\n      slugify(name || options.type),\n      Object.keys(state.panes)\n    )\n\n    const pane: Pane = {\n      id,\n      name,\n      type: options.type,\n      zoom: options.zoom,\n      settings: options.settings,\n      markets: options.markets || Object.keys(state.marketsListeners)\n    }\n\n    await registerModule(id, {}, true, pane)\n\n    commit('ADD_PANE', pane)\n    dispatch('appendPaneGridItem', {\n      id: pane.id,\n      type: pane.type,\n      originalGridItem: options.originalGridItem\n    })\n    dispatch('refreshMarketsListeners')\n\n    Vue.nextTick(() => {\n      window.scrollTo(0, document.body.scrollHeight)\n    })\n  },\n  async removePane({ commit, state, dispatch, rootState }, id: string) {\n    const item = state.panes[id]\n\n    if (!item) {\n      return\n    }\n\n    dispatch('removePaneGridItems', id)\n    commit('REMOVE_PANE', id)\n    dispatch('refreshMarketsListeners')\n\n    if (rootState.app.focusedPaneId === id) {\n      this.commit('app/SET_FOCUSED_PANE', null)\n    }\n\n    await workspacesService.removeState(id)\n\n    setTimeout(() => {\n      this.unregisterModule(id)\n\n      localStorage.removeItem(id)\n    })\n  },\n  appendPaneGridItem(\n    { commit },\n    {\n      id,\n      type,\n      originalGridItem\n    }: { id: string; type: PaneType; originalGridItem?: GridItem }\n  ) {\n    const item: GridItem = {\n      i: id,\n      type\n    }\n\n    if (originalGridItem) {\n      item.w = originalGridItem.w\n      item.h = originalGridItem.h\n    }\n\n    commit('ADD_GRID_ITEM', item)\n  },\n  removePaneGridItems({ commit, state }, id: string) {\n    const item = state.layout.find(item => item.i === id)\n\n    if (item) {\n      const index = state.layout.indexOf(item)\n      commit('REMOVE_GRID_ITEM', index)\n    }\n  },\n  async refreshMarketsListeners({ commit, state }, { markets, id } = {}) {\n    // cache original listeners (market: n listeners)\n    const originalListeners: { [marketKey: string]: number } = Object.keys(\n      state.marketsListeners\n    ).reduce((listenersByMarkets, marketKey) => {\n      listenersByMarkets[marketKey] =\n        state.marketsListeners[marketKey].listeners\n\n      return listenersByMarkets\n    }, {})\n\n    // new listeners stored here\n    const marketsListeners: MarketsListeners = {}\n\n    // bucketed markets stored here\n    const buckets = {}\n\n    for (const paneId in state.panes) {\n      let paneMarkets = state.panes[paneId].markets\n      if (markets && (!id || paneId === id)) {\n        paneMarkets = markets\n      }\n\n      if (\n        state.panes[paneId].type === 'counters' ||\n        state.panes[paneId].type === 'stats'\n      ) {\n        // market used in a bucket\n        const bucketId = getBucketId(paneMarkets)\n\n        if (!buckets[bucketId]) {\n          buckets[bucketId] = paneMarkets\n        }\n      }\n\n      for (const marketKey of paneMarkets) {\n        if (typeof marketsListeners[marketKey] === 'undefined') {\n          if (state.marketsListeners[marketKey]) {\n            marketsListeners[marketKey] = state.marketsListeners[marketKey]\n            marketsListeners[marketKey].listeners = 0\n          } else {\n            const [exchange, pair] = parseMarket(marketKey)\n\n            marketsListeners[marketKey] = getMarketProduct(exchange, pair, true)\n\n            marketsListeners[marketKey].listeners = 0\n          }\n        }\n\n        if (typeof marketsListeners[marketKey] !== 'undefined') {\n          marketsListeners[marketKey].listeners++\n        }\n      }\n    }\n\n    const allUniqueMarkets = Object.keys(marketsListeners)\n      .concat(Object.keys(state.marketsListeners))\n      .filter((v, i, a) => a.indexOf(v) === i)\n\n    const toConnect = []\n    const toDisconnect = []\n\n    for (const market of allUniqueMarkets) {\n      const previousListeners = originalListeners[market]\n      const currentListeners =\n        marketsListeners[market] && marketsListeners[market].listeners\n\n      if (!previousListeners && currentListeners) {\n        toConnect.push(market)\n      } else if (previousListeners && !currentListeners) {\n        toDisconnect.push(market)\n\n        if (state.marketsListeners[market]) {\n          // dlete market from store\n          delete state.marketsListeners[market]\n        }\n      }\n    }\n\n    await Promise.all([\n      aggregatorService.connect(toConnect),\n      aggregatorService.disconnect(toDisconnect)\n    ])\n\n    aggregatorService.dispatch({\n      op: 'updateBuckets',\n      data: buckets\n    })\n\n    commit('SET_MARKETS_LISTENERS', marketsListeners)\n\n    if (markets) {\n      for (const paneId in state.panes) {\n        if (!id || paneId === id) {\n          commit('SET_PANE_MARKETS', { id: paneId, markets })\n        }\n      }\n    }\n  },\n  setMarketsForAll({ dispatch }, markets: string[]) {\n    return dispatch('refreshMarketsListeners', { markets })\n  },\n  setMarketsForPane(\n    { dispatch },\n    { id, markets }: { id: string; markets: string[] }\n  ) {\n    return dispatch('refreshMarketsListeners', { id, markets })\n  },\n  duplicatePane({ state, rootState, dispatch }, id: string) {\n    if (!state.panes[id] || !rootState[id]) {\n      this.dispatch('app/showNotice', {\n        title: `Pane ${id} doesn't exists`,\n        type: 'error'\n      })\n\n      return\n    }\n\n    const options = JSON.parse(JSON.stringify(state.panes[id]))\n    options.settings = JSON.parse(JSON.stringify(rootState[id]))\n    options.originalGridItem = state.layout.find(a => a.i === id)\n    dispatch('addPane', options)\n\n    this.dispatch('app/showNotice', {\n      title: `Duplicated pane ${id}`\n    })\n  },\n  async resetPane(\n    { state, rootState },\n    { id, data }: { id: string; data?: any }\n  ) {\n    const pane = JSON.parse(JSON.stringify(state.panes[id]))\n\n    let currentPaneState\n\n    if (data && typeof data === 'object') {\n      currentPaneState = Object.assign({}, rootState[id], data)\n    }\n\n    const layoutItem = state.layout.find(a => a.i === id)\n\n    const originalPaneType = layoutItem.type\n\n    layoutItem.type = 'div'\n\n    this.unregisterModule(id)\n\n    await workspacesService.removeState(id)\n\n    if (currentPaneState) {\n      await workspacesService.saveState(id, currentPaneState)\n    }\n\n    await registerModule(id, {}, true, pane)\n\n    layoutItem.type = originalPaneType\n  },\n  setZoom({ commit, dispatch }, { id, zoom }: { id: string; zoom: number }) {\n    commit('SET_PANE_ZOOM', { id, zoom })\n\n    dispatch('refreshZoom', id)\n  },\n  refreshZoom({ state }, id: string) {\n    const zoom = state.panes[id].zoom ? Math.max(0.1, state.panes[id].zoom) : 1\n    const el = document.getElementById(id) as HTMLElement\n\n    if (el) {\n      const parent = el.parentElement\n\n      parent.style.fontSize = zoom ? zoom + 'rem' : ''\n      el.classList.remove('-large', '-extra-large', '-small', '-extra-small')\n\n      if (zoom > 1) {\n        el.classList.add('-large')\n        if (zoom >= 2) {\n          el.classList.add('-extra-large')\n        }\n      } else {\n        el.classList.add('-small')\n        if (zoom < 0.87) {\n          el.classList.add('-extra-small')\n        }\n      }\n    }\n  },\n  setupLayout({ state }) {\n    // first time load\n    // app not even loaded yet\n\n    let initialZoom = 1\n    const innerWidth = window.innerWidth\n\n    console.info('[panes/setupLayout] @' + innerWidth)\n\n    if (innerWidth >= 768) {\n      // start with desktop layout\n      state.layout = layoutDesktop\n\n      if (innerWidth >= 1920) {\n        initialZoom = 1.25\n      }\n    } else {\n      // start with mobile layout\n      state.layout = layoutMobile\n      initialZoom = 1.25\n\n      delete state.panes.liquidations\n    }\n\n    if (initialZoom > 1) {\n      for (const paneId in state.panes) {\n        state.panes[paneId].zoom = initialZoom\n      }\n    }\n  }\n} as ActionTree<PanesState, ModulesState>\n\nconst mutations = {\n  ADD_PANE: (state, pane: Pane) => {\n    Vue.set(state.panes, pane.id, pane)\n  },\n  REMOVE_PANE: (state, id: string) => {\n    Vue.delete(state.panes, id)\n  },\n  ADD_GRID_ITEM: (state, item) => {\n    if (typeof item.x === 'undefined') {\n      const cols = GRID_COLS\n      const size =\n        window.innerWidth <= 500 ? 16 : window.innerWidth < 768 ? 8 : 4\n      const width = item.w || size\n      const height = item.h || size\n\n      const items = state.layout\n        .slice()\n        .sort((a, b) => a.x + a.y * 2 - (b.x + b.y * 2))\n\n      const columns = []\n\n      for (let x = 0; x < cols; x += width) {\n        let y = 0\n        for (const item of items) {\n          if (\n            (item.x >= x && item.x < x + width) ||\n            (item.x + item.w > x && item.x + item.w < x + width) ||\n            (item.x < x && item.x + item.w >= x + width)\n          ) {\n            y = Math.max(y, item.y + item.h)\n            continue\n          }\n        }\n\n        columns.push(y)\n      }\n\n      item.y = Math.min.apply(null, columns)\n      item.x = columns.indexOf(Math.min.apply(null, columns)) * width\n\n      if (item.y >= cols) {\n        for (const item of state.layout) {\n          item.y += height\n        }\n\n        item.y = 0\n        item.x = 0\n      }\n\n      item.w = width\n      item.h = height\n    }\n\n    state.layout.push(item)\n  },\n  REMOVE_GRID_ITEM: (state, index) => {\n    state.layout.splice(index, 1)\n  },\n  UPDATE_LAYOUT: (state, items: GridItem[]) => {\n    state.layout = items\n  },\n  TOGGLE_LAYOUT: state => {\n    state.locked = !state.locked\n  },\n  SET_MARKETS_LISTENERS: (state, marketsListeners: MarketsListeners) => {\n    state.marketsListeners = marketsListeners\n  },\n  SET_PANE_MARKETS: (\n    state,\n    { id, markets }: { id: string; markets: string[] }\n  ) => {\n    state.panes[id].markets = markets\n  },\n  SET_PANE_NAME: (state, { id, name }: { id: string; name: string }) => {\n    state.panes[id].name = name\n  },\n  SET_PANE_ZOOM: (state, { id, zoom }: { id: string; zoom: number }) => {\n    Vue.set(state.panes[id], 'zoom', zoom)\n  }\n} as MutationTree<PanesState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<PanesState, ModulesState>\n","import Vue from 'vue'\nimport Vuex, { Module, StoreOptions } from 'vuex'\nimport { bootPane, registerModule, scheduleSync } from '@/utils/store'\n\nimport app, { AppState } from './app'\nimport settings, { SettingsState } from './settings'\nimport exchanges, { ExchangesState } from './exchanges'\nimport panes, { PanesState } from './panes'\nimport { Workspace } from '@/types/types'\nimport { resolvePairs } from '../services/productsService'\nimport panesSettings from './panesSettings'\n\nVue.use(Vuex)\n\nexport interface AppModuleTree<R> {\n  [key: string]: Module<any, R>\n}\n\nexport interface ModulesState {\n  app: AppState\n  settings: SettingsState\n  panes: PanesState\n  exchanges: ExchangesState\n}\n\nconst store = new Vuex.Store({} as StoreOptions<ModulesState>)\nconst modules = { app, settings, exchanges, panes } as AppModuleTree<\n  ModulesState\n>\n\nstore.subscribe((mutation, state: any) => {\n  const moduleId = mutation.type.split('/')[0]\n\n  if (state[moduleId] && typeof state[moduleId]._id !== 'undefined') {\n    scheduleSync(state[moduleId])\n  }\n})\n\nexport async function boot(workspace?: Workspace, pairsFromURL?: string[]) {\n  console.log(\n    `[store] booting on workspace \"${workspace.name}\" (${workspace.id})`\n  )\n\n  console.info(`loading core module`)\n  await registerModule('app', modules['app'])\n  await store.dispatch('app/boot')\n\n  console.info(`setting up workspace`)\n  await registerModule('settings', modules['settings'])\n  await store.dispatch('settings/boot')\n\n  console.info(`loading panes`)\n  await registerModule('panes', modules['panes'])\n  await store.dispatch('panes/boot')\n\n  console.info(`registering exchanges`)\n  await registerModule('exchanges', modules['exchanges'])\n\n  console.info(`preparing active exchanges`)\n  await store.dispatch('exchanges/boot')\n\n  for (const paneId in store.state.panes.panes) {\n    if (!panesSettings[store.state.panes.panes[paneId].type]) {\n      await store.dispatch('panes/removePane', paneId)\n      continue\n    }\n\n    console.info(`registering pane module ${paneId}`)\n\n    await registerModule(paneId, {}, false, store.state.panes.panes[paneId])\n\n    await bootPane(paneId)\n  }\n\n  store.dispatch('app/setBooted')\n\n  let marketsOverride\n\n  if (pairsFromURL) {\n    marketsOverride = await resolvePairs(pairsFromURL)\n  }\n\n  await store.dispatch('panes/refreshMarketsListeners', {\n    markets: marketsOverride\n  })\n\n  store.commit('app/SET_EXCHANGES_READY')\n}\n\nexport default store\n","import store from '@/store'\nimport { ProductsData, ProductsStorage } from '@/types/types'\nimport { PRODUCTS_EXPIRES_AFTER } from '@/utils/constants'\nimport { getApiUrl } from '../utils/helpers'\nimport aggregatorService from './aggregatorService'\nimport workspacesService from './workspacesService'\n\nconst baseQuoteLookupKnown = new RegExp(\n  `^([A-Z0-9]{3,})[-/:]?(USDT|USDC|TUSD|BUSD)$|^([A-Z0-9]{2,})[-/:]?(UST|EUR|USD)$`\n)\nconst baseQuoteLookupOthers = new RegExp(`^([A-Z0-9]{2,})[-/]?([A-Z0-9]{3,})$`)\nconst baseQuoteLookupPoloniex = new RegExp(`^(.*)_(.*)$`)\n\nconst promisesOfProducts = {}\n\nexport const indexedProducts = {}\n\nexport const marketDecimals = {}\n\n/**\n * 1. app send products request to worker\n * 2. worker send products request endpoints\n * 3. app call getStoredProductsOrFetch with worker's endpoints\n * 4. getStoredProductsOrFetch first try to retrieve from workspace storage\n * 5. if not found or forceFetch is true, getStoredProductsOrFetch will fetch using worker's endpoints\n * 6. aquired productsData are sent back to worker for assignation in the exchange class\n * @param exchangeId\n * @param {boolean} forceFetch\n * @returns\n */\nexport function requestExchangeProductsData(\n  exchangeId: string,\n  forceFetch = false\n) {\n  if (promisesOfProducts[exchangeId]) {\n    console.debug(`[products.${exchangeId}] use promise of products`)\n    return promisesOfProducts[exchangeId]\n  }\n\n  promisesOfProducts[exchangeId] = aggregatorService\n    .dispatchAsync({\n      op: 'fetchExchangeProducts',\n      data: { exchangeId, forceFetch }\n    })\n    .then(data => {\n      delete promisesOfProducts[exchangeId]\n      return data\n    })\n\n  return promisesOfProducts[exchangeId]\n}\n\nasync function getExchangeStoredProductsData(exchangeId: string) {\n  console.debug(`[products.${exchangeId}] reading stored products`)\n\n  const storage = await workspacesService.getProducts(exchangeId)\n\n  if (storage && Date.now() - storage.timestamp < PRODUCTS_EXPIRES_AFTER) {\n    return storage.data\n  }\n\n  return null\n}\n\nfunction saveExchangeProductsData(\n  exchangeId: string,\n  productsData: ProductsData\n) {\n  console.log(`[products.${exchangeId}] saving products`)\n\n  return workspacesService.saveProducts({\n    exchange: exchangeId,\n    data: productsData,\n    timestamp: Date.now()\n  })\n}\n\n/**\n * 1. get raw symbols data from exchange API\n * 2. send response(s) to worker for formatting\n * 3. worker returns formatted products data (productsData)\n * 4. return productsData\n * @param {string} exchangeId exchange to fetch products for\n * @param {string[]} endpoints list of URL to fetch\n * @returns {Promise<ProductsData>}\n */\nasync function fetchExchangeProducts(\n  exchangeId: string,\n  endpoints: string[]\n): Promise<ProductsData> {\n  if (!Array.isArray(endpoints)) {\n    endpoints = [endpoints]\n  }\n\n  console.debug(\n    `[products.${exchangeId}] fetching latest products...`,\n    endpoints\n  )\n\n  let data = []\n\n  for (const instruction of endpoints) {\n    let [url, method] = instruction.split('|')\n\n    if (!method) {\n      method = 'GET'\n    }\n\n    if (\n      process.env.VUE_APP_PROXY_URL &&\n      !/^https:\\/\\/raw.githubusercontent.com\\//.test(url)\n    ) {\n      url = process.env.VUE_APP_PROXY_URL + url\n    }\n\n    try {\n      const json = await fetch(url, {\n        method\n      }).then(response => response.json())\n\n      data[endpoints.indexOf(instruction)] = json\n    } catch (error) {\n      console.error(`[${exchangeId}] couldn't parse non-json products`, error)\n\n      data[endpoints.indexOf(instruction)] = null\n    }\n  }\n\n  console.log(\n    `[products.${exchangeId}] received API products response => format products`\n  )\n\n  if (data.indexOf(null) !== -1) {\n    // today if one of the endpoint fail, consider they all failed\n    // todo => accept this set of products without saving\n    data = null\n  } else if (data.length === 1) {\n    data = data[0]\n  }\n\n  if (data) {\n    const productsData = (await aggregatorService.dispatchAsync({\n      op: 'formatExchangeProducts',\n      data: {\n        exchangeId: exchangeId,\n        response: data\n      }\n    })) as ProductsStorage\n\n    if (productsData) {\n      return saveExchangeProductsData(exchangeId, productsData).then(\n        () => productsData\n      )\n    }\n\n    return null\n  } else {\n    return null\n  }\n}\n\nexport async function getStoredProductsOrFetch(\n  exchangeId: string,\n  endpoints: string[],\n  forceFetch?: boolean\n): Promise<ProductsData> {\n  let productsData: ProductsData\n\n  if (\n    forceFetch ||\n    !(productsData = await getExchangeStoredProductsData(exchangeId))\n  ) {\n    console.debug(\n      `[products.${exchangeId}] fetch products using provided endpoints`\n    )\n\n    if (indexedProducts[exchangeId]) {\n      delete indexedProducts[exchangeId]\n    }\n\n    productsData = await fetchExchangeProducts(exchangeId, endpoints)\n  } else {\n    console.debug(`[products.${exchangeId}] using products exchange storage`)\n  }\n\n  return productsData\n}\n\nexport function stripStable(pair) {\n  return pair.replace(\n    /(\\w{3})?(usd|ust|eur|jpy|gbp|aud|cad|chf|cnh)[a-z]?$/i,\n    '$1$2'\n  )\n}\n\nexport async function getExchangeSymbols(\n  exchangeId: string,\n  forceFetch = false\n) {\n  let symbols\n\n  const data = await requestExchangeProductsData(exchangeId, forceFetch)\n\n  if (data) {\n    if (Array.isArray(data)) {\n      symbols = data\n    } else {\n      symbols = data.products\n    }\n  }\n\n  if (!symbols) {\n    symbols = []\n  }\n\n  return symbols\n}\n\nexport function parseMarket(market: string) {\n  return market.match(/([^:]*):(.*)/).slice(1, 3)\n}\n\nexport function getMarketProduct(exchangeId, symbol, noStable?: boolean) {\n  const id = exchangeId + ':' + symbol\n\n  let type = 'spot'\n\n  if (/[UZ_-]\\d{2}/.test(symbol)) {\n    type = 'future'\n  } else if (exchangeId === 'BINANCE_FUTURES' || exchangeId === 'DYDX') {\n    type = 'perp'\n  } else if (exchangeId === 'BITFINEX' && /F0$/.test(symbol)) {\n    type = 'perp'\n  } else if (exchangeId === 'HUOBI' && /_(CW|CQ|NW|NQ)$/.test(symbol)) {\n    type = 'future'\n  } else if (exchangeId === 'HUOBI' && /-/.test(symbol)) {\n    type = 'perp'\n  } else if (exchangeId === 'BYBIT' && !/-SPOT$/.test(symbol)) {\n    type = 'perp'\n  } else if (\n    exchangeId === 'BITMEX' ||\n    /(-|_)swap$|(-|_|:)perp/i.test(symbol)\n  ) {\n    if (/\\d{2}/.test(symbol)) {\n      type = 'future'\n    } else {\n      type = 'perp'\n    }\n  } else if (exchangeId === 'PHEMEX' && symbol[0] !== 's') {\n    type = 'perp'\n  } else if (exchangeId === 'KRAKEN' && /_/.test(symbol) && type === 'spot') {\n    type = 'perp'\n  }\n\n  let localSymbol = symbol\n\n  if (exchangeId === 'BYBIT') {\n    localSymbol = localSymbol.replace(/-SPOT$/, '')\n  } else if (exchangeId === 'KRAKEN') {\n    localSymbol = localSymbol.replace(/PI_/, '').replace(/FI_/, '')\n  } else if (exchangeId === 'FTX' && type === 'future') {\n    localSymbol = localSymbol.replace(/(\\w+)-\\d+$/, '$1-USD')\n  } else if (exchangeId === 'BITFINEX') {\n    localSymbol = localSymbol\n      .replace(/(.*)F0:(\\w+)F0/, '$1-$2')\n      .replace(/UST($|F0)/, 'USDT$1')\n  } else if (exchangeId === 'HUOBI') {\n    localSymbol = localSymbol.replace(/_CW|_CQ|_NW|_NQ/i, 'USD')\n  } else if (exchangeId === 'DERIBIT') {\n    localSymbol = localSymbol.replace(/_(\\w+)-PERPETUAL/i, '$1')\n  }\n\n  localSymbol = localSymbol\n    .replace(/xbt$|^xbt/i, 'BTC')\n    .replace(/-PERP(ETUAL)?/i, '-USD')\n    .replace(/[^a-z0-9](perp|swap|perpetual)$/i, '')\n    .replace(/[^a-z0-9]\\d+$/i, '')\n    .toUpperCase()\n\n  let localSymbolAlpha = localSymbol.replace(/[-_/:]/, '')\n\n  let match\n\n  if (exchangeId === 'POLONIEX') {\n    match = symbol.match(baseQuoteLookupPoloniex)\n\n    if (match) {\n      match[0] = match[2]\n      match[2] = match[1]\n      match[1] = match[0]\n\n      localSymbolAlpha = match[1] + match[2]\n    }\n  } else {\n    match = localSymbol.match(baseQuoteLookupKnown)\n\n    if (!match) {\n      match = localSymbolAlpha.match(baseQuoteLookupOthers)\n    }\n  }\n\n  if (\n    !match &&\n    (exchangeId === 'DERIBIT' || exchangeId === 'FTX' || exchangeId === 'HUOBI')\n  ) {\n    match = localSymbolAlpha.match(/(\\w+)[^a-z0-9]/i)\n\n    if (match) {\n      match[2] = match[1]\n    }\n  }\n\n  let base\n  let quote\n\n  if (match) {\n    if (match[1] === undefined && match[2] === undefined) {\n      base = match[3]\n      quote = match[4]\n    } else {\n      base = match[1]\n      quote = match[2]\n    }\n\n    if (noStable) {\n      localSymbolAlpha = stripStable(base + quote)\n    } else {\n      localSymbolAlpha = base + quote\n    }\n  }\n\n  return {\n    id,\n    base,\n    quote,\n    pair: symbol,\n    local: localSymbolAlpha,\n    exchange: exchangeId,\n    type\n  }\n}\n\nexport async function getApiSupportedMarkets() {\n  let products = process.env.VUE_APP_API_SUPPORTED_PAIRS\n\n  if (products && products.length) {\n    products = products.split(',').map(market => market.trim())\n  } else {\n    products = []\n  }\n\n  if (!process.env.VUE_APP_API_URL) {\n    return products\n  }\n\n  const now = Date.now()\n\n  try {\n    const cache = JSON.parse(localStorage.getItem('API_SUPPORTED_PAIRS'))\n\n    if (!cache || !cache.products) {\n      throw new Error('api supported pairs products cache is invalid')\n    }\n\n    if (!cache.products.length) {\n      throw new Error('api supported pairs need a refresh')\n    }\n\n    if (now - cache.timestamp > 1000 * 60 * 5) {\n      throw new Error('api supported pairs products cache has expired')\n    }\n\n    products = cache.products\n  } catch (error) {\n    await fetch(getApiUrl('products'))\n      .then(response => response.json())\n      .then(arr => {\n        products = arr\n      })\n      .catch(err => {\n        console.log(err)\n      })\n\n    localStorage.setItem(\n      'API_SUPPORTED_PAIRS',\n      JSON.stringify({ products, timestamp: now })\n    )\n  }\n\n  return products\n}\n\nexport async function indexProducts(exchangeId: string, symbols: string[]) {\n  console.debug(`[products.${exchangeId}] indexed ${symbols.length} products`)\n\n  indexedProducts[exchangeId] = symbols.map(product =>\n    getMarketProduct(exchangeId, product)\n  )\n\n  return indexedProducts[exchangeId]\n}\n\nexport async function ensureIndexedProducts() {\n  for (const exchangeId of store.getters['exchanges/getExchanges']) {\n    if (\n      store.state.exchanges[exchangeId].disabled === true ||\n      indexedProducts[exchangeId]\n    ) {\n      continue\n    }\n\n    await indexProducts(exchangeId, await getExchangeSymbols(exchangeId))\n  }\n}\n\nexport async function resolvePairs(pairs: string[]) {\n  const markets = []\n\n  const historicalMarkets = store.state.app.historicalMarkets\n  const searchPreference = store.state.settings.searchTypes\n  const historicalOnly = searchPreference.historical\n  const searchTypes = {\n    spot: searchPreference.spots,\n    perp: searchPreference.perpetuals,\n    future: searchPreference.futures\n  }\n  const allTypes = !(searchTypes.spot || searchTypes.perp || searchTypes.future)\n  const searchQuotes = store.state.settings.searchQuotes\n  const allQuotes = !Object.values(searchQuotes).find(filtered => !!filtered)\n\n  for (const exchangeId of store.getters['exchanges/getExchanges']) {\n    if (store.state.exchanges[exchangeId].disabled === true) {\n      continue\n    }\n\n    const symbols = await getExchangeSymbols(exchangeId)\n\n    for (const symbol of symbols) {\n      const product = getMarketProduct(exchangeId, symbol, true)\n\n      if (historicalOnly && historicalMarkets.indexOf(product.id) === -1) {\n        continue\n      }\n\n      if (!allTypes && !searchTypes[product.type]) {\n        continue\n      }\n\n      if (!allQuotes && !searchQuotes[product.quote]) {\n        continue\n      }\n\n      if (pairs.indexOf(product.local) !== -1) {\n        markets.push(product.id)\n      }\n    }\n  }\n\n  if (!markets.length) {\n    return null\n  }\n\n  return markets\n}\n\nexport function formatAmount(amount, decimals?: number) {\n  const negative = amount < 0\n\n  amount = Math.abs(amount)\n\n  if (amount >= 1000000000) {\n    amount =\n      +(amount / 1000000000).toFixed(isNaN(decimals) ? 1 : decimals) + ' B'\n  } else if (amount >= 1000000) {\n    amount = +(amount / 1000000).toFixed(isNaN(decimals) ? 1 : decimals) + ' M'\n  } else if (amount >= 1000) {\n    amount = +(amount / 1000).toFixed(isNaN(decimals) ? 1 : decimals) + 'k'\n  } else {\n    amount = +amount.toFixed(2)\n  }\n\n  if (negative) {\n    return '-' + amount\n  } else {\n    return amount\n  }\n}\n\nexport function countDecimals(value) {\n  const parts = value.toString().split('.')\n\n  if (parts.length === 2) {\n    return parts[1].length\n  }\n\n  return 0\n}\n\nexport function formatMarketPrice(price, market): string {\n  if (typeof marketDecimals[market] === 'undefined') {\n    return price\n  }\n\n  if (!price) {\n    price = 0\n  }\n\n  return price.toFixed(marketDecimals[market])\n}\n\nexport function formatPrice(price, precision?: number): number {\n  if (!precision) {\n    return parseInt(price)\n  }\n\n  if (!price) {\n    price = 0\n  }\n\n  return price.toFixed(precision)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))])]},proxy:true}])},[(!_vm.html)?_c('p',{staticClass:\"mx0\",domProps:{\"textContent\":_vm._s(_vm.message)}}):_c('p',{staticClass:\"mx0\",domProps:{\"innerHTML\":_vm._s(_vm.message)}}),_c('footer',{staticClass:\"pl16\"},[_vm._l((_vm.actions),function(action){return _c('button',{key:action.label,staticClass:\"btn -text -large mr16\",on:{\"click\":function($event){return _vm.onClickAction($event, action)}}},[_vm._v(\" \"+_vm._s(action.label)+\" \")])}),(_vm.cancel)?_c('a',{staticClass:\"btn -text mr8\",attrs:{\"href\":\"javascript:void(0);\"},domProps:{\"textContent\":_vm._s(_vm.cancel)},on:{\"click\":function($event){return _vm.close(false)}}}):_vm._e(),_c('button',{directives:[{name:\"autofocus\",rawName:\"v-autofocus\"}],staticClass:\"btn -green -large\",on:{\"click\":function($event){return _vm.close(true)}}},[_c('i',{staticClass:\"icon-check mr4\"}),_vm._v(\" \"+_vm._s(_vm.ok)+\" \")])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Dialog @clickOutside=\"close\">\n    <template v-slot:header>\n      <div class=\"title\">{{ title }}</div>\n    </template>\n    <p class=\"mx0\" v-if=\"!html\" v-text=\"message\"></p>\n    <p class=\"mx0\" v-else v-html=\"message\"></p>\n    <footer class=\"pl16\">\n      <button\n        v-for=\"action in actions\"\n        :key=\"action.label\"\n        class=\"btn -text -large mr16\"\n        @click=\"onClickAction($event, action)\"\n      >\n        {{ action.label }}\n      </button>\n\n      <a\n        href=\"javascript:void(0);\"\n        class=\"btn -text mr8\"\n        @click=\"close(false)\"\n        v-if=\"cancel\"\n        v-text=\"cancel\"\n      ></a>\n      <button class=\"btn -green -large\" v-autofocus @click=\"close(true)\">\n        <i class=\"icon-check mr4\"></i> {{ ok }}\n      </button>\n    </footer>\n  </Dialog>\n</template>\n\n<script>\nimport DialogMixin from '@/mixins/dialogMixin'\n\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: 'Confirmation'\n    },\n    message: {\n      type: String,\n      required: true\n    },\n    ok: {\n      type: String,\n      default: 'OK'\n    },\n    cancel: {\n      type: String,\n      default: 'Cancel'\n    },\n    html: {\n      type: Boolean,\n      default: false\n    },\n    actions: {\n      type: Array,\n      default: () => []\n    }\n  },\n  mixins: [DialogMixin],\n  methods: {\n    onClickAction(event, action) {\n      if (action.callback) {\n        const output = action.callback(event)\n        if (typeof output !== 'undefined') {\n          this.close(output)\n        }\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=778af572&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.action))])]},proxy:true}])},[(_vm.question)?_c('p',{staticClass:\"mx0\"},[_vm._v(_vm._s(_vm.question))]):_vm._e(),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[(_vm.label)?_c('label',[_vm._v(_vm._s(_vm.label))]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"},{name:\"autofocus\",rawName:\"v-autofocus\"}],staticClass:\"form-control w-100\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}})]),_c('footer',[_c('a',{staticClass:\"btn -text\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.close(false)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn -green ml8 -large\",attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"icon-check mr8\"}),_vm._v(\" \"+_vm._s(_vm.submitLabel)+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Dialog @clickOutside=\"close\">\n    <template v-slot:header>\n      <div class=\"title\">{{ action }}</div>\n    </template>\n    <p class=\"mx0\" v-if=\"question\">{{ question }}</p>\n    <form @submit.prevent=\"submit\">\n      <div class=\"form-group\">\n        <label v-if=\"label\">{{ label }}</label>\n        <input\n          type=\"text\"\n          class=\"form-control w-100\"\n          :placeholder=\"placeholder\"\n          v-model=\"value\"\n          v-autofocus\n        />\n      </div>\n\n      <footer>\n        <a href=\"javascript:void(0);\" class=\"btn -text\" @click=\"close(false)\"\n          >Cancel</a\n        >\n        <button type=\"submit\" class=\"btn -green ml8 -large\">\n          <i class=\"icon-check mr8\"></i> {{ submitLabel }}\n        </button>\n      </footer>\n    </form>\n  </Dialog>\n</template>\n\n<script>\nimport DialogMixin from '@/mixins/dialogMixin'\n\nexport default {\n  props: {\n    question: {\n      type: String\n    },\n    action: {\n      type: String,\n      required: true\n    },\n    input: {\n      type: String,\n      default: ''\n    },\n    submitLabel: {\n      type: String,\n      default: 'Submit'\n    },\n    placeholder: {\n      type: String,\n      default: null\n    },\n    label: {\n      type: String,\n      default: null\n    }\n  },\n  mixins: [DialogMixin],\n  data: () => ({\n    value: ''\n  }),\n  created() {\n    if (this.input && this.input.length) {\n      this.value = this.input\n    }\n  },\n  methods: {\n    submit() {\n      this.close(this.value)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PromptDialog.vue?vue&type=template&id=20442980&\"\nimport script from \"./PromptDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./PromptDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport store from '@/store'\n\nimport ConfirmDialog from '@/components/framework/ConfirmDialog.vue'\nimport PromptDialog from '@/components/framework/PromptDialog.vue'\n\nclass DialogService {\n  mountedComponents: { [id: string]: any } = {}\n  isInteracting = false\n  hasDialogOpened = false\n  pickerInstance: any\n\n  createComponent(\n    component,\n    props: any = {},\n    resolve = null,\n    dialogId?: string\n  ): Vue {\n    const Factory = Vue.extend(Object.assign({ store }, component))\n\n    const cmp: any = new Factory(\n      Object.assign(\n        {},\n        {\n          dialogId: dialogId,\n          propsData: Object.assign({}, props),\n          destroyed: () => {\n            if (dialogId && this.mountedComponents[dialogId]) {\n              delete this.mountedComponents[dialogId]\n\n              this.hasDialogOpened =\n                Object.keys(this.mountedComponents).length > 0\n            }\n\n            if (this.pickerInstance === cmp) {\n              delete this.pickerInstance\n            }\n\n            if (typeof resolve === 'function') {\n              resolve((cmp as any).output)\n            }\n          }\n        }\n      )\n    )\n\n    cmp.dialogId = dialogId\n\n    return cmp\n  }\n\n  async openAsPromise(component, props = {}, dialogId?: string): Promise<any> {\n    return new Promise(resolve => {\n      component = this.createComponent(component, props, resolve, dialogId)\n\n      this.mountDialog(component)\n    })\n  }\n\n  open(component, props = {}, dialogId?: string, onClose?: Function): Vue {\n    component = this.createComponent(component, props, onClose, dialogId)\n\n    this.mountDialog(component)\n\n    return component\n  }\n\n  mountDialog(cmp: Vue) {\n    const container = document.getElementById('app') || document.body\n\n    const mounted = cmp.$mount()\n    container.appendChild(mounted.$el)\n\n    const id = (cmp as any).dialogId\n\n    if (id) {\n      if (this.mountedComponents[id]) {\n        this.mountedComponents[id].close()\n      }\n\n      this.mountedComponents[id] = cmp\n\n      this.hasDialogOpened = Object.keys(this.mountedComponents).length > 0\n    }\n  }\n\n  isDialogOpened(name) {\n    return !!this.mountedComponents[name]\n  }\n\n  async openPicker(\n    initialColor,\n    cb,\n    label?: string,\n    onClose?: Function,\n    allowNull?: boolean\n  ) {\n    if (this.pickerInstance) {\n      this.pickerInstance.$off('input')\n      this.pickerInstance.setColorFromProp(initialColor)\n\n      this.pickerInstance.label = typeof label !== 'undefined' ? label : null\n    } else {\n      this.pickerInstance = this.open(\n        (await import('@/components/framework/picker/ColorPickerDialog.vue'))\n          .default,\n        {\n          value: initialColor,\n          label,\n          allowNull\n        },\n        null,\n        onClose\n      )\n    }\n\n    if (typeof cb === 'function') {\n      this.pickerInstance.$on('input', cb)\n    }\n\n    return this.pickerInstance\n  }\n\n  async openIndicator(paneId: string, indicatorId: string) {\n    return this.open(\n      (await import('@/components/chart/IndicatorDialog.vue')).default,\n      {\n        paneId,\n        indicatorId\n      },\n      'indicator'\n    )\n  }\n\n  async confirm(options: any) {\n    if (!options) {\n      return\n    }\n\n    if (typeof options === 'string') {\n      options = {\n        message: options\n      }\n    }\n\n    if (!options.message) {\n      return\n    }\n\n    return this.openAsPromise(ConfirmDialog, options)\n  }\n\n  async prompt(options: any) {\n    if (!options) {\n      return\n    }\n\n    if (typeof options === 'string') {\n      options = {\n        action: options\n      }\n    }\n\n    if (!options.action) {\n      return\n    }\n\n    return this.openAsPromise(PromptDialog, options)\n  }\n}\n\nexport default new DialogService()\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exchange.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeframeDialog.vue?vue&type=style&index=0&lang=scss&\"","import Dialog from '@/components/framework/Dialog.vue'\n\nexport default {\n  components: {\n    Dialog\n  },\n  data: function() {\n    return {\n      output: null\n    }\n  },\n  created() {\n    if (module.hot) {\n      module.hot.dispose(() => {\n        this.close()\n      })\n    }\n  },\n  methods: {\n    close(data): Promise<void> {\n      if (this._isDestroyed) {\n        console.warn('attempting to close destroyed dialog.')\n      }\n\n      if (this.preventClose) {\n        return\n      }\n\n      if (typeof data !== 'undefined' && data !== null) {\n        this.output = data\n      }\n\n      this.$destroy()\n\n      // remove the element from the DOM\n      try {\n        this.$el.parentNode.removeChild(this.$el)\n      } catch (error) {\n        console.warn(\n          'failed to remove dialog element: was the dialog already destroyed?',\n          error\n        )\n      }\n\n      return Promise.resolve()\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"BUCKET\")]),_c('div',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.name))])]),_c('dropdown-button',{attrs:{\"options\":_vm.availableTypes},on:{\"input\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n          id: _vm.bucketId,\n          prop: 'type',\n          value: $event\n        })}},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}})]},proxy:true}])},[_c('div',{staticClass:\"column mb8\"},[_c('div',{staticClass:\"form-group -fill\"},[_c('label',[_vm._v(\"Name\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.name},on:{\"input\":function($event){return _vm.$store.dispatch(_vm.paneId + '/renameBucket', {\n            id: _vm.bucketId,\n            name: $event.target.value\n          })}}})]),(!_vm.conditionnalColor)?_c('div',{ref:\"colorContainer\",staticClass:\"form-group -end mtauto -tight\"},[_c('color-picker-control',{attrs:{\"value\":_vm.color},on:{\"input\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n            id: _vm.bucketId,\n            prop: 'color',\n            value: $event\n          })}}})],1):_vm._e(),(_vm.type === 'histogram')?_c('div',{staticClass:\"form-group -tight -end mtauto\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'bottom' }),expression:\"{ placement: 'bottom' }\"}],staticClass:\"checkbox-control checkbox-control-input -auto flex-right\",attrs:{\"title\":\"Enable onditionnal color\"}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.conditionnalColor},on:{\"change\":function($event){return _vm.$store.commit(_vm.paneId + '/TOGGLE_BUCKET_COLOR_CONDITION', _vm.bucketId)}}}),_c('div',{attrs:{\"on\":\"dynamic\",\"off\":\"fixed\"}})])]):_vm._e()]),(_vm.conditionnalColor)?_c('div',{staticClass:\"form-group mb8\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Color condition \"),_c('span',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"icon-info\",attrs:{\"title\":\"ex: value > 0 ? 'red' : 'white'\"}})]),_c('textarea',{staticClass:\"form-control\",attrs:{\"rows\":\"2\",\"spellcheck\":\"false\"},domProps:{\"value\":_vm.color},on:{\"change\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n          id: _vm.bucketId,\n          prop: 'color',\n          value: $event.target.value\n        })}}})]):_vm._e(),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"form-group mb8\"},[_c('label',[_vm._v(\" Window (m) \"),_c('span',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"icon-info\",attrs:{\"title\":\"Sum over given interval (ex: 30s or 10m or 1h)\"}})]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm.getHms(_vm.$store.state[_vm.paneId].window) + ' (default)'},domProps:{\"value\":_vm.window},on:{\"change\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n            id: _vm.bucketId,\n            prop: 'window',\n            value: $event.target.value\n          })}}})]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',[_vm._v(\" Precision \"),_c('span',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"icon-info\",attrs:{\"title\":\"Decimal precision\"}})]),_c('editable',{staticClass:\"form-control\",attrs:{\"placeholder\":\"auto\",\"value\":_vm.precision},on:{\"input\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n            id: _vm.bucketId,\n            prop: 'precision',\n            value: $event\n          })}}})],1)]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Value \"),_c('span',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"icon-info\",attrs:{\"title\":\"/!\\\\Javascript syntax/!\\\\<br>use build in variable such as vbuy/vsell (volume) cbuy/csell (trade count) lbuy/lsell (liquidation volume)\"}})]),_c('textarea',{staticClass:\"form-control\",attrs:{\"rows\":\"5\",\"spellcheck\":\"false\"},domProps:{\"value\":_vm.input},on:{\"change\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n          id: _vm.bucketId,\n          prop: 'input',\n          value: $event.target.value\n        })}}}),_c('p',{staticClass:\"help-text mt-8\"},[_vm._v(\" Sum \"),_c('code',[_vm._v(_vm._s(_vm.input))]),_vm._v(\" over \"+_vm._s(_vm.window)+\" window \")])]),_c('hr'),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'bottom' }),expression:\"{ placement: 'bottom' }\"}],staticClass:\"checkbox-control\",attrs:{\"title\":_vm.enabled ? 'Disable' : 'Enable'},on:{\"change\":function($event){return _vm.disable(_vm.bucketId, $event)}}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.enabled}}),_c('div'),_c('span',[_vm._v(\" \"+_vm._s(_vm.enabled ? 'Active' : 'Disabled')+\" \")])])]),_c('button',{staticClass:\"btn -red\",on:{\"click\":_vm.remove}},[_c('i',{staticClass:\"icon-trash\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Dialog @clickOutside=\"close\">\r\n    <template v-slot:header>\r\n      <div>\r\n        <div class=\"title\">BUCKET</div>\r\n        <div class=\"subtitle\">{{ name }}</div>\r\n      </div>\r\n\r\n      <dropdown-button\r\n        v-model=\"type\"\r\n        :options=\"availableTypes\"\r\n        @input=\"\r\n          $store.dispatch(paneId + '/updateBucket', {\r\n            id: bucketId,\r\n            prop: 'type',\r\n            value: $event\r\n          })\r\n        \"\r\n      ></dropdown-button>\r\n    </template>\r\n    <div class=\"column mb8\">\r\n      <div class=\"form-group -fill\">\r\n        <label>Name</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          :value=\"name\"\r\n          @input=\"\r\n            $store.dispatch(paneId + '/renameBucket', {\r\n              id: bucketId,\r\n              name: $event.target.value\r\n            })\r\n          \"\r\n        />\r\n      </div>\r\n      <div\r\n        v-if=\"!conditionnalColor\"\r\n        class=\"form-group -end mtauto -tight\"\r\n        ref=\"colorContainer\"\r\n      >\r\n        <color-picker-control\r\n          :value=\"color\"\r\n          @input=\"\r\n            $store.dispatch(paneId + '/updateBucket', {\r\n              id: bucketId,\r\n              prop: 'color',\r\n              value: $event\r\n            })\r\n          \"\r\n        ></color-picker-control>\r\n      </div>\r\n      <div v-if=\"type === 'histogram'\" class=\"form-group -tight -end mtauto\">\r\n        <label\r\n          class=\"checkbox-control checkbox-control-input -auto flex-right\"\r\n          v-tippy=\"{ placement: 'bottom' }\"\r\n          title=\"Enable onditionnal color\"\r\n        >\r\n          <input\r\n            type=\"checkbox\"\r\n            class=\"form-control\"\r\n            :checked=\"conditionnalColor\"\r\n            @change=\"\r\n              $store.commit(paneId + '/TOGGLE_BUCKET_COLOR_CONDITION', bucketId)\r\n            \"\r\n          />\r\n          <div on=\"dynamic\" off=\"fixed\"></div>\r\n        </label>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"conditionnalColor\" class=\"form-group mb8\">\r\n      <label for\r\n        >Color condition\r\n        <span\r\n          class=\"icon-info\"\r\n          title=\"ex: value > 0 ? 'red' : 'white'\"\r\n          v-tippy\r\n        ></span\r\n      ></label>\r\n      <textarea\r\n        class=\"form-control\"\r\n        rows=\"2\"\r\n        spellcheck=\"false\"\r\n        :value=\"color\"\r\n        @change=\"\r\n          $store.dispatch(paneId + '/updateBucket', {\r\n            id: bucketId,\r\n            prop: 'color',\r\n            value: $event.target.value\r\n          })\r\n        \"\r\n      ></textarea>\r\n    </div>\r\n    <div class=\"column\">\r\n      <div class=\"form-group mb8\">\r\n        <label>\r\n          Window (m)\r\n          <span\r\n            class=\"icon-info\"\r\n            title=\"Sum over given interval (ex: 30s or 10m or 1h)\"\r\n            v-tippy\r\n          ></span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          :value=\"window\"\r\n          :placeholder=\"getHms($store.state[paneId].window) + ' (default)'\"\r\n          @change=\"\r\n            $store.dispatch(paneId + '/updateBucket', {\r\n              id: bucketId,\r\n              prop: 'window',\r\n              value: $event.target.value\r\n            })\r\n          \"\r\n        />\r\n      </div>\r\n      <div class=\"form-group mb8\">\r\n        <label>\r\n          Precision\r\n          <span class=\"icon-info\" title=\"Decimal precision\" v-tippy></span>\r\n        </label>\r\n        <editable\r\n          class=\"form-control\"\r\n          placeholder=\"auto\"\r\n          :value=\"precision\"\r\n          @input=\"\r\n            $store.dispatch(paneId + '/updateBucket', {\r\n              id: bucketId,\r\n              prop: 'precision',\r\n              value: $event\r\n            })\r\n          \"\r\n        ></editable>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for\r\n        >Value\r\n        <span\r\n          class=\"icon-info\"\r\n          title=\"/!\\Javascript syntax/!\\<br>use build in variable such as vbuy/vsell (volume) cbuy/csell (trade count) lbuy/lsell (liquidation volume)\"\r\n          v-tippy\r\n        ></span\r\n      ></label>\r\n      <textarea\r\n        class=\"form-control\"\r\n        rows=\"5\"\r\n        spellcheck=\"false\"\r\n        :value=\"input\"\r\n        @change=\"\r\n          $store.dispatch(paneId + '/updateBucket', {\r\n            id: bucketId,\r\n            prop: 'input',\r\n            value: $event.target.value\r\n          })\r\n        \"\r\n      ></textarea>\r\n      <p class=\"help-text mt-8\">\r\n        Sum <code>{{ input }}</code> over {{ window }} window\r\n      </p>\r\n    </div>\r\n    <hr />\r\n    <div class=\"column\">\r\n      <div class=\"form-group\">\r\n        <label\r\n          class=\"checkbox-control\"\r\n          v-tippy=\"{ placement: 'bottom' }\"\r\n          :title=\"enabled ? 'Disable' : 'Enable'\"\r\n          @change=\"disable(bucketId, $event)\"\r\n        >\r\n          <input type=\"checkbox\" class=\"form-control\" :checked=\"enabled\" />\r\n          <div></div>\r\n          <span>\r\n            {{ enabled ? 'Active' : 'Disabled' }}\r\n          </span>\r\n        </label>\r\n      </div>\r\n      <button class=\"btn -red\" @click=\"remove\">\r\n        <i class=\"icon-trash\"></i>\r\n      </button>\r\n    </div>\r\n  </Dialog>\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store'\r\nimport { getHms } from '@/utils/helpers'\r\n\r\nimport Dialog from '@/components/framework/Dialog.vue'\r\nimport DialogMixin from '@/mixins/dialogMixin'\r\nimport DropdownButton from '@/components/framework/DropdownButton.vue'\r\nimport ColorPickerControl from '../framework/picker/ColorPickerControl.vue'\r\n\r\nexport default {\r\n  props: ['paneId', 'bucketId'],\r\n  mixins: [DialogMixin],\r\n  components: {\r\n    Dialog,\r\n    DropdownButton,\r\n    ColorPickerControl\r\n  },\r\n  computed: {\r\n    color: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].color\r\n    },\r\n    conditionnalColor: function() {\r\n      if (\r\n        typeof store.state[this.paneId].buckets[this.bucketId]\r\n          .conditionnalColor === 'undefined'\r\n      ) {\r\n        this.$set(\r\n          store.state[this.paneId].buckets[this.bucketId],\r\n          'conditionnalColor',\r\n          false\r\n        )\r\n      }\r\n\r\n      return store.state[this.paneId].buckets[this.bucketId].conditionnalColor\r\n    },\r\n    enabled: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].enabled\r\n    },\r\n    name: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].name\r\n    },\r\n    type: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].type\r\n    },\r\n    input: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].input\r\n    },\r\n    precision: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].precision || null\r\n    },\r\n    window: function() {\r\n      const window = store.state[this.paneId].buckets[this.bucketId].window\r\n\r\n      if (window) {\r\n        return getHms(window)\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n  },\r\n  data: () => ({\r\n    availableTypes: { line: 'Line', area: 'Area', histogram: 'Histogram' }\r\n  }),\r\n  methods: {\r\n    getHms(value) {\r\n      return getHms(value)\r\n    },\r\n    disable(id, event) {\r\n      this.$store.dispatch(this.paneId + '/updateBucket', {\r\n        id: id,\r\n        prop: 'enabled',\r\n        value: event.target.checked\r\n      })\r\n      this.close()\r\n    },\r\n    async remove() {\r\n      await this.close()\r\n\r\n      this.$store.commit(this.paneId + '/REMOVE_BUCKET', this.bucketId)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatDialog.vue?vue&type=template&id=1bb329b4&\"\nimport script from \"./StatDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./StatDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import store from '@/store'\n\nconst DAY = 60 * 60 * 24\n\nexport function ago(timestamp) {\n  if (!timestamp) {\n    return '0s'\n  }\n\n  const seconds = Math.floor((Date.now() - timestamp) / 1000)\n  let interval, output\n\n  if ((interval = Math.floor(seconds / 31536000)) > 1) {\n    output = interval + 'yr'\n  } else if ((interval = Math.floor(seconds / 2592000)) >= 1) {\n    output = interval + 'mo'\n  } else if ((interval = Math.floor(seconds / 86400)) >= 1) {\n    output = interval + 'd'\n  } else if ((interval = Math.floor(seconds / 3600)) >= 1) {\n    output = interval + 'h'\n  } else if ((interval = Math.floor(seconds / 60)) >= 1) {\n    output = interval + 'm'\n  } else {\n    output = Math.ceil(seconds) + 's'\n  }\n  return output\n}\n\nexport function getHms(timestamp, round = false) {\n  if (isNaN(timestamp) || timestamp === null) {\n    return null\n  }\n\n  const isNegPrefix = timestamp < 0 ? '-' : ''\n  timestamp = Math.abs(timestamp)\n\n  const d = Math.floor(timestamp / 1000 / 86400)\n  const h = Math.floor(((timestamp / 1000) % 86400) / 3600)\n  const m = Math.floor(((timestamp / 1000) % 3600) / 60)\n  const s = Math.floor(((timestamp / 1000) % 3600) % 60)\n\n  let output = ''\n\n  output +=\n    (!round || !output.length) && d > 0\n      ? (output.length ? ', ' : '') + isNegPrefix + d + 'd'\n      : ''\n  output +=\n    (!round || !output.length) && h > 0\n      ? (output.length ? ', ' : '') + isNegPrefix + h + 'h'\n      : ''\n  output +=\n    (!round || !output.length) && m > 0\n      ? (output.length ? ', ' : '') + isNegPrefix + m + 'm'\n      : ''\n  output +=\n    (!round || !output.length) && s > 0\n      ? (output.length ? ', ' : '') + isNegPrefix + s + 's'\n      : ''\n\n  if (\n    !output.length ||\n    (!round && timestamp < 60 * 1000 && timestamp > s * 1000)\n  )\n    output +=\n      (output.length ? ', ' : '') + isNegPrefix + (timestamp - s * 1000) + 'ms'\n\n  return output.trim()\n}\n\nexport function getHmsFull(timestamp, round = false) {\n  let output = getHms(timestamp, round)\n  output = output.replace(/\\b1s\\b/, '1 second')\n  output = output.replace(/(\\d)s\\b/, '$1 seconds')\n  output = output.replace(/\\b1m\\b/, '1 minute')\n  output = output.replace(/(\\d)m\\b/, '$1 minutes')\n  output = output.replace(/\\b1h\\b/, '1 hour')\n  output = output.replace(/(\\d)h\\b/, '$1 hours')\n  output = output.replace(/\\b1d\\b/, '1 day')\n  output = output.replace(/(\\d)d\\b/, '$1 days')\n\n  return output\n}\n\nexport function randomString(\n  length = 16,\n  characters = 'abcdefghijklmnopqrstuvwxyz0123456789'\n) {\n  let output = ``\n\n  const charactersLength = characters.length\n\n  for (let i = 0; i < length; i++) {\n    output += characters.charAt(Math.floor(Math.random() * charactersLength))\n  }\n\n  return output\n}\n\nexport const slugify = string => {\n  const a =\n    'àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;'\n  const b =\n    'aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------'\n  const p = new RegExp(a.split('').join('|'), 'g')\n\n  return string\n    .toString()\n    .toLowerCase()\n    .replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters\n    .replace(/&/g, '-and-') // Replace & with 'and'\n    .replace(/[^\\w-]+/g, '') // Remove all non-word characters\n    .replace(/--+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, '') // Trim - from end of text\n}\n\nexport const downloadAnything = (data, filename) => {\n  const downloadAnchorNode = document.createElement('a')\n\n  let href\n\n  if (!data) {\n    return\n  }\n\n  if (data instanceof Blob) {\n    href = URL.createObjectURL(data)\n  } else if (typeof data === 'object') {\n    href =\n      'data:text/json;charset=utf-8,' +\n      encodeURIComponent(JSON.stringify(data, null, 2))\n  } else if (typeof data === 'string') {\n    href = 'data:text/json;charset=utf-8,' + encodeURIComponent(data)\n  }\n\n  downloadAnchorNode.setAttribute('href', href)\n  downloadAnchorNode.setAttribute('download', filename + '.txt')\n  document.body.appendChild(downloadAnchorNode)\n  downloadAnchorNode.click()\n  downloadAnchorNode.remove()\n}\n\nexport function uniqueName(name, names, slug?: boolean, suffix = ' copy 1') {\n  while (!name || names.indexOf(name) !== -1) {\n    if (!name) {\n      // random alphanum\n      name = randomString(4)\n    } else {\n      // id + 1 (myworkspace1 then myworkspace2 then myworkspace3 etc)\n      if (!/\\d$/.test(name)) {\n        name = name + suffix\n      } else {\n        name = name.replace(\n          /\\d+$/,\n          (+((name.match(/\\d+$/) as string[]) || ['0'])[0] + 1).toString()\n        )\n      }\n    }\n  }\n\n  return slug ? slugify(name) : name\n}\n\nexport function sleep(duration = 1000): Promise<void> {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(), duration)\n  })\n}\n\nexport function getBucketId(markets: string[]) {\n  return markets\n    .map(m => m.replace(/[^a-zA-Z]+/gi, ''))\n    .sort(function(mA, mB) {\n      return mA.localeCompare(mB)\n    })\n    .join('')\n}\n\nexport function openBase64InNewTab(data, mimeType) {\n  const byteCharacters = atob(data)\n  const byteNumbers = new Array(byteCharacters.length)\n  for (let i = 0; i < byteCharacters.length; i++) {\n    byteNumbers[i] = byteCharacters.charCodeAt(i)\n  }\n  const byteArray = new Uint8Array(byteNumbers)\n  const file = new Blob([byteArray], { type: mimeType + ';base64' })\n  const fileURL = URL.createObjectURL(file)\n  window.open(fileURL)\n}\n\nexport function findClosingBracketMatchIndex(\n  str,\n  pos,\n  open = /\\(/,\n  close = /\\)/\n) {\n  if (!open.test(str[pos])) {\n    throw new Error('No ' + open.toString() + ' at index ' + pos)\n  }\n\n  let depth = 1\n\n  for (let i = pos + 1; i < str.length; i++) {\n    if (close.test(str[i])) {\n      if (--depth == 0) {\n        return i\n      }\n    } else if (open.test(str[i])) {\n      depth++\n    }\n  }\n  return -1 // No matching closing parenthesis\n}\n\nexport function parseFunctionArguments(\n  str,\n  trimArguments = true,\n  maxIterations = 100\n) {\n  const PARANTHESIS_REGEX = /\\(|{|\\[/g\n  let paranthesisMatch\n  let iteration = 0\n  do {\n    if ((paranthesisMatch = PARANTHESIS_REGEX.exec(str))) {\n      iteration++\n      const closingParenthesisIndex = findClosingBracketMatchIndex(\n        str,\n        paranthesisMatch.index,\n        /\\(|{|\\[/,\n        /\\)|}|\\]/\n      )\n      const contentWithinParenthesis = str\n        .slice(paranthesisMatch.index + 1, closingParenthesisIndex)\n        .replace(/,/g, '#COMMA#')\n      str =\n        str.slice(0, paranthesisMatch.index + 1) +\n        contentWithinParenthesis +\n        str.slice(closingParenthesisIndex, str.length)\n    }\n  } while (paranthesisMatch && iteration < maxIterations)\n\n  if (iteration >= maxIterations) {\n    throw new Error('Maxiumum parseFunctionArguments iteration reached')\n  }\n\n  return str.split(',').map(arg => {\n    if (trimArguments) {\n      arg = arg.trim()\n    }\n\n    return arg.replace(/#COMMA#/g, ',')\n  })\n}\n\nexport function camelize(str) {\n  return str.replace(/-([a-z])/g, function(g) {\n    return g[1].toUpperCase()\n  })\n}\n\nexport function formatBytes(bytes, decimals = 2) {\n  if (bytes === 0) return '0 Bytes'\n\n  const k = 1024\n  const dm = decimals < 0 ? 0 : decimals\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i]\n}\n\nexport function fallbackCopyTextToClipboard(text) {\n  const textArea = document.createElement('textarea')\n  textArea.value = text\n\n  // Avoid scrolling to bottom\n  textArea.style.top = '0'\n  textArea.style.left = '0'\n  textArea.style.position = 'fixed'\n\n  document.body.appendChild(textArea)\n  textArea.focus()\n  textArea.select()\n\n  try {\n    const successful = document.execCommand('copy')\n    const msg = successful ? 'successful' : 'unsuccessful'\n    console.log('Fallback: Copying text command was ' + msg)\n  } catch (err) {\n    console.error('Fallback: Oops, unable to copy', err)\n  }\n}\n\nexport function browseFile(): Promise<File> {\n  const input = document.createElement('input') as HTMLInputElement\n  input.type = 'file'\n\n  return new Promise(resolve => {\n    input.onchange = (event: any) => {\n      if (!event.target.files.length) {\n        resolve(null)\n      }\n\n      resolve(event.target.files[0])\n    }\n\n    input.click()\n  })\n}\n\nexport function copyTextToClipboard(text) {\n  if (!navigator.clipboard) {\n    fallbackCopyTextToClipboard(text)\n    return Promise.resolve()\n  }\n\n  return navigator.clipboard.writeText(text)\n}\n\nexport function getTimeframeForHuman(timeframe, full?: boolean) {\n  if (timeframe === null) {\n    return 'ERR'\n  }\n\n  const normalized = timeframe.toString().trim()\n\n  if (normalized[normalized.length - 1] === 't') {\n    return parseInt(normalized) + ' ticks'\n  } else if (!isNaN(normalized) && normalized > 0) {\n    return full ? getHmsFull(normalized * 1000) : getHms(normalized * 1000)\n  }\n\n  return null\n}\n\nexport function getScrollParent(node) {\n  if (node == null) {\n    return null\n  }\n\n  if (node.id === 'app') {\n    return node\n  }\n\n  const overflowY = window.getComputedStyle(node).overflowY\n  const isScrollable = overflowY !== 'visible' && overflowY !== 'hidden'\n\n  if (isScrollable && node.scrollHeight > node.clientHeight) {\n    return node\n  } else {\n    return getScrollParent(node.parentNode)\n  }\n}\n\nexport function getSiblings(elem) {\n  return Array.prototype.filter.call(elem.parentNode.children, function(\n    sibling\n  ) {\n    return sibling !== elem\n  })\n}\n\nexport function isOddTimeframe(timeframe) {\n  return DAY % timeframe !== 0 && timeframe < DAY\n}\n\nexport function floorTimestampToTimeframe(\n  timestamp: number,\n  timeframe: number,\n  isOdd?: boolean\n) {\n  if (typeof isOdd === 'undefined') {\n    isOdd = isOddTimeframe(timeframe)\n  }\n\n  if (isOdd) {\n    const dayOpen = Math.floor(timestamp / DAY) * DAY\n    return dayOpen + Math.floor((timestamp - dayOpen) / timeframe) * timeframe\n  } else {\n    return Math.floor(timestamp / timeframe) * timeframe\n  }\n}\n\nexport function parseVersion(version: string): number {\n  if (!version) {\n    return 0\n  }\n\n  return +version\n    .split('.')\n    .map(n => n.padStart(2, '0'))\n    .join('')\n}\n\nexport function handleFetchError(err): void {\n  if (err instanceof Error) {\n    const hasSomethingToSay = err.message && err.message !== 'Failed to fetch'\n\n    if (hasSomethingToSay) {\n      store.dispatch('app/showNotice', {\n        title: err.message,\n        type: 'error',\n        timeout: 10000\n      })\n    } else {\n      if (/aggr\\.trade$/.test(location.hostname)) {\n        store.dispatch('app/showNotice', {\n          title: `Aggr server seems down 💀`,\n          type: 'error',\n          timeout: 10000\n        })\n      } else {\n        store.dispatch('app/showNotice', {\n          id: 'fetch-error',\n          html: true,\n          title: `Failed to reach api<br><a href=\"https://github.com/Tucsky/aggr-server\">Configure aggr-server</a> <strong>to use your own data</strong>`,\n          type: 'error',\n          timeout: 10000\n        })\n      }\n    }\n  }\n}\n\nexport function getApiUrl(path: string): string {\n  let base = process.env.VUE_APP_API_URL\n\n  if (!/\\/$/.test(base)) {\n    base += '/'\n  }\n\n  return base + path\n}\n\nexport function getEventCords(event) {\n  if (event.type.match(/^touch/i)) {\n    const touch = event.touches[0]\n    return { x: touch.clientX, y: touch.clientY }\n  }\n  if (event.type.match(/^mouse/i)) {\n    return { x: event.clientX, y: event.clientY }\n  }\n  return { x: 0, y: 0 }\n}\n\nexport function debounce(func, immediate = false) {\n  let timeout\n  return function(...args) {\n    const later = (...args) => {\n      timeout = null\n\n      if (!immediate) {\n        func(...args)\n      }\n    }\n\n    const callNow = immediate && !timeout\n\n    window.cancelAnimationFrame(timeout)\n\n    timeout = window.requestAnimationFrame(later)\n\n    if (callNow) {\n      func(...args)\n    }\n  }\n}\n\nexport function getClosestValue(array, value) {\n  return array.reduce((prev, curr) => {\n    return Math.abs(curr - value) < Math.abs(prev - value) ? curr : prev\n  })\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carousel.vue?vue&type=style&index=0&id=3742e45a&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn\",class:_vm.buttonClass,on:{\"click\":_vm.toggleDropdown}},[_vm._t(\"selection\",function(){return [_c('span',[_vm._v(_vm._s(_vm.label))])]},{\"item\":_vm.value,\"placeholder\":_vm.placeholder}),_c('dropdown',{nativeOn:{\"click\":function($event){return _vm.selectFromElementRecursive($event.target)}},model:{value:(_vm.dropdownTrigger),callback:function ($$v) {_vm.dropdownTrigger=$$v},expression:\"dropdownTrigger\"}},_vm._l((_vm.options),function(option,index){return _c('button',{key:index,staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"}},[_vm._t(\"option\",function(){return [_c('span',[_vm._v(_vm._s(option))])]},{\"value\":option,\"index\":index})],2)}),0)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  name: 'DropdownButton',\n  props: {\n    value: {\n      required: false,\n      default: null\n    },\n    buttonClass: {\n      required: false,\n      default: '-arrow'\n    },\n    placeholder: {\n      required: false,\n      default: null\n    },\n    options: {\n      type: [Array, Object],\n      required: false,\n      default: () => []\n    }\n  }\n})\nexport default class extends Vue {\n  private value: any\n  private placeholder: string\n  private options: any[] | { [key: string]: any }\n  private isArray: boolean\n  dropdownTrigger = null\n\n  created() {\n    this.isArray = Array.isArray(this.options as any[])\n  }\n\n  get label() {\n    if (this.value) {\n      return this.options[this.value] || this.value\n    }\n\n    if (this.placeholder) {\n      return this.placeholder\n    }\n\n    return 'Choose'\n  }\n\n  toggleDropdown(event) {\n    if (event && !this.dropdownTrigger) {\n      this.dropdownTrigger = event.currentTarget\n    } else {\n      this.dropdownTrigger = null\n    }\n  }\n\n  selectFromElementRecursive(element: HTMLElement) {\n    let depth = 0\n    while (element && ++depth < 3) {\n      if (element.classList && element.classList.contains('dropdown-item')) {\n        this.selectOption(element)\n\n        break\n      }\n\n      element = element.parentElement\n    }\n  }\n\n  selectOption(optionElement: HTMLElement) {\n    const index = Array.prototype.indexOf.call(\n      optionElement.parentElement.children,\n      optionElement\n    )\n\n    let value\n    if (this.isArray) {\n      value = this.options[index]\n    } else {\n      value = Object.keys(this.options)[index]\n    }\n\n    this.$emit('input', value)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropdownButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropdownButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DropdownButton.vue?vue&type=template&id=15158d72&\"\nimport script from \"./DropdownButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./DropdownButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Tuna from 'tunajs'\nimport store from '../store'\nimport {\n  findClosingBracketMatchIndex,\n  parseFunctionArguments\n} from '@/utils/helpers'\nimport workspacesService from './workspacesService'\n\nexport type AudioFunction = (audioService: AudioService, ratio: number) => void\n\nexport const audioParametersDescriptions = {\n  frequency: 'Tone frequency of the note you want to play (Hz)',\n  gain: `Determine how loud it should be (0 to 1 to avoid saturation)`,\n  fadeOut: `Duration of the OUT transition (in seconds, default is 1)`,\n  delay: `Wait n seconds before play the note`,\n  fadeIn: `Duration of the IN transition (in seconds, default is 0)`,\n  holdDuration: `Hold the note for n seconds (default 0)`,\n  osc: `Type of wave used for the note (can be triangle, square, sawtooth, sin etc)`,\n  startGain: `Initial gain (before fadeIn)`,\n  endGain: `Final gain (after fadeOut)`,\n  url: `Direct link to song (.mp3, .wav, .ogg) or name of already imported file`,\n  startTime: `Offset the start of the song at second n (to play only a part of it)`\n}\n\nexport const audioParametersDefinitions = {\n  play: [\n    'frequency',\n    'gain',\n    'fadeOut',\n    'delay',\n    'fadeIn',\n    'holdDuration',\n    'osc',\n    'startGain',\n    'endGain'\n  ],\n  playurl: [\n    'url',\n    'gain',\n    'holdDuration',\n    'delay',\n    'startTime',\n    'fadeIn',\n    'fadeOut',\n    'startGain',\n    'endGain'\n  ]\n}\n\nexport const audioDefaultParameters = {\n  play: {\n    frequency: 329.63,\n    gain: 1,\n    fadeOut: 1,\n    delay: 0,\n    fadeIn: 0,\n    holdDuration: 0,\n    osc: `'triangle'`,\n    startGain: 0.001,\n    endGain: 0.001\n  },\n  playurl: {\n    url:\n      \"'https://d7d3471nr939s.cloudfront.net/DeepHouseSessions_Noiz_SP/MP3/One+Shots/Bongo_08_73_SP.mp3?cb=6cfb91bb-f15f-432a-bfae-17ef22b22005'\",\n    gain: 1,\n    holdDuration: 1,\n    delay: 0,\n    startTime: 0,\n    fadeIn: 0,\n    fadeOut: 0,\n    startGain: 0.00001,\n    endGain: 0.00001\n  }\n}\n\nclass AudioService {\n  static savedAudioBuffers = {}\n\n  filtersOptions = {\n    HighPassFilter: {\n      frequency: 800, //20 to 22050\n      Q: 10, //0.001 to 100\n      gain: -10, //-40 to 40 (in decibels)\n      filterType: 'highpass', //lowpass, highpass, bandpass, lowshelf, highshelf, peaking, notch, allpass\n      bypass: 0\n    },\n    LowPassFilter: {\n      frequency: 1500, //20 to 22050\n      Q: 1, //0.001 to 100\n      gain: 0, //-40 to 40 (in decibels)\n      filterType: 'lowpass', //lowpass, highpass, bandpass, lowshelf, highshelf, peaking, notch, allpass\n      bypass: 0\n    },\n    Compressor: {\n      threshold: -1, //-100 to 0\n      makeupGain: 1, //0 and up (in decibels)\n      attack: 1, //0 to 1000\n      release: 0, //0 to 3000\n      ratio: 4, //1 to 20\n      knee: 5, //0 to 40\n      automakeup: true, //true/false\n      bypass: 0\n    },\n    Delay: {\n      feedback: 0.33, //0 to 1+\n      delayTime: 400 //1 to 10000 milliseconds\n    },\n    PingPongDelay: {\n      wetLevel: 0.6, //0 to 1\n      feedback: 0.01, //0 to 1\n      delayTimeLeft: 175, //1 to 10000 (milliseconds)\n      delayTimeRight: 100 //1 to 10000 (milliseconds)\n    },\n    Chorus: {\n      rate: 1.5, //0.01 to 8+\n      feedback: 0.4, //0 to 1+\n      depth: 0.7, //0 to 1\n      delay: 0.0045, //0 to 1\n      bypass: 0 //the value 1 starts the effect as bypassed, 0 or 1\n    }\n  }\n\n  context: AudioContext\n  tuna: any\n\n  output: any\n  count = 0\n  minTime = 0\n  gainNode: any\n\n  connect() {\n    console.log(`[sfx] connect`)\n    if (this.context) {\n      console.debug(`[sfx] context already exists -> abort`)\n      return\n    }\n\n    this.minTime = 0\n    this.count = 0\n\n    Vue.nextTick(() => {\n      this.bindContext()\n      this.bindOutput()\n    })\n  }\n\n  bindContext() {\n    // this.context = new AudioContext()\n    this.context = new ((window as any).AudioContext ||\n      (window as any).webkitAudioContext)()\n\n    let checkInProgress = false\n\n    if (this.context.state === 'suspended') {\n      const application = document.body\n\n      setTimeout(() => {\n        application.focus()\n      }, 500)\n\n      const resumeOnFocus = (() => {\n        if (checkInProgress) {\n          return\n        }\n\n        checkInProgress = true\n\n        console.log('[sfx] Yet another try to start AudioContext')\n\n        if (this.context && store.state.settings.useAudio) {\n          this.context.resume()\n        }\n\n        setTimeout(() => {\n          if (\n            !store.state.settings.useAudio ||\n            this.context.state !== 'suspended'\n          ) {\n            if (store.state.settings.useAudio) {\n              store.dispatch('app/showNotice', {\n                id: 'audio',\n                type: 'success',\n                title: 'Audio resumed successfully 🔊'\n              })\n            }\n\n            window.removeEventListener('focus', resumeOnFocus)\n            window.removeEventListener('blur', resumeOnFocus)\n            application.removeEventListener('click', resumeOnFocus)\n          } else if (this.context.state === 'suspended') {\n            store.dispatch('app/showNotice', {\n              id: 'audio',\n              type: 'error',\n              title:\n                'Browser prevented audio from playing\\nClick somewhere to resume.'\n            })\n          }\n\n          checkInProgress = false\n        }, 500)\n      }).bind(this)\n\n      window.addEventListener('blur', resumeOnFocus)\n      window.addEventListener('focus', resumeOnFocus)\n      application.addEventListener('click', resumeOnFocus)\n    } else {\n      store.dispatch('app/showNotice', {\n        id: 'audio',\n        type: 'success',\n        title: 'Audio enabled 🔊'\n      })\n    }\n\n    return this.context\n  }\n\n  bindOutput() {\n    if (!this.context) {\n      return\n    }\n\n    if (this.output) {\n      this.output.disconnect()\n      this.output = null\n    }\n\n    this.tuna = new Tuna(this.context)\n\n    const effects = []\n\n    for (const id in this.filtersOptions) {\n      if (!store.state.settings.audioFilters[id]) {\n        continue\n      }\n\n      let name = id\n\n      if (id === 'HighPassFilter' || id === 'LowPassFilter') {\n        name = 'Filter'\n      }\n\n      effects.push(new this.tuna[name](this.filtersOptions[id]))\n    }\n\n    this.gainNode = new this.tuna.Gain({\n      gain: store.state.settings.audioVolume\n    })\n\n    effects.push(this.gainNode)\n\n    if (effects.length) {\n      let source\n\n      for (const effect of effects) {\n        if (source) {\n          source.connect(effect)\n        }\n\n        source = effect\n      }\n\n      source.connect(this.context.destination)\n\n      console.debug(`[sfx] created output with ${effects.length} effect(s)`)\n\n      this.output = effects[0]\n    } else {\n      console.debug(`[sfx] created output (no effect)`)\n      this.output = this.context.destination\n    }\n  }\n\n  setVolume(gain: number) {\n    if (!this.gainNode) {\n      return\n    }\n\n    this.gainNode.gain.value = gain\n  }\n\n  fetchArrayBuffer(url: string) {\n    return fetch(url).then(res => res.arrayBuffer())\n  }\n\n  async retrieveArrayBuffer(name: string) {\n    const blob = (await workspacesService.getSound(name)).data\n    const reader = new FileReader()\n\n    return new Promise<ArrayBuffer>(resolve => {\n      reader.onloadend = event => resolve(event.target.result as ArrayBuffer)\n      reader.readAsArrayBuffer(blob)\n    })\n  }\n\n  async loadSoundBuffer(url) {\n    if (AudioService.savedAudioBuffers[url]) {\n      return AudioService.savedAudioBuffers[url]\n    }\n\n    let arrayBuffer: ArrayBuffer\n\n    if (url.indexOf('/') !== -1) {\n      arrayBuffer = await this.fetchArrayBuffer(url)\n    } else {\n      arrayBuffer = await this.retrieveArrayBuffer(url)\n    }\n\n    AudioService.savedAudioBuffers[url] = await this.context.decodeAudioData(\n      arrayBuffer\n    )\n  }\n\n  async playurl(\n    url?: string,\n    gain?: number,\n    holdDuration?: number,\n    delay?: number,\n    startTime?: number,\n    fadeIn?: number,\n    fadeOut?: number,\n    startGain?: number,\n    endGain?: number\n  ) {\n    if (\n      this.context.state !== 'running' ||\n      !AudioService.savedAudioBuffers[url]\n    ) {\n      return\n    }\n\n    const time = this.getNextTime(delay)\n\n    setTimeout(() => {\n      const gainNode = this.context.createGain()\n      const source = this.context.createBufferSource()\n\n      source.buffer = AudioService.savedAudioBuffers[url]\n\n      source.connect(gainNode)\n      gainNode.connect(this.output)\n\n      this.fade(\n        source,\n        gainNode,\n        time,\n        gain,\n        startGain,\n        fadeIn,\n        holdDuration,\n        fadeOut,\n        endGain,\n        startTime\n      )\n    }, (time - this.context.currentTime) * 1000)\n  }\n\n  async play(\n    frequency?: number,\n    gain?: number,\n    fadeOut?: number,\n    delay?: number,\n    fadeIn?: number,\n    holdDuration?: number,\n    osc?: OscillatorType,\n    startGain?: number,\n    endGain?: number\n  ) {\n    if (this.context.state !== 'running') {\n      return\n    }\n\n    let time = this.getNextTime(delay)\n\n    setTimeout(() => {\n      if (!this.context) {\n        return\n      }\n\n      time = this.context.currentTime\n\n      const source = this.context.createOscillator()\n      const gainNode = this.context.createGain()\n      source.frequency.value = frequency\n      source.type = osc\n\n      gainNode.connect(this.output)\n      source.connect(gainNode)\n\n      this.fade(\n        source,\n        gainNode,\n        time,\n        gain,\n        startGain,\n        fadeIn,\n        holdDuration,\n        fadeOut,\n        endGain\n      )\n    }, (time - this.context.currentTime) * 1000)\n  }\n\n  fade(\n    source: OscillatorNode | AudioBufferSourceNode,\n    gainNode,\n    time,\n    gain,\n    startGain,\n    fadeIn,\n    holdDuration,\n    fadeOut,\n    endGain,\n    startTime?\n  ) {\n    source.onended = () => {\n      gainNode.disconnect()\n      this.count--\n    }\n\n    if (fadeIn) {\n      gainNode.gain.setValueAtTime(startGain, time)\n\n      gainNode.gain.exponentialRampToValueAtTime(gain, time + fadeIn)\n\n      if (fadeOut) {\n        gainNode.gain.setValueAtTime(gain, time + fadeIn + holdDuration)\n\n        setTimeout(() => {\n          gainNode.gain.exponentialRampToValueAtTime(\n            endGain,\n            time + fadeIn + holdDuration + fadeOut\n          )\n        }, (fadeIn + holdDuration) * 1000)\n      }\n    } else {\n      gainNode.gain.setValueAtTime(gain, time)\n\n      if (fadeOut) {\n        gainNode.gain.exponentialRampToValueAtTime(\n          endGain,\n          time + fadeIn + holdDuration + fadeOut\n        )\n      }\n    }\n\n    if (typeof startTime !== 'undefined') {\n      source.start(time, startTime)\n    } else {\n      source.start(time)\n    }\n\n    source.stop(time + fadeIn + holdDuration + fadeOut)\n  }\n\n  getNextTime(delay) {\n    let cueTime = 0\n\n    if (!this.minTime) {\n      this.minTime = this.context.currentTime\n    } else {\n      this.minTime = Math.max(this.minTime, this.context.currentTime)\n      if (!delay && this.count) {\n        cueTime =\n          this.count > 10\n            ? this.count > 20\n              ? this.count > 100\n                ? 0.01\n                : 0.02\n              : 0.04\n            : 0.08\n      }\n    }\n\n    const time = this.minTime + cueTime + delay\n\n    this.minTime += cueTime\n    this.count++\n\n    return time\n  }\n\n  reconnect() {\n    this.disconnect()\n    this.connect()\n  }\n\n  disconnect() {\n    console.log(`[sfx] disconnect`)\n    if (this.context && this.context.state === 'running') {\n      console.debug(`[sfx] close context`)\n      this.context.close()\n    }\n\n    if (this.output) {\n      this.output.disconnect()\n    }\n\n    this.context = null\n\n    this.output = null\n\n    store.dispatch('app/showNotice', {\n      id: 'audio',\n      title: 'Audio disabled 🔇'\n    })\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async buildAudioFunction(\n    litteral,\n    side,\n    frequencyMultiplier: number = null,\n    gainMultiplier: number = null,\n    test = false\n  ) {\n    litteral = `'use strict'; \n    var gain = Math.sqrt(ratio);\n    ${litteral}`\n\n    const FUNCTION_LOOKUP_REGEX = /(play|playurl)\\(/g\n    let functionMatch = null\n\n    if (gainMultiplier === null) {\n      gainMultiplier = 1\n    }\n\n    try {\n      do {\n        if ((functionMatch = FUNCTION_LOOKUP_REGEX.exec(litteral))) {\n          const originalParameters = litteral.slice(\n            functionMatch.index + functionMatch[0].length,\n            findClosingBracketMatchIndex(\n              litteral,\n              functionMatch.index + functionMatch[0].length - 1\n            )\n          )\n\n          const functionArguments = parseFunctionArguments(originalParameters)\n\n          if (!functionArguments) {\n            throw new Error(\n              'Invalid argument(s) for ' + functionMatch[0] + ' function'\n            )\n          }\n\n          const defaultArguments = Object.values(\n            audioDefaultParameters[functionMatch[1] as 'play' | 'playurl']\n          )\n\n          for (let i = 0; i < defaultArguments.length; i++) {\n            let argumentValue = defaultArguments[i]\n            if (typeof functionArguments[i] !== 'undefined') {\n              if (typeof functionArguments[i] === 'string') {\n                functionArguments[i] = functionArguments[i].trim()\n\n                const stringProvided = /^('|\").*('|\")$/.test(\n                  functionArguments[i]\n                )\n                const defaultExpectedString = /^('|\").*('|\")$/.test(\n                  defaultArguments[i] as any\n                )\n\n                if (stringProvided && !defaultExpectedString) {\n                  functionArguments[i] = defaultArguments[i]\n                } else if (!stringProvided && defaultExpectedString) {\n                  functionArguments[i] = `'${functionArguments[i]}'`\n                }\n              }\n\n              try {\n                argumentValue = JSON.parse(functionArguments[i])\n              } catch (error) {\n                argumentValue = functionArguments[i]\n              }\n\n              if (argumentValue === null || argumentValue === '') {\n                argumentValue = defaultArguments[i]\n              }\n            }\n\n            if (argumentValue === null) {\n              functionArguments[i] = 'null'\n            } else {\n              functionArguments[i] = argumentValue\n            }\n          }\n\n          if (functionMatch[1] === 'play') {\n            if (\n              +functionArguments[0] &&\n              frequencyMultiplier &&\n              frequencyMultiplier !== 1\n            ) {\n              functionArguments[0] *= frequencyMultiplier\n            }\n          } else {\n            await this.loadSoundBuffer(\n              functionArguments[0].slice(1, functionArguments[0].length - 1)\n            )\n          }\n\n          if (gainMultiplier && gainMultiplier !== 1) {\n            for (let i = 1; i <= 2; i++) {\n              if (+functionArguments[1]) {\n                functionArguments[1] *= gainMultiplier\n              } else {\n                functionArguments[1] =\n                  gainMultiplier + '*(' + functionArguments[1] + ')'\n              }\n            }\n          }\n\n          const finalParameters = functionArguments.join(', ')\n\n          litteral = litteral.replace(\n            '(' + originalParameters + ')',\n            '(' + finalParameters + ')'\n          )\n        }\n      } while (functionMatch)\n\n      litteral = litteral.replaceAll('play(', \"audioService['play'](\")\n      litteral = litteral.replaceAll('playurl(', \"audioService['playurl'](\")\n\n      return new Function('audioService', 'ratio', litteral) as AudioFunction\n    } catch (error) {\n      console.warn('invalid audio script', litteral)\n\n      if (test) {\n        throw error\n      } else {\n        store.dispatch('app/showNotice', {\n          id: 'audio-script-error',\n          type: 'error',\n          title:\n            `Please check that ${side} audio script is syntactically correct.` +\n            (error.message ? `<br>${error.message}` : ''),\n          timeout: 60000\n        })\n\n        return new Function() as AudioFunction\n      }\n    }\n  }\n\n  async playOnce(url) {\n    await this.loadSoundBuffer(url)\n\n    this.playurl(url, 1, 1, 0, 0, 0, 0, 0.00001, 0.00001)\n  }\n}\n\nexport default new AudioService()\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQ5JREFUeNrslz0KwjAUgJNCF3EoiIuniIu7eJF6BE9kLyLuLvYULiJ0EJdC8QWe4NA0eT91sQ9CWkj7ffnhJTHm38MKvs2hLPD5AaX9pcAHnuF7x5WwCnAjkbBKcLYERSBDeB5p16JEpymQCidL2BHgJAk7EjxZIiZQQJkJc80LSsMR0IBHJYYEVspZ90YVWArmvm8t3M0UU1AW4XO3uULllDj1/HRZhzJdKJxiR91Qqg1FpShQsVIxTMMRqlIKh+Hfc0bAx8HPn2Tu8R/87RhGwe8JZ8aa8PAt9L4RH0gYEklw0pGMIJEMJx9KQcKhRBFo0iC8FicihgQZzr6Y9Eiw4KKr2ZeE4cKn8PEWYACxq1U+/EnHbQAAAABJRU5ErkJggg==\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=style&index=0&id=391e405b&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDialog.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dialog\",class:{ '-mask': _vm.mask },on:{\"click\":_vm.clickOutside}},[_c('div',{ref:\"dialogContent\",staticClass:\"dialog-content\",class:_vm.contentClass,style:({ transform: (\"translate(\" + (_vm.delta.x) + \"px, \" + (_vm.delta.y) + \"px)\") }),on:{\"click\":function($event){$event.stopPropagation();},\"mousedown\":_vm.onMouseDown}},[(_vm.header)?_c('header',{style:({ color: _vm.headerColor, background: _vm.headerBackground }),on:{\"mousedown\":_vm.handleDrag,\"touchstart\":_vm.handleDrag}},[_vm._t(\"header\"),_c('div',{staticClass:\"dialog-controls\"},[_vm._t(\"controls\"),_c('a',{staticClass:\"dialog-controls__close -link -text -no-grab\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.close,\"touchend\":_vm.close}},[_c('i',{staticClass:\"icon-cross\"})])],2)],2):_vm._e(),_c('div',{staticClass:\"dialog-body hide-scrollbar\",class:_vm.bodyClass},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport dialogService from '@/services/dialogService'\nimport { getColorLuminance, splitColorCode } from '@/utils/colors'\nimport { Component, Vue } from 'vue-property-decorator'\nimport { getEventCords } from '../../utils/helpers'\n\n@Component({\n  name: 'Dialog',\n  props: {\n    open: {\n      type: Boolean\n    },\n    mask: {\n      type: Boolean,\n      default: true\n    },\n    header: {\n      type: Boolean,\n      default: true\n    },\n    headerBackground: {\n      required: false\n    },\n    bodyClass: {\n      required: false\n    },\n    contentClass: {\n      required: false\n    },\n    startPosition: {\n      required: false\n    }\n  }\n})\nexport default class extends Vue {\n  startPosition: { x: number; y: number }\n  headerBackground: string\n  delta = { x: 0, y: 0 }\n  target = { x: 0, y: 0 }\n  animating = false\n  private _deinteractionTimeout: number\n  private _handleRelease: () => void\n  private _handleDragging: (evnt: any) => void\n\n  $refs!: {\n    dialogContent: HTMLElement\n  }\n\n  get headerColor() {\n    if (this.headerBackground) {\n      const lum = getColorLuminance(splitColorCode(this.headerBackground))\n      return lum > 0 ? 'black' : 'white'\n    }\n\n    return null\n  }\n\n  created() {\n    if (this.startPosition) {\n      if (this.startPosition.x) {\n        this.delta.x = window.innerWidth * this.startPosition.x\n      }\n\n      if (this.startPosition.y) {\n        this.delta.y = window.innerHeight * this.startPosition.y\n      }\n    }\n  }\n\n  beforeDestroy() {\n    if (this._handleRelease) {\n      this._handleRelease()\n    }\n  }\n\n  handleDrag(event) {\n    if (\n      event.button === 2 ||\n      event.target.classList.contains('-no-grab') ||\n      event.target.parentElement.classList.contains('-no-grab')\n    ) {\n      return\n    }\n    event.preventDefault()\n    const lastMove = Object.assign({}, this.delta)\n    const startPosition = getEventCords(event)\n    const startOffset = this.$refs.dialogContent.offsetTop\n    const minY = startOffset * -1\n\n    this._handleDragging = evnt => {\n      const endPosition = getEventCords(evnt)\n\n      const x = lastMove.x + endPosition.x - startPosition.x\n      const y = Math.max(minY, lastMove.y + endPosition.y - startPosition.y)\n\n      this.target.x = x\n      this.target.y = y\n\n      this.animate()\n    }\n    this._handleRelease = () => {\n      document.removeEventListener('mousemove', this._handleDragging)\n      document.removeEventListener('mouseup', this._handleRelease)\n      document.removeEventListener('touchmove', this._handleDragging)\n      document.removeEventListener('touchend', this._handleRelease)\n\n      delete this._handleRelease\n    }\n    document.addEventListener('mousemove', this._handleDragging)\n    document.addEventListener('mouseup', this._handleRelease)\n    document.addEventListener('touchmove', this._handleDragging)\n    document.addEventListener('touchend', this._handleRelease)\n  }\n\n  onMouseDown() {\n    if (this._deinteractionTimeout) {\n      clearTimeout(this._deinteractionTimeout)\n    }\n\n    dialogService.isInteracting = true\n\n    const handler = () => {\n      document.removeEventListener('mouseup', handler)\n\n      this._deinteractionTimeout = setTimeout(() => {\n        dialogService.isInteracting = false\n        this._deinteractionTimeout = null\n      }, 100)\n    }\n\n    document.addEventListener('mouseup', handler)\n  }\n\n  animate() {\n    this.delta.x = this.target.x\n    this.delta.y = this.target.y\n    const distance =\n      Math.abs(this.delta.x - this.target.x) +\n      Math.abs(this.delta.y - this.target.y)\n\n    if (distance > 10 && !this.animating) {\n      this.animating = true\n      return requestAnimationFrame(this.animate)\n    }\n\n    this.animating = false\n  }\n\n  clickOutside() {\n    if (dialogService.isInteracting) {\n      return false\n    }\n\n    this.$emit('clickOutside')\n  }\n\n  close() {\n    this.$emit('clickOutside')\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=28e8fde3&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\",staticClass:\"slider\",class:{ '-disabled': _vm.disabled }},[_c('div',{ref:\"track\",staticClass:\"slider__track\"},[_c('div',{ref:\"fill\",staticClass:\"slider__fill\",on:{\"mousedown\":_vm.select,\"touchstart\":_vm.select}}),(_vm.showCompletion && _vm.handles[0])?_c('div',{staticClass:\"slider__completion\",style:((\"width: \" + (_vm.handles[0].positionX) + \"px\"))}):_vm._e(),_vm._l((_vm.handles),function(handle,index){return _c('div',{key:index,staticClass:\"slider__handle\",style:((\"transform: translate(\" + (handle.positionX) + \"px, \" + (handle.positionY) + \"px); background-color: \" + (handle.color) + \";\")),on:{\"mousedown\":_vm.select,\"touchstart\":_vm.select}},[(_vm.label)?_c('div',{staticClass:\"slider__label\"},[_vm._t(\"tooltip\",function(){return [_vm._v(\" \"+_vm._s(handle.value)+\" \")]},{\"value\":handle.value})],2):_vm._e()])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"slider\" ref=\"wrapper\" :class=\"{ '-disabled': disabled }\">\n    <div class=\"slider__track\" ref=\"track\">\n      <div\n        class=\"slider__fill\"\n        ref=\"fill\"\n        @mousedown=\"select\"\n        @touchstart=\"select\"\n      ></div>\n      <div\n        v-if=\"showCompletion && handles[0]\"\n        class=\"slider__completion\"\n        :style=\"`width: ${handles[0].positionX}px`\"\n      ></div>\n      <div\n        class=\"slider__handle\"\n        v-for=\"(handle, index) in handles\"\n        :key=\"index\"\n        @mousedown=\"select\"\n        @touchstart=\"select\"\n        :style=\"\n          `transform: translate(${handle.positionX}px, ${handle.positionY}px); background-color: ${handle.color};`\n        \"\n      >\n        <div class=\"slider__label\" v-if=\"label\">\n          <slot name=\"tooltip\" :value=\"handle.value\">\n            {{ handle.value }}\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mix } from 'color-fns'\nimport { debounce, getClosestValue, getEventCords } from '@/utils/helpers'\n\nexport default {\n  name: 'VerteSlider',\n  props: {\n    gradient: Array,\n    colorCode: { type: Boolean, default: false },\n    label: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    min: { type: Number, default: 0 },\n    max: { type: Number, default: 255 },\n    step: { type: Number, default: 1 },\n    value: { type: Number, default: 0 },\n    handlesValue: { type: Array, default: () => [0] },\n    showCompletion: { type: Boolean, default: true },\n    log: { type: Boolean, default: false }\n  },\n  data: () => ({\n    fill: {\n      translate: 0,\n      scale: 0\n    },\n    multiple: false,\n    currentValue: 0,\n    handles: [],\n    values: []\n  }),\n  watch: {\n    gradient(val) {\n      this.initGradient(val)\n      this.reloadHandlesColor()\n    },\n    values() {\n      this.multiple = this.values.length > 1\n      this.fill = this.multiple ? false : this.fill || {}\n    },\n    value(val, oldVal) {\n      if (val === oldVal || val === this.currentValue) return\n\n      this.updateValue(this.value, true)\n    }\n  },\n  methods: {\n    init() {\n      this.$emitInputEvent = debounce(() => {\n        this.$emit('input', this.currentValue)\n      })\n      this.multiple = this.values.length > 1\n      this.values = this.handlesValue\n      this.handles = this.handlesValue.map(value => {\n        return { value, positionX: 0, positionY: 0, color: '#fff' }\n      })\n      if (this.values.length === 1) {\n        this.values[0] = Number(this.value)\n      }\n      this.values.sort()\n\n      this.initElements()\n      if (this.gradient) {\n        this.initGradient(this.gradient)\n      }\n      this.initEvents()\n      this.values.forEach((handle, index) => {\n        this.activeHandle = index\n        this.updateValue(handle, true)\n      })\n    },\n    initElements() {\n      this.wrapper = this.$refs.wrapper\n      this.track = this.$refs.track\n      this.fill = this.$refs.fill\n\n      if (this.classes) {\n        this.wrapper.classList.add(...this.classes)\n      }\n    },\n    initGradient(gradient) {\n      if (gradient.length > 1) {\n        this.fill.style.backgroundImage = `linear-gradient(90deg, ${gradient})`\n        return\n      }\n      this.fill.style.backgroundImage = ''\n      this.fill.style.backgroundColor = gradient[0]\n      this.handles.forEach(handle => {\n        handle.style.color = gradient[0]\n      })\n    },\n    handleResize() {\n      this.updateSize()\n      this.updateValue(this.currentValue, true)\n    },\n    initEvents() {\n      window.addEventListener('resize', this.handleResize)\n    },\n    beforeDestroy() {\n      this.removeEventListener('resize', this.handleResize)\n    },\n    /**\n     * fire select events\n     */\n    select(event) {\n      event.preventDefault()\n\n      // check if  left mouse is clicked\n      if (event.buttons === 2) return\n\n      if (this._dblClickTimeout) {\n        clearTimeout(this._dblClickTimeout)\n      }\n\n      // check if a double click\n      if (this.pendingDblClick) {\n        this.pendingDblClick = false\n        this.$emit('reset')\n        return\n      }\n\n      // next click might be double click, for the next 150ms\n      this.pendingDblClick = true\n\n      this.updateSize()\n      this.track.classList.add('slider--dragging')\n      this.ticking = false\n\n      const stepValue = this.getStepValue(event)\n\n      if (this.multiple) {\n        const closest = getClosestValue(this.values, stepValue)\n        this.activeHandle = this.values.indexOf(closest)\n      }\n      this.updateValue(stepValue)\n\n      this.tempDrag = this.dragging.bind(this)\n      this.tempRelease = this.release.bind(this)\n      document.addEventListener('mousemove', this.tempDrag)\n      document.addEventListener('touchmove', this.tempDrag)\n      document.addEventListener('touchend', this.tempRelease)\n      document.addEventListener('mouseup', this.tempRelease)\n    },\n    /**\n     * dragging motion\n     */\n    dragging(event) {\n      const stepValue = this.getStepValue(event)\n      if (!this.ticking) {\n        window.requestAnimationFrame(() => {\n          this.updateValue(stepValue)\n          this.ticking = false\n        })\n\n        this.ticking = true\n      }\n    },\n    /**\n     * release handler\n     */\n    release() {\n      this.track.classList.remove('slider--dragging')\n      document.removeEventListener('mousemove', this.tempDrag)\n      document.removeEventListener('touchmove', this.tempDrag)\n      document.removeEventListener('mouseup', this.tempRelease)\n      document.removeEventListener('touchend', this.tempRelease)\n\n      if (this.pendingDblClick) {\n        this._dblClickTimeout = window.setTimeout(() => {\n          this.pendingDblClick = false\n          this._dblClickTimeout = null\n        }, 150)\n      }\n    },\n    getStepValue(event) {\n      const { x } = getEventCords(event)\n\n      let value\n\n      if (this.log) {\n        const minLog = Math.max(0, Math.log(this.min + 1) || 0)\n        const minLeft = (minLog / Math.log(this.max + 1)) * this.width\n\n        const logPosition = Math.max(\n          (this.width / 3) * -1,\n          Math.min(this.width * 1.5, x - this.left)\n        )\n\n        value = Math.max(\n          0,\n          Math.exp(\n            ((minLeft + (logPosition / this.width) * (this.width - minLeft)) /\n              this.width) *\n              Math.log(this.max + 1)\n          ) - 1\n        )\n      } else {\n        const mouseValue = x - this.left\n        const stepCount = parseInt(mouseValue / this.stepWidth + 0.5, 10)\n        value = stepCount * this.step + this.min\n      }\n\n      if (!this.decimalsCount) {\n        return value\n      }\n\n      return Number(value.toFixed(this.decimalsCount))\n    },\n    updateSize() {\n      const trackRect = this.track.getBoundingClientRect()\n\n      this.left = trackRect.left\n\n      this.width = this.$el.clientWidth\n\n      if (!this.width) {\n        this.width = parseInt(this.track.parentElement.style.width)\n      }\n\n      if (!this.width && trackRect.width) {\n        this.width = trackRect.width\n      }\n\n      this.stepWidth = (this.width / (this.max - this.min)) * this.step\n    },\n    /**\n     * get the filled area percentage\n     * @param  {Object} slider\n     * @param  {Number} value\n     * @return {Number}\n     */\n    getPositionPercentage(value) {\n      if (this.log) {\n        return Math.log(value + 1) / Math.log(this.max + 1)\n      } else {\n        return (value - this.min) / (this.max - this.min)\n      }\n    },\n    normalizeValue(value) {\n      if (isNaN(Number(value))) {\n        return this.value\n      }\n      if (this.multiple) {\n        const prevValue = this.values[this.activeHandle - 1] || this.min\n        const nextValue = this.values[this.activeHandle + 1] || this.max\n        value = Math.min(Math.max(Number(value), prevValue), nextValue)\n      }\n      return Math.min(Math.max(Number(value), this.min), this.max)\n    },\n    addHandle(value) {\n      const closest = getClosestValue(this.values, value)\n      const closestIndex = this.values.indexOf(closest)\n      const closestValue = this.values[closestIndex]\n      const newIndex = closestValue <= value ? closestIndex + 1 : closestIndex\n      this.handles.splice(newIndex, 0, {\n        value,\n        positionX: 0,\n        positionY: 0,\n        color: '#fff'\n      })\n      this.values.splice(newIndex, 0, value)\n\n      this.activeHandle = newIndex\n      this.currentValue = null\n      this.updateValue(value)\n    },\n    removeHandle(index) {\n      this.handles.splice(index, 1)\n      this.values.splice(index, 1)\n      this.activeHandle = index === 0 ? index + 1 : index - 1\n    },\n    /**\n     * get the handle color\n     * @param  {Number} positionPercentage\n     * @return {Number} handle hex color code\n     */\n    getHandleColor(positionPercentage) {\n      const colorCount = this.gradient.length - 1\n      const region = positionPercentage\n      for (let i = 1; i <= colorCount; i++) {\n        // check the current zone\n        if (region >= (i - 1) / colorCount && region <= i / colorCount) {\n          // get the active color percentage\n          const colorPercentage =\n            (region - (i - 1) / colorCount) / (1 / colorCount)\n          // return the mixed color based on the zone boundary colors\n          return mix(this.gradient[i - 1], this.gradient[i], colorPercentage)\n        }\n      }\n      return 'rgb(0, 0, 0)'\n    },\n    /**\n     * update the slider fill, value and color\n     * @param {Number} value\n     */\n\n    reloadHandlesColor() {\n      this.handles.forEach((handle, index) => {\n        const positionPercentage = this.getPositionPercentage(handle.value)\n        const color = this.getHandleColor(positionPercentage)\n        this.handles[index].color = color.toString()\n      })\n    },\n\n    updateValue(value, muted = false) {\n      // if (Number(value) === this.value) return;\n\n      window.requestAnimationFrame(() => {\n        const normalized = this.normalizeValue(value)\n        const positionPercentage = this.getPositionPercentage(normalized)\n\n        if (this.fill) {\n          this.fill.translate = positionPercentage * this.width\n          this.fill.scale = 1 - positionPercentage\n        }\n\n        this.values[this.activeHandle] = normalized\n        this.handles[this.activeHandle].value = normalized\n\n        this.handles[this.activeHandle].positionX =\n          positionPercentage * this.width\n\n        this.currentValue = normalized\n\n        if (this.gradient) {\n          const color = this.getHandleColor(positionPercentage)\n          this.handles[this.activeHandle].color = color.toString()\n          if (this.colorCode) {\n            this.currentValue = color\n          }\n        }\n\n        if (muted) return\n        this.$emitInputEvent()\n      })\n    }\n  },\n  created() {\n    const stepSplited = this.step.toString().split('.')[1]\n    this.currentValue = this.value\n    this.decimalsCount = stepSplited ? stepSplited.length : 0\n  },\n  mounted() {\n    this.init()\n\n    this.$nextTick(() => {\n      this.updateSize()\n      this.updateValue(undefined, true)\n    })\n  },\n  destroyed() {\n    window.removeEventListener('resize', this.handleResize)\n\n    if (this._updateSizeTimeout) {\n      clearTimeout(this._updateSizeTimeout)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.slider {\n  position: relative;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n\n  &.-alpha {\n    .slider__track {\n      background-image: $checkerboard;\n      background-size: 6px 6px;\n      background-position: 0 0, 3px -3px, 0 3px, -3px 0px;\n    }\n  }\n\n  &.-disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n\n  &:hover,\n  &--dragging {\n    .slider__label {\n      visibility: visible;\n      opacity: 1;\n    }\n  }\n}\n\n.slider__input {\n  margin-bottom: 0;\n  padding: 0.3em;\n  margin-left: 0.2em;\n  max-width: 70px;\n  width: 20%;\n  border: 0;\n  text-align: center;\n  font-size: 12px;\n  -webkit-appearance: none;\n  -moz-appearance: textfield;\n\n  &::-webkit-inner-spin-button,\n  &::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  &:focus {\n    outline: none;\n    border-color: $blue;\n  }\n}\n\n.slider__track {\n  position: relative;\n  flex: 1;\n  margin: 0;\n  width: auto;\n  height: 8px;\n  background: var(--theme-background-200);\n  will-change: transfom;\n  border-radius: 10px;\n  cursor: pointer;\n  padding: 0;\n}\n\n.slider__handle {\n  position: relative;\n  position: absolute;\n  top: 0;\n  left: 0;\n  will-change: transform;\n  color: black;\n  margin: -0.25rem -0.5rem;\n  width: 1rem;\n  height: 1rem;\n  border: 0;\n  background-color: currentColor;\n  border-radius: 50%;\n  cursor: grab;\n  box-shadow: 0 1px 0 1px rgba(black, 0.2);\n\n  &:active,\n  &:hover {\n    box-shadow: 0 0 0 0.5em rgba(white, 0.2);\n  }\n\n  &:active {\n    cursor: grabbing;\n  }\n}\n\n.slider__label {\n  position: absolute;\n  bottom: 2rem;\n  left: 50%;\n  z-index: 999;\n  padding: 0.5rem;\n  min-width: 1rem;\n  border-radius: 4px;\n  filter: drop-shadow(-1em -1em 3em var(--theme-background-base));\n  color: white;\n  background-color: rgba(black, 0.75);\n  text-align: center;\n  font-size: 14px;\n  line-height: 1rem;\n  transform: translate(-50%, 0);\n  white-space: nowrap;\n  visibility: hidden;\n  opacity: 0;\n\n  &:before {\n    position: absolute;\n    bottom: -0.5rem;\n    left: 50%;\n    display: block;\n    width: 0;\n    height: 0;\n    border-width: 0.5rem 0.5rem 0 0.5rem;\n    border-style: solid;\n    border-color: rgba(black, 0.75) transparent transparent transparent;\n    content: '';\n    transform: translate3d(-50%, 0, 0);\n  }\n}\n\n.slider__fill {\n  width: 100%;\n  height: 100%;\n  transform-origin: left top;\n  border-radius: 10px;\n}\n\n.slider__completion {\n  position: absolute;\n  top: 0;\n  height: 100%;\n\n  border-radius: 10px;\n  background-color: var(--theme-buy-base);\n\n  pointer-events: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Slider.vue?vue&type=template&id=a1b85f3c&\"\nimport script from \"./Slider.vue?vue&type=script&lang=js&\"\nexport * from \"./Slider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Slider.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn color-picker-control\",on:{\"click\":_vm.openPicker}},[_c('div',{staticClass:\"color-picker-control__color\",style:({\n      backgroundColor: _vm.value\n    })}),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"color-picker-control__wrapper\"},[_c('i',{staticClass:\"icon-dropper\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <button class=\"btn color-picker-control\" @click=\"openPicker\">\n    <div\n      class=\"color-picker-control__color\"\n      :style=\"{\n        backgroundColor: value\n      }\"\n    ></div>\n    <div class=\"color-picker-control__wrapper\">\n      <i class=\"icon-dropper\"></i>\n    </div>\n  </button>\n</template>\n\n<script>\nimport dialogService from '../../../services/dialogService'\n\nexport default {\n  name: 'ColorPickerControl',\n  props: {\n    value: {\n      type: String,\n      default: '#000'\n    },\n    label: {\n      type: String\n    },\n    allowNull: {\n      type: Boolean\n    }\n  },\n  data: () => ({\n    dialogInstance: null\n  }),\n  beforeDestroy() {\n    if (this.dialogInstance) {\n      this.dialogInstance.close()\n    }\n  },\n  methods: {\n    async openPicker() {\n      let colorDidChanged = false\n      let timeout\n\n      this.dialogInstance = await dialogService.openPicker(\n        this.value,\n        color => {\n          if (timeout) {\n            clearTimeout(timeout)\n          }\n          colorDidChanged = true\n\n          timeout = setTimeout(() => {\n            timeout = null\n\n            this.$emit('input', color)\n          }, 500)\n        },\n        this.label,\n        () => this.$emit('close', colorDidChanged),\n        this.allowNull\n      )\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.color-picker-control {\n  background-color: transparent !important;\n  background-image: $checkerboard;\n  background-size: 6px 6px;\n  background-position: 0 0, 3px -3px, 0 3px, -3px 0px;\n  position: relative;\n  overflow: hidden;\n  border: 1px solid transparent;\n\n  &__wrapper {\n    position: relative;\n    z-index: 1;\n  }\n\n  &__color {\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    position: absolute;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPickerControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPickerControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ColorPickerControl.vue?vue&type=template&id=0116c0c8&scoped=true&\"\nimport script from \"./ColorPickerControl.vue?vue&type=script&lang=js&\"\nexport * from \"./ColorPickerControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ColorPickerControl.vue?vue&type=style&index=0&id=0116c0c8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0116c0c8\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAS5JREFUeNrsljEOgjAUQIuEGJ1c3D0C3kDdTTyCB3F09wgewl2OIEdwN5o6SFQM+Jt8TAeV/t8fF2zyQ4D+/15bKCjV9BZwExebSQyHBE/Hy+k2/ZmABe/hJc2VCATgykciEIKzJQIC3EB3EIOarnuIIUhol7otAjxxgCvsk2CO/wxY8Jj4uKS4HJot4AF3lqhbgpUHXGHumvUMwOhN4lxgs5thLfIMSMBftUBiRBVIBQW0cL1/a8j/QB8iEuLkEAfqWxAJDjTi7AOZoMDl043wS9IV7/vOhBnImSMgIZHhJqS4ApVE27Gv3e4Qp7pOrkWpEjnCSymBkiBh4EeIwqUwZVpdJEhwxVhXI3GD6L7ZxAoqnCNgS3QsiQr+oBYLma9XYUmUCM//XzZOewowABKyYnH/TytxAAAAAElFTkSuQmCC\"","export function isTouchSupported() {\n  const prefixes = ' -webkit- -moz- -o- -ms- '.split(' ')\n  const mq = function(query) {\n    return window.matchMedia(query).matches\n  }\n\n  if ('ontouchstart' in window) {\n    return true\n  }\n\n  // include the 'heartz' as a way to have a non matching MQ to help terminate the join\n  // https://git.io/vznFH\n  const query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('')\n  return mq(query)\n}\n\nexport function getEventOffset(event) {\n  let x = event.offsetX\n  let y = event.offsetY\n\n  if (event.touches && event.touches.length) {\n    const rect = event.target.getBoundingClientRect()\n\n    x = event.touches[0].pageX - rect.left\n    y = event.touches[0].pageY - rect.top\n  }\n\n  return { x, y }\n}\n","export const APPLICATION_START_TIME = Date.now()\nexport const MASTER_DOMAIN = /aggr.trade$/.test(window.location.hostname)\nexport const MAX_BARS_PER_CHUNKS = 10000\nexport const GRID_COLS = 24\nexport const PRODUCTS_EXPIRES_AFTER = 1000 * 60 * 60 * 24 * 7\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"input\",staticClass:\"w-100\",attrs:{\"contenteditable\":\"\",\"placeholder\":_vm.placeholder},on:{\"input\":_vm.onInput,\"keydown\":_vm.onKeydown}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport { isTouchSupported } from '@/utils/touchevent'\nimport { Component, Vue } from 'vue-property-decorator'\nimport { getTimeframeForHuman } from '../../utils/helpers'\n\n@Component({\n  name: 'TimeframeInput',\n  props: {\n    hero: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    placeholder: {\n      type: String,\n      required: false,\n      default: null\n    },\n    autofocus: {\n      type: String,\n      required: false,\n      default: null\n    }\n  }\n})\nexport default class extends Vue {\n  disabled\n\n  $refs!: {\n    input: HTMLInputElement\n  }\n\n  mounted() {\n    if (!isTouchSupported()) {\n      this.$nextTick(() => {\n        this.$refs.input.focus()\n      })\n    }\n  }\n\n  onKeydown(event) {\n    if (event.which === 13) {\n      event.preventDefault()\n\n      this.$emit('submit', this.format(event.currentTarget.innerText))\n\n      this.$refs.input.innerText = ''\n    }\n  }\n\n  format(input) {\n    const trimmed = input.trim()\n\n    let output\n\n    if (/t$|ticks?$/i.test(trimmed)) {\n      return (output = parseInt(trimmed) + 't')\n    } else {\n      if (/d$/i.test(trimmed)) {\n        output = parseFloat(trimmed) * 60 * 60 * 24\n      } else if (/h$/i.test(trimmed)) {\n        output = parseFloat(trimmed) * 60 * 60\n      } else if (/m$/i.test(trimmed)) {\n        output = parseFloat(trimmed) * 60\n      } else if (/ms$/i.test(trimmed)) {\n        output = parseFloat(trimmed) / 1000\n      } else {\n        output = parseFloat(trimmed)\n      }\n    }\n\n    return output\n  }\n\n  onInput(event) {\n    const value = this.format(event.currentTarget.innerText) || null\n    let label\n    if (value) {\n      label = getTimeframeForHuman(value)\n    } else {\n      label = event.currentTarget.innerText\n    }\n\n    if (!label || !label.length) {\n      return this.$emit('input', null)\n    }\n\n    this.$emit('input', {\n      value,\n      label\n    })\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeframeInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeframeInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TimeframeInput.vue?vue&type=template&id=2dab96c8&\"\nimport script from \"./TimeframeInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./TimeframeInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"js/aggregator.5ba741f4.worker.js\");\n}\n","import store from '@/store'\nimport { AggregatorPayload } from '@/types/types'\nimport { randomString } from '@/utils/helpers'\nimport EventEmitter from 'eventemitter3'\n\nimport Worker from 'worker-loader!@/worker/aggregator'\nimport {\n  countDecimals,\n  marketDecimals,\n  getStoredProductsOrFetch,\n  parseMarket,\n  stripStable\n} from './productsService'\nimport workspacesService from './workspacesService'\n\nclass AggregatorService extends EventEmitter {\n  public worker: Worker\n  private _normalizeDecimalsTimeout: number\n\n  constructor() {\n    super()\n\n    this.worker = new Worker()\n\n    this.worker.addEventListener('message', event => {\n      this.emit(event.data.op, event.data.data, event.data.trackingId)\n    })\n\n    this.listenUtilityEvents()\n  }\n\n  listenUtilityEvents() {\n    this.once('hello', () => {\n      workspacesService.initialize()\n    })\n\n    this.on('price', ({ market, price }: { market: string; price: number }) => {\n      marketDecimals[market] = countDecimals(price)\n\n      if (this._normalizeDecimalsTimeout) {\n        clearTimeout(this._normalizeDecimalsTimeout)\n      }\n\n      this._normalizeDecimalsTimeout = setTimeout(\n        this.normalizeDecimals.bind(this),\n        1000\n      )\n    })\n\n    this.on(\n      'getExchangeProducts',\n      async (\n        {\n          exchangeId,\n          endpoints,\n          forceFetch\n        }: { exchangeId: string; endpoints: string[]; forceFetch?: boolean },\n        trackingId: string\n      ) => {\n        console.debug(\n          `[${exchangeId}] aggregator requested ${exchangeId}'s products (${\n            forceFetch ? 'force fetch products' : 'get stored or fetch'\n          })`\n        )\n        const productsData = await getStoredProductsOrFetch(\n          exchangeId,\n          endpoints,\n          forceFetch\n        )\n\n        this.dispatch({\n          op: 'getExchangeProducts',\n          data: {\n            exchangeId,\n            data: productsData\n          },\n          trackingId\n        })\n      }\n    )\n  }\n\n  dispatch(payload: AggregatorPayload) {\n    this.worker.postMessage(payload)\n  }\n\n  dispatchAsync(payload: AggregatorPayload) {\n    const trackingId = randomString(8)\n\n    return new Promise(resolve => {\n      const listener = ({ data }: { data: AggregatorPayload }) => {\n        if (data.trackingId === payload.trackingId) {\n          this.worker.removeEventListener('message', listener)\n          resolve(data.data)\n        }\n      }\n\n      this.worker.addEventListener('message', listener)\n\n      payload.trackingId = trackingId\n\n      this.worker.postMessage(payload)\n    })\n  }\n\n  async connect(markets: string[]): Promise<any> {\n    if (!markets.length) {\n      return\n    }\n\n    for (let i = 0; i < markets.length; i++) {\n      const [exchange] = parseMarket(markets[i])\n\n      if (store.state.exchanges[exchange].disabled) {\n        const panes = []\n        for (const paneId in store.state.panes.panes) {\n          if (\n            store.state.panes.panes[paneId].markets.indexOf(markets[i]) !== -1\n          ) {\n            panes.push(paneId)\n          }\n        }\n\n        markets.splice(i, 1)\n        i--\n      }\n    }\n\n    await this.dispatchAsync({\n      op: 'connect',\n      data: markets\n    })\n  }\n\n  async disconnect(markets: string[]): Promise<any> {\n    if (!markets.length) {\n      return\n    }\n\n    await this.dispatchAsync({\n      op: 'disconnect',\n      data: markets\n    })\n  }\n\n  normalizeDecimals() {\n    this._normalizeDecimalsTimeout = null\n    const decimalsByLocalMarkets = {}\n\n    for (const marketKey in marketDecimals) {\n      if (!store.state.panes.marketsListeners[marketKey]) {\n        continue\n      }\n\n      const localPair = store.state.panes.marketsListeners[marketKey].local\n        .replace('USDT', 'USD')\n        .replace('USDC', 'USD')\n\n      if (!decimalsByLocalMarkets[localPair]) {\n        decimalsByLocalMarkets[localPair] = []\n      }\n\n      decimalsByLocalMarkets[localPair].push(marketDecimals[marketKey])\n    }\n\n    for (const marketKey in marketDecimals) {\n      if (!store.state.panes.marketsListeners[marketKey]) {\n        continue\n      }\n\n      const localPair = stripStable(\n        store.state.panes.marketsListeners[marketKey].local\n      )\n\n      if (!decimalsByLocalMarkets[localPair]) {\n        continue\n      }\n\n      const averageDecimals = Math.round(\n        decimalsByLocalMarkets[localPair].reduce((a, b) => a + b) /\n          decimalsByLocalMarkets[localPair].length\n      )\n\n      marketDecimals[marketKey] = marketDecimals[localPair] = averageDecimals\n    }\n\n    this.emit('decimals')\n  }\n}\n\nexport default new AggregatorService()\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPickerControl.vue?vue&type=style&index=0&id=0116c0c8&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&lang=scss&\"","import dialogService from '@/services/dialogService'\nimport workspacesService from '@/services/workspacesService'\nimport { downloadAnything, sleep, slugify, uniqueName } from '@/utils/helpers'\nimport { scheduleSync, syncState } from '@/utils/store'\nimport {\n  PriceScaleMargins,\n  PriceScaleMode,\n  SeriesOptions,\n  SeriesType\n} from 'lightweight-charts'\nimport Vue from 'vue'\nimport { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\nimport { ModulesState } from '..'\nimport merge from 'lodash.merge'\n\nexport interface PriceScaleSettings {\n  scaleMargins?: PriceScaleMargins\n  mode?: PriceScaleMode\n}\n\nexport interface IndicatorNavigationState {\n  sections: string[]\n  tab: string\n  optionsQuery: string\n  fontSize: number\n}\n\nexport interface IndicatorSettings {\n  id?: string\n  name?: string\n  displayName?: string\n  description?: string\n  navigationState?: IndicatorNavigationState\n  script?: string\n  options?: SeriesOptions<SeriesType>\n  createdAt?: number\n  updatedAt?: number\n  unsavedChanges?: boolean\n  series?: string[]\n  version?: string\n  uses?: number\n}\nexport interface ChartPaneState {\n  _id?: string\n  indicators?: { [id: string]: IndicatorSettings }\n  priceScales: { [id: string]: PriceScaleSettings }\n  layouting: boolean | string\n  timeframe: number\n  indicatorsErrors: { [indicatorId: string]: string }\n  refreshRate?: number\n  showLegend: boolean\n  fillGapsWithEmpty: boolean\n  forceNormalizePrice: boolean\n  showHorizontalGridlines: boolean\n  horizontalGridlinesColor: string\n  showVerticalGridlines: boolean\n  verticalGridlinesColor: string\n  showWatermark: boolean\n  watermarkColor: string\n  hiddenMarkets: { [indicatorId: string]: boolean }\n  barSpacing: number\n}\n\nconst getters = {} as GetterTree<ChartPaneState, ModulesState>\n\nconst state = {\n  indicatorsErrors: {},\n  indicators: {},\n  priceScales: {\n    right: {\n      scaleMargins: {\n        top: 0.04,\n        bottom: 0.26\n      }\n    }\n  },\n  layouting: false,\n  timeframe: 10,\n  refreshRate: 1000,\n  showLegend: true,\n  fillGapsWithEmpty: true,\n  forceNormalizePrice: false,\n  showHorizontalGridlines: false,\n  horizontalGridlinesColor: 'rgba(255,255,255,.1)',\n  showVerticalGridlines: false,\n  verticalGridlinesColor: 'rgba(255,255,255,.1)',\n  showWatermark: true,\n  watermarkColor: 'rgba(255,255,255,.1)',\n  hiddenMarkets: {},\n  barSpacing: null\n} as ChartPaneState\n\nconst actions = {\n  async boot({ state }) {\n    state.indicatorsErrors = {} // let chart recalculate potential errors\n    state.layouting = false // start without layouting overlay\n\n    if (!Object.keys(state.indicators).length) {\n      const indicators = await workspacesService.getIndicators()\n\n      for (const indicator of indicators) {\n        if ((indicator as any).enabled !== true) {\n          continue\n        }\n\n        if (!indicator.series) {\n          indicator.series = []\n        }\n\n        Vue.set(state.indicators, indicator.id, indicator)\n      }\n\n      scheduleSync(state)\n    }\n  },\n  addIndicator({ state, commit }, indicator) {\n    const ids = Object.keys(state.indicators)\n\n    indicator.id = uniqueName(indicator.id, ids)\n\n    indicator = {\n      script: 'plotline(avg_close(bar))',\n      ...indicator,\n      options: {\n        priceScaleId: indicator.priceScaleId || indicator.id,\n        ...indicator.options\n      }\n    }\n\n    commit('ADD_INDICATOR', indicator)\n    commit('UPDATE_INDICATOR_DISPLAY_NAME', indicator.id)\n\n    return indicator.id\n  },\n\n  duplicateIndicator({ state, dispatch }, id) {\n    const indicator = merge({}, state.indicators[id])\n\n    const indicators = Object.values(state.indicators)\n\n    indicator.name = uniqueName(\n      indicator.name,\n      indicators.map(indicator => indicator.name)\n    )\n\n    indicator.id = slugify(indicator.name)\n\n    delete indicator.updatedAt\n    delete indicator.createdAt\n    delete indicator.enabled\n\n    dispatch('addIndicator', indicator)\n  },\n\n  async downloadIndicator({ state }, indicatorId) {\n    const indicator = state.indicators[indicatorId]\n\n    const priceScale = state.priceScales[indicator.options.priceScaleId] || {}\n\n    const exportableIndicator = Object.assign(\n      {},\n      indicator.options,\n      priceScale\n        ? {\n            scaleMargins: priceScale.scaleMargins\n          }\n        : {}\n    )\n\n    await downloadAnything(\n      {\n        type: 'indicator',\n        name: 'indicator:' + indicator.name,\n        data: {\n          options: exportableIndicator,\n          description: indicator.description,\n          script: indicator.script\n        }\n      },\n      'indicator_' + indicatorId\n    )\n  },\n\n  toggleSerieVisibility({ commit, state }, id) {\n    commit('SET_INDICATOR_OPTION', {\n      id,\n      key: 'visible',\n      value:\n        !state.indicators[id].options ||\n        typeof state.indicators[id].options.visible === 'undefined'\n          ? false\n          : !state.indicators[id].options.visible\n    })\n  },\n  setIndicatorOption({ commit, state }, { id, key, value, silent }) {\n    try {\n      value = JSON.parse(value)\n    } catch (error) {\n      // empty\n    }\n    if (state.indicators[id] && state.indicators[id].options[key] === value) {\n      return\n    }\n\n    commit('SET_INDICATOR_OPTION', { id, key, value, silent })\n\n    if (!state.indicators[id].unsavedChanges) {\n      commit('FLAG_INDICATOR_AS_UNSAVED', id)\n    }\n\n    if (state.indicators[id].name.indexOf(key) !== -1) {\n      commit('UPDATE_INDICATOR_DISPLAY_NAME', id)\n    }\n  },\n  async removeIndicator(\n    { state, commit, dispatch },\n    { id, confirm = true }: { id: string; confirm?: boolean }\n  ) {\n    if (\n      dialogService.mountedComponents.indicator &&\n      dialogService.mountedComponents.indicator.indicatorId === id\n    ) {\n      await dialogService.mountedComponents.indicator.close()\n    }\n\n    if (state.indicators[id].unsavedChanges && confirm) {\n      const output = await dialogService.confirm({\n        title: 'Save changes ?',\n        message: `This indicator has <strong>unsaved changes <i class=\"icon-warning\"></i></strong>`,\n        cancel: 'DISCARD CHANGES',\n        ok: 'SAVE',\n        actions: [\n          {\n            label: 'Cancel',\n            callback: () => 2\n          }\n        ],\n        html: true\n      })\n\n      if (output === null || output === 2) {\n        return\n      }\n\n      if (output) {\n        await dispatch('saveIndicator', id)\n      }\n    }\n\n    commit('REMOVE_INDICATOR', id)\n\n    await sleep(100)\n  },\n  async saveIndicator({ state, commit, dispatch }, id) {\n    commit('FLAG_INDICATOR_AS_SAVED', id)\n\n    workspacesService.saveIndicator(state.indicators[id])\n\n    await dispatch('transferIndicator', state.indicators[id])\n  },\n  async renameIndicator({ commit, state, dispatch }, { id, name }) {\n    const newId = uniqueName(slugify(name), Object.keys(state.indicators))\n\n    const indicatorCopy = JSON.parse(JSON.stringify(state.indicators[id]))\n\n    const indicator = { ...indicatorCopy, name, id: newId }\n\n    commit('ADD_INDICATOR', indicator)\n\n    dispatch('removeIndicator', { id, confirm: false })\n    commit('UPDATE_INDICATOR_DISPLAY_NAME', newId)\n\n    return newId\n  },\n  transferIndicator({ state, rootState }, indicator: IndicatorSettings) {\n    for (const paneId in rootState.panes.panes) {\n      if (\n        paneId === state._id ||\n        rootState.panes.panes[paneId].type !== 'chart'\n      ) {\n        continue\n      }\n\n      const otherPaneIndicator = rootState[paneId].indicators[\n        indicator.id\n      ] as IndicatorSettings\n\n      if (!otherPaneIndicator.unsavedChanges) {\n        otherPaneIndicator.options = indicator.options\n\n        this.commit(paneId + '/SET_INDICATOR_SCRIPT', { id: indicator.id })\n      }\n    }\n  },\n  async setIndicatorNavigationState(\n    { state },\n    {\n      id,\n      navigationState\n    }: { id: string; navigationState: IndicatorNavigationState }\n  ) {\n    state.indicators[id].navigationState = navigationState\n    syncState(state)\n  },\n  async undoIndicator({ state, commit }, indicatorId) {\n    const savedIndicator = await workspacesService.getIndicator(indicatorId)\n\n    if (!savedIndicator) {\n      this.dispatch('app/showNotice', {\n        title: `Indicator ${indicatorId} doesn't exist in your library, nothing to rollback to.`,\n        type: 'error'\n      })\n      return\n    }\n\n    state.indicators[indicatorId] = savedIndicator\n    commit('SET_INDICATOR_SCRIPT', { id: indicatorId })\n  },\n  toggleMarkets(\n    { state, rootState, commit },\n    { type, id, inverse }: { type: string; id: string; inverse: boolean }\n  ) {\n    const containsHidden =\n      typeof rootState.panes.panes[state._id].markets.find(\n        market => state.hiddenMarkets[market] === true\n      ) !== 'undefined'\n\n    for (const market of rootState.panes.panes[state._id].markets) {\n      const isHidden = state.hiddenMarkets[market] === true\n\n      if (!type) {\n        if (!inverse) {\n          if (market !== id) {\n            continue\n          }\n\n          // toggle selected market\n          Vue.set(state.hiddenMarkets, market, !isHidden)\n        } else if (!isHidden && market !== id) {\n          // hide market other than selected\n          Vue.set(state.hiddenMarkets, market, true)\n        } else if (isHidden && market === id) {\n          // show current market\n          Vue.set(state.hiddenMarkets, market, false)\n        }\n      } else if (type === 'all') {\n        if (containsHidden !== !isHidden) {\n          Vue.set(state.hiddenMarkets, market, !containsHidden)\n        }\n      } else {\n        const indexedMarket = rootState.panes.marketsListeners[market]\n\n        const hide = type !== indexedMarket.type\n\n        if (hide !== isHidden) {\n          Vue.set(state.hiddenMarkets, market, hide)\n        }\n      }\n    }\n    commit('TOGGLE_MARKET')\n  }\n} as ActionTree<ChartPaneState, ModulesState>\n\nconst mutations = {\n  SET_REFRESH_RATE(state, value) {\n    state.refreshRate = +value || 0\n  },\n  TOGGLE_LEGEND(state) {\n    state.showLegend = !state.showLegend\n  },\n  SET_GRIDLINES(state, { type, value }) {\n    if (type === 'vertical') {\n      if (typeof value === 'boolean') {\n        state.showVerticalGridlines = value\n      } else {\n        state.verticalGridlinesColor = value\n      }\n    } else {\n      if (typeof value === 'boolean') {\n        state.showHorizontalGridlines = value\n      } else {\n        state.horizontalGridlinesColor = value\n      }\n    }\n  },\n  SET_WATERMARK(state, { value }) {\n    if (typeof value === 'boolean') {\n      state.showWatermark = value\n    } else {\n      state.watermarkColor = value\n    }\n  },\n  SET_INDICATOR_SERIES(state, { id, series }) {\n    state.indicators[id].series = series\n  },\n  SET_INDICATOR_ERROR(state, { id, error }) {\n    if (error) {\n      Vue.set(state.indicatorsErrors, id, error)\n    } else {\n      Vue.set(state.indicatorsErrors, id, null)\n    }\n  },\n  SET_TIMEFRAME(state, value) {\n    state.timeframe = value\n  },\n  ADD_INDICATOR(state, indicator) {\n    Vue.set(state.indicators, indicator.id, indicator)\n  },\n  UPDATE_DESCRIPTION(state, { id, description }) {\n    Vue.set(state.indicators[id], 'description', description)\n  },\n  REMOVE_INDICATOR(state, id) {\n    Vue.delete(state.indicators, id)\n  },\n  SET_INDICATOR_OPTION(state, { id, key, value }) {\n    if (!state.indicators[id]) {\n      state.indicators[id] = {}\n    }\n\n    if (!state.indicators[id].options) {\n      ;(state.indicators[id] as any).options = {}\n    }\n\n    Vue.set(state.indicators[id].options, key, value)\n  },\n  REMOVE_INDICATOR_OPTION(state, { id, key }) {\n    if (!state.indicators[id]) {\n      return\n    }\n\n    Vue.delete(state.indicators[id].options, key)\n  },\n  SET_INDICATOR_SCRIPT(state, payload) {\n    if (typeof payload.value === 'undefined') {\n      return\n    }\n\n    if (state.indicators[payload.id].script !== payload.value) {\n      this.commit(state._id + '/FLAG_INDICATOR_AS_UNSAVED', payload.id)\n    }\n\n    Vue.set(state.indicators[payload.id], 'script', payload.value)\n  },\n  FLAG_INDICATOR_AS_UNSAVED(state, id) {\n    Vue.set(state.indicators[id], 'unsavedChanges', true)\n  },\n  FLAG_INDICATOR_AS_SAVED(state, id) {\n    Vue.set(state.indicators[id], 'unsavedChanges', false)\n  },\n  TOGGLE_LAYOUTING(state, indicatorId: string) {\n    if (typeof indicatorId === 'string' && !state.layouting) {\n      state.layouting = indicatorId\n    } else {\n      state.layouting = !state.layouting\n    }\n  },\n  TOGGLE_FILL_GAPS_WITH_EMPTY(state) {\n    state.fillGapsWithEmpty = !state.fillGapsWithEmpty\n  },\n  TOGGLE_FORCE_NORMALIZE_PRICE(state) {\n    state.forceNormalizePrice = !state.forceNormalizePrice\n  },\n  UPDATE_INDICATOR_DISPLAY_NAME(state, id) {\n    const displayName = state.indicators[id].name.replace(\n      /\\{([\\w\\d_]+)\\}/g,\n      (match, key) => state.indicators[id].options[key] || ''\n    )\n    Vue.set(state.indicators[id], 'displayName', displayName)\n  },\n  TOGGLE_MARKET(state, marketId) {\n    if (marketId) {\n      Vue.set(state.hiddenMarkets, marketId, !state.hiddenMarkets[marketId])\n    }\n  },\n  SET_PRICE_SCALE(state, { id, priceScale }) {\n    if (!priceScale) {\n      delete state.priceScales[id]\n      return\n    }\n\n    state.priceScales[id] = priceScale\n  },\n  SET_BAR_SPACING(state, value) {\n    state.barSpacing = value\n  }\n} as MutationTree<ChartPaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<ChartPaneState, ModulesState>\n","import { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\n\nimport dialogService from '@/services/dialogService'\nimport StatDialog from '@/components/stats/StatDialog.vue'\nimport Vue from 'vue'\nimport { slugify, uniqueName } from '@/utils/helpers'\n\nexport interface StatBucket {\n  id: string\n  name: string\n  input: string\n  enabled: boolean\n  window?: number\n  precision?: number\n  color?: string\n  type?: string\n  conditionnalColor?: boolean\n}\n\nexport interface StatsPaneState {\n  _id?: string\n  granularity?: number\n  window?: number\n  enableChart?: boolean\n  buckets?: { [id: string]: StatBucket }\n}\n\nconst getters = {} as GetterTree<StatsPaneState, StatsPaneState>\n\nconst state = {\n  granularity: 5000,\n  window: 60000,\n  enableChart: false,\n  buckets: {\n    trades: {\n      id: 'trades',\n      name: 'TRADES',\n      input: 'cbuy + csell',\n      enabled: true,\n      color: 'rgba(255, 255, 255, .25)',\n      precision: 2,\n      type: 'line'\n    },\n    vold: {\n      id: 'vold',\n      name: 'VOLUME Δ',\n      input: 'vbuy - vsell',\n      enabled: true,\n      color: '#40d745',\n      type: 'area'\n    },\n    tradesd: {\n      id: 'tradesd',\n      name: 'TRADES Δ',\n      input: 'cbuy - csell',\n      enabled: true,\n      color: '#2196f3',\n      precision: 2,\n      type: 'line'\n    },\n    '1hliq': {\n      id: '1hliq',\n      name: '1H LIQUIDATIONS Δ',\n      window: 3600000,\n      input: 'lbuy-lsell',\n      enabled: false,\n      color: \"value>0?'#43a047':'#f44336'\",\n      conditionnalColor: true,\n      type: 'histogram'\n    }\n  }\n} as StatsPaneState\n\nconst actions = {\n  createBucket({ state, commit }) {\n    const otherIds = Object.keys(state.buckets)\n    const otherNames = otherIds.map(id => state.buckets[id].name)\n\n    const name = uniqueName('Untitled Bucket', otherNames)\n    const id = uniqueName(slugify(name), otherIds)\n\n    commit('CREATE_BUCKET', { id, name })\n\n    dialogService.open(StatDialog, { paneId: state._id, bucketId: id })\n  },\n  updateBucket({ commit, state }, { id, prop, value }) {\n    if (state.buckets[id][prop] === value) {\n      return\n    }\n\n    let mutation = ''\n\n    if (typeof value === 'boolean') {\n      mutation += 'TOGGLE_BUCKET'\n    } else {\n      mutation += 'SET_BUCKET_' + prop.toUpperCase()\n    }\n\n    commit(mutation, {\n      id,\n      value\n    })\n  },\n  renameBucket({ commit, state }, { id, name }) {\n    const otherNames = Object.keys(state.buckets)\n      .filter(_id => _id !== id)\n      .map(id => state.buckets[id].name)\n\n    name = uniqueName(name, otherNames)\n\n    commit('RENAME_BUCKET', {\n      id,\n      name\n    })\n  }\n} as ActionTree<StatsPaneState, StatsPaneState>\n\nconst mutations = {\n  TOGGLE_BUCKET(state, { id, value }) {\n    const stat = state.buckets[id]\n\n    stat.enabled = value ? true : false\n\n    Vue.set(state.buckets, id, stat)\n  },\n  SET_BUCKET_INPUT(state, { id, value }) {\n    const stat = state.buckets[id]\n\n    stat.input = value\n\n    Vue.set(state.buckets, id, stat)\n  },\n  RENAME_BUCKET(state, { id, name }) {\n    const stat = state.buckets[id]\n\n    stat.name = name\n    // stat.id = id\n\n    // Vue.delete(state.buckets, oldId)\n    Vue.set(state.buckets, id, stat)\n  },\n  SET_BUCKET_COLOR(state, { id, value }) {\n    const stat = state.buckets[id]\n\n    stat.color = value\n\n    Vue.set(state.buckets, id, stat)\n  },\n  SET_BUCKET_TYPE(state, { id, value }) {\n    const stat = state.buckets[id]\n\n    stat.type = value\n\n    if (stat.conditionnalColor && value !== 'histogram') {\n      this.commit(state._id + '/TOGGLE_BUCKET_COLOR_CONDITION', id)\n    }\n\n    Vue.set(state.buckets, id, stat)\n  },\n  TOGGLE_BUCKET_COLOR_CONDITION(state, id) {\n    const stat = state.buckets[id]\n    stat.conditionnalColor = !stat.conditionnalColor\n\n    if (!stat.conditionnalColor) {\n      this.commit(state._id + '/SET_BUCKET_COLOR', {\n        id,\n        value: this.state.settings.textColor\n      })\n    }\n\n    Vue.set(state.buckets, id, stat)\n  },\n  SET_BUCKET_PRECISION(state, { id, value }) {\n    const stat = state.buckets[id]\n\n    value = parseInt(value)\n\n    stat.precision = !isNaN(value) ? value : null\n\n    Vue.set(state.buckets, id, stat)\n  },\n  SET_BUCKET_WINDOW(state, { id, value }) {\n    const stat = state.buckets[id]\n    let milliseconds = parseInt(value)\n\n    if (isNaN(milliseconds)) {\n      stat.window = null\n    } else {\n      if (/[\\d.]+s/.test(value)) {\n        milliseconds *= 1000\n      } else if (/[\\d.]+h/.test(value)) {\n        milliseconds *= 1000 * 60 * 60\n      } else {\n        milliseconds *= 1000 * 60\n      }\n\n      stat.window = milliseconds\n    }\n\n    Vue.set(state.buckets, id, stat)\n  },\n  CREATE_BUCKET(state, { id, name }) {\n    Vue.set(state.buckets, id, {\n      id,\n      name,\n      input: 'vbuy + vsell',\n      enabled: false\n    })\n  },\n  REMOVE_BUCKET(state, id) {\n    Vue.delete(state.buckets, id)\n  },\n  SET_WINDOW(state, value) {\n    let milliseconds = parseInt(value) || 0\n\n    if (/[\\d.]+s/.test(value)) {\n      milliseconds *= 1000\n    } else if (/[\\d.]+h/.test(value)) {\n      milliseconds *= 1000 * 60 * 60\n    } else {\n      milliseconds *= 1000 * 60\n    }\n\n    state.window = milliseconds\n  },\n  TOGGLE_CHART(state, value) {\n    state.enableChart = value ? true : false\n  }\n} as MutationTree<StatsPaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<StatsPaneState, StatsPaneState>\n","import { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\n\nimport Vue from 'vue'\nimport { randomString } from '@/utils/helpers'\nimport { formatMarketPrice } from '@/services/productsService'\nimport { ModulesState } from '..'\nimport { getLogShade, joinRgba, splitColorCode } from '../../utils/colors'\n\nexport interface Threshold {\n  id: string\n  amount: number\n  buyColor: string\n  sellColor: string\n  buyAudio: string\n  sellAudio: string\n  buyGif?: string\n  sellGif?: string\n  max?: boolean\n}\n\nexport type TradeTypeFilter = 'both' | 'liquidations' | 'trades'\n\nexport interface TradesPaneState {\n  _id?: string\n  liquidations: Threshold[]\n  thresholds: Threshold[]\n  audioThreshold: number\n  showThresholdsAsTable: boolean\n  tradeType: TradeTypeFilter\n  muted: boolean\n  audioPitch: number\n  audioVolume: number\n  maxRows: number\n  showLogos: boolean\n  multipliers: { [identifier: string]: number }\n  monochromeLogos: boolean\n  showTradesPairs: boolean\n  thresholdsMultipler: number\n  showTimeAgo: boolean\n  showPrice: boolean\n}\n\nconst getters = {\n  getThreshold: state => (id: string) => {\n    for (let i = 0; i < state.thresholds.length; i++) {\n      if (state.thresholds[i].id === id) {\n        return state.thresholds[i]\n      }\n    }\n\n    for (let i = 0; i < state.liquidations.length; i++) {\n      if (state.liquidations[i].id === id) {\n        return state.liquidations[i]\n      }\n    }\n  }\n} as GetterTree<TradesPaneState, ModulesState>\n\nconst state = {\n  liquidations: [\n    {\n      id: 'liquidation_threshold',\n      amount: 50000,\n      buyColor: 'rgba(236,64,122,0.5)',\n      sellColor: 'rgba(255,152,0,0.5)',\n      buyAudio:\n        \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*2,0,,,'sine')\\nplay(329.63, srqtR, srqtR*4,0.08,,,'sine')\",\n      sellAudio:\n        \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*2,0,,,'sine')\\nplay(440, srqtR, srqtR*4,0.08,,,'sine')\"\n    },\n    {\n      id: 'liquidation_significant',\n      amount: 100000,\n      buyColor: 'rgba(236,64,122,0.6)',\n      sellColor: 'rgba(255,152,0,0.7)',\n      buyAudio:\n        \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\\nplay(329.63, srqtR, srqtR*6,0.08,,,'sine')\",\n      sellAudio:\n        \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,'sine')\\nplay(440, srqtR, srqtR*6,0.08,,,'sine')\"\n    },\n    {\n      id: 'liquidation_huge',\n      amount: 200000,\n      buyGif: 'flying money',\n      sellGif: 'flying money',\n      buyColor: 'rgba(236,64,122,0.7)',\n      sellColor: 'rgba(255,152,0,0.8)',\n      buyAudio:\n        \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\\nplay(329.63, srqtR, srqtR*8,0.08,,,'sine')\",\n      sellAudio:\n        \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,'sine')\\nplay(440, srqtR, srqtR*8,0.08,,,'sine')\"\n    },\n    {\n      id: 'liquidation_rare',\n      amount: 1000000,\n      buyGif: 'explosion',\n      sellGif: 'explosion',\n      buyColor: 'rgb(156,39,176)',\n      sellColor: 'rgb(255,235,59)',\n      buyAudio:\n        \"var srqtR = Math.min(1, gain / 10)\\nplay(329.63, srqtR, 1,0,,,'sine')\\nplay(329.63, srqtR, srqtR*10,0.08,,,'sine')\",\n      sellAudio:\n        \"var srqtR = Math.min(1, gain / 10)\\nplay(440, srqtR, 1,0,,,'sine')\\nplay(440, srqtR, srqtR*10,0.08,,,'sine')\"\n    }\n  ],\n  thresholds: [\n    {\n      id: 'threshold',\n      amount: 100000,\n      buyColor: 'rgba(119, 148, 92, 0.25)',\n      sellColor: 'rgba(239, 67, 82, 0.25)',\n      buyAudio: `play(659.26, gain / 10, 0.1 + gain / 7)`,\n      sellAudio: `play(493.88, gain * 1.5 / 10, 0.1 + gain / 7)`\n    },\n    {\n      id: 'significant',\n      amount: 250000,\n      buyColor: 'rgb(100, 157, 102)',\n      sellColor: 'rgb(239, 67, 82)',\n      buyAudio: `play(659.26, 0.05 + gain / 10, 0.2 + ratio * 0.23,0,,0);\nplay(830.6, 0.05 + gain / 10, 0.2 + ratio * 0.23, 0.08,,0)`,\n      sellAudio: `play(493.88, 0.05 + gain * 1.5 / 10, 0.2 + ratio * 0.23,0,,0);\nplay(392, 0.05 + gain * 1.5 / 10, 0.2 + ratio * 0.23, 0.08,,0)`\n    },\n    {\n      id: 'huge',\n      amount: 1000000,\n      buyGif: 'cash bullish',\n      sellGif: 'cash bearish',\n      buyColor: 'rgb(59, 202, 109)',\n      sellColor: 'rgb(235, 30, 47)',\n      buyAudio: `play(659.26, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0,,0);\nplay(830.6, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0.08,,0);\nplay(987.76, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0.16,,0);\nplay(1318.52, 0.05 + gain / 10, 0.1 + ratio * 0.23, 0.24,,0)`,\n      sellAudio: `play(493.88, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0,,0);\nplay(369.99, 0.05 + gain * 1.5 / 10, 0.2, 0.08,,0);\nplay(293.66, 0.05 + gain * 1.5 / 10, 0.2, 0.16,,0);\nplay(246.94, 0.05 + gain * 1.5 / 10, 0.1 + ratio * 0.23, 0.24,,0)`\n    },\n    {\n      id: 'rare',\n      amount: 10000000,\n      buyGif: 'explosion',\n      sellGif: 'explosion',\n      buyColor: 'rgb(0, 255, 127)',\n      sellColor: 'rgb(217, 31, 28)',\n      buyAudio: `play(659.26, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0,,0);\nplay(830.6, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0.08,,0);\nplay(987.76, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0.16,,0);\nplay(1318.52, 0.05 + gain / 10, 0.1 + ratio * 0.13, 0.24,,0)`,\n      sellAudio: `play(493.88, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0,,0);\nplay(369.99, 0.05 + gain * 1.5 / 10, 0.2, 0.08,,0);\nplay(293.66, 0.05 + gain * 1.5 / 10, 0.2, 0.16,,0);\nplay(246.94, 0.05 + gain * 1.5 / 10, 0.1 + ratio * 0.13, 0.24,,0)`\n    }\n  ],\n  audioThreshold: null,\n  multipliers: {},\n  showThresholdsAsTable: true,\n  maxRows: 100,\n  muted: false,\n  audioPitch: null,\n  audioVolume: null,\n  showTradesPairs: false,\n  tradeType: 'both',\n  showLogos: true,\n  monochromeLogos: false,\n  showTimeAgo: true,\n  showPrice: true,\n  thresholdsMultipler: 1\n} as TradesPaneState\n\nconst actions = {\n  boot({ rootState, dispatch }, firstTime?: boolean) {\n    if (firstTime) {\n      dispatch('generateSwatch', {\n        buyColor: rootState.settings.buyColor,\n        sellColor: rootState.settings.sellColor\n      })\n    }\n  },\n  updateThreshold(\n    { state, commit },\n    { index, prop, value }: { index: number; prop: string; value: any }\n  ) {\n    const threshold = state.thresholds[index]\n\n    if (!threshold) {\n      throw new Error('No threshold')\n    }\n\n    let payload = {\n      index\n    } as any\n\n    if (value && typeof value === 'object') {\n      payload = { ...payload, ...value }\n    } else {\n      payload.value = value\n    }\n\n    commit('SET_THRESHOLD_' + prop, payload)\n\n    state.thresholds = JSON.parse(JSON.stringify(state.thresholds))\n  },\n  updateLiquidations(\n    { state, commit },\n    { prop, value }: { prop: string; value: any }\n  ) {\n    const threshold = state.liquidations\n\n    if (!threshold) {\n      throw new Error('No liquidation threshold')\n    }\n\n    commit('SET_LIQUIDATIONS_' + prop, value)\n  },\n  generateSwatch(\n    { state },\n    {\n      buyColor,\n      sellColor,\n      baseVariance = 0.15\n    }: { buyColor: string; sellColor: string; baseVariance: number }\n  ) {\n    const count = state.thresholds.length\n    const baseMultipler = (count / 2) * -baseVariance\n    const buyRgb = splitColorCode(buyColor)\n    const sellRgb = splitColorCode(sellColor)\n\n    for (let i = 0; i < count; i++) {\n      let buyScaled = getLogShade(buyRgb, baseMultipler + baseVariance * i)\n      if (!i) {\n        buyScaled = joinRgba([...splitColorCode(buyScaled), 0.33])\n      }\n      state.thresholds[i].buyColor = buyScaled\n\n      let sellScaled = getLogShade(sellRgb, baseMultipler + baseVariance * i)\n      if (!i) {\n        sellScaled = joinRgba([...splitColorCode(sellScaled), 0.33])\n      }\n      state.thresholds[i].sellColor = sellScaled\n    }\n\n    this.dispatch('app/showNotice', {\n      title: `Generating swatches for ${count} thresholds with ${baseVariance} variance`,\n      type: 'info'\n    })\n  }\n} as ActionTree<TradesPaneState, ModulesState>\n\nconst mutations = {\n  TOGGLE_TRADES_PAIRS(state) {\n    state.showTradesPairs = !state.showTradesPairs\n  },\n  SET_MAX_ROWS(state, value) {\n    state.maxRows = value\n  },\n  TOGGLE_LOGOS(state) {\n    if (state.monochromeLogos) {\n      state.showLogos = false\n      state.monochromeLogos = false\n    } else if (!state.showLogos) {\n      state.showLogos = true\n      state.monochromeLogos = false\n    } else {\n      state.monochromeLogos = true\n    }\n  },\n  TOGGLE_MUTED(state) {\n    state.muted = !state.muted\n\n    if (!state.muted && state.audioVolume === 0) {\n      state.audioVolume = null\n    }\n  },\n  SET_AUDIO_PITCH(state, value) {\n    if (typeof value === 'string') {\n      value = value.replace(/[^0-9-.]/g, '')\n    }\n\n    value = +value\n\n    if (!value || value === 1) {\n      state.audioPitch = null\n    } else {\n      state.audioPitch = value\n    }\n  },\n  SET_AUDIO_VOLUME(state, value) {\n    if (typeof value === 'string') {\n      value = value.replace(/[^0-9-.]/g, '')\n    }\n\n    if (isNaN(+value) || value === null) {\n      state.audioVolume = null\n    } else {\n      state.audioVolume = +value\n\n      if (state.audioVolume === 0 && !state.muted) {\n        state.muted = true\n      } else if (state.audioVolume > 0 && state.muted) {\n        state.muted = false\n      }\n    }\n  },\n  TOGGLE_MONOCHROME_LOGOS(state, value) {\n    state.monochromeLogos = value ? true : false\n  },\n  TOGGLE_TRADE_TYPE(state) {\n    const values: TradeTypeFilter[] = ['both', 'liquidations', 'trades']\n\n    const index = Math.max(0, values.indexOf(state.tradeType))\n\n    state.tradeType = values[(index + 1) % values.length]\n  },\n  TOGGLE_TIME_AGO(state) {\n    state.showTimeAgo = !state.showTimeAgo\n  },\n  TOGGLE_PRICE(state) {\n    state.showPrice = !state.showPrice\n  },\n  TOGGLE_THRESHOLDS_TABLE(state, value) {\n    state.showThresholdsAsTable = value ? true : false\n  },\n  SET_THRESHOLD_AMOUNT(state, { id, value }) {\n    const threshold = this.getters[state._id + '/getThreshold'](id)\n\n    if (threshold) {\n      if (typeof value === 'string' && /m|k$/i.test(value)) {\n        if (/m$/i.test(value)) {\n          threshold.amount = parseFloat(value) * 1000000\n        } else {\n          threshold.amount = parseFloat(value) * 1000\n        }\n      }\n      threshold.amount = +value\n    }\n  },\n  TOGGLE_THRESHOLD_MAX(state, id) {\n    const threshold = this.getters[state._id + '/getThreshold'](id)\n\n    if (threshold) {\n      Vue.set(threshold, 'max', !threshold.max)\n    }\n  },\n  SET_THRESHOLD_MULTIPLIER(\n    state,\n    { identifier, multiplier }: { identifier: string; multiplier: number }\n  ) {\n    if (multiplier === null || isNaN(multiplier) || multiplier < 0) {\n      Vue.delete(state.multipliers, identifier)\n      return\n    }\n\n    if (multiplier === 0) {\n      multiplier = 0.01\n    }\n\n    Vue.set(state.multipliers, identifier, multiplier)\n  },\n  SET_THRESHOLD_GIF(state, payload) {\n    const threshold = this.getters[state._id + '/getThreshold'](payload.id)\n\n    const key = payload.side + 'Gif'\n\n    if (threshold) {\n      if (payload.value.trim().length) {\n        threshold[key] = payload.value\n      } else {\n        payload.value = threshold.gif\n        payload.isDeleted = true\n\n        threshold[key] = null\n      }\n    }\n  },\n  SET_THRESHOLD_COLOR(state, { id, side, value }) {\n    const threshold = this.getters[state._id + '/getThreshold'](id)\n\n    if (threshold) {\n      threshold[side] = value\n    }\n  },\n  SET_THRESHOLD_AUDIO(state, { id, buyAudio, sellAudio }) {\n    const threshold = this.getters[state._id + '/getThreshold'](id)\n\n    if (threshold) {\n      threshold['buyAudio'] = buyAudio\n      threshold['sellAudio'] = sellAudio\n    }\n  },\n  ADD_THRESHOLD(state, type) {\n    const previousThreshold = state[type][state[type].length - 1]\n\n    let buyAudio = `play(659.26, ratio, ratio, 0)`\n    let sellAudio = `play(493.88, ratio, ratio, 0)`\n\n    if (previousThreshold) {\n      buyAudio = previousThreshold.buyAudio\n      sellAudio = previousThreshold.sellAudio\n    }\n\n    state[type].push({\n      id: randomString(8),\n      amount: state[type][state.thresholds.length - 1].amount * 2,\n      buyColor: 'rgb(0, 255, 0)',\n      sellColor: 'rgb(255, 0, 0)',\n      buyAudio,\n      sellAudio\n    })\n  },\n  DELETE_THRESHOLD(state, id: string) {\n    const tradesIndex = state.thresholds.indexOf(\n      state.thresholds.find(t => t.id === id)\n    )\n\n    if (tradesIndex !== -1) {\n      state.thresholds.splice(tradesIndex, 1)\n\n      return\n    }\n\n    const liquidationsIndex = state.liquidations.indexOf(\n      state.liquidations.find(t => t.id === id)\n    )\n\n    if (liquidationsIndex !== -1) {\n      state.liquidations.splice(liquidationsIndex, 1)\n\n      return\n    }\n  },\n  SET_AUDIO_THRESHOLD(state, amount: number) {\n    state.audioThreshold = amount\n  },\n  SET_THRESHOLDS_MULTIPLER(\n    state,\n    { value, market }: { value: number; market: string }\n  ) {\n    value = Math.max(value, 0.01)\n    const change =\n      (value - state.thresholdsMultipler) / state.thresholdsMultipler\n\n    state.thresholdsMultipler = value\n\n    for (const threshold of state.thresholds) {\n      threshold.amount = +formatMarketPrice(\n        threshold.amount + threshold.amount * change,\n        market\n      )\n    }\n\n    for (const threshold of state.liquidations) {\n      threshold.amount = +formatMarketPrice(\n        threshold.amount + threshold.amount * change,\n        market\n      )\n    }\n  }\n} as MutationTree<TradesPaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<TradesPaneState, ModulesState>\n","import { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\n\nexport interface PricesPaneState {\n  _id?: string\n  animateSort?: boolean\n  showPairs?: boolean\n  showVolume?: boolean\n  showVolumeDelta?: boolean\n  period?: number\n  showPrice?: boolean\n  showChange?: boolean\n  sortOrder?: 1 | -1\n  sortType?: 'price' | 'change' | 'volume' | null\n}\n\nconst getters = {} as GetterTree<PricesPaneState, PricesPaneState>\n\n// https://coolors.co/d91f1c-eb1e2f-ef4352-77945c-3bca6d-00ff7f\n\nconst state = {\n  animateSort: true,\n  showPairs: true,\n  showVolume: true,\n  showVolumeDelta: true,\n  period: 0,\n  showChange: true,\n  showPrice: true,\n  sortType: 'change',\n  sortOrder: -1\n} as PricesPaneState\n\nconst actions = {} as ActionTree<PricesPaneState, PricesPaneState>\n\nconst mutations = {\n  TOGGLE_SORT_ANIMATION(state) {\n    state.animateSort = !state.animateSort\n  },\n  TOGGLE_PAIRS(state) {\n    state.showPairs = !state.showPairs\n  },\n  TOGGLE_VOLUME(state) {\n    state.showVolume = !state.showVolume\n  },\n  TOGGLE_VOLUME_DELTA(state) {\n    state.showVolumeDelta = !state.showVolumeDelta\n  },\n  SET_PERIOD(state, value) {\n    state.period = value\n  },\n  TOGGLE_CHANGE(state) {\n    state.showChange = !state.showChange\n  },\n  TOGGLE_PRICE(state) {\n    state.showPrice = !state.showPrice\n  },\n  TOGGLE_SORT_ORDER(state) {\n    state.sortOrder = state.sortOrder > 0 ? -1 : 1\n  },\n  SET_SORT_TYPE(state, sortType) {\n    state.sortType = sortType\n  }\n} as MutationTree<PricesPaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<PricesPaneState, PricesPaneState>\n","import { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\n\nexport interface CountersPaneState {\n  _id?: string\n  granularity?: number\n  liquidationsOnly?: boolean\n  steps?: number[]\n  count?: boolean\n}\n\nconst getters = {} as GetterTree<CountersPaneState, CountersPaneState>\n\nconst state = {\n  granularity: 5000,\n  liquidationsOnly: false,\n  steps: [30000, 60000, 900000, 1800000],\n  count: false\n} as CountersPaneState\n\nconst actions = {} as ActionTree<CountersPaneState, CountersPaneState>\n\nconst mutations = {\n  REPLACE_COUNTERS(state, counters) {\n    state.steps = counters.sort((a, b) => a - b)\n  },\n  TOGGLE_COUNT(state) {\n    state.count = !state.count\n  },\n  TOGGLE_LIQUIDATIONS_ONLY(state) {\n    state.liquidationsOnly = !state.liquidationsOnly\n  }\n} as MutationTree<CountersPaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<CountersPaneState, CountersPaneState>\n","import { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\nimport { ModulesState } from '..'\n\nexport interface WebsitePaneState {\n  _id?: string\n  url?: string\n  reloadTimer: number\n  interactive?: boolean\n  locked?: boolean\n}\n\nconst getters = {} as GetterTree<WebsitePaneState, ModulesState>\n\nconst state = {\n  url: null,\n  reloadTimer: 0,\n  interactive: false,\n  locked: false\n} as WebsitePaneState\n\nconst actions = {\n  async boot({ state, dispatch }) {\n    setTimeout(() => {\n      dispatch('setTitle', state.url)\n    })\n  },\n  setUrl({ dispatch, commit }, url) {\n    if (!url) {\n      return\n    }\n\n    try {\n      new URL(url)\n\n      dispatch('setTitle', url)\n\n      commit('SET_URL', url)\n    } catch (error) {\n      // invalid url\n    }\n  },\n  setTitle({ rootState, state }, url) {\n    let previousHostname = ''\n\n    try {\n      previousHostname = new URL(state.url).hostname\n    } catch (error) {\n      // no previous url\n    }\n\n    let currentHostname = ''\n\n    try {\n      currentHostname = new URL(url).hostname\n    } catch (error) {\n      // no previous url\n    }\n\n    if (\n      !rootState.panes.panes[state._id].name ||\n      rootState.panes.panes[state._id].name === previousHostname\n    ) {\n      this.commit('panes/SET_PANE_NAME', {\n        id: state._id,\n        name: currentHostname\n      })\n    }\n  }\n} as ActionTree<WebsitePaneState, ModulesState>\n\nconst mutations = {\n  SET_URL(state, url) {\n    state.url = url\n  },\n  TOGGLE_INTERACTIVE(state) {\n    state.interactive = !state.interactive\n  },\n  UNLOCK_URL(state) {\n    state.locked = false\n  },\n  SET_RELOAD_TIMER(state, value) {\n    state.reloadTimer = value\n  }\n} as MutationTree<WebsitePaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<WebsitePaneState, ModulesState>\n","import chart from './chart'\nimport stats from './stats'\nimport trades from './trades'\nimport prices from './prices'\nimport counters from './counters'\nimport website from './website'\n\nexport default {\n  chart,\n  stats,\n  trades,\n  prices,\n  counters,\n  website,\n  'trades-lite': trades\n}\n","import panesSettings from '@/store/panesSettings'\nimport { MarketAlert, Workspace } from '@/types/types'\nimport { IDBPDatabase, IDBPTransaction } from 'idb'\nimport { AggrDB } from './workspacesService'\nimport defaultPanes from '@/store/defaultPanes.json'\nimport { Threshold, TradesPaneState } from '@/store/panesSettings/trades'\nimport { getMarketProduct, parseMarket } from './productsService'\n\nexport const databaseUpgrades = {\n  0: (db: IDBPDatabase<any>) => {\n    console.debug(`[idb] create idb stores`)\n\n    const workspacesStore = db.createObjectStore('workspaces', {\n      keyPath: 'id'\n    })\n\n    workspacesStore.createIndex('name', 'name')\n\n    const seriesStore = db.createObjectStore('series', {\n      keyPath: 'id'\n    })\n\n    seriesStore.createIndex('name', 'name')\n\n    db.createObjectStore('products', {\n      keyPath: 'exchange'\n    })\n\n    db.createObjectStore('gifs', {\n      keyPath: 'slug'\n    })\n  },\n  1: (db: IDBPDatabase<AggrDB>) => {\n    ;(db as any).deleteObjectStore('series')\n\n    const indicatorsStore = db.createObjectStore('indicators', {\n      keyPath: 'id'\n    })\n\n    indicatorsStore.createIndex('name', 'name')\n  },\n  2: (db: IDBPDatabase<AggrDB>) => {\n    db.createObjectStore('presets', {\n      keyPath: 'name'\n    })\n  },\n  3: (db: IDBPDatabase<AggrDB>) => {\n    db.createObjectStore('sounds', {\n      keyPath: 'name'\n    })\n    db.createObjectStore('colors', {\n      autoIncrement: true\n    })\n  },\n  5: async (db: IDBPDatabase<AggrDB>) => {\n    db.createObjectStore('alerts', {\n      keyPath: 'market'\n    })\n  },\n  7: async (db: IDBPDatabase<AggrDB>, tx: IDBPTransaction<AggrDB>) => {\n    const objectStore = tx.objectStore('alerts')\n    const markets = (await objectStore.getAllKeys()) as any\n\n    for (const market of markets) {\n      const [exchange, pair] = parseMarket(market)\n      const { local } = getMarketProduct(exchange, pair, true)\n\n      const record = (await objectStore.get(market)) as any\n\n      let alerts: MarketAlert[]\n\n      if (record.prices) {\n        alerts = record.prices.map(price => ({\n          price,\n          market: local,\n          active: true\n        }))\n      } else {\n        alerts = record.alerts.map(alert => ({\n          ...alert,\n          market: local\n        }))\n      }\n\n      alerts = alerts.filter(alert => alert.price >= 0)\n\n      await (objectStore as any).delete(market)\n\n      if (alerts.length) {\n        await (objectStore as any).put({\n          market: local,\n          alerts\n        })\n      }\n    }\n  }\n}\n\nexport const workspaceUpgrades = {\n  1: (workspace: Workspace) => {\n    const layout = workspace.states.panes.layout\n\n    workspace.states.panes.layouts = {\n      lg: JSON.parse(JSON.stringify(layout))\n    }\n\n    delete workspace.states.panes.layout\n\n    const normalTradesSettings = JSON.parse(\n      JSON.stringify(panesSettings.trades.state)\n    )\n    const liquidationsTradesSettings = JSON.parse(\n      JSON.stringify(defaultPanes.panes.liquidations.settings)\n    )\n\n    const upgradeThreshold = (threshold, paneId) => {\n      let buyAudio: string = null\n      let sellAudio: string = null\n      let settings: TradesPaneState\n\n      if (paneId === 'liquidations') {\n        settings = liquidationsTradesSettings\n      } else {\n        settings = normalTradesSettings\n      }\n\n      if (threshold.id === 'liquidations') {\n        buyAudio = normalTradesSettings.liquidations.buyAudio\n        sellAudio = normalTradesSettings.liquidations.sellAudio\n      } else {\n        const defaultThreshold = settings.thresholds.find(\n          t => t.id === threshold.id\n        )\n\n        if (defaultThreshold) {\n          buyAudio = defaultThreshold.buyAudio\n          sellAudio = defaultThreshold.sellAudio\n        }\n      }\n\n      if (buyAudio !== null && sellAudio !== null) {\n        threshold.buyAudio = buyAudio\n        threshold.sellAudio = sellAudio\n      } else {\n        console.log(\n          `[idb/upgrade/workspace] couldn't find default threshold audio script for threshold ${threshold.id} of pane ${paneId}`\n        )\n      }\n    }\n\n    for (const paneId in workspace.states.panes.panes) {\n      if (\n        workspace.states.panes.panes[paneId].type !== 'trades' ||\n        !workspace.states[paneId]\n      ) {\n        continue\n      }\n\n      console.log(\n        `[idb/upgrade/workspace] set default audio scripts for pane ${paneId}`\n      )\n\n      upgradeThreshold(workspace.states[paneId].liquidations, paneId)\n\n      for (const threshold of workspace.states[paneId].thresholds) {\n        upgradeThreshold(threshold, paneId)\n      }\n    }\n  },\n  2: (workspace: Workspace) => {\n    if (!workspace.states.settings) {\n      return\n    }\n\n    workspace.states.settings.audioFilters = {\n      HighPassFilter: !!workspace.states.settings.audioFilter,\n      LowPassFilter: false,\n      Compressor: !!workspace.states.settings.audioCompressor,\n      Delay: !!workspace.states.settings.audioDelay,\n      PingPongDelay: !!workspace.states.settings.audioPingPong,\n      Chorus: false\n    }\n\n    delete workspace.states.settings.audioFilter\n    delete workspace.states.settings.audioCompressor\n    delete workspace.states.settings.audioPingPong\n    delete workspace.states.settings.audioDelay\n  },\n  3: (workspace: Workspace) => {\n    // remove alternative layouts, keep only the one fitting current screen size\n    const breakpointsWidth = { xl: 1400, lg: 1024, md: 768, sm: 480, xs: 0 }\n    const breakpointsCols = { xl: 32, lg: 24, md: 16, sm: 12, xs: 8 }\n    const layouts = workspace.states.panes.layouts\n    const breakpoints = Object.keys(layouts).reduce((cols, breakpoint) => {\n      cols[breakpoint] = breakpointsWidth[breakpoint]\n      return cols\n    }, {})\n\n    // sort by layout size\n    const keys = Object.keys(breakpoints).sort((a, b) => {\n      return breakpointsCols[b] - breakpointsCols[a]\n    })\n\n    // ensure smallest is level 0 layout\n    breakpoints[keys[keys.length - 1]] = 0\n\n    const width = window.innerWidth\n\n    let currentBreakpoint\n\n    for (currentBreakpoint of keys) {\n      if (width > breakpoints[currentBreakpoint]) {\n        break\n      }\n    }\n\n    const currentLayout = workspace.states.panes.layouts[currentBreakpoint]\n\n    if (currentBreakpoint !== 'lg') {\n      const cols = breakpointsCols[currentBreakpoint]\n      const coeficient = breakpointsCols.lg / cols\n\n      for (const pane of currentLayout) {\n        pane.x = Math.floor(pane.x * coeficient)\n        pane.y = Math.floor(pane.y * coeficient)\n        pane.w = Math.floor(pane.w * coeficient)\n        pane.h = Math.floor(pane.h * coeficient)\n      }\n    }\n\n    workspace.states.panes.layout = currentLayout\n    delete workspace.states.panes.layouts\n\n    for (const paneId in workspace.states.panes.panes) {\n      if (\n        workspace.states.panes.panes[paneId].type !== 'chart' ||\n        !workspace.states[paneId]\n      ) {\n        continue\n      }\n\n      let scaleMargins = {\n        top: 0.1,\n        bottom: 0.2\n      }\n\n      if (workspace.states[paneId].indicators) {\n        const rightIndicatorId = Object.keys(\n          workspace.states[paneId].indicators\n        ).find(id => {\n          return (\n            workspace.states[paneId].indicators[id].options &&\n            workspace.states[paneId].indicators[id].options.scaleMargins &&\n            workspace.states[paneId].indicators[id].options.priceScaleId ===\n              'right'\n          )\n        }) as string\n\n        if (rightIndicatorId) {\n          scaleMargins =\n            workspace.states[paneId].indicators[rightIndicatorId].options\n              .scaleMargins\n        }\n      }\n\n      workspace.states[paneId].priceScales = {\n        right: {\n          mode: 0,\n          scaleMargins\n        }\n      }\n    }\n  },\n  4: (workspace: Workspace) => {\n    for (const paneId in workspace.states.panes.panes) {\n      if (\n        workspace.states.panes.panes[paneId].type !== 'trades' ||\n        !workspace.states[paneId]\n      ) {\n        continue\n      }\n\n      const state = workspace.states[paneId] as TradesPaneState\n\n      let liquidationThreshold: Threshold = {\n        id: 'liquidation_threshold',\n        amount: 10000,\n        buyColor: 'rgba(236,64,122,0.5)',\n        sellColor: 'rgba(255,152,0,0.5)',\n        buyAudio:\n          \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*2,0,,,'sine')\\nplay(329.63, srqtR, srqtR*4,0.08,,,'sine')\",\n        sellAudio:\n          \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*2,0,,,'sine')\\nplay(440, srqtR, srqtR*4,0.08,,,'sine')\"\n      }\n\n      if (\n        workspace.states[paneId].liquidation &&\n        workspace.states[paneId].liquidation.amount < 25000\n      ) {\n        liquidationThreshold = workspace.states[paneId].liquidation\n        liquidationThreshold.id = 'liquidation_threshold'\n\n        if (workspace.states[paneId].liquidation.gif) {\n          liquidationThreshold.buyGif = workspace.states[paneId].liquidation.gif\n          liquidationThreshold.sellGif =\n            workspace.states[paneId].liquidation.gif\n          delete (liquidationThreshold as any).gif\n        }\n      }\n\n      state.liquidations = [\n        liquidationThreshold,\n        {\n          id: 'liquidation_significant',\n          amount: 25000,\n          buyColor: 'rgba(236,64,122,0.6)',\n          sellColor: 'rgba(255,152,0,0.7)',\n          buyAudio:\n            \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\\nplay(329.63, srqtR, srqtR*6,0.08,,,'sine')\",\n          sellAudio:\n            \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,'sine')\\nplay(440, srqtR, srqtR*6,0.08,,,'sine')\"\n        },\n        {\n          id: 'liquidation_huge',\n          amount: 100000,\n          buyGif: 'rekt',\n          sellGif: 'rekt',\n          buyColor: 'rgba(236,64,122,0.7)',\n          sellColor: 'rgba(255,152,0,0.8)',\n          buyAudio:\n            \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\\nplay(329.63, srqtR, srqtR*8,0.08,,,'sine')\",\n          sellAudio:\n            \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,'sine')\\nplay(440, srqtR, srqtR*8,0.08,,,'sine')\"\n        },\n        {\n          id: 'liquidation_rare',\n          amount: 1000000,\n          buyGif: 'explosion',\n          sellGif: 'explosion',\n          buyColor: 'rgb(156,39,176)',\n          sellColor: 'rgb(255,235,59)',\n          buyAudio:\n            \"var srqtR = Math.min(1, gain / 10)\\nplay(329.63, srqtR, 1,0,,,'sine')\\nplay(329.63, srqtR, srqtR*10,0.08,,,'sine')\",\n          sellAudio:\n            \"var srqtR = Math.min(1, gain / 10)\\nplay(440, srqtR, 1,0,,,'sine')\\nplay(440, srqtR, srqtR*10,0.08,,,'sine')\"\n        }\n      ]\n\n      for (let i = 0; i < state.thresholds.length; i++) {\n        if (!(state.thresholds[i] as any).gif) {\n          continue\n        }\n\n        state.thresholds[i].buyGif = (state.thresholds[i] as any).gif\n        state.thresholds[i].sellGif = (state.thresholds[i] as any).gif\n        delete (state.thresholds[i] as any).gif\n      }\n    }\n  },\n  5: (workspace: Workspace) => {\n    for (const paneId in workspace.states.panes.panes) {\n      const pane = workspace.states.panes.panes[paneId]\n      pane.zoom = Math.ceil(pane.zoom / 0.0625) * 0.0625\n    }\n  }\n}\n","import defaultIndicators from '@/store/defaultIndicators.json'\nimport defaultPresets from '@/store/defaultPresets.json'\nimport defaultPanes from '@/store/defaultPanes.json'\nimport store, { boot } from '@/store'\nimport { IndicatorSettings } from '@/store/panesSettings/chart'\nimport {\n  GifsStorage,\n  ImportedSound,\n  MarketAlerts,\n  Preset,\n  PresetType,\n  ProductsStorage,\n  Workspace\n} from '@/types/types'\nimport {\n  downloadAnything,\n  parseVersion,\n  randomString,\n  slugify,\n  uniqueName\n} from '@/utils/helpers'\nimport { openDB, DBSchema, IDBPDatabase, deleteDB } from 'idb'\nimport { databaseUpgrades, workspaceUpgrades } from './migrations'\nimport { PanesState } from '@/store/panes'\nimport alertService from './alertService'\nimport dialogService from './dialogService'\nimport { stripStable } from './productsService'\n\nexport interface AggrDB extends DBSchema {\n  products: {\n    value: ProductsStorage\n    key: string\n  }\n  gifs: {\n    value: GifsStorage\n    key: string\n  }\n  workspaces: {\n    value: Workspace\n    key: string\n    indexes: { name: string }\n  }\n  indicators: {\n    value: IndicatorSettings\n    key: string\n    indexes: { name: string }\n  }\n  presets: {\n    value: Preset\n    key: string\n  }\n  sounds: {\n    value: ImportedSound\n    key: string\n  }\n  colors: {\n    value: string\n    key: string\n  }\n  alerts: {\n    value: MarketAlerts\n    key: string\n  }\n}\n\nclass WorkspacesService {\n  db: IDBPDatabase<AggrDB>\n  workspace: Workspace\n  urlStrategy = 'history'\n  previousAppVersion: any\n  latestAppVersion: any\n  latestDatabaseVersion: any\n  latestWorkspaceVersion: any\n  pairsFromURL: string[]\n  defaultInserted = false\n\n  constructor() {\n    if (/github\\.io/.test(window.location.hostname)) {\n      this.urlStrategy = 'hash'\n    }\n\n    this.latestDatabaseVersion = Math.max.apply(\n      null,\n      Object.keys(databaseUpgrades)\n    )\n    this.latestWorkspaceVersion = Math.max.apply(\n      null,\n      Object.keys(workspaceUpgrades)\n    )\n    this.previousAppVersion = parseVersion(\n      localStorage.getItem('version') || '-1'\n    )\n    this.latestAppVersion = parseVersion(process.env.VUE_APP_VERSION)\n  }\n\n  async initialize() {\n    this.db = await this.createDatabase()\n\n    if (!this.defaultInserted) {\n      // add default presets and indicators post database creation\n      setTimeout(() => {\n        this.insertDefault(this.db)\n      }, 3000)\n    }\n\n    alertService.syncTriggeredAlerts()\n\n    const workspace = await this.getCurrentWorkspace()\n\n    this.setCurrentWorkspace(workspace)\n  }\n\n  async createDatabase() {\n    console.info(\n      `openDB 'aggr' (latest database v${this.latestDatabaseVersion} workspace v${this.latestWorkspaceVersion})`\n    )\n\n    let promiseOfUpgrade: Promise<void>\n\n    return new Promise<IDBPDatabase<AggrDB>>(resolve => {\n      openDB<AggrDB>('aggr', this.latestDatabaseVersion, {\n        upgrade: (db, oldVersion, newVersion, tx) => {\n          console.debug(`[idb] upgrade received`, oldVersion, '->', newVersion)\n\n          promiseOfUpgrade = new Promise(resolve => {\n            tx.oncomplete = async () => {\n              console.debug(`[idb] upgrade completed`)\n\n              await this.insertDefault(db)\n              resolve()\n            }\n            tx.onerror = async error => {\n              console.error(`[idb] upgrade error`, error)\n              resolve()\n            }\n          })\n\n          for (\n            let i = oldVersion ? oldVersion + 1 : oldVersion;\n            i <= newVersion;\n            i++\n          ) {\n            console.debug(`[idb] migrating v${i}`)\n\n            if (typeof databaseUpgrades[i] === 'function') {\n              databaseUpgrades[i](db, tx)\n            }\n          }\n        },\n        blocked() {\n          alert(\n            'Aggr is trying to upgrade.\\nClose any other window with aggr open in order to allow it to upgrade.'\n          )\n          console.log(`[idb] blocked received`)\n          // …\n        },\n        blocking() {\n          console.log(`[idb] blocking received`)\n          // …\n        },\n        terminated() {\n          alert('Browser abnormally terminated the connection with aggr db.')\n          console.log(`[idb] terminated received`)\n          // …\n        }\n      })\n        .then(db => {\n          if (promiseOfUpgrade) {\n            return promiseOfUpgrade.then(() => resolve(db))\n          }\n\n          return resolve(db)\n        })\n        .catch(err => {\n          console.log(err)\n          alert(\n            err.message +\n              '\\n\\nEither reset the browser data on this site or contact the devs on the github :\\nhttps://github.com/Tucsky/aggr/issues/new'\n          )\n        })\n    })\n  }\n\n  upgradeWorkspace(workspace: Workspace) {\n    if (typeof workspace.version === 'undefined') {\n      workspace.version = 0\n    }\n\n    while (workspace.version < this.latestWorkspaceVersion) {\n      console.log(\n        `[workspace] upgrade workspace ${workspace.id} (${\n          workspace.version\n        } -> ${workspace.version + 1})`\n      )\n\n      workspace.version++\n\n      if (typeof workspaceUpgrades[workspace.version] === 'function') {\n        workspaceUpgrades[workspace.version](workspace)\n      }\n    }\n  }\n\n  async insertDefault(db: IDBPDatabase<AggrDB>) {\n    this.defaultInserted = true\n\n    await this.insertDefaultIndicators(db)\n    await this.insertDefaultPresets(db)\n\n    localStorage.setItem('version', process.env.VUE_APP_VERSION)\n  }\n\n  async insertDefaultIndicators(db: IDBPDatabase<AggrDB>) {\n    const now = Date.now()\n    const tx = db.transaction('indicators', 'readwrite')\n\n    const existing = await tx.store.getAllKeys()\n    let added = 0\n\n    for (const id in defaultIndicators) {\n      const indicator: IndicatorSettings = defaultIndicators[id]\n\n      if (\n        parseVersion(indicator.version) <= this.previousAppVersion ||\n        existing.indexOf(id) !== -1\n      ) {\n        continue\n      }\n\n      console.log(`[idb/defaultIndicators] insert default indicator ${id}`)\n\n      try {\n        await tx.store.add({\n          ...indicator,\n          id,\n          createdAt: now,\n          updatedAt: null\n        })\n      } catch (error) {\n        console.error(error)\n        throw error\n      }\n\n      added++\n    }\n\n    if (added) {\n      console.debug(`[idb/defaultIndicators] ${added} indicators added`)\n    }\n\n    await tx.done\n  }\n\n  async insertDefaultPresets(db: IDBPDatabase<AggrDB>) {\n    const tx = db.transaction('presets', 'readwrite')\n\n    const existing = await tx.store.getAllKeys()\n    let added = 0\n\n    for (const preset of defaultPresets as Preset[]) {\n      if (\n        parseVersion(preset.version) < this.previousAppVersion ||\n        existing.indexOf(preset.name) !== -1\n      ) {\n        continue\n      }\n\n      console.log(`[idb/defaultPresets] insert default preset ${preset.name}`)\n\n      await tx.store.add(preset)\n\n      added++\n    }\n\n    if (added) {\n      console.debug(`[idb/defaultPresets] ${added} presets added`)\n    }\n\n    await tx.done\n  }\n\n  /**\n   * Use url params or local storage to retrieve current workspace\n   * If markets are passed in the url, mutate the workspace with new markets before return\n   * @returns {Workspace} workspace ready to be set on\n   */\n  async getCurrentWorkspace() {\n    const lastWorkspaceId = localStorage.getItem('workspace')\n    let urlWorkspaceId: string\n    let urlPairs: string\n    let workspace: Workspace\n\n    if (this.urlStrategy === 'hash') {\n      urlWorkspaceId = location.hash.substring(1)\n    } else {\n      ;[, urlWorkspaceId, urlPairs] = decodeURIComponent(\n        location.pathname\n      ).split('/')\n    }\n\n    if (urlWorkspaceId) {\n      // try get workspace from id in the url\n      workspace = await this.getWorkspace(urlWorkspaceId)\n    }\n\n    if (!workspace && lastWorkspaceId) {\n      // try get workspace from id in the localStorage\n      workspace = await this.getWorkspace(lastWorkspaceId)\n    }\n\n    if (!workspace) {\n      // create workspace, name it from url (or generate one)\n      workspace = await this.createWorkspace(urlWorkspaceId)\n\n      if (!urlPairs && urlWorkspaceId) {\n        // workspace is new and user passed an id in the url, maybe this id is a pair\n        urlPairs = urlWorkspaceId\n      }\n    } else if (!urlPairs && urlWorkspaceId && urlWorkspaceId !== workspace.id) {\n      // workspace existed but id in the url does not match with it, maybe that's a pair\n      urlPairs = urlWorkspaceId\n    }\n\n    if (urlPairs && urlPairs.trim().length > 4) {\n      this.pairsFromURL = urlPairs\n        .split(/\\+|,/)\n        .map(pair => stripStable(pair.toUpperCase()))\n    }\n\n    return workspace\n  }\n\n  async setCurrentWorkspace(workspace: Workspace) {\n    let previousWorkspaceId\n\n    if (this.workspace) {\n      previousWorkspaceId = this.workspace.id\n\n      window.location.href = window.location.href.replace(\n        previousWorkspaceId,\n        workspace.id\n      )\n\n      if (this.urlStrategy === 'hash') {\n        window.location.reload()\n      }\n\n      return\n    }\n\n    this.upgradeWorkspace(workspace)\n\n    this.workspace = workspace\n\n    if (this.urlStrategy === 'hash') {\n      location.hash = this.workspace.id\n    } else {\n      window.history.replaceState('Object', 'Title', '/' + this.workspace.id)\n    }\n\n    localStorage.setItem('workspace', this.workspace.id)\n\n    await boot(workspace, this.pairsFromURL)\n\n    return workspace\n  }\n\n  async addAndSetWorkspace(workspace) {\n    await this.setCurrentWorkspace(await this.addWorkspace(workspace))\n\n    this.getWorkspaces()\n  }\n\n  async saveState(stateId, state: any) {\n    if (!this.workspace) {\n      throw new Error(`There is no current workspace`)\n    }\n\n    state = this.cleanState(state)\n\n    this.workspace.states[stateId] = state\n\n    return this.saveWorkspace(this.workspace)\n  }\n\n  cleanState(state) {\n    state = JSON.parse(JSON.stringify(state))\n\n    for (const prop in state) {\n      if (prop[0] === '_' && prop !== '_id') {\n        delete state[prop]\n      }\n    }\n\n    return state\n  }\n\n  async downloadWorkspace(id?: string | Workspace) {\n    const workspace = await this.getWorkspace(id)\n\n    if (!workspace) {\n      return\n    }\n\n    if (workspace.states.panes) {\n      delete (workspace.states.panes as PanesState).marketsListeners\n    }\n\n    downloadAnything(workspace, workspace.id + '_' + slugify(workspace.name))\n  }\n\n  async getState(stateId: string) {\n    if (!this.workspace) {\n      throw new Error(`There is no current workspace`)\n    }\n\n    if (this.workspace.states[stateId]) {\n      console.debug(`[workspaces] get state ${stateId}`)\n\n      return this.workspace.states[stateId]\n    }\n\n    console.debug(\n      `[workspaces] couldn't retrieve workspace's state \"${stateId}\" (unknown state)`\n    )\n\n    return null\n  }\n\n  async removeState(stateId: string) {\n    if (!this.workspace) {\n      throw new Error(`There is no current workspace`)\n    }\n\n    console.debug(`[workspaces] remove state ${stateId}`)\n\n    delete this.workspace.states[stateId]\n\n    if (this.workspace.states[stateId]) {\n      delete this.workspace.states[stateId]\n    }\n\n    return this.saveWorkspace(this.workspace)\n  }\n\n  async addWorkspace(workspace: Workspace) {\n    const timestamp = Date.now()\n\n    await this.makeUniqueWorkspace(workspace)\n\n    await this.db.add('workspaces', {\n      ...workspace,\n      createdAt: timestamp,\n      updatedAt: null\n    })\n\n    return this.getWorkspace(workspace.id)\n  }\n\n  async makeUniqueWorkspace(workspace: Workspace) {\n    const workspaces = await this.getWorkspaces()\n\n    workspace.name = uniqueName(\n      workspace.name || randomString(4),\n      workspaces.map(w => w.name)\n    )\n\n    workspace.id = uniqueName(\n      slugify(workspace.name),\n      workspaces.map(w => w.id),\n      true,\n      'copy 1'\n    )\n  }\n\n  async getWorkspace(id?: string | Workspace): Promise<Workspace> {\n    let workspace\n\n    if (!id || (this.workspace && id === this.workspace.id)) {\n      workspace = this.workspace\n    } else if (typeof id === 'string') {\n      workspace = await this.db.get('workspaces', id)\n    } else if (typeof id === 'object') {\n      workspace = id\n    }\n\n    if (!workspace) {\n      return\n    }\n\n    return workspace\n  }\n\n  async createWorkspace(name) {\n    const timestamp = Date.now()\n\n    const panes = JSON.parse(JSON.stringify(defaultPanes))\n\n    const workspace: Workspace = {\n      version: this.latestWorkspaceVersion,\n      createdAt: timestamp,\n      updatedAt: null,\n      name: name,\n      id: null,\n      states: {\n        panes\n      }\n    }\n\n    await this.makeUniqueWorkspace(workspace)\n\n    console.debug(\n      `[workspaces] create new workspace ${workspace.name} (${workspace.id})`\n    )\n\n    await this.db.add('workspaces', workspace)\n\n    return await this.getWorkspace(workspace.id)\n  }\n\n  async duplicateWorkspace(id?: string | Workspace) {\n    const workspace = await this.getWorkspace(id)\n\n    if (!workspace) {\n      return\n    }\n\n    const timestamp = Date.now()\n\n    const workspaceCopy: Workspace = JSON.parse(JSON.stringify(workspace))\n\n    workspaceCopy.createdAt = timestamp\n    workspaceCopy.updatedAt = null\n\n    await this.makeUniqueWorkspace(workspaceCopy)\n\n    console.debug(\n      `[workspaces] copy current workspace into ${workspaceCopy.name} (${workspaceCopy.id})`\n    )\n\n    await this.db.add('workspaces', workspaceCopy)\n\n    return await this.setCurrentWorkspace(\n      await this.getWorkspace(workspaceCopy.id)\n    )\n  }\n\n  getWorkspaces() {\n    return this.db.getAllFromIndex('workspaces', 'name')\n  }\n\n  async renameWorkspace(workspace: Workspace, name: string) {\n    await this.removeWorkspace(workspace.id)\n\n    workspace.name = name\n\n    this.makeUniqueWorkspace(workspace)\n\n    return this.db.add('workspaces', workspace)\n  }\n\n  async saveWorkspace(workspace: Workspace) {\n    workspace.updatedAt = Date.now()\n\n    return this.db.put('workspaces', JSON.parse(JSON.stringify(workspace)))\n  }\n\n  removeWorkspace(id: string) {\n    return this.db.delete('workspaces', id)\n  }\n\n  saveProducts(storage: ProductsStorage) {\n    return this.db.put('products', storage)\n  }\n\n  getProducts(exchangeId: string) {\n    return this.db.get('products', exchangeId)\n  }\n\n  deleteProducts(exchangeId: string) {\n    return this.db.delete('products', exchangeId)\n  }\n\n  saveGifs(storage: GifsStorage) {\n    return this.db.put('gifs', storage)\n  }\n\n  getGifs(slug: string) {\n    return this.db.get('gifs', slug)\n  }\n\n  getGifsKeywords() {\n    return this.db.getAllKeys('gifs')\n  }\n\n  deleteGifs(slug: string) {\n    return this.db.delete('gifs', slug)\n  }\n\n  async saveIndicator(indicator: IndicatorSettings) {\n    const now = Date.now()\n\n    if (indicator.createdAt) {\n      indicator.updatedAt = now\n    } else {\n      indicator.createdAt = now\n    }\n\n    store.dispatch('app/showNotice', {\n      type: 'info',\n      title: `Saved indicator ${indicator.id}`\n    })\n\n    return this.db.put('indicators', indicator)\n  }\n\n  async incrementIndicatorUsage(id: string): Promise<string> {\n    const indicator = await this.getIndicator(id)\n\n    if (!indicator) {\n      return\n    }\n\n    if (!indicator.uses) {\n      indicator.uses = 0\n    }\n\n    indicator.uses++\n\n    return this.saveIndicator(indicator)\n  }\n\n  getIndicator(id: string): Promise<IndicatorSettings> {\n    return this.db.get('indicators', id)\n  }\n\n  getIndicators(): Promise<IndicatorSettings[]> {\n    return this.db.getAllFromIndex('indicators', 'name')\n  }\n\n  getIndicatorsIds() {\n    return this.db.getAllKeys('indicators')\n  }\n\n  deleteIndicator(id: string) {\n    return this.db.delete('indicators', id)\n  }\n\n  async savePreset(preset: Preset, type?: string, confirmOverride = true) {\n    if (type) {\n      // ex indicator:price\n\n      const inputType = preset.type.split(':')[0] as PresetType\n      const targetType = type.split(':')[0]\n\n      if (targetType !== inputType) {\n        throw new Error(`Preset type ${inputType} is not ${targetType} type`)\n      }\n\n      preset.type = targetType\n      preset.name = type + ':' + preset.name.split(':').pop()\n    }\n\n    if (\n      confirmOverride &&\n      (await this.getPreset(preset.name)) &&\n      !(await dialogService.confirm({\n        message: `This preset \"${preset.name}\" already exists.`,\n        ok: 'Continue anyway',\n        cancel: 'Cancel'\n      }))\n    ) {\n      throw new Error(`Save preset : aborted`)\n    }\n\n    return this.db.put('presets', preset)\n  }\n\n  async getPreset(id: string): Promise<Preset> {\n    return this.db.get('presets', id)\n  }\n\n  getPresetsKeysByType(type: PresetType) {\n    return this.db.getAllKeys(\n      'presets',\n      IDBKeyRange.bound(type, type + '|', true, true)\n    )\n  }\n\n  removePreset(id) {\n    return this.db.delete('presets', id)\n  }\n\n  saveSound(sound: ImportedSound) {\n    return this.db.put('sounds', sound)\n  }\n\n  async getSound(id: string): Promise<ImportedSound> {\n    return this.db.get('sounds', id)\n  }\n\n  removeSound(id) {\n    return this.db.delete('sounds', id)\n  }\n\n  saveColor(color: string) {\n    return this.db.put('colors', color)\n  }\n\n  async getColors(): Promise<string[]> {\n    return this.db.getAll('colors')\n  }\n\n  removeColor(color: string) {\n    return this.db.delete('colors', color)\n  }\n\n  async getAlerts(market: string) {\n    const marketAlerts = await this.db.get('alerts', market)\n\n    if (marketAlerts) {\n      return marketAlerts.alerts\n    }\n\n    return []\n  }\n\n  saveAlerts(marketAlerts: MarketAlerts) {\n    if (!marketAlerts.alerts.length) {\n      return this.db.delete('alerts', marketAlerts.market)\n    }\n\n    return this.db.put('alerts', marketAlerts)\n  }\n\n  async reset() {\n    if (this.db) {\n      this.db.close()\n      this.db = null\n      this.workspace = null\n    }\n\n    await deleteDB('aggr')\n\n    localStorage.removeItem('workspace')\n    localStorage.removeItem('version')\n  }\n\n  async exportDatabase() {\n    const { Dexie } = (await import('dexie')) as any\n    const { exportDB } = await import('dexie-export-import')\n\n    const db = await new Dexie('aggr').open()\n    const blob = await exportDB(db, {\n      filter: tableName => {\n        if (tableName === 'products' || tableName === 'gifs') {\n          return false\n        }\n\n        return true\n      }\n    })\n\n    const workspaces = (await this.getWorkspaces())\n      .sort((a, b) => b.updatedAt - a.updatedAt)\n      .map(a => a.id)\n\n    downloadAnything(blob, 'aggr-' + workspaces.join('-'))\n  }\n}\n\nexport default new WorkspacesService()\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isBooted)?_c('div',{class:{\n    '-loading': _vm.isLoading,\n    '-no-animations': _vm.disableAnimations,\n    '-auto-hide-headers': _vm.autoHideHeaders,\n    '-light': _vm.theme === 'light'\n  },attrs:{\"id\":\"app\",\"data-prefered-sizing-currency\":_vm.preferedSizingCurrency,\"data-base\":_vm.baseCurrency,\"data-base-symbol\":_vm.baseCurrencySymbol,\"data-quote\":_vm.quoteCurrency,\"data-quote-symbol\":_vm.quoteCurrencySymbol}},[_c('Notices'),_c('div',{staticClass:\"app__wrapper\"},[_c('Menu'),_c('div',{staticClass:\"app__layout\"},[_c('Panes')],1)],1)],1):_c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"app-loader d-flex -column\"},[(_vm.showStuck)?_c('div',{staticClass:\"px8 py8\"},[_vm._v(\" 💡 Stuck here ? \"),_c('button',{staticClass:\"btn -text\",on:{\"click\":_vm.resetAndReload}},[_vm._v(\" reset everything \")])]):_vm._e(),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lds-spinner -center\"},[_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div')])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition-height',{staticClass:\"notices\",attrs:{\"name\":_vm.transitionGroupName,\"tag\":\"div\"}},_vm._l((_vm.notices),function(notice){return _c('div',{key:notice.id,staticClass:\"notice\",class:'-' + notice.type},[_c('div',{staticClass:\"notice__wrapper\",on:{\"click\":function($event){return _vm.$store.dispatch('app/hideNotice', notice.id)}}},[(notice.icon)?_c('i',{staticClass:\"notice__icon\",class:notice.icon}):_vm._e(),(!notice.html)?_c('div',{staticClass:\"notice__title\",domProps:{\"textContent\":_vm._s(notice.title)}}):_c('div',{staticClass:\"notice__title\",domProps:{\"innerHTML\":_vm._s(notice.title)}})])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Notice } from '@/store/app'\nimport { Component, Vue } from 'vue-property-decorator'\nimport TransitionHeight from './TransitionHeight.vue'\n\n@Component({\n  components: { TransitionHeight },\n  name: 'Notices'\n})\nexport default class extends Vue {\n  get notices(): Notice[] {\n    return this.$store.state.app.notices\n  }\n\n  get disableAnimations() {\n    return this.$store.state.settings.disableAnimations\n  }\n\n  get transitionGroupName() {\n    if (!this.disableAnimations) {\n      return 'slide-notice'\n    } else {\n      return null\n    }\n  }\n\n  onButtonClick(notice) {\n    let hide = true\n\n    if (typeof notice.button.click === 'function') {\n      hide = notice.button.click()\n    }\n\n    hide !== false && this.$store.dispatch('app/hideNotice', notice.id)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notices.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notices.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Notices.vue?vue&type=template&id=639548e0&\"\nimport script from \"./Notices.vue?vue&type=script&lang=ts&\"\nexport * from \"./Notices.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu\",class:{ '-open': _vm.open },attrs:{\"id\":\"menu\"}},[_c('button',{staticClass:\"menu__button btn\",on:{\"click\":function($event){return _vm.$refs.menuDropdown.toggle($event.currentTarget)}}},[_c('i',{staticClass:\"icon-menu\"})]),_c('dropdown',{ref:\"menuDropdown\"},[_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$store.dispatch('app/showSearch', null)}}},[_c('span',{staticClass:\"mr4\"},[_vm._v(\"Search\")]),_c('i',{staticClass:\"icon-search\"})]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.panesDropdown.toggle($event.currentTarget)}}},[_c('i',{staticClass:\"icon-dashboard -center mr8\"}),_c('span',{staticClass:\"mr4\"},[_vm._v(\"Pane\")]),_c('i',{staticClass:\"icon-plus mlauto\"})]),_c('dropdown',{ref:\"panesDropdown\",nativeOn:{\"mousedown\":function($event){$event.stopPropagation();},\"touchstart\":function($event){$event.stopPropagation();}}},[_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('chart')}}},[_c('div',[_c('div',[_vm._v(\"Chart\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Live Chart\")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('trades')}}},[_c('div',[_c('div',[_vm._v(\"Trades\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Legacy trades feed\")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('trades-lite')}}},[_c('div',[_c('div',[_vm._v(\"Trades \"),_c('span',[_vm._v(\"LITE ⚡️\")])]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\" Minimal but faster \")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('prices')}}},[_c('div',[_c('div',[_vm._v(\"Markets\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Price change & volume\")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('website')}}},[_c('div',[_c('div',[_vm._v(\"Website\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Embed website\")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('stats')}}},[_c('div',[_c('div',[_vm._v(\"Stats\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Custom rolling metrics\")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('counters')}}},[_c('div',[_c('div',[_vm._v(\"Counters\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Buys/sells by intervals\")])]),_c('i',{staticClass:\"icon-plus\"})])]),_c('dropdown',_vm._g({ref:\"volumeSlider\",staticClass:\"volume-slider\",attrs:{\"interactive\":\"\",\"no-scroll\":\"\",\"transparent\":\"\",\"on-sides\":\"\"},nativeOn:{\"mousedown\":function($event){$event.stopPropagation();},\"touchstart\":function($event){$event.stopPropagation();},\"mouseleave\":function($event){return _vm.volumeSliderTriggerEvents.mouseleave.apply(null, arguments)}},model:{value:(_vm.volumeSliderOpened),callback:function ($$v) {_vm.volumeSliderOpened=$$v},expression:\"volumeSliderOpened\"}},_vm.volumeSliderEvents),[_c('slider',{staticStyle:{\"width\":\"100px\"},attrs:{\"min\":0,\"max\":3,\"step\":0.01,\"label\":true,\"value\":_vm.audioVolume,\"log\":\"\"},on:{\"input\":function($event){return _vm.$store.dispatch('settings/setAudioVolume', $event)},\"reset\":function($event){return _vm.$store.dispatch('settings/setAudioVolume', 1)}},scopedSlots:_vm._u([{key:\"tooltip\",fn:function(){return [_vm._v(\" \"+_vm._s(+(_vm.audioVolume * 100).toFixed(2))+\"% \")]},proxy:true}])})],1),_c('button',_vm._g({ref:\"volumeSliderTrigger\",staticClass:\"dropdown-item dropdown-item--space-between\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleAudio}},_vm.volumeSliderTriggerEvents),[_c('span',{staticClass:\"mr4\"},[_vm._v(\"Audio\")]),(!_vm.useAudio)?_c('i',{staticClass:\"icon-volume-off\"}):_c('i',{staticClass:\"icon-volume-medium\",class:{ 'icon-volume-high': _vm.audioVolume > 1 }})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleFullscreen}},[_c('span',{staticClass:\"mr4\",domProps:{\"textContent\":_vm._s(_vm.isFullscreen ? 'Exit' : 'Go Fullscreen')}}),_c('i',{staticClass:\"icon-enlarge\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.showSettings}},[_c('span',{staticClass:\"mr4\"},[_vm._v(\"Settings\")]),_c('i',{staticClass:\"icon-cog\"})])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{staticClass:\"-sticky-footer\",attrs:{\"contentClass\":\"settings\"},on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"Settings\")]),(_vm.hits)?_c('div',{staticClass:\"subtitle\"},[_c('i',{staticClass:\"icon-bolt\"}),_vm._v(\" \"),_c('code',{domProps:{\"textContent\":_vm._s(_vm.hits)}}),_vm._v(\" messages /s \")]):_vm._e()]),_c('div',{staticClass:\"column -center\"})]},proxy:true}])},[(_vm.currentWorkspace)?_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('workspaces') > -1)?_c('div',[_c('div',{staticClass:\"column\"},[_c('button',{staticClass:\"btn -blue -large -cases flex-grow-1 column text-ellipsis\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggleWorkspaceDropdown($event, _vm.currentWorkspace.id)}}},[_c('i',{staticClass:\"icon-dashboard -center mr16\"}),_c('div',{staticClass:\"-fill text-left text-ellipsis\"},[_c('div',{staticClass:\"text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.currentWorkspace.name)+\" \")]),_c('small',{staticClass:\"text-muted\"},[_vm._v(\" created \"+_vm._s(_vm.currentWorkspace.createdAt)+\" ago \")])]),_c('i',{staticClass:\"icon-cog\"})]),_c('dropdown',{model:{value:(_vm.workspaceDropdownTrigger),callback:function ($$v) {_vm.workspaceDropdownTrigger=$$v},expression:\"workspaceDropdownTrigger\"}},[_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.openWorkspace(_vm.workspaceDropdownId, true)}}},[_c('i',{staticClass:\"icon-external-link-square-alt\"}),_c('span',[_vm._v(\"Open in a new tab\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.renameWorkspace(_vm.workspaceDropdownId)}}},[_c('i',{staticClass:\"icon-edit\"}),_c('span',[_vm._v(\"Rename\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.duplicateWorkspace(_vm.workspaceDropdownId)}}},[_c('i',{staticClass:\"icon-copy-paste\"}),_c('span',[_vm._v(\"Duplicate\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.exportWorkspace(_vm.workspaceDropdownId)}}},[_c('i',{staticClass:\"icon-download\"}),_c('span',[_vm._v(\"Download\")])]),_c('div',{staticClass:\"dropdown-divider\"}),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeWorkspace(_vm.workspaceDropdownId)}}},[_c('i',{staticClass:\"icon-cross\"}),_c('span',[_vm._v(\"Remove workspace\")])])]),_c('button',{staticClass:\"btn -text -large  -cases ml8\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$refs.createWorkspaceDropdown.toggle($event.currentTarget)}}},[_c('i',{staticClass:\"icon-plus mr4\"}),_c('span',[_vm._v(\"New\")])]),_c('dropdown',{ref:\"createWorkspaceDropdown\"},[_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.uploadWorkspace}},[_c('i',{staticClass:\"icon-upload\"}),_c('span',[_vm._v(\"Upload template file\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.createBlankWorkspace}},[_c('i',{staticClass:\"icon-plus\"}),_c('span',[_vm._v(\"Create blank template\")])])])],1),(_vm.workspaces.length)?_c('table',{staticClass:\"table mt8\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Name\")]),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\"Updated at\")]),_c('th')])]),_c('tbody',_vm._l((_vm.workspaces),function(workspace){return _c('tr',{key:workspace.id,staticClass:\"option -action\",on:{\"click\":function($event){return _vm.openWorkspace(workspace.id)}}},[_c('td',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ boundary: 'window', placement: 'left' }),expression:\"{ boundary: 'window', placement: 'left' }\"}],staticClass:\"table-input table-ellipsis text-nowrap\",class:[workspace.id === _vm.currentWorkspace.id && 'text-bold'],attrs:{\"title\":((workspace.name) + \", created \" + (_vm.ago(workspace.createdAt)) + \" ago\")},domProps:{\"textContent\":_vm._s(workspace.name)}}),_c('td',{staticClass:\"table-input table-min\"},[_vm._v(\" \"+_vm._s(_vm.ago(workspace.updatedAt))+\" ago \")]),_c('td',{staticClass:\"table-action -hover\"},[_c('button',{staticClass:\"btn -text -small\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleWorkspaceDropdown($event, workspace.id)}}},[_c('i',{staticClass:\"icon-more\"})])])])}),0)]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'workspaces')}}},[_vm._v(\" Workspaces \"),_c('small',[_vm._v(\"templates\")]),_c('i',{staticClass:\"icon-up-thin\"})])]):_vm._e(),_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('list') > -1)?_c('div',{staticClass:\"settings-trades\"},[_c('div',{staticClass:\"form-group column mb8\"},[_c('label',{staticClass:\"checkbox-control -aggr -auto flex-grow-1\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('settings/TOGGLE_AGGREGATION')}}}),_c('div',{attrs:{\"on\":_vm.aggregationLength + 'ms',\"off\":\"No aggregation\"}}),(_vm.aggregationLength)?_c('span',[_vm._v(_vm._s(_vm.aggregationLength)+\"ms aggregation\")]):_c('span',[_vm._v(\"No aggregation\")])])]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'left' }),expression:\"{ placement: 'left' }\"}],staticClass:\"checkbox-control -slippage\",attrs:{\"title\":_vm.calculateSlippage === 'price'\n              ? 'Show slippage in $'\n              : _vm.calculateSlippage === 'bps'\n              ? 'Show slippage in basis point (bps)'\n              : 'Slippage disabled'}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.calculateSlippage},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SLIPPAGE')}}}),_c('div'),(_vm.calculateSlippage === 'price')?_c('span',[_vm._v(\" Calculate slippage in price change (\"),_c('i',{staticClass:\"icon-dollar\"}),_vm._v(\") \")]):_vm._e(),(_vm.calculateSlippage === 'bps')?_c('span',[_vm._v(\" Calculate slippage in bps \"),_c('i',{staticClass:\"icon-bps\"})]):_vm._e(),(!_vm.calculateSlippage)?_c('span',[_vm._v(\"Do not show slippage\")]):_vm._e()])]),_c('div',{staticClass:\"form-group\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'left' }),expression:\"{ placement: 'left' }\"}],staticClass:\"checkbox-control checkbox-control-input -auto\",attrs:{\"title\":\"Size display preference\"}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.preferQuoteCurrencySize},on:{\"change\":function($event){return _vm.$store.commit(\n                'settings/SET_QUOTE_AS_PREFERED_CURRENCY',\n                $event.target.checked\n              )}}}),_c('span',[_vm._v(\"Size in\")]),_c('div',{attrs:{\"on\":\"quote currency\",\"off\":\"base currency\"}}),_c('span',[_vm._v(\"(\"),_c('i',{class:_vm.preferQuoteCurrencySize ? 'icon-quote' : 'icon-base'}),_vm._v(\")\")])])])]):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'list')}}},[_vm._v(\" Trades \"),_c('small',[_vm._v(\"aggregation, slippage, currency\")]),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('audio') > -1)?_c('audio-settings'):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'audio')}}},[_vm._v(\" Audio \"),_c('small',[_vm._v(\"main volume\")]),_c('i',{staticClass:\"icon-up-thin\"})])],1),_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('colors') > -1)?_c('div',{staticClass:\"settings-chart\"},[_c('div',{staticClass:\"form-group column mb8\"},[_c('color-picker-control',{attrs:{\"value\":_vm.backgroundColor,\"label\":\"Background color\"},on:{\"input\":function($event){return _vm.$store.dispatch('settings/setColor', {\n              type: 'BACKGROUND',\n              value: $event\n            })}}}),_c('label',{staticClass:\"-fill -center ml8\"},[_vm._v(\"Background color\")])],1),_c('div',{staticClass:\"form-group column mb8\"},[_c('color-picker-control',{attrs:{\"value\":_vm.textColor,\"label\":\"App text color\"},on:{\"input\":function($event){return _vm.$store.dispatch('settings/setColor', {\n              type: 'TEXT',\n              value: $event\n            })}}}),_c('label',{staticClass:\"-fill -center ml8\",attrs:{\"for\":\"\"}},[_vm._v(\"Text color \"),_c('a',[(_vm.textColor)?_c('i',{staticClass:\"icon-cross text-small\",on:{\"click\":function($event){return _vm.$store.dispatch('settings/setColor', {\n                  type: 'TEXT',\n                  value: null\n                })}}}):_vm._e()])])],1),_c('div',{staticClass:\"form-group column mb8\"},[_c('color-picker-control',{attrs:{\"value\":_vm.buyColor,\"label\":\"Buy color\"},on:{\"close\":_vm.regenerateSwatch,\"input\":function($event){return _vm.$store.dispatch('settings/setColor', {\n              type: 'BUY',\n              value: $event\n            })}}}),_c('label',{staticClass:\"-fill -center ml8\"},[_vm._v(\"Buy color\")])],1),_c('div',{staticClass:\"form-group column mb8\"},[_c('color-picker-control',{attrs:{\"value\":_vm.sellColor,\"label\":\"Sell color\"},on:{\"close\":_vm.regenerateSwatch,\"input\":function($event){return _vm.$store.dispatch('settings/setColor', {\n              type: 'SELL',\n              value: $event\n            })}}}),_c('label',{staticClass:\"-fill -center ml8\"},[_vm._v(\"Sell color\")])],1)]):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'colors')}}},[_vm._v(\" Colors \"),_c('small',[_vm._v(\"background, buy/sell color\")]),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('exchanges') > -1)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"settings-exchanges\"},_vm._l((_vm.exchanges),function(exchangeId){return _c('Exchange',{key:exchangeId,attrs:{\"id\":exchangeId}})}),1)]):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'exchanges')}}},[_vm._v(\" Exchanges \"),_c('small',[_vm._v(\"enable/disable exchange globally\")]),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('other') > -1)?_c('other-settings'):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'other')}}},[_vm._v(\" Other \"),_c('i',{staticClass:\"icon-up-thin\"})])],1),_c('footer',{staticClass:\"section mt16 settings__footer\"},[_c('div',{staticClass:\"form-group\"},[(_vm.version)?_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"-grow\"},[_c('button',{staticClass:\"btn -text pl0\"},[_vm._v(\" v\"+_vm._s(_vm.version)+\" \"),_c('sup',{staticClass:\"version-date\"},[_vm._v(_vm._s(_vm.buildDate))])])]),_c('a',{staticClass:\"btn -text\",attrs:{\"href\":\"https://github.com/Tucsky/aggr\",\"target\":\"_blank\"}},[_vm._v(\"github\")]),_c('i',{staticClass:\"pipe -center\"},[_vm._v(\"|\")]),_c('span',[_c('dono-dropdown',{staticClass:\"-top -text-left\"})],1),_c('i',{staticClass:\"pipe -center\"},[_vm._v(\"|\")]),_c('span',[_c('button',{staticClass:\"btn -text -arrow\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$refs.databaseDropdown.toggle($event.currentTarget)}}},[_vm._v(\" Reset \")]),_c('dropdown',{ref:\"databaseDropdown\"},[_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.reset}},[_c('i',{staticClass:\"icon-warning\"}),_c('span',[_vm._v(\"Reset to default\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.exportDatabase}},[_c('i',{staticClass:\"icon-upload\"}),_c('span',[_vm._v(\"Export database\")])])])],1)]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings-exchange\",class:{\n    '-active': _vm.active,\n    '-enabled': !_vm.settings.disabled,\n    '-expanded': _vm.expanded\n  }},[_c('div',{staticClass:\"settings-exchange__header\",on:{\"click\":_vm.toggleExchange}},[_c('div',{staticClass:\"settings-exchange__name\"},[_c('span',[_vm._v(_vm._s(_vm.name))])]),_c('div',{staticClass:\"settings-exchange__controls\"},[_c('button',{staticClass:\"settings-exchange__more\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.expanded = !_vm.expanded}}},[_c('i',{staticClass:\"icon-down-thin\"})])])]),(_vm.expanded)?_c('div',{staticClass:\"settings-exchange__detail\"},[(_vm.markets.length)?_c('div',{staticClass:\"form-group\"},[_c('small',{staticClass:\"mb4 d-block\"},[_vm._v(\"Connections\")]),_c('div',_vm._l((_vm.markets),function(market){return _c('div',{key:market.id,staticClass:\"d-flex\"},[_c('div',{staticClass:\"-fill -center\"},[_vm._v(_vm._s(market.id))])])}),0)]):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport Slider from '@/components/framework/picker/Slider.vue'\nimport aggregatorService from '@/services/aggregatorService'\nimport { formatAmount } from '@/services/productsService'\n\n@Component({\n  name: 'Exchange',\n  components: {\n    Slider\n  },\n  props: ['id']\n})\nexport default class extends Vue {\n  id: string\n  expanded = false\n  prices: { [identifier: string]: number } = {}\n\n  mounted() {\n    aggregatorService.on('prices', this.updateMarketsPrices)\n  }\n\n  beforeDestroy() {\n    aggregatorService.off('prices', this.updateMarketsPrices)\n  }\n\n  updateMarketsPrices(prices) {\n    this.prices = prices\n  }\n\n  get name() {\n    return this.id.replace(/[\\W_]+/g, ' ')\n  }\n\n  get settings() {\n    return this.$store.state.exchanges[this.id]\n  }\n\n  get markets() {\n    return (Object as any)\n      .values(this.$store.state.panes.marketsListeners)\n      .filter(a => a.exchange === this.id)\n  }\n\n  get active() {\n    return this.markets.length\n  }\n\n  async toggleExchange() {\n    await this.$store.dispatch('exchanges/toggleExchange', this.id)\n  }\n\n  formatAmount(amount) {\n    return formatAmount(amount)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exchange.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exchange.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Exchange.vue?vue&type=template&id=6ae41fdb&\"\nimport script from \"./Exchange.vue?vue&type=script&lang=ts&\"\nexport * from \"./Exchange.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Exchange.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dropdown-button',{staticClass:\"-text -arrow\",attrs:{\"options\":_vm.donationMenu,\"placeholder\":_vm.label},on:{\"input\":_vm.onSelect},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar value = ref.value;\nreturn [_c('i',{staticClass:\"-fill\",class:'icon-' + value.icon}),_c('span',{staticClass:\"ml4\"},[_vm._v(_vm._s(value.label))])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport DropdownButton from '@/components/framework/DropdownButton.vue'\n\n@Component({\n  components: {\n    DropdownButton\n  },\n  props: {\n    label: {\n      default: 'donate'\n    }\n  }\n})\nexport default class extends Vue {\n  donationMenu = [\n    {\n      label: 'with Bitcoin',\n      icon: 'bitcoin',\n      click: () => window.open('bitcoin:3PK1bBK8sG3zAjPBPD7g3PL14Ndux3zWEz')\n    },\n    {\n      label: 'with Monero',\n      icon: 'xmr',\n      click: () =>\n        window.open(\n          'monero:48NJj3RJDo33zMLaudQDdM8G6MfPrQbpeZU2YnRN2Ep6hbKyYRrS2ZSdiAKpkUXBcjD2pKiPqXtQmSZjZM7fC6YT6CMmoX6'\n        )\n    },\n    {\n      label: 'with other coin',\n      icon: 'COINBASE',\n      click: () =>\n        window.open(\n          'https://commerce.coinbase.com/checkout/c58bd003-5e47-4cfb-ae25-5292f0a0e1e8'\n        )\n    }\n  ]\n\n  onSelect(option) {\n    if (typeof option.click === 'function') {\n      option.click()\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonoDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonoDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DonoDropdown.vue?vue&type=template&id=005a9fdb&\"\nimport script from \"./DonoDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./DonoDropdown.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings-audio\",class:{ active: _vm.useAudio }},[_c('div',{staticClass:\"-fill\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"form-group -tight\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'bottom' }),expression:\"{ placement: 'bottom' }\"}],staticClass:\"checkbox-control checkbox-control-input flex-right\",attrs:{\"title\":\"Enable audio\"}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useAudio},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_AUDIO', $event.target.checked)}}}),_c('div')])]),_c('div',{staticClass:\"form-group -fill -center\"},[_c('slider',{attrs:{\"min\":0,\"max\":3,\"step\":0.01,\"label\":true,\"value\":_vm.audioVolume,\"log\":\"\"},on:{\"input\":function($event){return _vm.$store.dispatch('settings/setAudioVolume', $event)},\"reset\":function($event){return _vm.$store.dispatch('settings/setAudioVolume', 1)}}})],1)]),(_vm.useAudio)?_c('div',{staticClass:\"mt8\"},_vm._l((_vm.filters),function(filter){return _c('div',{key:filter,staticClass:\"btn -text px0\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"checkbox-control checkbox-control-input -auto\",attrs:{\"title\":_vm.filtersDescriptions[filter]}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.$store.state.settings.audioFilters[filter]},on:{\"change\":function($event){return _vm.$store.commit('settings/SET_AUDIO_FILTER', {\n                id: filter,\n                value: $event.target.checked\n              })}}}),_c('div',{attrs:{\"on\":filter,\"off\":filter}})])])}),0):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport audioService from '@/services/audioService'\nimport { Component, Vue } from 'vue-property-decorator'\nimport Slider from '../framework/picker/Slider.vue'\n\n@Component({\n  components: { Slider },\n  name: 'AudioSettings'\n})\nexport default class extends Vue {\n  filters: string[] = []\n  filtersDescriptions = {\n    HighPassFilter:\n      'High-Pass Filter passes frequencies above its cutoff frequency and attenuates frequencies below its cutoff frequency',\n    LowPassFilter:\n      'Low-Pass Filter passes frequencies below its cutoff frequency and attenuates frequencies above its cutoff frequency. This effect can therefore be used to reduce high pitched noise',\n    Compressor:\n      'A compressor has the ability to reduce the difference in order for the quiet notes to be louder and the peak notes to be quieter',\n    Delay:\n      'A delay effect is similar to an echo, in that the sound is repeated one or more times after the original sound',\n    PingPongDelay:\n      'Ping Pong Delay is a time-sensitive delay that pans the delay to the left and right speakers one after the other',\n    Chorus:\n      'An equal mix of the wet and dry signal is used with the wet signal being delayed and pitch modulated'\n  }\n\n  get useAudio() {\n    return this.$store.state.settings.useAudio\n  }\n\n  get audioVolume() {\n    return this.$store.state.settings.audioVolume\n  }\n\n  created() {\n    this.filters = Object.keys(audioService.filtersOptions)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AudioSettings.vue?vue&type=template&id=75ae916c&scoped=true&\"\nimport script from \"./AudioSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./AudioSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AudioSettings.vue?vue&type=style&index=0&id=75ae916c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75ae916c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"form-group mb8\"},[_c('label',{staticClass:\"checkbox-control\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.autoHideHeaders},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_AUTO_HIDE_HEADERS')}}}),_c('div'),_c('span',[_vm._v(\"Auto hide headers\")])])]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',{staticClass:\"checkbox-control -animations\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.animationsEnabled},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_ANIMATIONS')}}}),_c('div'),_c('span',[_vm._v(\" \"+_vm._s(_vm.animationsEnabled ? 'UI animations are enabled ✨' : 'UI animations are disabled 🚀')+\" \")])])]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',{staticClass:\"checkbox-control -animations\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.locked},on:{\"change\":function($event){return _vm.$store.commit('panes/TOGGLE_LAYOUT')}}}),_c('div'),_c('span',[_vm._v(\" \"+_vm._s(_vm.locked ? 'Layout is locked 🔒' : 'Layout is unlocked')+\" \")])])]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',{staticClass:\"checkbox-control -animations\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.normalizeWatermarks},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_NORMAMIZE_WATERMARKS')}}}),_c('div'),_c('span',[_vm._v(\"Simple watermarks\")])])]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',{staticClass:\"checkbox-control flex-left\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":!!_vm.timezoneOffset},on:{\"change\":function($event){_vm.$store.commit(\n            'settings/SET_TIMEZONE_OFFSET',\n            !_vm.timezoneOffset ? new Date().getTimezoneOffset() * 60000 * -1 : 0\n          )}}}),_c('div'),_c('span',[_vm._v(\"Use local time for charts\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  name: 'OtherSettings'\n})\nexport default class extends Vue {\n  responsiveEnabled: boolean = null\n\n  get animationsEnabled() {\n    return !this.$store.state.settings.disableAnimations\n  }\n\n  get autoHideHeaders() {\n    return this.$store.state.settings.autoHideHeaders\n  }\n\n  get locked() {\n    return this.$store.state.panes.locked\n  }\n\n  get normalizeWatermarks() {\n    return this.$store.state.settings.normalizeWatermarks\n  }\n\n  get timezoneOffset() {\n    return this.$store.state.settings.timezoneOffset\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OtherSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OtherSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OtherSettings.vue?vue&type=template&id=18814f4c&\"\nimport script from \"./OtherSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./OtherSettings.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <Dialog @clickOutside=\"close\" class=\"-sticky-footer\" contentClass=\"settings\">\n    <template v-slot:header\n      ><div>\n        <div class=\"title\">Settings</div>\n        <div class=\"subtitle\" v-if=\"hits\">\n          <i class=\"icon-bolt\"></i> <code v-text=\"hits\"></code> messages /s\n        </div>\n      </div>\n      <div class=\"column -center\"></div>\n    </template>\n    <section class=\"section\" v-if=\"currentWorkspace\">\n      <div v-if=\"settings.indexOf('workspaces') > -1\">\n        <div class=\"column\">\n          <button\n            type=\"button\"\n            class=\"btn -blue -large -cases flex-grow-1 column text-ellipsis\"\n            @click=\"toggleWorkspaceDropdown($event, currentWorkspace.id)\"\n          >\n            <i class=\"icon-dashboard -center mr16\"></i>\n\n            <div class=\"-fill text-left text-ellipsis\">\n              <div class=\"text-ellipsis\">\n                {{ currentWorkspace.name }}\n              </div>\n              <small class=\"text-muted\">\n                created {{ currentWorkspace.createdAt }} ago\n              </small>\n            </div>\n            <i class=\"icon-cog\"></i>\n          </button>\n          <dropdown v-model=\"workspaceDropdownTrigger\">\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"openWorkspace(workspaceDropdownId, true)\"\n            >\n              <i class=\"icon-external-link-square-alt\"></i>\n              <span>Open in a new tab</span>\n            </button>\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"renameWorkspace(workspaceDropdownId)\"\n            >\n              <i class=\"icon-edit\"></i>\n              <span>Rename</span>\n            </button>\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"duplicateWorkspace(workspaceDropdownId)\"\n            >\n              <i class=\"icon-copy-paste\"></i>\n              <span>Duplicate</span>\n            </button>\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"exportWorkspace(workspaceDropdownId)\"\n            >\n              <i class=\"icon-download\"></i>\n              <span>Download</span>\n            </button>\n            <div class=\"dropdown-divider\"></div>\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"removeWorkspace(workspaceDropdownId)\"\n            >\n              <i class=\"icon-cross\"></i>\n              <span>Remove workspace</span>\n            </button>\n          </dropdown>\n          <button\n            type=\"button\"\n            class=\"btn -text -large  -cases ml8\"\n            @click=\"$refs.createWorkspaceDropdown.toggle($event.currentTarget)\"\n          >\n            <i class=\"icon-plus mr4\"></i>\n            <span>New</span>\n          </button>\n\n          <dropdown ref=\"createWorkspaceDropdown\">\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"uploadWorkspace\"\n            >\n              <i class=\"icon-upload\"></i>\n              <span>Upload template file</span>\n            </button>\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"createBlankWorkspace\"\n            >\n              <i class=\"icon-plus\"></i>\n              <span>Create blank template</span>\n            </button>\n          </dropdown>\n        </div>\n        <table v-if=\"workspaces.length\" class=\"table mt8\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th class=\"text-nowrap\">Updated at</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              v-for=\"workspace of workspaces\"\n              :key=\"workspace.id\"\n              class=\"option -action\"\n              @click=\"openWorkspace(workspace.id)\"\n            >\n              <td\n                class=\"table-input table-ellipsis text-nowrap\"\n                :class=\"[workspace.id === currentWorkspace.id && 'text-bold']\"\n                v-text=\"workspace.name\"\n                :title=\"\n                  `${workspace.name}, created ${ago(workspace.createdAt)} ago`\n                \"\n                v-tippy=\"{ boundary: 'window', placement: 'left' }\"\n              ></td>\n              <td class=\"table-input table-min\">\n                {{ ago(workspace.updatedAt) }} ago\n              </td>\n              <td class=\"table-action -hover\">\n                <button\n                  class=\"btn -text -small\"\n                  @click.stop=\"toggleWorkspaceDropdown($event, workspace.id)\"\n                >\n                  <i class=\"icon-more\"></i>\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'workspaces')\"\n      >\n        Workspaces\n        <small>templates</small>\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div v-if=\"settings.indexOf('list') > -1\" class=\"settings-trades\">\n        <div class=\"form-group column mb8\">\n          <label class=\"checkbox-control -aggr -auto flex-grow-1\">\n            <input\n              type=\"checkbox\"\n              class=\"form-control\"\n              :checked=\"true\"\n              @click.prevent=\"$store.commit('settings/TOGGLE_AGGREGATION')\"\n            />\n            <div :on=\"aggregationLength + 'ms'\" off=\"No aggregation\"></div>\n            <span v-if=\"aggregationLength\"\n              >{{ aggregationLength }}ms aggregation</span\n            >\n            <span v-else>No aggregation</span>\n          </label>\n        </div>\n\n        <div class=\"form-group mb8\">\n          <label\n            class=\"checkbox-control -slippage\"\n            :title=\"\n              calculateSlippage === 'price'\n                ? 'Show slippage in $'\n                : calculateSlippage === 'bps'\n                ? 'Show slippage in basis point (bps)'\n                : 'Slippage disabled'\n            \"\n            v-tippy=\"{ placement: 'left' }\"\n          >\n            <input\n              type=\"checkbox\"\n              class=\"form-control\"\n              :checked=\"calculateSlippage\"\n              @change=\"$store.commit('settings/TOGGLE_SLIPPAGE')\"\n            />\n            <div></div>\n            <span v-if=\"calculateSlippage === 'price'\">\n              Calculate slippage in price change (<i class=\"icon-dollar\"></i>)\n            </span>\n            <span v-if=\"calculateSlippage === 'bps'\">\n              Calculate slippage in bps <i class=\"icon-bps\"></i>\n            </span>\n            <span v-if=\"!calculateSlippage\">Do not show slippage</span>\n          </label>\n        </div>\n\n        <div class=\"form-group\">\n          <label\n            class=\"checkbox-control checkbox-control-input -auto\"\n            v-tippy=\"{ placement: 'left' }\"\n            title=\"Size display preference\"\n          >\n            <input\n              type=\"checkbox\"\n              class=\"form-control\"\n              :checked=\"preferQuoteCurrencySize\"\n              @change=\"\n                $store.commit(\n                  'settings/SET_QUOTE_AS_PREFERED_CURRENCY',\n                  $event.target.checked\n                )\n              \"\n            />\n            <span>Size in</span>\n            <div on=\"quote currency\" off=\"base currency\"></div>\n            <span\n              >(<i\n                :class=\"preferQuoteCurrencySize ? 'icon-quote' : 'icon-base'\"\n              ></i\n              >)</span\n            >\n          </label>\n        </div>\n      </div>\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'list')\"\n      >\n        Trades\n        <small>aggregation, slippage, currency</small>\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <audio-settings v-if=\"settings.indexOf('audio') > -1\"></audio-settings>\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'audio')\"\n      >\n        Audio\n        <small>main volume</small>\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div v-if=\"settings.indexOf('colors') > -1\" class=\"settings-chart\">\n        <div class=\"form-group column mb8\">\n          <color-picker-control\n            :value=\"backgroundColor\"\n            label=\"Background color\"\n            @input=\"\n              $store.dispatch('settings/setColor', {\n                type: 'BACKGROUND',\n                value: $event\n              })\n            \"\n          ></color-picker-control>\n          <label class=\"-fill -center ml8\">Background color</label>\n        </div>\n        <div class=\"form-group column mb8\">\n          <color-picker-control\n            :value=\"textColor\"\n            label=\"App text color\"\n            @input=\"\n              $store.dispatch('settings/setColor', {\n                type: 'TEXT',\n                value: $event\n              })\n            \"\n          ></color-picker-control>\n          <label for=\"\" class=\"-fill -center ml8\"\n            >Text color\n            <a\n              ><i\n                class=\"icon-cross text-small\"\n                v-if=\"textColor\"\n                @click=\"\n                  $store.dispatch('settings/setColor', {\n                    type: 'TEXT',\n                    value: null\n                  })\n                \"\n              ></i></a\n          ></label>\n        </div>\n        <div class=\"form-group column mb8\">\n          <color-picker-control\n            :value=\"buyColor\"\n            label=\"Buy color\"\n            @close=\"regenerateSwatch\"\n            @input=\"\n              $store.dispatch('settings/setColor', {\n                type: 'BUY',\n                value: $event\n              })\n            \"\n          ></color-picker-control>\n          <label class=\"-fill -center ml8\">Buy color</label>\n        </div>\n        <div class=\"form-group column mb8\">\n          <color-picker-control\n            :value=\"sellColor\"\n            label=\"Sell color\"\n            @close=\"regenerateSwatch\"\n            @input=\"\n              $store.dispatch('settings/setColor', {\n                type: 'SELL',\n                value: $event\n              })\n            \"\n          ></color-picker-control>\n          <label class=\"-fill -center ml8\">Sell color</label>\n        </div>\n      </div>\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'colors')\"\n      >\n        Colors\n        <small>background, buy/sell color</small>\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div class=\"form-group\" v-if=\"settings.indexOf('exchanges') > -1\">\n        <div class=\"settings-exchanges\">\n          <Exchange\n            v-for=\"exchangeId of exchanges\"\n            :key=\"exchangeId\"\n            :id=\"exchangeId\"\n          />\n        </div>\n      </div>\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'exchanges')\"\n      >\n        Exchanges\n        <small>enable/disable exchange globally</small>\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <other-settings v-if=\"settings.indexOf('other') > -1\"></other-settings>\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'other')\"\n      >\n        Other\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <footer class=\"section mt16 settings__footer\">\n      <div class=\"form-group\">\n        <div v-if=\"version\" class=\"column\">\n          <div class=\"-grow\">\n            <button class=\"btn -text pl0\">\n              v{{ version }} <sup class=\"version-date\">{{ buildDate }}</sup>\n            </button>\n          </div>\n          <a\n            class=\"btn -text\"\n            href=\"https://github.com/Tucsky/aggr\"\n            target=\"_blank\"\n            >github</a\n          >\n          <i class=\"pipe -center\">|</i>\n          <span>\n            <dono-dropdown class=\"-top -text-left\" />\n          </span>\n          <i class=\"pipe -center\">|</i>\n          <span>\n            <button\n              type=\"button\"\n              class=\"btn -text -arrow\"\n              @click=\"$refs.databaseDropdown.toggle($event.currentTarget)\"\n            >\n              Reset\n            </button>\n            <dropdown ref=\"databaseDropdown\">\n              <button type=\"button\" class=\"dropdown-item\" @click=\"reset\">\n                <i class=\"icon-warning\"></i>\n                <span>Reset to default</span>\n              </button>\n              <button\n                type=\"button\"\n                class=\"dropdown-item\"\n                @click=\"exportDatabase\"\n              >\n                <i class=\"icon-upload\"></i>\n                <span>Export database</span>\n              </button>\n            </dropdown>\n          </span>\n        </div>\n      </div>\n    </footer>\n  </Dialog>\n</template>\n\n<script>\nimport { ago, browseFile } from '../../utils/helpers'\n\nimport Dialog from '@/components/framework/Dialog.vue'\nimport Exchange from './Exchange.vue'\nimport DonoDropdown from './DonoDropdown.vue'\nimport dialogService from '../../services/dialogService'\nimport AudioSettings from './AudioSettings.vue'\nimport OtherSettings from './OtherSettings.vue'\nimport ColorPickerControl from '../framework/picker/ColorPickerControl.vue'\n\nimport importService from '@/services/importService'\nimport workspacesService from '@/services/workspacesService'\nimport aggregatorService from '@/services/aggregatorService'\nimport { APPLICATION_START_TIME } from '@/utils/constants'\n\nimport DialogMixin from '@/mixins/dialogMixin'\n\nexport default {\n  mixins: [DialogMixin],\n  components: {\n    Dialog,\n    Exchange,\n    AudioSettings,\n    OtherSettings,\n    DonoDropdown,\n    ColorPickerControl\n  },\n  data() {\n    return {\n      currentWorkspace: null,\n      workspaces: [],\n      hits: null,\n      workspaceDropdownId: null,\n      workspaceDropdownTrigger: null\n    }\n  },\n  computed: {\n    exchanges() {\n      return this.$store.getters['exchanges/getExchanges']\n    },\n\n    version() {\n      return this.$store.state.app.version\n    },\n\n    buildDate() {\n      return this.$store.state.app.buildDate\n    },\n\n    settings() {\n      return this.$store.state.settings.settings\n    },\n\n    backgroundColor() {\n      return this.$store.state.settings.backgroundColor\n    },\n\n    textColor() {\n      return this.$store.state.settings.textColor\n    },\n\n    buyColor() {\n      return this.$store.state.settings.buyColor\n    },\n\n    sellColor() {\n      return this.$store.state.settings.sellColor\n    },\n\n    aggregationLength() {\n      return this.$store.state.settings.aggregationLength\n    },\n\n    preferQuoteCurrencySize() {\n      return this.$store.state.settings.preferQuoteCurrencySize\n    },\n\n    calculateSlippage() {\n      return this.$store.state.settings.calculateSlippage\n    }\n  },\n\n  async created() {\n    await this.getWorkspaces()\n\n    if (process.env.NODE_ENV !== 'production') {\n      this.getHits()\n    }\n  },\n\n  beforeDestroy() {\n    if (this._hitsTimeout) {\n      clearTimeout(this._hitsTimeout)\n    }\n  },\n\n  methods: {\n    getHits() {\n      if (this.hits === null) {\n        this.hits = '...'\n      }\n\n      this._hitsTimeout = setTimeout(async () => {\n        const hits = await aggregatorService.dispatchAsync({ op: 'getHits' })\n        const elapsed = Date.now() - APPLICATION_START_TIME\n        this.hits = (hits / (elapsed / 1000)).toFixed()\n\n        this.getHits()\n      }, 1000)\n    },\n\n    async getWorkspaces() {\n      const workspaces = await workspacesService.getWorkspaces()\n      this.workspaces = workspaces\n      const workspace = workspacesService.workspace\n\n      this.currentWorkspace = {\n        name: workspace.name,\n        id: workspace.id,\n        updatedAt: ago(workspace.updatedAt),\n        createdAt: ago(workspace.createdAt),\n        states: null\n      }\n    },\n\n    openWorkspace(id, newWindow = false) {\n      const url = window.location.href.replace(this.currentWorkspace.id, id)\n\n      if (newWindow) {\n        window.open(url)\n      } else {\n        window.location.href = url\n      }\n    },\n\n    async removeWorkspace(id = this.workspaceDropdownId) {\n      const workspace = await workspacesService.getWorkspace(id)\n\n      const isCurrent =\n        this.currentWorkspace && this.currentWorkspace.id === workspace.id\n\n      if (isCurrent) {\n        await this.close()\n      }\n\n      if (\n        !(await dialogService.confirm(\n          `Delete ${isCurrent ? 'current workspace' : 'workspace'} ${\n            workspace.name\n          } ?`\n        ))\n      ) {\n        return\n      }\n\n      await workspacesService.removeWorkspace(workspace.id)\n\n      if (isCurrent) {\n        let nextWorkspace = this.workspaces.find(w => w.id !== workspace.id)\n\n        if (!nextWorkspace) {\n          nextWorkspace = await workspacesService.createWorkspace()\n        }\n\n        await workspacesService.setCurrentWorkspace(nextWorkspace)\n      }\n\n      if (!isCurrent) {\n        return this.getWorkspaces()\n      }\n    },\n\n    async exportWorkspace(id = this.workspaceDropdownId) {\n      workspacesService.downloadWorkspace(id)\n    },\n\n    async duplicateWorkspace(id = this.workspaceDropdownId) {\n      workspacesService.duplicateWorkspace(id)\n    },\n\n    async createBlankWorkspace() {\n      const randomName = await fetch(\n        'https://random-word-api.herokuapp.com/word?number=2'\n      )\n        .then(response => response.json())\n        .then(words =>\n          words.map(word => word[0].toUpperCase() + word.slice(1)).join('')\n        )\n\n      const name = await dialogService.prompt({\n        label: 'Name',\n        input: randomName,\n        action: 'Name the template',\n        placeholder: 'Name (or leave empty)',\n        submitLabel: 'Create'\n      })\n\n      if (typeof name !== 'string') {\n        return\n      }\n\n      await this.close()\n      const workspace = await workspacesService.createWorkspace(name)\n\n      await workspacesService.setCurrentWorkspace(workspace)\n    },\n\n    async uploadWorkspace() {\n      try {\n        const file = await browseFile()\n\n        if (!file) {\n          return\n        }\n\n        await importService.importWorkspace(file)\n      } catch (error) {\n        this.$store.dispatch('app/showNotice', {\n          title: error.message,\n          type: 'error',\n          timeout: 60000\n        })\n      }\n    },\n\n    async renameWorkspace(id = this.workspaceDropdownId) {\n      const workspace = await workspacesService.getWorkspace(id)\n\n      const name = await dialogService.prompt({\n        action: 'Rename',\n        input: workspace.name\n      })\n\n      if (name) {\n        await workspacesService.renameWorkspace(workspace, name)\n\n        await this.getWorkspaces()\n      }\n    },\n\n    async exportDatabase() {\n      return workspacesService.exportDatabase()\n    },\n\n    async reset() {\n      const sounds = await workspacesService.db.getAllKeys('sounds')\n      const indicators = await workspacesService.db.getAllKeys('indicators')\n      const presets = await workspacesService.db.getAllKeys('presets')\n      const alerts = await workspacesService.db.getAllKeys('alerts')\n\n      const content = []\n\n      if (this.workspaces.length) {\n        content.push(['workspace', this.workspaces.length])\n      }\n\n      if (indicators.length) {\n        content.push(['indicator', indicators.length])\n      }\n\n      if (sounds.length) {\n        content.push(['sound', sounds.length])\n      }\n\n      if (presets.length) {\n        content.push(['preset', presets.length])\n      }\n\n      if (alerts.length) {\n        content.push(['alert', alerts.length])\n      }\n\n      if (\n        await dialogService.confirm({\n          title: 'Reset everything ?',\n          html: true,\n          ok: 'Reset & reload',\n          message: `Everything will be removed${\n            content.length\n              ? ' including : \\n\\t - ' +\n                content\n                  .map(\n                    ([thing, count]) =>\n                      count + ' ' + thing + (count > 1 ? 's' : '')\n                  )\n                  .join('\\n\\t - ') +\n                '\\n\\n...and everything else!'\n              : '.'\n          }`\n        })\n      ) {\n        await workspacesService.reset()\n\n        window.location.reload()\n      }\n    },\n\n    ago(timestamp) {\n      return ago(timestamp)\n    },\n\n    toggleWorkspaceDropdown(event, workspaceId) {\n      if (this.workspaceDropdownTrigger) {\n        this.workspaceDropdownTrigger = null\n      } else {\n        this.workspaceDropdownTrigger = event.currentTarget\n        this.workspaceDropdownId = workspaceId\n      }\n    },\n\n    async regenerateSwatch(colorDidChanged) {\n      if (!colorDidChanged) {\n        return\n      }\n\n      if (await dialogService.confirm(`Generate thresholds colors ?`)) {\n        const buyColor = this.$store.state.settings.buyColor\n        const sellColor = this.$store.state.settings.sellColor\n\n        for (const paneId in this.$store.state.panes.panes) {\n          if (/^trades/.test(this.$store.state.panes.panes[paneId].type)) {\n            this.$store.dispatch(`${paneId}/generateSwatch`, {\n              buyColor,\n              sellColor,\n              baseVariance: 0.25\n            })\n\n            this.$store.state[paneId].thresholds = JSON.parse(\n              JSON.stringify(this.$store.state[paneId].thresholds)\n            )\n          }\n        }\n\n        this.$store.commit(\n          `settings/SET_BACKGROUND_COLOR`,\n          this.$store.state.settings.backgroundColor\n        )\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.settings {\n  width: 360px;\n}\n\n.settings__footer {\n  margin-top: auto;\n\n  .version-date {\n    opacity: 0.75;\n    line-height: 1;\n    position: relative;\n    top: -0.5em;\n    left: 0.25em;\n  }\n\n  .pipe {\n    opacity: 0.5;\n    line-height: 1;\n  }\n\n  .btn {\n    background: 0 !important;\n  }\n}\n\n.settings-audio {\n  align-items: center;\n\n  label {\n    margin: 0;\n  }\n\n  input[type='range'] {\n    width: 100%;\n    margin: 0;\n  }\n}\n\n.settings-exchanges {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n}\n\n.settings-chart {\n  &__sub-settings {\n    margin-left: 2.4em;\n    margin-bottom: 0.5em;\n\n    > div {\n      + div {\n        margin-top: 0.75em;\n      }\n    }\n\n    > div + div {\n      margin-top: 0.75em;\n    }\n\n    input[type='range'] {\n      font-size: 0.5em;\n      vertical-align: middle;\n    }\n  }\n}\n\n#app.-light {\n  .section__title {\n    opacity: 1;\n  }\n\n  .form-group {\n    .checkbox-control {\n      opacity: 1;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SettingsDialog.vue?vue&type=template&id=0fa804ec&\"\nimport script from \"./SettingsDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./SettingsDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SettingsDialog.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport dialogService from '@/services/dialogService'\nimport { PaneType } from '@/store/panes'\nimport { Component, Vue } from 'vue-property-decorator'\nimport { isTouchSupported } from '../utils/touchevent'\nimport Slider from './framework/picker/Slider.vue'\nimport SettingsDialog from './settings/SettingsDialog.vue'\n\n@Component({\n  name: 'Menu',\n  components: {\n    Slider\n  }\n})\nexport default class extends Vue {\n  volumeSliderOpened = false\n  isFullscreen = false\n  open = false\n\n  $refs!: {\n    volumeSlider: any\n    volumeSliderTrigger: HTMLElement\n  }\n\n  get useAudio() {\n    return this.$store.state.settings.useAudio\n  }\n\n  get audioVolume() {\n    return this.$store.state.settings.audioVolume\n  }\n\n  get volumeSliderEvents() {\n    if (!this.volumeSliderOpened) {\n      return null\n    }\n\n    return {\n      [isTouchSupported() ? 'touchstart' : 'mousedown']: event => {\n        event.stopPropagation()\n      },\n      mouseleave: event => {\n        if (\n          event.toElement === this.$refs.volumeSliderTrigger ||\n          this.$refs.volumeSliderTrigger.contains(event.toElement)\n        ) {\n          return\n        }\n\n        this.volumeSliderOpened = null\n      }\n    }\n  }\n\n  get volumeSliderTriggerEvents() {\n    if (this.volumeSliderOpened) {\n      return {\n        mouseleave: event => {\n          if (\n            event.toElement === this.$refs.volumeSlider.$el ||\n            this.$refs.volumeSlider.$el.contains(event.toElement)\n          ) {\n            return\n          }\n\n          this.volumeSliderOpened = null\n        }\n      }\n    } else {\n      return {\n        mouseenter: event => {\n          this.volumeSliderOpened = event.currentTarget\n        }\n      }\n    }\n  }\n\n  showSettings() {\n    dialogService.open(SettingsDialog)\n  }\n\n  toggleFullscreen() {\n    let element = document.body\n\n    if (event instanceof HTMLElement) {\n      element = event\n    }\n\n    ;(element as any).requestFullScreen =\n      (element as any).requestFullScreen ||\n      (element as any).webkitRequestFullScreen ||\n      (element as any).mozRequestFullScreen ||\n      function() {\n        return false\n      }\n    ;(document as any).cancelFullScreen =\n      (document as any).cancelFullScreen ||\n      (document as any).webkitCancelFullScreen ||\n      (document as any).mozCancelFullScreen ||\n      function() {\n        return false\n      }\n\n    if (this.isFullscreen) {\n      ;(document as any).cancelFullScreen()\n      this.isFullscreen = false\n    } else {\n      ;(element as any).requestFullScreen()\n      this.isFullscreen = true\n    }\n  }\n\n  toggleMenu() {\n    this.open = !this.open\n\n    if (this.open) {\n      this.isFullscreen =\n        (document as any).webkitIsFullScreen || (document as any).mozFullScreen\n          ? true\n          : false\n    }\n  }\n\n  addPane(type: PaneType) {\n    this.$store.dispatch('panes/addPane', { type })\n  }\n\n  toggleAudio() {\n    this.$store.commit('settings/TOGGLE_AUDIO', !this.useAudio)\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=22df1b6a&\"\nimport script from \"./Menu.vue?vue&type=script&lang=ts&\"\nexport * from \"./Menu.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('grid-layout',{ref:\"grid\",attrs:{\"layout\":_vm.layout,\"col-num\":_vm.cols,\"row-height\":_vm.rowHeight,\"margin\":[0, 0],\"is-resizable\":_vm.unlocked,\"is-draggable\":_vm.unlocked,\"vertical-compact\":true,\"use-css-transforms\":true,\"use-style-cursor\":false},on:{\"layout-ready\":function($event){_vm.layoutReady = true},\"layout-updated\":_vm.onLayoutUpdated}},_vm._l((_vm.layout),function(gridItem){return _c('grid-item',{key:gridItem.i,attrs:{\"type\":gridItem.type,\"drag-allow-from\":\".pane-header\",\"drag-ignore-from\":\"a, button, .-no-grab\",\"x\":gridItem.x,\"y\":gridItem.y,\"w\":gridItem.w,\"h\":gridItem.h,\"i\":gridItem.i},on:{\"container-resized\":_vm.onContainerResized,\"resized\":_vm.onItemResized}},[(_vm.layoutReady)?_c(gridItem.type,{ref:\"panes\",refInFor:true,tag:\"component\",staticClass:\"pane\",attrs:{\"paneId\":gridItem.i}}):_vm._e()],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport Component from 'vue-class-component'\n\nimport VueGridLayout from 'vue-grid-layout'\nimport PaneMixin from '@/mixins/paneMixin'\n\nimport { GRID_COLS } from '@/utils/constants'\nimport { GridItem } from '@/store/panes'\n\n@Component({\n  components: {\n    GridLayout: VueGridLayout.GridLayout,\n    GridItem: VueGridLayout.GridItem,\n    Chart: () => import('@/components/chart/Chart.vue'),\n    Trades: () => import('@/components/trades/Trades.vue'),\n    Stats: () => import('@/components/stats/Stats.vue'),\n    Counters: () => import('@/components/counters/Counters.vue'),\n    Prices: () => import('@/components/prices/Prices.vue'),\n    Website: () => import('@/components/website/Website.vue'),\n    TradesLite: () => import('@/components/trades/TradesLite.vue')\n  }\n})\nexport default class extends Vue {\n  draggable = true\n  resizable = true\n  rowHeight = 80\n  cols = null\n  breakpoint = null\n  layoutReady = false\n\n  private _resizeTimeout: number\n  private _maximizedPaneId\n\n  $refs!: {\n    panes: PaneMixin[]\n    grid: VueGridLayout.GridLayout\n  }\n\n  protected get panes() {\n    return this.$store.state.panes.panes\n  }\n\n  protected get unlocked() {\n    return !this.$store.state.panes.locked\n  }\n\n  protected get layout() {\n    return this.$store.state.panes.layout\n  }\n\n  created() {\n    this.cols = GRID_COLS\n\n    this.updateRowHeight()\n  }\n\n  mounted() {\n    window.addEventListener('resize', this.updateRowHeight)\n  }\n\n  beforeDestroy() {\n    window.addEventListener('resize', this.updateRowHeight)\n  }\n\n  resizeMaximizedPane() {\n    let maximizedItem: HTMLElement\n\n    if (!this._maximizedPaneId) {\n      maximizedItem = document.getElementsByClassName(\n        '-maximized'\n      )[0] as HTMLElement\n    } else {\n      maximizedItem = document.getElementById(this._maximizedPaneId)\n        .parentElement\n    }\n\n    this.$nextTick(() => {\n      if (maximizedItem) {\n        const maximizedPaneId = maximizedItem.children[0].id\n        let width\n        let height\n\n        if (!this._maximizedPaneId) {\n          width = maximizedItem.clientWidth\n          height = maximizedItem.clientHeight\n          this._maximizedPaneId = maximizedPaneId\n        } else {\n          width = parseFloat(maximizedItem.style.width)\n          height = parseFloat(maximizedItem.style.height)\n          this._maximizedPaneId = null\n        }\n        this.resizePane(maximizedPaneId, height, width)\n      }\n    })\n  }\n\n  resizePane(id, height, width) {\n    if (!this.$refs.panes) {\n      return\n    }\n\n    const pane: PaneMixin = this.$refs.panes.find(pane => pane.paneId === id)\n\n    if (!pane) {\n      return\n    }\n\n    if (typeof pane.onResize === 'function') {\n      pane.$nextTick(() => {\n        pane.onResize(width, height)\n      })\n    }\n  }\n\n  onItemResized(id, h, w, hPx, wPx) {\n    this.resizePane(id, +hPx, +wPx)\n    this.$store.commit('panes/UPDATE_LAYOUT', this.layout)\n  }\n\n  updateItem(id) {\n    const item = this.layout.find(item => item.i === id)\n    this.$store.commit('panes/UPDATE_ITEM', item)\n  }\n  onLayoutUpdated(gridItems: GridItem[]) {\n    this.$store.commit('panes/UPDATE_LAYOUT', gridItems)\n  }\n\n  onContainerResized(id, h, w, hPx, wPx) {\n    this.resizePane(id, +hPx, +wPx)\n  }\n\n  updateRowHeight(event?: Event) {\n    if (event && !event.isTrusted) {\n      this.resizeMaximizedPane()\n      return\n    }\n\n    if (this._resizeTimeout) {\n      clearTimeout(this._resizeTimeout)\n    }\n\n    if (event) {\n      this._resizeTimeout = window.setTimeout(\n        this.updateRowHeight.bind(this),\n        200\n      )\n    } else {\n      this._resizeTimeout = null\n\n      this.rowHeight = window.innerHeight / this.cols\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Panes.vue?vue&type=template&id=6aac1288&\"\nimport script from \"./Panes.vue?vue&type=script&lang=ts&\"\nexport * from \"./Panes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\n\nimport aggregatorService from './services/aggregatorService'\n\nimport Notices from '@/components/framework/Notices.vue'\nimport Menu from '@/components/Menu.vue'\n\nimport Panes from '@/components/panes/Panes.vue'\n\nimport upFavicon from '@/assets/up.png'\nimport downFavicon from '@/assets/down.png'\n\nimport { Notice } from '@/store/app'\n\nimport workspacesService from '@/services/workspacesService'\nimport { formatMarketPrice } from '@/services/productsService'\nimport dialogService from '@/services/dialogService'\nimport importService from '@/services/importService'\n\n@Component({\n  name: 'App',\n  components: {\n    Menu,\n    Notices,\n    Panes\n  },\n  watch: {\n    '$store.state.panes.marketsListeners': function(\n      newMarkets,\n      previousMarkets\n    ) {\n      if (newMarkets !== previousMarkets) {\n        this.refreshMainMarkets(newMarkets)\n      }\n    }\n  }\n})\nexport default class extends Vue {\n  price: string = null\n  showStuck = false\n\n  private _mainMarkets: string[]\n  private _faviconElement: HTMLLinkElement\n  private _stuckTimeout: number\n  private _mainPair: string\n\n  get showSearch() {\n    return this.$store.state.app.showSearch\n  }\n\n  get isBooted() {\n    const isBooted = this.$store.state.app && this.$store.state.app.isBooted\n\n    clearTimeout(this._stuckTimeout)\n\n    if (!isBooted) {\n      this.showStuck = false\n      this._stuckTimeout = setTimeout(() => {\n        this.showStuck = true\n      }, 15000)\n    }\n\n    return isBooted\n  }\n\n  get isLoading() {\n    return this.$store.state.app.isLoading\n  }\n\n  get theme() {\n    return this.$store.state.settings.theme\n  }\n\n  get autoHideHeaders() {\n    return this.$store.state.settings.autoHideHeaders\n  }\n\n  get preferedSizingCurrency() {\n    return this.$store.state.settings.preferQuoteCurrencySize ? 'quote' : 'base'\n  }\n\n  get baseCurrency() {\n    return this.$store.state.app.baseCurrency\n  }\n\n  get baseCurrencySymbol() {\n    return this.$store.state.app.baseCurrencySymbol\n  }\n\n  get quoteCurrency() {\n    return this.$store.state.app.quoteCurrency\n  }\n\n  get quoteCurrencySymbol() {\n    return this.$store.state.app.quoteCurrencySymbol\n  }\n\n  get disableAnimations() {\n    return this.$store.state.settings.disableAnimations\n  }\n\n  mounted() {\n    this.bindDropFile()\n    aggregatorService.on('notice', (notice: Notice) => {\n      this.$store.dispatch('app/showNotice', notice)\n    })\n    aggregatorService.on('prices', this.updatePrice)\n\n    document.addEventListener('keydown', this.onDocumentKeyPress)\n    window.addEventListener('blur', this.onBlur)\n  }\n\n  beforeDestroy() {\n    this.unbindDropFile()\n    this.stopUpdatingPrice()\n  }\n\n  updatePrice(marketsPrices) {\n    let price = 0\n    let count = 0\n\n    for (const marketKey of this._mainMarkets) {\n      if (\n        !marketsPrices[marketKey] ||\n        marketsPrices[marketKey].price === null\n      ) {\n        continue\n      }\n      price += marketsPrices[marketKey].price\n      count++\n    }\n\n    if (count) {\n      price = price / count\n\n      if (this.price !== null) {\n        if (price > +this.price) {\n          this.updateFavicon('up')\n        } else if (price < +this.price) {\n          this.updateFavicon('down')\n        }\n      }\n\n      this.price = formatMarketPrice(price, this._mainMarkets[0])\n\n      window.document.title = this._mainPair + ' ' + this.price\n    } else {\n      this.price = null\n      this.updateFavicon('neutral')\n\n      window.document.title = this._mainPair ? this._mainPair : 'AGGR'\n    }\n  }\n\n  stopUpdatingPrice() {\n    aggregatorService.off('prices', this.updatePrice)\n    this.price = null\n  }\n\n  updateFavicon(direction: 'up' | 'down' | 'neutral') {\n    if (!this._faviconElement) {\n      this._faviconElement = document.createElement('link')\n      this._faviconElement.id = 'favicon'\n      this._faviconElement.rel = 'shortcut icon'\n\n      document.head.appendChild(this._faviconElement)\n    }\n\n    if (direction === 'up') {\n      this._faviconElement.href = upFavicon\n    } else {\n      this._faviconElement.href = downFavicon\n    }\n  }\n\n  onDocumentKeyPress(event: KeyboardEvent) {\n    if (!this.isBooted) {\n      return\n    }\n\n    const activeElement = document.activeElement as HTMLElement\n\n    if (event.keyCode === 27) {\n      this.$store.dispatch('app/hideSearch')\n      return\n    }\n\n    if (\n      this.$store.state.app.showSearch ||\n      event.metaKey ||\n      event.ctrlKey ||\n      event.altKey ||\n      activeElement.tagName === 'INPUT' ||\n      activeElement.tagName === 'TEXTAREA' ||\n      activeElement.tagName === 'SELECT' ||\n      activeElement.isContentEditable\n    ) {\n      return\n    }\n\n    event = event || (window.event as any)\n\n    if (/^[a-z]$/i.test(event.key)) {\n      this.$store.dispatch('app/showSearch')\n    } else if (/^[0-9]$/i.test(event.key)) {\n      this.$store.dispatch('app/showTimeframe')\n    }\n  }\n\n  onBlur() {\n    this.$store.commit('app/SET_FOCUSED_PANE', null)\n  }\n\n  async resetAndReload() {\n    const response = await dialogService.confirm({\n      title: 'Reset app',\n      message: 'Are you sure ?',\n      ok: 'Reset settings',\n      cancel: workspacesService.workspace\n        ? 'Download workspace ' + workspacesService.workspace.id\n        : 'Cancel'\n    })\n\n    if (response === true) {\n      await workspacesService.reset()\n      window.location.reload()\n    } else if (response === false && workspacesService.workspace) {\n      workspacesService.downloadWorkspace()\n    }\n  }\n\n  bindDropFile() {\n    document.body.addEventListener('drop', this.handleDrop)\n    document.body.addEventListener('dragover', this.handleDrop)\n  }\n\n  unbindDropFile() {\n    document.body.removeEventListener('drop', this.handleDrop)\n    document.body.removeEventListener('dragover', this.handleDrop)\n  }\n  async handleDrop(event) {\n    event.preventDefault()\n\n    if (event.type !== 'drop') {\n      return false\n    }\n\n    if (!event.dataTransfer.files || !event.dataTransfer.files.length) {\n      return\n    }\n\n    for (const file of event.dataTransfer.files) {\n      try {\n        await importService.importAnything(file)\n      } catch (error) {\n        this.$store.dispatch('app/showNotice', {\n          title: error.message,\n          type: 'error',\n          timeout: 60000\n        })\n      }\n    }\n  }\n  refreshMainMarkets(markets) {\n    const marketsByNormalizedPair = {}\n    for (const id in markets) {\n      const pair = markets[id].local\n      if (!marketsByNormalizedPair[pair]) {\n        marketsByNormalizedPair[pair] = 0\n      }\n\n      marketsByNormalizedPair[pair] += markets[id].listeners\n    }\n\n    this._mainPair = Object.keys(marketsByNormalizedPair).sort(\n      (a, b) => marketsByNormalizedPair[b] - marketsByNormalizedPair[a]\n    )[0]\n\n    this._mainMarkets = Object.keys(markets)\n      .filter(id => markets[id].local === this._mainPair)\n      .map(id => markets[id].exchange + ':' + markets[id].pair)\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=54ad4f6e&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"contenteditable\":_vm.editable !== false,\"disabled\":_vm.editable === false},on:{\"keydown\":_vm.onKeyDown,\"input\":function($event){_vm.changed = true},\"focus\":_vm.onFocus,\"blur\":_vm.onBlur,\"wheel\":_vm.onWheel}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from 'vue-property-decorator'\nimport { countDecimals } from '@/services/productsService'\n\n@Component({\n  name: 'Editable',\n  props: ['value', 'step', 'min', 'max', 'editable', 'disabled']\n})\nexport default class extends Vue {\n  private value: string\n  private min: number\n  private max: number\n  private disabled: boolean\n  private changed = false\n  private position: number\n\n  private _incrementSelectionTimeout: number\n  private _emitTimeout: number\n\n  mounted() {\n    const el = this.$el as HTMLElement\n\n    el.innerText = this.value\n  }\n\n  @Watch('value')\n  onValueChange() {\n    if ((this.$el as HTMLElement).innerText !== this.value) {\n      ;(this.$el as HTMLElement).innerText = this.value\n    }\n  }\n\n  getCaretPosition() {\n    let caretPos = 0\n    let sel\n    let range\n\n    if (window.getSelection) {\n      sel = window.getSelection()\n      if (sel.rangeCount) {\n        range = sel.getRangeAt(0)\n        if (range.commonAncestorContainer.parentNode == this.$el) {\n          caretPos = range.endOffset\n        }\n      }\n    }\n\n    return caretPos\n  }\n\n  onBlur(event) {\n    if (event.which === 13 && !isNaN(event.target.innerText)) {\n      event.preventDefault()\n      return\n    }\n\n    if (this.changed) {\n      event.target.innerHTML = event.target.innerText\n      this.$emit('input', event.target.innerText)\n    }\n\n    if (window.getSelection) {\n      window.getSelection().removeAllRanges()\n    } else if ((document as any).selection) {\n      ;(document as any).selection.empty()\n    }\n  }\n\n  onKeyDown(event) {\n    if (this.disabled || event.which === 13) {\n      event.preventDefault()\n      ;(this.$el as HTMLInputElement).blur()\n\n      event.target.innerText = this.value\n\n      return\n    }\n\n    if (event.which === 38 || event.which === 40) {\n      this.increment((event.which === 40 ? 1 : -1) * (event.shiftKey ? 10 : 1))\n    }\n  }\n\n  onFocus() {\n    this.changed = false\n  }\n\n  increment(direction: number) {\n    const parts = (this.$el as HTMLElement).innerText.trim().split(',')\n\n    let text\n    let partIndex\n    let count = 0\n    let position\n\n    if (parts.length > 0) {\n      if (this._incrementSelectionTimeout) {\n        clearTimeout(this._incrementSelectionTimeout)\n      }\n\n      if (this.position) {\n        position = this.position\n      } else {\n        position = this.getCaretPosition()\n      }\n\n      for (let i = 0; i < parts.length; i++) {\n        const part = parts[i]\n        if (position >= count && position <= count + part.length) {\n          text = part.replace(/[^0-9-.]/g, '')\n          partIndex = i\n          break\n        }\n\n        count += part.length + 1\n      }\n    } else {\n      text = parts[0]\n    }\n\n    if (isNaN(text as any)) {\n      return\n    }\n\n    const max = typeof this.max === 'undefined' ? Infinity : this.max\n    const min = typeof this.min === 'undefined' ? -Infinity : this.min\n    const precision = countDecimals(text)\n    const step = 1 / Math.pow(10, precision)\n    const change = step * direction * -1\n\n    text = Math.max(min, Math.min(max, +text + change)).toFixed(precision)\n\n    if (parts.length > 1) {\n      this.position = position\n\n      parts[partIndex] = text\n      text = parts.join(',')\n\n      this._incrementSelectionTimeout = setTimeout(() => {\n        this._incrementSelectionTimeout = null\n\n        let sel\n\n        if ((document as any).selection) {\n          sel = (document as any).selection.createRange()\n          sel.moveStart('character', position)\n          sel.select()\n        } else {\n          sel = window.getSelection()\n          sel.collapse(this.$el.lastChild, position)\n        }\n\n        this.position = null\n      }, 100)\n    }\n\n    ;(this.$el as any).innerText = text\n\n    if (this._emitTimeout) {\n      clearTimeout(this._emitTimeout)\n    }\n    this._emitTimeout = setTimeout(() => {\n      this._emitTimeout = null\n      this.$emit('input', text)\n    }, 50)\n  }\n\n  onWheel(event) {\n    const focusedElement = document.activeElement as HTMLElement\n\n    if (focusedElement !== event.target || !focusedElement.isContentEditable) {\n      return\n    }\n\n    event.preventDefault()\n\n    this.increment(Math.sign(event.deltaY) * (event.shiftKey ? 10 : 1))\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Editable.vue?vue&type=template&id=e18f6132&\"\nimport script from \"./Editable.vue?vue&type=script&lang=ts&\"\nexport * from \"./Editable.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"dropdown\"},on:{\"enter\":_vm.onEnterStart}},[(_vm.triggerElement)?_c('div',{staticClass:\"dropdown hide-scrollbar\",class:[\n      _vm.noScroll && 'dropdown--no-scroll',\n      _vm.transparent && 'dropdown--transparent'\n    ],style:({ top: _vm.top + 'px', left: _vm.left + 'px' }),on:{\"click\":function($event){$event.stopPropagation();!_vm.interactive && _vm.toggle(null, true)}}},[_vm._t(\"default\")],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { isTouchSupported } from '@/utils/touchevent'\n\nexport default {\n  name: 'Dropdown',\n  props: {\n    value: {\n      required: false,\n      default: null\n    },\n    margin: {\n      type: Number,\n      required: false,\n      default: 16\n    },\n    interactive: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    noScroll: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    onSides: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    transparent: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  watch: {\n    /**\n     * v-model (which contain the triggerElement) was updated from parent component\n     */\n    value(triggerElement) {\n      this.toggle(triggerElement)\n    }\n  },\n  data: () => ({\n    triggerElement: null,\n    top: null,\n    left: null\n  }),\n  beforeDestroy() {\n    this.toggle(null, true)\n\n    if (this.$el instanceof HTMLElement) {\n      document.getElementById('app').removeChild(this.$el)\n    }\n  },\n  methods: {\n    /**\n     * Open the dropdown\n     */\n    async open(nextTriggerElement: HTMLElement) {\n      nextTriggerElement.classList.add('dropdown-trigger')\n\n      document.getElementById('app').appendChild(this.$el)\n\n      if (this.$el instanceof HTMLElement) {\n        this.fitScreen()\n      }\n\n      this.bindResize()\n\n      await this.$nextTick()\n\n      this.bindClickOutside()\n    },\n\n    /**\n     * Closes the dropdown\n     */\n    close() {\n      if (!this.triggerElement) {\n        return\n      }\n\n      if (this.triggerElement.classList) {\n        this.triggerElement.classList.remove('dropdown-trigger')\n      }\n\n      this.unbindResize()\n      this.unbindClickOutside()\n    },\n\n    /**\n     * Enter animation started\n     */\n    async onEnterStart() {\n      await this.$nextTick()\n\n      this.fitScreen()\n\n      const button = this.$el.querySelector('button')\n\n      if (button) {\n        button.focus()\n      }\n    },\n\n    /**\n     * Close if was open then open if given a trigger element\n     * @param {HTMLElement} triggerElement element that triggered the dropdown\n     * @param {boolean} emit mutate v-model with the new triggerElement if true\n     */\n    toggle(triggerElement: HTMLElement, emit = false) {\n      const nextTriggerElement =\n        triggerElement && triggerElement !== this.triggerElement\n          ? triggerElement\n          : null\n\n      if (this.triggerElement) {\n        this.close()\n      }\n\n      this.triggerElement = nextTriggerElement\n\n      if (nextTriggerElement && nextTriggerElement.classList) {\n        this.open(nextTriggerElement)\n      }\n\n      if (emit) {\n        this.$emit('input', this.triggerElement)\n      }\n    },\n\n    /**\n     * Align the dropdown below or above of trigger element\n     */\n    fitScreen() {\n      const triggerElement = this.triggerElement as HTMLElement\n      if (!triggerElement || !triggerElement.getBoundingClientRect) {\n        return\n      }\n\n      const dropdownElement = this.$el as HTMLElement\n      if (!dropdownElement || !dropdownElement.getBoundingClientRect) {\n        return\n      }\n\n      /*const fontSize = getComputedStyle(triggerElement).fontSize\n      this.$el.style.fontSize = fontSize*/\n      dropdownElement.offsetHeight\n\n      const viewportWidth = window.innerWidth\n      const viewportHeight = window.innerHeight\n      const triggerElementRect = triggerElement.getBoundingClientRect()\n      const dropdownElementRect = dropdownElement.getBoundingClientRect()\n      const dropdownElementWidth = dropdownElementRect.width\n\n      let optimalLeft\n\n      if (this.onSides) {\n        // show show the dropdown above the trigger if the later is lower than viewport mid\n        const triggerIsBeyondViewportMiddle =\n          triggerElementRect.left > viewportWidth / 2\n\n        if (triggerIsBeyondViewportMiddle) {\n          optimalLeft =\n            triggerElementRect.left - dropdownElementWidth - this.margin\n        } else {\n          optimalLeft =\n            triggerElementRect.left + triggerElementRect.width + this.margin\n        }\n      } else {\n        optimalLeft = viewportWidth - dropdownElementWidth - this.margin * 2\n      }\n\n      // align the dropdown on the trigger center while avoiding going beyond the viewport\n      this.left = Math.max(\n        this.margin,\n        Math.min(\n          triggerElementRect.left +\n            triggerElementRect.width / 2 -\n            dropdownElementWidth / 2,\n          optimalLeft\n        )\n      )\n\n      const maxHeight = triggerElementRect.top - this.margin * 2\n      dropdownElement.style.maxHeight = maxHeight + 'px'\n\n      const dropdownElementHeight = Math.min(\n        maxHeight,\n        dropdownElement.scrollHeight\n      )\n\n      if (this.onSides) {\n        this.top =\n          triggerElementRect.top +\n          triggerElementRect.height / 2 -\n          dropdownElementHeight / 2\n      } else {\n        // show show the dropdown above the trigger if the later is lower than viewport mid\n        const triggerIsLowerThanViewportMiddle =\n          triggerElementRect.top > viewportHeight / 2\n\n        if (triggerIsLowerThanViewportMiddle) {\n          // top = trigger top - (dropdownHeight + margin)\n          this.top =\n            triggerElementRect.top - (dropdownElementHeight + this.margin)\n        } else {\n          dropdownElement.style.maxHeight =\n            viewportHeight -\n            triggerElementRect.top -\n            triggerElementRect.height -\n            this.margin * 2 +\n            'px'\n\n          // top = trigger top + it's height + margin\n          this.top =\n            triggerElementRect.top + triggerElementRect.height + this.margin\n        }\n      }\n    },\n\n    bindResize() {\n      if (this._resizeHandler) {\n        return\n      }\n\n      this._resizeHandler = this.onResize.bind(this)\n      window.addEventListener('resize', this._resizeHandler)\n    },\n    onResize() {\n      if (this._resizeTimeout) {\n        clearTimeout(this._resizeTimeout)\n      }\n\n      this._resizeTimeout = setTimeout(() => {\n        this.fitScreen(true)\n\n        this._resizeTimeout = null\n      }, 500)\n    },\n    unbindResize() {\n      if (!this._resizeHandler) {\n        return\n      }\n\n      window.removeEventListener('resize', this._resizeHandler)\n      this._resizeHandler = null\n    },\n    bindClickOutside() {\n      if (this.clickOutsideHandler) {\n        return\n      }\n\n      this.clickOutsideHandler = event => {\n        if (\n          !this.$el.contains(event.target) &&\n          !this.triggerElement.contains(event.target) &&\n          this.triggerElement !== event.target\n        ) {\n          this.toggle(null, true)\n        }\n      }\n\n      document.addEventListener(\n        isTouchSupported() ? 'touchstart' : 'mousedown',\n        this.clickOutsideHandler\n      )\n    },\n    unbindClickOutside() {\n      if (!this.clickOutsideHandler) {\n        return\n      }\n\n      document.removeEventListener(\n        isTouchSupported() ? 'touchstart' : 'mousedown',\n        this.clickOutsideHandler\n      )\n\n      this.clickOutsideHandler = null\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Dropdown.vue?vue&type=template&id=391e405b&scoped=true&\"\nimport script from \"./Dropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./Dropdown.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Dropdown.vue?vue&type=style&index=0&id=391e405b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"391e405b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn -green -arrow mrauto\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleDropdown}},[_vm._v(\" Presets \"),_c('dropdown',{on:{\"input\":function($event){$event ? _vm.bindPaste : _vm.unbindPaste}},model:{value:(_vm.dropdownTrigger),callback:function ($$v) {_vm.dropdownTrigger=$$v},expression:\"dropdownTrigger\"}},[_c('div',{staticClass:\"d-flex btn-group\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"btn -green\",on:{\"click\":function($event){return _vm.savePreset()}}},[_c('i',{staticClass:\"icon-plus mr8\"}),_c('small',[_vm._v(\"new\")])]),_c('div',{staticClass:\"btn -blue -file\"},[_c('i',{staticClass:\"icon-upload mr8\"}),_c('small',[_vm._v(\"import\")]),_c('input',{attrs:{\"type\":\"file\",\"title\":\"Browse\"},on:{\"change\":_vm.handleFile}})]),_c('div',{staticClass:\"-fill\"}),_c('div',{staticClass:\"btn -red flex-grow-1 flex-right\",on:{\"click\":_vm.applyDefault}},[_c('i',{staticClass:\"icon-eraser mr8\"}),_c('small',[_vm._v(\"Reset\")])])]),_vm._l((_vm.presets),function(preset){return _c('div',{key:preset.id,staticClass:\"dropdown-item\",on:{\"click\":function($event){return _vm.selectPreset(preset.id)}}},[_c('span',{staticClass:\"mr8\"},[_vm._v(_vm._s(preset.label))]),_c('button',{staticClass:\"dropdown-option__action btn -small mlauto -text\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openPreset(preset.id, preset.label)}}},[_c('i',{staticClass:\"icon-edit\"})]),_c('button',{staticClass:\"dropdown-option__action btn -small ml4 -text\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deletePreset(preset)}}},[_c('i',{staticClass:\"icon-trash\"})])])})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',[_c('div',{staticClass:\"title\"},[_c('div',{domProps:{\"textContent\":_vm._s(_vm.meta.name)},on:{\"dblclick\":_vm.renamePreset}})]),_c('div',{staticClass:\"subtitle\",domProps:{\"textContent\":_vm._s(_vm.meta.type)}})])]},proxy:true}])},[(this.preset.createdAt || this.preset.updatedAt)?_c('div',{staticClass:\"d-flex flex-middle mb8\"},[_c('i',{staticClass:\"icon-info mr16\"}),(this.preset.createdAt)?_c('div',{staticClass:\"mr16\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Created at\")]),_c('div',[_vm._v(_vm._s(_vm.createdAt)+\" ago\")])]):_vm._e(),(this.preset.updatedAt)?_c('div',[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Updated at\")]),_c('div',[_vm._v(_vm._s(_vm.updatedAt)+\" ago\")])]):_vm._e()]):_vm._e(),_c('p',{staticClass:\"mt0\"},[_vm._v(\" What's included : \"),_c('button',{staticClass:\"btn -text\",attrs:{\"type\":\"button\"},domProps:{\"textContent\":_vm._s(_vm.showDetails ? 'hide' : 'show')},on:{\"click\":function($event){_vm.showDetails = !_vm.showDetails}}})]),(_vm.showDetails)?_c('ul',_vm._l((_vm.dataProperties),function(prop){return _c('li',{key:prop},[_c('code',{domProps:{\"textContent\":_vm._s(prop)}})])}),0):_vm._e(),_c('footer',[_c('button',{staticClass:\"btn -text -arrow\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$refs.presetDropdown.toggle($event.currentTarget)}}},[_c('i',{staticClass:\"icon-cog mr4\"}),_vm._v(\" Manage \")]),_c('dropdown',{ref:\"presetDropdown\"},[_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.downloadPreset}},[_c('i',{staticClass:\"icon-download\"}),_c('span',[_vm._v(\"Download\")])]),_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"dropdown-item\",attrs:{\"type\":\"button\",\"title\":\"Replace with current settings\"},on:{\"click\":_vm.replacePreset}},[_c('i',{staticClass:\"icon-refresh\"}),_c('span',[_vm._v(\"Replace\")])]),_c('div',{staticClass:\"dropdown-divider\"}),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.deletePreset}},[_c('i',{staticClass:\"icon-trash\"}),_c('span',[_vm._v(\"Delete\")])])]),_c('button',{staticClass:\"btn -text -large mlauto\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.copyPreset}},[_c('i',{staticClass:\"icon-copy-paste mr4\"}),_vm._v(\" Copy \")]),_c('button',{staticClass:\"btn -blue -large ml16\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.replacePreset}},[_c('i',{staticClass:\"icon-check mr4\"}),_vm._v(\" Set \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Dialog @clickOutside=\"close\">\n    <template v-slot:header>\n      <div>\n        <div class=\"title\">\n          <div @dblclick=\"renamePreset\" v-text=\"meta.name\"></div>\n        </div>\n        <div class=\"subtitle\" v-text=\"meta.type\"></div>\n      </div>\n    </template>\n\n    <div\n      class=\"d-flex flex-middle mb8\"\n      v-if=\"this.preset.createdAt || this.preset.updatedAt\"\n    >\n      <i class=\"icon-info mr16\"></i>\n      <div class=\"mr16\" v-if=\"this.preset.createdAt\">\n        <small class=\"text-muted\">Created at</small>\n        <div>{{ createdAt }} ago</div>\n      </div>\n      <div v-if=\"this.preset.updatedAt\">\n        <small class=\"text-muted\">Updated at</small>\n        <div>{{ updatedAt }} ago</div>\n      </div>\n    </div>\n\n    <p class=\"mt0\">\n      What's included :\n      <button\n        type=\"button\"\n        class=\"btn -text\"\n        v-text=\"showDetails ? 'hide' : 'show'\"\n        @click=\"showDetails = !showDetails\"\n      ></button>\n    </p>\n\n    <ul v-if=\"showDetails\">\n      <li v-for=\"prop of dataProperties\" :key=\"prop\">\n        <code v-text=\"prop\"></code>\n      </li>\n    </ul>\n\n    <footer>\n      <button\n        type=\"button\"\n        class=\"btn -text -arrow\"\n        @click=\"$refs.presetDropdown.toggle($event.currentTarget)\"\n      >\n        <i class=\"icon-cog mr4\"></i>\n        Manage\n      </button>\n      <dropdown ref=\"presetDropdown\">\n        <button type=\"button\" class=\"dropdown-item\" @click=\"downloadPreset\">\n          <i class=\"icon-download\"></i>\n          <span>Download</span>\n        </button>\n        <button\n          type=\"button\"\n          class=\"dropdown-item\"\n          v-tippy\n          title=\"Replace with current settings\"\n          @click=\"replacePreset\"\n        >\n          <i class=\"icon-refresh\"></i>\n          <span>Replace</span>\n        </button>\n        <div class=\"dropdown-divider\"></div>\n        <button type=\"button\" class=\"dropdown-item\" @click=\"deletePreset\">\n          <i class=\"icon-trash\"></i>\n          <span>Delete</span>\n        </button>\n      </dropdown>\n      <button type=\"button\" class=\"btn -text -large mlauto\" @click=\"copyPreset\">\n        <i class=\"icon-copy-paste mr4\"></i> Copy\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn -blue -large ml16\"\n        @click=\"replacePreset\"\n      >\n        <i class=\"icon-check mr4\"></i> Set\n      </button>\n    </footer>\n  </Dialog>\n</template>\n\n<script>\nimport DialogMixin from '@/mixins/dialogMixin'\nimport workspacesService from '@/services/workspacesService'\nimport {\n  downloadAnything,\n  slugify,\n  ago,\n  copyTextToClipboard\n} from '@/utils/helpers'\nimport dialogService from '@/services/dialogService'\n\nexport default {\n  mixins: [DialogMixin],\n  props: {\n    preset: {\n      required: true\n    }\n  },\n  data() {\n    return {\n      menu: [\n        {\n          icon: 'swap',\n          label: 'Override',\n          click: this.replacePreset\n        },\n        {\n          icon: 'external-link-square-alt',\n          label: 'Export',\n          click: this.downloadPreset\n        },\n        {\n          icon: 'trash',\n          label: 'Delete',\n          click: this.deletePreset\n        }\n      ],\n      dataProperties: [],\n      createdAt: 'N/A',\n      updatedAt: 'N/A',\n      showDetails: false\n    }\n  },\n  computed: {\n    meta() {\n      const [, type, cat, name] = this.preset.name.match(\n        /^([a-z-]+):?([a-z-]+)?:(.*)/\n      )\n\n      return {\n        type,\n        cat,\n        name\n      }\n    }\n  },\n  created() {\n    this.retrieveDataProperties(this.preset.data)\n\n    if (this.preset.updatedAt) {\n      this.updatedAt = ago(this.preset.updatedAt)\n    }\n\n    if (this.preset.createdAt) {\n      this.createdAt = ago(this.preset.createdAt)\n    }\n  },\n  methods: {\n    async deletePreset() {\n      await workspacesService.removePreset(this.preset.name)\n\n      this.close()\n    },\n    downloadPreset() {\n      downloadAnything(this.preset, slugify(this.preset.name))\n    },\n    retrieveDataProperties(obj) {\n      for (const prop in obj) {\n        if (obj[prop] && typeof obj[prop] === 'object') {\n          this.retrieveDataProperties(obj[prop])\n        } else if (isNaN(prop) && this.dataProperties.indexOf(prop) === -1) {\n          this.dataProperties.push(prop)\n        }\n      }\n    },\n    replacePreset() {\n      this.close('replace')\n    },\n    async copyPreset() {\n      await copyTextToClipboard(JSON.stringify(this.preset))\n\n      this.$store.dispatch('app/showNotice', {\n        id: 'preset-clipboard',\n        title: `Copied preset ${this.preset.name} to clipboard`\n      })\n    },\n    async renamePreset() {\n      const name = await dialogService.prompt({\n        action: 'Rename',\n        input: this.name\n      })\n\n      if (name && name !== this.meta.name) {\n        await workspacesService.removePreset(this.preset.name)\n\n        this.preset.name =\n          this.meta.type +\n          ':' +\n          (this.meta.cat ? this.meta.cat + ':' : '') +\n          name\n\n        await workspacesService.savePreset(this.preset)\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PresetDialog.vue?vue&type=template&id=827c1e32&\"\nimport script from \"./PresetDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./PresetDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport dialogService from '@/services/dialogService'\nimport workspacesService from '@/services/workspacesService'\nimport importService from '@/services/importService'\nimport { Preset, PresetType } from '@/types/types'\nimport { Component, Vue } from 'vue-property-decorator'\nimport PresetDialog from '../settings/PresetDialog.vue'\n\n@Component({\n  props: {\n    type: {\n      required: true\n    },\n    adapter: {\n      required: true\n    },\n    label: {\n      default: 'Presets'\n    }\n  }\n})\nexport default class extends Vue {\n  type: PresetType\n  adapter: Function\n  dropdownTrigger = null\n  presets = []\n\n  private _pasteHandler: (event: Event) => void\n\n  created() {\n    this.getPresets()\n  }\n\n  beforeDestroy() {\n    this.unbindPaste()\n  }\n\n  toggleDropdown(event) {\n    if (!this.dropdownTrigger) {\n      this.dropdownTrigger = event.currentTarget\n    } else {\n      this.dropdownTrigger = null\n    }\n  }\n\n  async getPresets() {\n    this.presets.splice(1, this.presets.length)\n\n    const keys = (await workspacesService.getPresetsKeysByType(\n      this.type\n    )) as string[]\n\n    this.presets = keys.map(key => ({\n      id: key,\n      label: key.split(':').pop()\n    }))\n  }\n\n  async selectPreset(key) {\n    const preset = await workspacesService.getPreset(key)\n\n    this.applyPreset(preset)\n  }\n\n  async openPreset(id: string, name: string) {\n    const preset = await workspacesService.getPreset(id)\n\n    const postClose = await dialogService.openAsPromise(PresetDialog, {\n      preset\n    })\n\n    if (postClose === 'replace') {\n      this.savePreset(name)\n    } else if (postClose === 'set') {\n      this.applyPreset(preset)\n    }\n\n    this.getPresets()\n  }\n\n  async savePreset(name?: string) {\n    const isOverride = !!name\n\n    if (!name || typeof name !== 'string') {\n      name = await dialogService.prompt('Enter a name')\n    } else if (\n      !(await dialogService.confirm(\n        `Override preset ${name} with current settings ?`\n      ))\n    ) {\n      return\n    }\n\n    if (!name) {\n      return\n    }\n\n    const data = await this.adapter()\n\n    if (!data) {\n      this.$store.dispatch('app/showNotice', {\n        type: 'error',\n        title: isOverride\n          ? `Canceled preset override`\n          : `Canceled preset creation`\n      })\n\n      return\n    }\n\n    if (data._id) {\n      delete data._id\n    }\n\n    name = this.type + ':' + name\n\n    const now = Date.now()\n    const original = await workspacesService.getPreset(name)\n\n    await workspacesService.savePreset(\n      {\n        name,\n        type: this.type,\n        data,\n        createdAt: original ? original.createdAt : now,\n        updatedAt: original ? now : null\n      },\n      this.type\n    )\n\n    await this.getPresets()\n  }\n\n  async applyDefault() {\n    if (\n      await dialogService.confirm(\n        'Reset ' + this.type + ' to default settings ?'\n      )\n    ) {\n      this.$emit('apply')\n    }\n  }\n\n  async applyPreset(preset: Preset) {\n    this.$emit('apply', preset.data)\n  }\n\n  async handleFile(event: Event) {\n    const file = (event.target as HTMLInputElement).files[0]\n\n    if (!file) {\n      return\n    }\n\n    try {\n      if (await importService.importPreset(file, this.type)) {\n        await this.getPresets()\n      }\n    } catch (error) {\n      this.$store.dispatch('app/showNotice', {\n        title: error.message,\n        type: 'error'\n      })\n    }\n  }\n\n  async deletePreset(preset) {\n    if (await dialogService.confirm('Remove preset \"' + preset.label + '\" ?')) {\n      await workspacesService.removePreset(preset.id)\n      await this.getPresets()\n    }\n  }\n\n  bindPaste() {\n    if (this._pasteHandler) {\n      return\n    }\n\n    this._pasteHandler = this.onPaste.bind(this)\n    document.addEventListener('paste', this._pasteHandler)\n  }\n\n  unbindPaste() {\n    if (!this._pasteHandler) {\n      return\n    }\n\n    document.removeEventListener('paste', this._pasteHandler)\n    this._pasteHandler = null\n  }\n\n  async onPaste(event) {\n    if (document.activeElement) {\n      if (\n        document.activeElement.tagName === 'INPUT' ||\n        document.activeElement.tagName === 'TEXTAREA'\n      ) {\n        return\n      }\n    }\n\n    try {\n      const preset = JSON.parse(event.clipboardData.getData('text/plain'))\n\n      if (!preset.name || !preset.type || !preset.data) {\n        throw new Error('missing name or type or data property')\n      }\n\n      const now = +new Date()\n\n      await workspacesService.savePreset(\n        {\n          name: preset.name,\n          type: preset.type,\n          data: preset.data,\n          createdAt: now,\n          updatedAt: null\n        },\n        this.type\n      )\n\n      await this.getPresets()\n    } catch (error) {\n      this.$store.dispatch('app/showNotice', {\n        type: 'error',\n        title: `Unable to parse preset (paste error)\\n${error.message}`\n      })\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Presets.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Presets.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Presets.vue?vue&type=template&id=4361515a&\"\nimport script from \"./Presets.vue?vue&type=script&lang=ts&\"\nexport * from \"./Presets.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  bind(el) {\n    // When the component of the element gets activated\n    setTimeout(() => {\n      el.focus()\n\n      if (el.tagName === 'INPUT') {\n        el.setSelectionRange(0, el.value.length)\n      }\n    })\n  }\n}\n","import Vue from 'vue'\nimport App from './App.vue'\nimport VueTippy, { TippyComponent } from 'vue-tippy'\nimport './assets/sass/app.scss'\nimport store from './store'\n\nimport Editable from '@/components/framework/Editable.vue'\nimport Dropdown from '@/components/framework/Dropdown.vue'\nimport Presets from '@/components/framework/Presets.vue'\nimport autofocus from '@/directives/autofocusDirective'\n\nimport runtime from 'serviceworker-webpack-plugin/lib/runtime'\n\nif ('serviceWorker' in navigator) {\n  runtime.register()\n}\n\nVue.use(VueTippy, {\n  maxWidth: '200px',\n  duration: 0,\n  arrow: true,\n  animation: 'none',\n  delay: [200, 0],\n  animateFill: false,\n  theme: 'dark'\n})\n\nVue.component('tippy', TippyComponent)\nVue.component('dropdown', Dropdown)\nVue.component('editable', Editable)\nVue.component('presets', Presets)\nVue.directive('autofocus', autofocus)\n\nnew Vue({\n  el: '#app',\n  store,\n  render: h => h(App)\n})\n","import store from '../store/index'\nimport { Module } from 'vuex'\nimport merge from 'lodash.merge'\nimport { Pane } from '@/store/panes'\nimport panesSettings from '@/store/panesSettings'\nimport workspacesService from '@/services/workspacesService'\n\nconst persistModulesTimers = {}\n\nexport async function syncState(state): Promise<any> {\n  if (typeof state._id === 'undefined') {\n    // unsupported module?\n    return\n  }\n\n  if (typeof persistModulesTimers[state._id] === 'number') {\n    clearTimeout(persistModulesTimers[state._id])\n    delete persistModulesTimers[state._id]\n  }\n\n  console.debug(`[store] saving state ${state._id}`)\n\n  await workspacesService.saveState(state._id, state)\n}\n\nexport function scheduleSync(state): Promise<void> {\n  if (typeof state._id === 'undefined') {\n    // unsupported module?\n    return\n  }\n\n  if (typeof persistModulesTimers[state._id] === 'number') {\n    clearTimeout(persistModulesTimers[state._id])\n  }\n\n  return new Promise<void>(resolve => {\n    persistModulesTimers[state._id] = setTimeout(async () => {\n      await syncState(state)\n\n      resolve()\n    }, 500)\n  })\n}\n\nexport async function mergeStoredState(state: any) {\n  try {\n    const storedState = await workspacesService.getState(state._id)\n\n    if (storedState) {\n      return Object.assign({}, state, storedState)\n    }\n  } catch (error) {\n    console.error(\n      `[store] error retrieving stored state for module ${state._id}`,\n      error\n    )\n    workspacesService.removeState(state._id)\n  }\n\n  return state\n}\n\n/**\n * Prepare pane state if needed\n * Not all panes type have a boot method\n * @param paneId\n */\nexport async function bootPane(paneId, firstTime = false) {\n  console.info(`booting pane ${paneId}`)\n  if ((store as any)._actions[paneId + '/boot']) {\n    try {\n      await store.dispatch(paneId + '/boot', firstTime)\n    } catch (error) {\n      console.error(error)\n    }\n  }\n}\n\nexport async function registerModule(\n  id,\n  module: Module<any, any>,\n  boot?: boolean,\n  pane?: Pane\n) {\n  console.debug(`[store] registering module ${id}`)\n\n  if (pane) {\n    // module is a pane\n    module = {\n      ...panesSettings[pane.type],\n      state: JSON.parse(JSON.stringify(panesSettings[pane.type].state))\n    }\n\n    module.state._id = id\n\n    console.debug(`[store] module created using pane's type \"${pane.type}\"`)\n\n    if (typeof pane.settings === 'object') {\n      if (pane.settings._id) {\n        delete pane.settings._id\n      }\n\n      merge(module.state, pane.settings)\n    }\n  } else {\n    module = { ...module, state: JSON.parse(JSON.stringify(module.state)) }\n  }\n\n  if (typeof module.state._id !== 'undefined') {\n    console.debug(`[store] get stored state for module ${id}`)\n    module.state = await mergeStoredState(module.state)\n  }\n\n  store.registerModule(id, module)\n\n  if (boot && pane) {\n    await bootPane(id, true)\n  }\n\n  if (store.state.app.isBooted) {\n    syncState(module.state)\n  }\n}\n\nexport function waitForStateMutation(getter): Promise<any> {\n  return new Promise(resolve => {\n    const unsubscribe = store.watch(getter, value => {\n      resolve(value)\n      unsubscribe()\n    })\n  })\n}\n\nexport function dumpSettings(): { [id: string]: any } {\n  return JSON.parse(\n    JSON.stringify(\n      Object.keys(store.state).reduce((states, id) => {\n        if (store.state[id]._id) {\n          states[id] = store.state[id]\n        }\n\n        return states\n      }, {})\n    )\n  )\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"title\"},[_vm._v(\"Import settings\")])]},proxy:true}])},[_c('div',{staticClass:\"form-group mb16\"},[_c('label',[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.workspace.name),expression:\"workspace.name\"}],staticClass:\"form-control w-100\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.workspace.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.workspace, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"d-flex flex-middle\"},[_c('i',{staticClass:\"icon-info mr16\"}),_c('div',{staticClass:\"mr16\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Version\")]),_c('div',[_vm._v(\"v\"+_vm._s(_vm.workspace.version || 0))])]),_c('div',{staticClass:\"mr16\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Created at\")]),_c('div',[_vm._v(_vm._s(_vm.createdAt)+\" ago\")])]),_c('div',[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Updated at\")]),_c('div',[_vm._v(_vm._s(_vm.updatedAt)+\" ago\")])])]),(_vm.panes.length)?_c('div',{staticClass:\"form-group mt16\"},[_c('label',[_vm._v(\"Panels\")]),_vm._l((_vm.panes),function(pane){return _c('div',{key:pane.id,staticClass:\"column flex-middle\"},[_c('i',{staticClass:\"icon-plus mr8 -small\"}),_c('span',[_vm._v(_vm._s(pane.type.toUpperCase()))]),_c('small',{staticClass:\"ml4\"},[_c('code',[_vm._v(_vm._s(pane.id))])])])})],2):_vm._e(),(_vm.panes.length)?_c('div',{staticClass:\"form-group mt16\"},[_c('label',[_vm._v(\"Markets\")]),_vm._l((_vm.markets),function(market,index){return _c('button',{key:index,staticClass:\"btn -small mr4 mb4\",attrs:{\"type\":\"button\",\"disabled\":\"\"}},[_vm._v(\" \"+_vm._s(market)+\" \")])})],2):_vm._e(),_c('footer',[_c('a',{staticClass:\"btn -text mr8\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.close(false)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn -large -green\",on:{\"click\":function($event){return _vm.close(_vm.workspace)}}},[_vm._v(\" IMPORT \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Dialog from '@/components/framework/Dialog.vue'\nimport DialogMixin from '@/mixins/dialogMixin'\nimport { Workspace } from '@/types/types'\nimport { ago } from '@/utils/helpers'\n\nexport default {\n  props: {\n    workspace: {\n      required: true,\n      type: Object as () => Workspace\n    }\n  },\n  mixins: [DialogMixin],\n  computed: {\n    createdAt() {\n      return ago(this.workspace.createdAt)\n    },\n    updatedAt() {\n      return ago(this.workspace.updatedAt)\n    },\n    panes() {\n      if (this.workspace.states.panes && this.workspace.states.panes.panes) {\n        return Object.keys(this.workspace.states.panes.panes).map(id => ({\n          id,\n          name: this.workspace.states.panes.panes[id].name,\n          type: this.workspace.states.panes.panes[id].type,\n          markets: this.workspace.states.panes.panes[id].markets\n        }))\n      }\n\n      return []\n    },\n    markets() {\n      return this.panes.reduce((markets, pane) => {\n        for (const market of pane.markets) {\n          if (markets.indexOf(market) === -1) {\n            markets.push(market)\n          }\n        }\n\n        return markets\n      }, [])\n    }\n  },\n  components: {\n    Dialog\n  },\n  data: () => ({}),\n  methods: {}\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportConfirmation.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportConfirmation.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImportConfirmation.vue?vue&type=template&id=6edb728b&\"\nimport script from \"./ImportConfirmation.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImportConfirmation.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Preset } from '@/types/types'\nimport dialogService from './dialogService'\nimport workspacesService from './workspacesService'\nimport SettingsImportConfirmation from '../components/settings/ImportConfirmation.vue'\nimport store from '@/store'\nimport { slugify, uniqueName } from '../utils/helpers'\nimport { IndicatorSettings } from '../store/panesSettings/chart'\n\nclass ImportService {\n  getJSON(file: File) {\n    return new Promise<any>((resolve, reject) => {\n      const reader = new FileReader()\n\n      reader.onload = event => {\n        try {\n          const json = JSON.parse(event.target.result as string)\n\n          resolve(json)\n        } catch (error) {\n          reject(error)\n        }\n      }\n\n      reader.readAsText(file)\n    }).catch(() => {\n      throw new Error('Unable to read file')\n    })\n  }\n\n  async importSound(file: File) {\n    if (file.type.indexOf('audio') !== 0) {\n      throw new Error('File must be audio file')\n    }\n\n    let uploadedSound = await workspacesService.getSound(file.name)\n\n    if (uploadedSound) {\n      return\n    }\n\n    uploadedSound = {\n      name: file.name,\n      data: new Blob([file], { type: file.type })\n    }\n\n    await workspacesService.saveSound(uploadedSound)\n\n    store.dispatch('app/showNotice', {\n      title: `Successfully imported sound ${file.name}`,\n      type: 'info'\n    })\n\n    return uploadedSound\n  }\n\n  async importPreset(file: File, presetType?: string) {\n    const preset: Preset = await this.getJSON(file)\n\n    if (!preset.data) {\n      throw new Error('Preset is empty')\n    }\n\n    await workspacesService.savePreset(preset, presetType)\n\n    store.dispatch('app/showNotice', {\n      title: `Successfully imported preset ${preset.name}`,\n      type: 'info'\n    })\n\n    return preset\n  }\n\n  async importWorkspace(file: File) {\n    const workspace = await this.getJSON(file)\n\n    if (!workspace.id || !workspace.name || !workspace.states) {\n      throw new Error('Unrecognized workspace file')\n    }\n\n    if (Object.keys(workspace.states).length === 0) {\n      throw new Error('Workspace seems empty')\n    }\n\n    for (const paneId in workspace.states) {\n      const pane = workspace.states[paneId]\n\n      if (pane.type === 'website') {\n        pane.locked = true\n      }\n    }\n\n    if (\n      (await workspacesService.getWorkspace(workspace.id)) &&\n      !(await dialogService.confirm({\n        message: `Workspace \"${workspace.id}\" already exists`,\n        ok: 'Import anyway',\n        cancel: 'Annuler'\n      }))\n    ) {\n      return\n    }\n\n    if (\n      await dialogService.openAsPromise(SettingsImportConfirmation, {\n        workspace\n      })\n    ) {\n      await workspacesService.addAndSetWorkspace(workspace)\n\n      store.dispatch('app/showNotice', {\n        title: `Successfully imported workspace ${workspace.name}`,\n        type: 'info'\n      })\n\n      return workspace\n    }\n\n    return null\n  }\n\n  async importIndicator(json) {\n    let chartPaneId\n\n    if (\n      store.state.app.focusedPaneId &&\n      store.state.panes.panes[store.state.app.focusedPaneId].type === 'chart'\n    ) {\n      chartPaneId = store.state.app.focusedPaneId\n    } else {\n      for (const id in store.state.panes.panes) {\n        if (store.state.panes.panes[id].type === 'chart') {\n          chartPaneId = id\n          break\n        }\n      }\n    }\n\n    if (!chartPaneId) {\n      throw new Error('No chart found')\n    }\n\n    const ids = await workspacesService.getIndicatorsIds()\n    const name = json.name\n      .split(':')\n      .slice(1)\n      .join(':')\n\n    const id = uniqueName(slugify(name), ids)\n\n    const indicator: IndicatorSettings = {\n      id: id,\n      name: name,\n      script: json.data.script || '',\n      options: json.data.options || {},\n      description: json.data.description || null,\n      unsavedChanges: true\n    }\n\n    store.dispatch(chartPaneId + '/addIndicator', indicator)\n\n    dialogService.openIndicator(chartPaneId, indicator.id)\n  }\n\n  async importAnything(file: File) {\n    if (file.type === 'application/json' || file.type === 'text/plain') {\n      const json = await this.getJSON(file)\n\n      if (json.formatName) {\n        await this.importDatabase(file)\n      } else if (json.type && json.data) {\n        if (json.type === 'indicator' && json.name.split(':').length < 3) {\n          this.importIndicator(json)\n        } else {\n          await this.importPreset(file)\n        }\n      } else {\n        await this.importWorkspace(file)\n      }\n    } else if (/^audio\\//.test(file.type)) {\n      await this.importSound(file)\n    }\n  }\n\n  async importDatabase(file) {\n    if (\n      !(await dialogService.confirm({\n        message: `This action will override ALL your aggr data.`,\n        ok: 'Yes override please',\n        cancel: 'Cancel'\n      })) ||\n      !(await dialogService.confirm({\n        message: `Are you sure ?`,\n        ok: 'Proceed with import',\n        cancel: 'Cancel'\n      }))\n    ) {\n      return\n    }\n\n    ;(await import('dexie')) as any\n    const { importDB } = await import('dexie-export-import')\n\n    const currentWorkspaceId = workspacesService.workspace.id\n\n    await workspacesService.reset()\n\n    let id\n\n    const match = file.name.match(/aggr-(\\w{4})/)\n\n    if (match && match[1]) {\n      id = match[1]\n    }\n\n    await importDB(file)\n\n    setTimeout(() => {\n      if (id) {\n        localStorage.setItem('workspace', id)\n        window.location.href = window.location.href.replace(\n          currentWorkspaceId,\n          ''\n        )\n      } else {\n        window.location.reload()\n      }\n    }, 250)\n  }\n}\n\nexport default new ImportService()\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDialog.vue?vue&type=style&index=0&id=cf96adc4&lang=scss&scoped=true&\"","import { getApiUrl, handleFetchError } from '@/utils/helpers'\nimport aggregatorService from './aggregatorService'\nimport workspacesService from './workspacesService'\n\nclass AlertService {\n  private publicVapidKey = process.env.VUE_APP_PUBLIC_VAPID_KEY\n  private pushSubscription: PushSubscription\n  private url: string\n\n  private _promiseOfSync: Promise<void>\n\n  constructor() {\n    this.url = getApiUrl('alert')\n  }\n\n  urlBase64ToUint8Array(base64String) {\n    const padding = '='.repeat((4 - (base64String.length % 4)) % 4)\n    const base64 = (base64String + padding)\n      .replace(/-/g, '+')\n      .replace(/_/g, '/')\n\n    const rawData = window.atob(base64)\n    const outputArray = new Uint8Array(rawData.length)\n\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i)\n    }\n    return outputArray\n  }\n\n  /**\n   * Query database alerts for given markets\n   * Wait for sync to complete before query\n   * @param market\n   * @returns\n   */\n  async getAlerts(market) {\n    if (this._promiseOfSync) {\n      await this._promiseOfSync\n    }\n\n    return workspacesService.getAlerts(market)\n  }\n\n  /**\n   * Update alerts triggered status using pending notifications\n   */\n  async syncTriggeredAlerts() {\n    this._promiseOfSync = new Promise<void>(resolve => {\n      // recover recent triggers\n      navigator.serviceWorker.ready.then(async registration => {\n        await this.markAlertsAsTriggered(\n          (await registration.getNotifications()).map(notification => ({\n            price: notification.data.price,\n            market: notification.data.market\n          }))\n        )\n\n        resolve()\n      })\n    }).then(() => {\n      // subscribe to triggers\n      navigator.serviceWorker.addEventListener('message', event => {\n        this.markAlertsAsTriggered([event.data])\n\n        aggregatorService.emit('alert', event.data)\n      })\n    })\n  }\n\n  async markAlertsAsTriggered(alerts: { price: number; market: string }[]) {\n    const markets = alerts.reduce((acc, { price, market }) => {\n      if (!market || typeof price !== 'number') {\n        return acc\n      }\n\n      if (!acc[market]) {\n        acc[market] = []\n      }\n\n      acc[market].push(price)\n\n      return acc\n    }, {})\n\n    for (const market in markets) {\n      const alerts = await workspacesService.getAlerts(market)\n\n      if (!alerts.length) {\n        continue\n      }\n\n      for (const price of markets[market]) {\n        const alert = alerts.find(a => a.price === price)\n\n        if (alert) {\n          alert.triggered = true\n        }\n      }\n\n      await workspacesService.saveAlerts({\n        market,\n        alerts\n      })\n    }\n  }\n\n  async getPushSubscription() {\n    if (!this.publicVapidKey) {\n      return\n    }\n\n    if (this.pushSubscription) {\n      return this.pushSubscription\n    }\n\n    if ('serviceWorker' in navigator) {\n      const register = await navigator.serviceWorker.getRegistration('sw.js')\n\n      this.pushSubscription = JSON.parse(\n        JSON.stringify(\n          await register.pushManager.subscribe({\n            userVisibleOnly: true,\n            applicationServerKey: this.urlBase64ToUint8Array(\n              this.publicVapidKey\n            )\n          })\n        )\n      )\n    }\n\n    return this.pushSubscription\n  }\n\n  subscribe(market: string, price: number) {\n    return this.toggleAlert(market, price)\n  }\n\n  unsubscribe(market: string, price: number) {\n    return this.toggleAlert(market, price, true)\n  }\n\n  modify(market: string, price: number, newPrice: number) {\n    return this.moveAlert(market, price, newPrice)\n  }\n\n  getPrice(market): Promise<number> {\n    return new Promise(resolve => {\n      aggregatorService.once('prices', marketsStats => {\n        const stats = marketsStats[market]\n\n        if (!stats) {\n          return resolve(null)\n        }\n\n        resolve(marketsStats[market].price)\n      })\n    })\n  }\n\n  async validateAlert(market: string, price: number) {\n    const marketPrice = await this.getPrice(market)\n\n    if (marketPrice) {\n      const percentChangeToAlert = (price / marketPrice - 1) * 100\n\n      if (\n        price < 0 ||\n        percentChangeToAlert > 100 ||\n        percentChangeToAlert < -50\n      ) {\n        console.error(\n          `[alert] price ${price} is too far from market price (${marketPrice})`\n        )\n        return false\n      }\n    }\n\n    return true\n  }\n\n  async toggleAlert(\n    market: string,\n    price: number,\n    unsubscribe?: boolean\n  ): Promise<boolean> {\n    const subscription = await this.getPushSubscription()\n\n    if (!subscription) {\n      return\n    }\n\n    if (!(await this.validateAlert(market, price))) {\n      return\n    }\n\n    const origin = location.href.replace(/#.*/, '')\n\n    return fetch(this.url, {\n      method: 'POST',\n      body: JSON.stringify({\n        ...subscription,\n        origin,\n        market,\n        price,\n        unsubscribe\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(response => response.json())\n      .then(json => {\n        if (json.error) {\n          throw new Error(json.error)\n        }\n\n        return true\n      })\n      .catch(err => {\n        handleFetchError(err)\n\n        return false\n      })\n  }\n\n  async moveAlert(\n    market: string,\n    price: number,\n    newPrice: number\n  ): Promise<boolean> {\n    const subscription = await this.getPushSubscription()\n\n    if (!subscription) {\n      return\n    }\n\n    if (!(await this.validateAlert(market, newPrice))) {\n      return\n    }\n\n    const origin = location.href\n\n    return fetch(this.url, {\n      method: 'POST',\n      body: JSON.stringify({\n        ...subscription,\n        origin,\n        market,\n        price,\n        newPrice\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(response => response.json())\n      .then(json => {\n        if (json.error) {\n          throw new Error(json.error)\n        }\n\n        return true\n      })\n      .catch(err => {\n        handleFetchError(err)\n\n        return false\n      })\n  }\n}\n\nexport default new AlertService()\n","export const PALETTE = [\n  '#ffffff',\n  '#D1D4DC',\n  '#B2B5BE',\n  '#9598A1',\n  '#787B86',\n  '#5D606B',\n  '#434651',\n  '#2A2E39',\n  '#131722',\n  '#000000',\n  '#F23645',\n  '#FF9800',\n  '#ffeb3b',\n  '#4caf50',\n  '#089981',\n  '#00bcd4',\n  '#2962FF',\n  '#673ab7',\n  '#9c27b0',\n  '#e91e63',\n  '#FCCBCD',\n  '#FFE0B2',\n  '#FFF9C4',\n  '#C8E6C9',\n  '#ACE5DC',\n  '#B2EBF2',\n  '#BBD9FB',\n  '#D1C4E9',\n  '#E1BEE7',\n  '#F8BBD0',\n  '#FAA1A4',\n  '#FFCC80',\n  '#FFF59D',\n  '#A5D6A7',\n  '#70CCBD',\n  '#80DEEA',\n  '#90BFF9',\n  '#B39DDB',\n  '#CE93D8',\n  '#f48fb1',\n  '#F77C80',\n  '#ffb74d',\n  '#FFF176',\n  '#81c784',\n  '#42BDA8',\n  '#4dd0e1',\n  '#5B9CF6',\n  '#9575cd',\n  '#ba68c8',\n  '#f06292',\n  '#F7525F',\n  '#FFA726',\n  '#ffee58',\n  '#66BB6A',\n  '#22AB94',\n  '#26c6da',\n  '#3179F5',\n  '#7e57c2',\n  '#ab47bc',\n  '#ec407a',\n  '#B22833',\n  '#F57C00',\n  '#fbc02d',\n  '#388e3c',\n  '#056656',\n  '#0097A7',\n  '#1848CC',\n  '#512da8',\n  '#7b1fa2',\n  '#C2185B',\n  '#801922',\n  '#e65100',\n  '#F57F17',\n  '#1B5E20',\n  '#00332A',\n  '#006064',\n  '#0C3299',\n  '#311B92',\n  '#4A148C',\n  '#880E4F'\n]\n\nexport function getColor(except = []) {\n  let color\n\n  while (!color || except.indexOf(color) !== -1) {\n    color = PALETTE[Math.floor(Math.random() * PALETTE.length)]\n  }\n\n  return color\n}\n\nexport function getColorByWeight(a, b, weight) {\n  if (weight > 1) {\n    return b\n  }\n\n  const p = weight\n  const w = p * 2 - 1\n  const w1 = (w / 1 + 1) / 2\n  const w2 = 1 - w1\n  const rgb = [\n    Math.round(b[0] * w1 + a[0] * w2),\n    Math.round(b[1] * w1 + a[1] * w2),\n    Math.round(b[2] * w1 + a[2] * w2)\n  ]\n  return rgb\n}\n\nexport function rgbaToRgb(color, backgroundColor) {\n  const alpha = 1 - color[3]\n\n  color[0] = Math.round(\n    (color[3] * (color[0] / 255) + alpha * (backgroundColor[0] / 255)) * 255\n  )\n  color[1] = Math.round(\n    (color[3] * (color[1] / 255) + alpha * (backgroundColor[1] / 255)) * 255\n  )\n  color[2] = Math.round(\n    (color[3] * (color[2] / 255) + alpha * (backgroundColor[2] / 255)) * 255\n  )\n  color.splice(3, 1)\n\n  return color\n}\n\nexport function rgbToHex(rgb) {\n  return (\n    '#' +\n    ((1 << 24) + (rgb[0] << 16) + (rgb[1] << 8) + rgb[2]).toString(16).slice(1)\n  )\n}\n\nexport function hexToRgb(hex) {\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i\n  hex = hex.replace(shorthandRegex, function(m, r, g, b) {\n    return r + r + g + g + b + b\n  })\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})?$/i.exec(\n    hex\n  )\n  return result\n    ? [\n        parseInt(result[1], 16),\n        parseInt(result[2], 16),\n        parseInt(result[3], 16),\n        parseInt(result[4], 16) || 1\n      ]\n    : null\n}\n\nexport function getColorLuminance(color, backgroundColor?: number[]) {\n  if (typeof color[3] !== 'undefined' && backgroundColor) {\n    color = rgbaToRgb(color, backgroundColor)\n  }\n\n  return (\n    (0.2126 * color[0] + 0.7152 * color[1] + 0.0722 * color[2] - 127.5) / 127.5\n  )\n}\n\nconst colorsByName = {}\n\nexport function getColorByName(name) {\n  if (colorsByName[name]) {\n    return colorsByName[name].slice()\n  }\n\n  const canvas = document.createElement('canvas')\n  canvas.width = canvas.height = 1\n  const ctx = canvas.getContext('2d')\n\n  ctx.clearRect(0, 0, 1, 1)\n  ctx.fillStyle = '#000'\n  ctx.fillStyle = name\n  ctx.fillRect(0, 0, 1, 1)\n\n  const color = ctx.getImageData(0, 0, 1, 1).data\n\n  colorsByName[name] = [color[0], color[1], color[2], color[3] / 255]\n\n  return colorsByName[name]\n}\n\nexport function splitColorCode(string, backgroundColor?: number[]) {\n  if (string[0] === '#') {\n    return hexToRgb(string)\n  } else if (!/^rgb/.test(string) && /^[a-z]+$/i.test(string)) {\n    return getColorByName(string)\n  }\n\n  let match\n  let color\n  try {\n    match = string.match(\n      /rgba?\\((\\d+)[\\s,]*(\\d+)[\\s,]*(\\d+)(?:[\\s,]*([\\d.]+))?\\)/\n    )\n\n    if (!match) {\n      throw new Error()\n    }\n\n    color = [+match[1], +match[2], +match[3]]\n  } catch (error) {\n    console.error(error)\n\n    color = [0, 0, 0]\n  }\n\n  if (match && typeof match[4] !== 'undefined') {\n    color.push(+match[4])\n\n    if (backgroundColor) {\n      color = rgbaToRgb(color, backgroundColor)\n    }\n  }\n\n  return color\n}\n\nexport function joinRgba(color) {\n  const [a, b, c, d] = color\n\n  return (\n    'rgb' + (d ? 'a(' : '(') + a + ',' + b + ',' + c + (d ? ',' + d + ')' : ')')\n  )\n}\n\nexport function getAppBackgroundColor() {\n  const color = getComputedStyle(document.getElementById('app')).backgroundColor\n\n  let output: number[]\n\n  if (color.indexOf('#') !== -1) {\n    output = hexToRgb(color)\n  } else {\n    output = splitColorCode(color)\n  }\n\n  return output\n}\n\nexport function getLogShade(color: [number, number, number], percent: number) {\n  // const sourcergba = joinRgba(color)\n  const luminance = getColorLuminance(color)\n\n  let adjustedPercent = percent\n\n  if (luminance < 0 && luminance > -0.9) {\n    adjustedPercent *= 1 - Math.abs(luminance)\n  }\n\n  /*console.log(\n    `%c [getLogShade] ${sourcergba} ×${adjustedPercent}${\n      adjustedPercent !== percent ? ` (ajusted from ${percent})` : ''\n    } (lum: ${luminance})`,\n    `background: ${sourcergba};`\n  )*/\n\n  adjustedPercent = Math.max(-1, Math.min(1, adjustedPercent))\n  const P = adjustedPercent < 0\n  const t = P ? 0 : adjustedPercent * 255 ** 2\n  const p = P ? 1 + adjustedPercent : 1 - adjustedPercent\n\n  const result =\n    'rgb(' +\n    Math.round((p * color[0] ** 2 + t) ** 0.5) +\n    ',' +\n    Math.round((p * color[1] ** 2 + t) ** 0.5) +\n    ',' +\n    Math.round((p * color[2] ** 2 + t) ** 0.5) +\n    ')'\n\n  // console.log(`%c \\t -> ${result}`, `background: ${result};`)\n\n  return result\n}\nexport function rgbToHsl([r, g, b]) {\n  r /= 255\n  g /= 255\n  b /= 255\n  const max = Math.max(r, g, b),\n    min = Math.min(r, g, b)\n  let h: number\n  let s: number\n  const l = (max + min) / 2\n\n  if (max == min) {\n    h = s = 0 // achromatic\n  } else {\n    const d = max - min\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min)\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0)\n        break\n      case g:\n        h = (b - r) / d + 2\n        break\n      case b:\n        h = (r - g) / d + 4\n        break\n    }\n    h /= 6\n  }\n\n  return [h, s, l]\n}\n\nfunction hslToRgb([h, s, l]) {\n  let r: number\n  let g: number\n  let b: number\n\n  if (s == 0) {\n    r = g = b = l // achromatic\n  } else {\n    // eslint-disable-next-line no-inner-declarations\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1\n      if (t > 1) t -= 1\n      if (t < 1 / 6) return p + (q - p) * 6 * t\n      if (t < 1 / 2) return q\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\n      return p\n    }\n\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s\n    const p = 2 * l - q\n    r = hue2rgb(p, q, h + 1 / 3)\n    g = hue2rgb(p, q, h)\n    b = hue2rgb(p, q, h - 1 / 3)\n  }\n\n  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)]\n}\n\nexport function increaseBrightness(color, percent) {\n  const HSL = rgbToHsl(color)\n  const [r, g, b] = hslToRgb([HSL[0], HSL[1], HSL[2] + HSL[2] * (percent / 100)]) // prettier-ignore\n  return [r, g, b]\n}\n\nexport function getTextColor(backgroundColor, strength = 0.4) {\n  const luminance = getColorLuminance(backgroundColor)\n\n  if (luminance < -0.95) {\n    backgroundColor = [255, 255, 255]\n  }\n\n  const hsl = rgbToHsl(backgroundColor)\n\n  const inverse = luminance > 0.33\n  const luminanceFactor = Math.log(1 + (1 - Math.abs(luminance))) / 2\n  const strengthLog =\n    Math.log(1 + strength + luminanceFactor) * (inverse ? -1.25 : 1)\n  const saturation = Math.min(1, hsl[1] + strengthLog)\n\n  const lightness = Math.max(0.01, Math.min(0.99, hsl[2] + strengthLog))\n\n  const rgb = hslToRgb([hsl[0], saturation, lightness])\n  /* const luminanceIndexedTo1 = (luminance + 1) / 2\n  console.log(\n    `%c [getTextColor] bg:${joinRgba(\n      backgroundColor\n    )} input : ${strength.toFixed(2)} (log : ${strengthLog.toFixed(\n      2\n    )}) : ${luminance.toFixed(2)} luminance (${luminanceIndexedTo1.toFixed(\n      2\n    )} indexed, ${luminanceFactor.toFixed(2)} factor) | ${lightness.toFixed(\n      2\n    )} lightness (was ${hsl[2]}) | ${saturation.toFixed(\n      2\n    )} saturation (was ${hsl[1].toFixed(2)})`,\n    `background: ${joinRgba(backgroundColor)};color:${joinRgba(rgb)}`\n  )*/\n  return rgb\n}\n\nexport function getLinearShare(\n  color: [number, number, number],\n  strength: number,\n  inverse?: boolean\n) {\n  if (typeof inverse === 'undefined') {\n    inverse = strength < 0\n  }\n\n  const hsl = rgbToHsl(color)\n  const luminance = getColorLuminance(color)\n  const luminanceIndexedTo1 = (luminance + 1) / 2\n  const luminanceWithMinimum = 0.1 - Math.max(0.05, luminanceIndexedTo1) * 0.1\n  const luminanceLog = Math.log(1 + luminanceWithMinimum)\n  strength = strength + luminanceLog * (inverse ? -1 : 1)\n\n  const saturation = Math.min(1, hsl[1] * (1 + strength))\n\n  const lightness = Math.max(0.01, Math.min(0.99, hsl[2] + strength))\n\n  return hslToRgb([hsl[0], saturation, lightness])\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.name ? (_vm.single ? 'transition' : 'transition-group') : 'div',{tag:\"component\",attrs:{\"name\":_vm.name,\"tag\":_vm.tag},on:{\"beforeEnter\":_vm.beforeEnter,\"enter\":_vm.enter,\"afterEnter\":_vm.afterEnter,\"beforeLeave\":_vm.beforeLeave,\"leave\":_vm.leave}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  name: 'Transitionheight',\n  props: {\n    name: {\n      type: String,\n      required: false,\n      default: null\n    },\n    single: {\n      type: Boolean,\n      required: false\n    },\n    tag: {\n      type: String,\n      required: false,\n      default: null\n    }\n  }\n})\nexport default class extends Vue {\n  mounted() {\n    this.$nextTick(() => {\n      const element = this.$el as HTMLElement\n\n      if (element instanceof Element) {\n        element.dataset.height = this.getChildrenHeight(element)\n      }\n    })\n  }\n\n  private getChildrenHeight(element: HTMLElement): string {\n    const children = element.children[0] as HTMLElement\n\n    if (!children) {\n      return 0 + 'px'\n    }\n\n    let height = children.offsetHeight\n\n    const styles = window.getComputedStyle(children)\n    height += parseInt(styles.getPropertyValue('margin-top'))\n    height += parseInt(styles.getPropertyValue('margin-bottom'))\n\n    return height + 'px'\n  }\n\n  beforeEnter(element) {\n    element.style.height = '0px'\n  }\n\n  enter(element) {\n    const height = this.getChildrenHeight(element)\n    element.dataset.height = height\n\n    setTimeout(() => {\n      element.style.height = height\n    }, 100)\n  }\n\n  afterEnter(element) {\n    element.style.height = ''\n  }\n\n  beforeLeave(element) {\n    element.style.height = element.dataset.height\n  }\n\n  leave(element) {\n    setTimeout(() => {\n      element.style.height = '0px'\n    })\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransitionHeight.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransitionHeight.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TransitionHeight.vue?vue&type=template&id=72c05e1a&\"\nimport script from \"./TransitionHeight.vue?vue&type=script&lang=ts&\"\nexport * from \"./TransitionHeight.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}