(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7845aa3c"],{"024c":function(t,e,n){"use strict";var r=n("9ab4"),o=n("2b0e"),a=n("2fe1");function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){var e=m();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===i(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var b=function(t){l(n,t);var e=h(n);function n(){return s(this,n),e.apply(this,arguments)}return u(n,[{key:"pane",get:function(){return this.$store.state.panes.panes[this.paneId]}},{key:"mounted",value:function(){var t=this;this.$el.id=this.paneId,this.refreshZoom(),this.$nextTick((function(){var e=t.$el.clientWidth;"function"===typeof t.onResize&&t.onResize(e,t.$el.clientHeight,!0)})),this.$el.addEventListener("mousedown",this.focusPane)}},{key:"beforeDestroy",value:function(){this.$el.removeEventListener("mousedown",this.focusPane),this._onStoreMutation&&this._onStoreMutation()}},{key:"refreshZoom",value:function(){this.$store.dispatch("panes/refreshZoom",this.paneId)}},{key:"focusPane",value:function(){this.$store.commit("app/SET_FOCUSED_PANE",this.paneId)}}]),n}(o["default"]);b=Object(r["a"])([Object(a["b"])({props:{paneId:{required:!0,type:String}}})],b),e["a"]=b},"09b7":function(t,e,n){},"0d96":function(t,e,n){},"34d5":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pane-trades"},[r("pane-header",{ref:"paneHeader",attrs:{paneId:t.paneId,settings:function(){return Promise.all([n.e("chunk-d2fbbe60"),n.e("chunk-4cbfe090")]).then(n.bind(null,"34c1"))}}},[r("dropdown",{attrs:{interactive:"","no-scroll":""},model:{value:t.sliderDropdownTrigger,callback:function(e){t.sliderDropdownTrigger=e},expression:"sliderDropdownTrigger"}},[r("slider",{staticStyle:{width:"100px"},attrs:{min:0,max:10,step:.01,label:"","show-completion":!1,gradient:t.gradient,value:t.thresholdsMultipler,log:""},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_THRESHOLDS_MULTIPLER",{value:e,market:t.market})},reset:function(e){return t.$store.commit(t.paneId+"/SET_THRESHOLDS_MULTIPLER",{value:1,market:t.market})}},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v(" "+t._s(+(100*t.thresholdsMultipler).toFixed(2))+"% ")]},proxy:!0}])})],1),r("button",{staticClass:"toolbar__label",attrs:{name:t.paneId},on:{click:function(e){t.sliderDropdownTrigger=t.sliderDropdownTrigger?null:e.currentTarget}}},[r("i",{staticClass:"icon-gauge"})])],1),r("div",{ref:"tradesContainer",staticClass:"trades-list",class:["hide-scrollbar",this.showLogos&&"-logos",!this.monochromeLogos&&"-logos-colors"]}),t.showPlaceholder?r("trades-placeholder",{attrs:{paneId:t.paneId}}):t._e()],1)},o=[],a=n("9ab4"),i=n("60a3"),s=n("a914"),c=n("0613"),u=n("28f3"),l=n("be31");function f(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=h(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function h(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}var b=function(){function t(){p(this,t),this.cache={},this.promisesOfGifs={},setTimeout(this.cleanExpiredGifs.bind(this),6e4+6e4*Math.random())}return y(t,[{key:"cleanExpiredGifs",value:async function(){var t,e=await l["a"].getGifsKeywords(),n=Date.now(),r=f(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(!this.cache[o]){var a=Object(u["x"])(o),i=await l["a"].getGifs(a);(!i||n-i.timestamp>=6048e5)&&this.deleteGifs(o)}}}catch(s){r.e(s)}finally{r.f()}}},{key:"forgetGifs",value:function(t){this.cache[t]&&(c["b"].dispatch("app/showNotice",{title:"Forgeting "+this.cache[t].length+' gifs about "'+t+'"',type:"info"}),delete this.cache[t])}},{key:"deleteGifs",value:async function(t){var e=Object(u["x"])(t);await l["a"].deleteGifs(e),c["b"].dispatch("app/showNotice",{title:'Removed gifs about "'+t+'"',type:"info"})}},{key:"getGifs",value:async function(t,e){var n=this;if(t){if(this.cache[t])return this.cache[t];if(this.promisesOfGifs[t])return this.promisesOfGifs[t];var r=Object(u["x"])(t);return this.promisesOfGifs[t]=l["a"].getGifs(r).then((function(r){return delete n.promisesOfGifs[t],r&&Date.now()-r.timestamp<6048e5?(n.cache[t]=r.data,r.data):n.fetchGifByKeyword(t,e)})),this.promisesOfGifs[t]}}},{key:"fetchGifByKeyword",value:async function(t,e){var n=this;if(t){var r=Object(u["x"])(t);return fetch("https://api.giphy.com/v1/gifs/search?q="+t+"&rating=r&limit=100&api_key=b5Y5CZcpj9spa0xEfskQxGGnhChYt3hi").then((function(t){return t.json()})).then((async function(o){if(o.data&&o.data.length){n.cache[t]=[];var a,i=f(o.data);try{for(i.s();!(a=i.n()).done;){var s=a.value;n.cache[t].push(s.images.downsized.url)}}catch(u){i.e(u)}finally{i.f()}return e&&c["b"].dispatch("app/showNotice",{title:"Fetched "+n.cache[t].length+" "+t+" gifs",type:"success"}),await l["a"].saveGifs({slug:r,keyword:t,timestamp:Date.now(),data:n.cache[t]}),n.cache[t]}})).finally((function(){delete n.promisesOfGifs[t]}))}}}]),t}(),v=new b,g=n("024c"),w=n("8c91"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"trades-placeholder hide-scrollbar"},[n("p",{staticClass:"trades-placeholder__dimmed"},[t._v(t._s(t.filterRecap))]),t.exchangesReady?[t.showMore?n("pre",{domProps:{textContent:t._s(t.paneMarketStringified)}}):n("div",{staticClass:"pl16 pr16"},t._l(t.pairs,(function(e,r){return n("button",{key:r,staticClass:"btn mx4 -small",attrs:{disabled:""}},[t._v(" "+t._s(e)+" ")])})),0),n("button",{staticClass:"mt8 btn -text trades-placeholder__dimmed -small",on:{click:t.toggleShowMore}},[t._v(" "+t._s(t.showMore?"Show less":"Show more")+" ")])]:n("p",[t._v("...")])],2)},_=[],O=n("06c2");function k(t){return k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e,n){return e&&I(t.prototype,e),n&&I(t,n),t}function A(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}function j(t,e){return j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},j(t,e)}function P(t){var e=L();return function(){var n,r=M(t);if(e){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(t,e){if(e&&("object"===k(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return x(t)}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}var G=function(t){A(n,t);var e=P(n);function n(){var t;return S(this,n),t=e.apply(this,arguments),t.showMore=!1,t}return E(n,[{key:"exchangesReady",get:function(){return this.$store.state.app.isExchangesReady}},{key:"paneMarkets",get:function(){return this.$store.state.panes.panes[this.paneId].markets}},{key:"paneMarketStringified",get:function(){return this.paneMarkets.join("\n")}},{key:"pairs",get:function(){var t=this,e=this.$store.state.settings.searchTypes.mergeUsdt;return this.paneMarkets.reduce((function(n,r){var o=t.$store.state.panes.marketsListeners[r],a=o?o.local:r;return e&&(a=Object(O["o"])(a)),-1===n.indexOf(a)&&n.push(a),n}),[])}},{key:"tradesThresholds",get:function(){return this.$store.state[this.paneId].thresholds}},{key:"liquidationsThresholds",get:function(){return this.$store.state[this.paneId].liquidations}},{key:"tradeType",get:function(){return this.$store.state[this.paneId].tradeType}},{key:"filterRecap",get:function(){var t=this.tradesThresholds[0].amount,e=this.liquidationsThresholds[0].amount;return"both"===this.tradeType?"Waiting for trades or liquidations > ".concat(Object(O["c"])(t)," / ").concat(Object(O["c"])(e)):"trades"===this.tradeType?"Waiting for trades > ".concat(Object(O["c"])(t)):"Waiting for liquidations > ".concat(Object(O["c"])(e))}},{key:"toggleShowMore",value:function(){this.showMore=!this.showMore;var t=document.activeElement;t&&t.blur()}}]),n}(i["c"]);G=Object(a["a"])([Object(i["a"])({name:"TradesPlaceholder",props:{paneId:{type:String,required:!0}}})],G);var R=G,D=R,$=(n("44fb"),n("2877")),q=Object($["a"])(D,T,_,!1,null,null,null),H=q.exports,U=n("4902"),z=n("fa07");function N(t,e){return Z(t)||F(t,e)||Y(t,e)||B()}function B(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),e&&a.length===e)break}catch(c){s=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(s)throw o}}return a}}function Z(t){if(Array.isArray(t))return t}function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){V(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Y(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Y(t,e){if(t){if("string"===typeof t)return J(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(t,e):void 0}}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e,n){return e&&tt(t.prototype,e),n&&tt(t,n),t}var nt=function(){function t(e,n,r){Q(this,t),this.paneId=e,this.containerElement=n,this.count=0,this.maxCount=r,this.cachePreferences(),this.cachePaneMarkets(),this.loadGifs(),this.prepareColors(),this.cacheAudio()}return et(t,[{key:"processTrades",value:function(t){for(var e="",n=0;n<t.length;n++){var r=t[n].exchange+":"+t[n].pair;if(this.paneMarkets[r]){var o=t[n];"undefined"!==typeof this.marketsMultipliers[r]&&(o.amount/=this.marketsMultipliers[r]),!o.liquidation&&this.showTrades?o.amount>=this.minimumTradeAmount&&o.amount<this.maximumTradeAmount?e+=this.showTrade(o,r,this.tradesColors,this.tradesAudios,this.significantTradeAmount):o.amount>this.audioThreshold&&o.amount<this.maximumTradeAmount&&this.tradesAudios[0][o.side](U["d"],o.amount/this.significantTradeAmount):o.liquidation&&this.showLiquidations&&(o.amount>=this.minimumLiquidationAmount&&o.amount<this.maximumLiquidationAmount?e+=this.showTrade(o,r,this.liquidationsColors,this.liquidationsAudios,this.significantLiquidationAmount):o.amount>this.audioThreshold&&o.amount<this.maximumLiquidationAmount&&this.liquidationsAudios[0][o.side](U["d"],o.amount/this.significantLiquidationAmount))}}return!!e.length&&(this.containerElement.insertAdjacentHTML("afterbegin",e),this.trim(),!0)}},{key:"processTradesSilent",value:function(t){var e=this.audioThreshold,n=this.showGifs;this.audioThreshold=1/0,this.showGifs=!1,this.processTrades(t),this.audioThreshold=e,this.showGifs=n}},{key:"getTradeInlineStyles",value:function(t,e,n){var r=(Math.max(t.amount,e.from)-e.from)/e.range,o=Math.min(1,t.amount/n),a=e[t.side],i="";if(this.showGifs&&e[t.side].gif){var s=e[t.side].gif;v.cache[s]&&(i="background-image:url('".concat(v.cache[s][Math.floor(Math.random()*(v.cache[s].length-1))],"')"))}var c,u=a[(r<.5?"from":"to")+"Luminance"],l=Object(z["c"])(a.from,a.to,r);return c=u>(i?.15:.33)?"rgba(0, 0, 0, "+Math.min(1,.33+o)+")":"rgba(255, 255, 255, "+Math.min(1,.33+o)+")","background-color:rgb(".concat(l[0],", ").concat(l[1],", ").concat(l[2],");color:").concat(c,";").concat(i)}},{key:"showTrade",value:function(t,e,n,r,o){var a=this.maxLevel,i=n[a];for(a=0;a<n.length;a++)if(t.amount<n[a].to){i=n[a];break}return a<n.length&&t.amount>this.audioThreshold&&r[a][t.side](U["d"],t.amount/o),this.count++,this.renderRow(t,e,i,o)}},{key:"renderRow",value:function(t,e,n,r){var o="",a="";if(t.timestamp!==this.lastTimestamp&&(o=" -timestamp",this.lastTimestamp=t.timestamp,!this.showTimeAgo)){var i=new Date(+t.timestamp);a=i.getHours()+":"+i.getMinutes(),o+=" -fixed"}var s="";this.slippageMode&&t.slippage&&(s="<small>".concat(t.slippage>0?"+":"").concat(t.slippage).concat("bps"===this.slippageMode?" bps":"","</small>"));var c="";this.showLogos||(c=t.exchange.replace("_"," "));var u="",l=t.side;(t.liquidation||l!==this.lastSide)&&(u=" icon-side",this.lastSide=l);var f="";return this.showTradesPairs&&(f='<div class="trade__pair">'.concat(t.pair.replace("_"," "),"</div>")),'<li class="trade -'.concat(t.exchange," -").concat(t.side," -level-").concat(n.level).concat(t.liquidation?" -liquidation":"",'" title="').concat(t.exchange,":").concat(t.pair,'" style="').concat(this.getTradeInlineStyles(t,n,r),'">\n    <div class="trade__side').concat(u,'"></div>\n    <div class="trade__exchange">').concat(c,"</div>\n    ").concat(f,"\n    ").concat(this.showPrice?'<div class="trade__price">'.concat(Object(O["d"])(t.price,e)).concat(s,"</div>"):"",'\n    <div class="trade__amount">\n      <span class="trade__amount__quote">\n        <span class="icon-quote"></span>\n        <span>').concat(Object(O["c"])(t.size*t.price),'</span>\n      </span>\n      <span class="trade__amount__base">\n        <span class="icon-base"></span>\n        <span>').concat(Object(O["c"])(t.size),'</span>\n      </span>\n    </div>\n    <div class="trade__time ').concat(o,'" data-timestamp="').concat(t.timestamp.toString(),'">').concat(a,"</div>\n    </li>")}},{key:"getTradesThesholds",value:function(){return c["b"].state[this.paneId].thresholds}},{key:"getLiquidationsThresholds",value:function(){return c["b"].state[this.paneId].liquidations}},{key:"loadGifs",value:async function(){this.loadThresholdsGifs(this.getTradesThesholds()),this.loadThresholdsGifs(this.getLiquidationsThresholds())}},{key:"loadThresholdsGifs",value:async function(t){var e,n=X(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.buyGif&&v.getGifs(r.buyGif),r.sellGif&&v.getGifs(r.sellGif)}}catch(o){n.e(o)}finally{n.f()}}},{key:"prepareColors",value:function(){var t=this.getTradesThesholds(),e=this.getLiquidationsThresholds(),n=Object(z["b"])();this.tradesColors=this.prepareColorsThresholds(t,n),this.liquidationsColors=this.prepareColorsThresholds(e,n),this.maxLevel=t.length-1,this.minimumTradeAmount=t[0].amount,this.significantTradeAmount=t[1].amount,t[t.length-1].max?this.maximumTradeAmount=t[t.length-1].amount:this.maximumTradeAmount=1/0,this.minimumLiquidationAmount=e[0].amount,this.significantLiquidationAmount=e[1].amount,e[e.length-1].max?this.maximumLiquidationAmount=e[e.length-1].amount:this.maximumLiquidationAmount=1/0}},{key:"prepareColorsThresholds",value:function(t,e){for(var n=[],r=t.length,o=0;o<r;o++){if(o===r-1){n.push(W(W({},n[n.length-1]),{},{max:1/0}));break}var a=Object(z["k"])(t[o].buyColor,e),i=Object(z["k"])(t[o+1].buyColor,e),s=Object(z["k"])(t[o].sellColor,e),c=Object(z["k"])(t[o+1].sellColor,e);n.push({from:t[o].amount,to:t[o+1].amount,range:t[o+1].amount-t[o].amount,level:Math.floor(o/(r-1)*4),max:o===r-1&&t[o+1].max,buy:{from:a,to:i,fromLuminance:Object(z["d"])(a,e),toLuminance:Object(z["d"])(i,e),gif:t[o].buyGif},sell:{from:s,to:c,fromLuminance:Object(z["d"])(s,e),toLuminance:Object(z["d"])(c,e),gif:t[o].sellGif}})}return n}},{key:"cacheAudio",value:async function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=c["b"].state[this.paneId].audioThreshold;if(c["b"].state.settings.useAudio&&!c["b"].state[this.paneId].muted&&0!==c["b"].state[this.paneId].audioVolume){if(e?"string"===typeof e&&/\d\s*%$/.test(e)?this.audioThreshold=this.minimumTradeAmount*(parseFloat(e)/100):this.audioThreshold=+e:this.audioThreshold=.1*this.minimumTradeAmount,!this.tradesAudios||t){var n=c["b"].state[this.paneId].audioPitch;this.tradesAudios=await this.cacheAudioThresholds(this.getTradesThesholds(),n),this.liquidationsAudios=await this.cacheAudioThresholds(this.getLiquidationsThresholds(),n)}}else this.audioThreshold=1/0}},{key:"cacheAudioThresholds",value:async function(t,e){for(var n=[],r=0;r<t.length;r++)n.push({buy:await U["d"].buildAudioFunction(t[r].buyAudio,"buy",e),sell:await U["d"].buildAudioFunction(t[r].sellAudio,"sell",e)});return n}},{key:"cachePreferences",value:function(){var t=c["b"].state[this.paneId].tradeType;this.slippageMode=c["b"].state.settings.calculateSlippage,this.showTrades="both"===t||"trades"===t,this.showLiquidations="both"===t||"liquidations"===t,this.showGifs=!c["b"].state.settings.disableAnimations,this.showLogos=c["b"].state[this.paneId].showLogos,this.showTradesPairs=c["b"].state[this.paneId].showTradesPairs,this.showPrice=c["b"].state[this.paneId].showPrice,this.showTimeAgo=c["b"].state[this.paneId].showTimeAgo,this.showTimeAgo&&!this.timeUpdateInterval?this.setupTimeUpdateInterval():!this.showTimeAgo&&this.timeUpdateInterval&&(clearInterval(this.timeUpdateInterval),this.timeUpdateInterval=null)}},{key:"cachePaneMarkets",value:function(){var t=this;this.marketsMultipliers={},this.paneMarkets=c["b"].state.panes.panes[this.paneId].markets.reduce((function(e,n){var r=n.split(":"),o=N(r,1),a=o[0];if(!c["b"].state.app.activeExchanges[a])return e[n]=!1,e;var i=c["b"].state[t.paneId].multipliers[n];return"undefined"!==typeof i&&(t.marketsMultipliers[n]=i),e[n]=!0,e}),{})}},{key:"setupTimeUpdateInterval",value:function(){var t,e=this,n=function(t){return t<6e4?Math.floor(t/1e3)+"s":t<36e5?Math.floor(t/6e4)+"m":Math.floor(t/36e5)+"h"};this.timeUpdateInterval=setInterval((function(){var r=e.containerElement.getElementsByClassName("-timestamp"),o=r.length;if(o){t=Date.now();for(var a,i=t/1e3%60<1,s=0;s<o;s++){if("undefined"===typeof r[s])break;var c=t-r[s].getAttribute("data-timestamp"),u=n(c);if(u===a&&u)r[s-1].textContent="",r[s-1].className="trade__time";else{if(u!=r[s].textContent&&(r[s].textContent=u,!i&&"s"!==u[u.length-1]))break;a=u}}}}),1e3)}},{key:"setMaxCount",value:function(t){this.maxCount=t}},{key:"trim",value:function(){while(this.count>this.maxCount)this.containerElement.removeChild(this.containerElement.lastChild),this.count--}},{key:"clear",value:function(){this.containerElement.innerHTML="",this.count=0}},{key:"destroy",value:function(){clearInterval(this.timeUpdateInterval)}}]),t}(),rt=n("7ab0");function ot(t){return ot="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function at(t,e){return ct(t)||st(t,e)||lt(t,e)||it()}function it(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function st(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),e&&a.length===e)break}catch(c){s=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(s)throw o}}return a}}function ct(t){if(Array.isArray(t))return t}function ut(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=lt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function lt(t,e){if(t){if("string"===typeof t)return ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(t,e):void 0}}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pt(t,e,n){return e&&dt(t.prototype,e),n&&dt(t,n),t}function mt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}function yt(t,e){return yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yt(t,e)}function bt(t){var e=wt();return function(){var n,r=Tt(t);if(e){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(t,e){if(e&&("object"===ot(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gt(t)}function gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tt(t)}var _t=function(t){mt(n,t);var e=bt(n);function n(){var t;return ht(this,n),t=e.apply(this,arguments),t.showPlaceholder=!0,t.sliderDropdownTrigger=null,t}return pt(n,[{key:"market",get:function(){return this.pane.markets[0]}},{key:"showLogos",get:function(){return this.$store.state[this.paneId].showLogos}},{key:"monochromeLogos",get:function(){return this.$store.state[this.paneId].monochromeLogos}},{key:"thresholdsMultipler",get:function(){return this.$store.state[this.paneId].thresholdsMultipler}},{key:"gradient",get:function(){return[this.$store.state[this.paneId].thresholds[0].buyColor,this.$store.state[this.paneId].thresholds[this.$store.state[this.paneId].thresholds.length-1].buyColor]}},{key:"created",value:function(){var t=this;s["a"].on("trades",this.onTrades),this._onStoreMutation=this.$store.subscribe((function(e){switch(e.type){case"app/EXCHANGE_UPDATED":case"settings/TOGGLE_SLIPPAGE":case t.paneId+"/TOGGLE_TRADE_TYPE":case t.paneId+"/TOGGLE_TRADES_PAIRS":case t.paneId+"/TOGGLE_LOGOS":case t.paneId+"/TOGGLE_TIME_AGO":case t.paneId+"/TOGGLE_PRICE":t.feed.cachePreferences(),t.refreshList();break;case t.paneId+"/SET_MAX_ROWS":t.feed.setMaxCount(e.payload);break;case"panes/SET_PANE_MARKETS":case t.paneId+"/SET_THRESHOLD_MULTIPLIER":"panes/SET_PANE_MARKETS"===e.type&&e.payload.id!==t.paneId||(t.feed.cachePaneMarkets(),t.refreshList());break;case t.paneId+"/SET_THRESHOLD_GIF":v.getGifs(e.payload.value,!0),t.feed.prepareColors(),t.refreshList();break;case t.paneId+"/SET_THRESHOLD_AUDIO":case t.paneId+"/SET_AUDIO_VOLUME":case t.paneId+"/SET_AUDIO_PITCH":case"settings/SET_AUDIO_VOLUME":case"settings/TOGGLE_AUDIO":t.feed.cacheAudio();break;case t.paneId+"/SET_AUDIO_THRESHOLD":case t.paneId+"/TOGGLE_MUTED":t.feed.cacheAudio(!1);break;case"settings/SET_BACKGROUND_COLOR":case t.paneId+"/SET_THRESHOLD_COLOR":case t.paneId+"/SET_THRESHOLD_AMOUNT":case t.paneId+"/SET_THRESHOLDS_MULTIPLER":case t.paneId+"/TOGGLE_THRESHOLD_MAX":case t.paneId+"/DELETE_THRESHOLD":case t.paneId+"/ADD_THRESHOLD":t.feed.prepareColors(),t.refreshList(),(e.type===t.paneId+"/DELETE_THRESHOLD"||(t.paneId,1))&&t.feed.cacheAudio();break}}))}},{key:"mounted",value:function(){this.feed=new nt(this.paneId,this.$refs.tradesContainer,this.$store.state[this.paneId].maxRows)}},{key:"beforeDestroy",value:function(){s["a"].off("trades",this.onTrades),this.feed&&this.feed.destroy()}},{key:"onTrades",value:function(t){this.feed.processTrades(t)===this.showPlaceholder&&(this.showPlaceholder=!1)}},{key:"refreshList",value:function(){var t,e=this.$el.getElementsByClassName("trade"),n=[],r=ut(e);try{for(r.s();!(t=r.n()).done;){var o,a=t.value,i=Object(O["m"])(a.getAttribute("title")),s=at(i,2),c=s[0],u=s[1],l=a.querySelector(".trade__time").getAttribute("data-timestamp"),f=parseFloat(null===(o=a.querySelector(".trade__price"))||void 0===o?void 0:o.innerText)||0,h=parseFloat(a.querySelector(".trade__amount__base").innerText)||0,d=a.classList.contains("-buy")?"buy":"sell",p=h*(this.$store.state.settings.preferQuoteCurrencySize?f:1),m={timestamp:l,exchange:c,pair:u,price:f,amount:p,size:h,side:d};a.classList.contains("-liquidation")&&(m.liquidation=!0),n.push(m)}}catch(y){r.e(y)}finally{r.f()}this.feed.clear(),this.feed.processTradesSilent(n)}}]),n}(Object(i["b"])(g["a"]));_t=Object(a["a"])([Object(i["a"])({components:{PaneHeader:w["a"],TradesPlaceholder:H,Slider:rt["a"]},name:"Trades"})],_t);var Ot=_t,kt=Ot,St=(n("8b12"),Object($["a"])(kt,r,o,!1,null,null,null));e["default"]=St.exports},"44fb":function(t,e,n){"use strict";n("0d96")},"8b12":function(t,e,n){"use strict";n("09b7")},"8c91":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pane-header hide-scrollbar pane-overlay d-flex",class:{"-loading":t.loading}},[n("div",{staticClass:"pane-header__loader"}),n("span",{staticClass:"pane-header__name ml4 mrauto",attrs:{"data-hide-header":""},on:{dblclick:t.renamePane}},[t._v(t._s(t.name))]),n("div",{staticClass:"toolbar flex-grow-1",on:{dblclick:t.maximizePane}},[t._t("default"),n("button",{staticClass:"toolbar__label min-768",attrs:{type:"button"},on:{click:t.openSearch}},[n("i",{staticClass:"icon-search"})]),t.settings?n("button",{staticClass:"toolbar__label min-768",attrs:{type:"button"},on:{click:t.openSettings}},[n("i",{staticClass:"icon-cog"})]):t._e(),n("button",{staticClass:"toolbar__label",attrs:{type:"button"},on:{click:t.toggleDropdown}},[n("i",{staticClass:"icon-more"})]),n("dropdown",{model:{value:t.paneDropdownTrigger,callback:function(e){t.paneDropdownTrigger=e},expression:"paneDropdownTrigger"}},[n("div",{staticClass:"d-flex btn-group"},[n("button",{staticClass:"btn -green",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.changeZoom(e,-1)}}},[n("i",{staticClass:"icon-minus"})]),n("button",{staticClass:"btn -green text-monospace flex-grow-1 text-center",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.resetZoom.apply(null,arguments)}}},[t._v(" Ã— "+t._s(t.zoom.toFixed(2))+" ")]),n("button",{staticClass:"btn -green",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.changeZoom(e,1)}}},[n("i",{staticClass:"icon-plus"})])]),t._t("menu"),null!==t.settings?n("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:t.openSettings}},[n("i",{staticClass:"icon-cog"}),n("span",[t._v("Settings")])]):t._e(),n("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.$store.dispatch("app/showSearch",t.paneId)}}},[n("i",{staticClass:"icon-search"}),n("span",[t._v("Sources")])]),n("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:t.maximizePane}},[n("i",{staticClass:"icon-enlarge"}),n("span",[t._v("Maximize")])]),n("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:t.duplicatePane}},[n("i",{staticClass:"icon-copy-paste"}),n("span",[t._v("Duplicate")])]),n("div",{staticClass:"dropdown--divider"}),n("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:t.removePane}},[n("i",{staticClass:"icon-trash"}),n("span",[t._v("Remove")])])],2)],2)])},o=[],a=n("9ab4"),i=n("2b0e"),s=n("2fe1"),c=n("28f3"),u=n("0c01");function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=h(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function h(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}function g(t){var e=_();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return T(t)}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var k=function(t){b(n,t);var e=g(n);function n(){var t;return p(this,n),t=e.apply(this,arguments),t.paneDropdownTrigger=null,t}return y(n,[{key:"zoom",get:function(){return this.$store.state.panes.panes[this.paneId].zoom||1}},{key:"type",get:function(){return this.$store.state.panes.panes[this.paneId].type}},{key:"name",get:function(){var t=this.$store.state.panes.panes[this.paneId].name,e=this.$store.state.panes.marketsListeners[this.$store.state.panes.panes[this.paneId].markets[0]];return t||(e?e.local:this.type)}},{key:"openSearch",value:function(){this.$store.dispatch("app/showSearch",this.paneId)}},{key:"changeZoom",value:function(t,e){var n=this.zoom+(t.shiftKey?.0625:.125)*e;this.$store.dispatch("panes/setZoom",{id:this.paneId,zoom:n}),this.$emit("zoom",n)}},{key:"resetZoom",value:function(){this.$store.dispatch("panes/setZoom",{id:this.paneId,zoom:1}),this.$emit("zoom",1)}},{key:"removePane",value:async function(){await u["a"].confirm('Delete pane "'.concat(this.paneId,'" ?'))&&this.$store.dispatch("panes/removePane",this.paneId)}},{key:"duplicatePane",value:function(){this.$store.dispatch("panes/duplicatePane",this.paneId)}},{key:"highlightPane",value:function(t){this.$el.parentElement.parentElement.classList[t?"add":"remove"]("-highlight")}},{key:"maximizePane",value:function(t){if("dblclick"!==t.type||t.currentTarget===t.target||"toolbar__spacer"===t.target.className){var e,n=this.$el.parentElement.parentElement,r=n.classList.toggle("-maximized"),o=Object(c["o"])(n),a=f(o);try{for(a.s();!(e=a.n()).done;){var i=e.value;i.getAttribute("type")&&(i.classList.remove("-maximized"),i.style.display=r?"none":"block")}}catch(u){a.e(u)}finally{a.f()}var s=Event;window.dispatchEvent(new s("resize"))}}},{key:"renamePane",value:async function(){var t=await u["a"].prompt({action:"Rename",input:this.name});t!==this.name&&this.$store.commit("panes/SET_PANE_NAME",{id:this.paneId,name:t})}},{key:"toggleDropdown",value:function(t){this.paneDropdownTrigger?this.paneDropdownTrigger=null:this.paneDropdownTrigger=t.currentTarget}},{key:"openSettings",value:async function(){this.settings&&u["a"].open((await this.settings()).default,{paneId:this.paneId})}}]),n}(i["default"]);k=Object(a["a"])([Object(s["b"])({name:"PaneHeader",props:{paneId:{type:String},settings:{type:Function,default:null},loading:{type:Boolean,default:!1}}})],k);var S=k,I=S,E=n("2877"),A=Object(E["a"])(I,r,o,!1,null,null,null);e["a"]=A.exports}}]);
//# sourceMappingURL=chunk-7845aa3c.810bf325.js.map