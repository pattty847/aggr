(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cbfe090"],{1506:function(t,e,i){"use strict";var n=i("9ab4"),s=i("0c01"),o=i("06c2"),r=i("be31"),a=i("bd60"),l=i("2b0e"),c=i("2fe1");function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function d(t,e){return v(t)||m(t,e)||p(t,e)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,e){if(t){if("string"===typeof t)return f(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function m(t,e){var i=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,s,o=[],r=!0,a=!1;try{for(i=i.call(t);!(r=(n=i.next()).done);r=!0)if(o.push(n.value),e&&o.length===e)break}catch(l){a=!0,s=l}finally{try{r||null==i["return"]||i["return"]()}finally{if(a)throw s}}return o}}function v(t){if(Array.isArray(t))return t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,e,i){return e&&b(t.prototype,e),i&&b(t,i),t}function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function C(t,e){return C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},C(t,e)}function A(t){var e=T();return function(){var i,n=S(t);if(e){var s=S(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return k(this,i)}}function k(t,e){if(e&&("object"===u(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var x=function(t){_(i,t);var e=A(i);function i(){return y(this,i),e.apply(this,arguments)}return g(i,[{key:"pane",get:function(){return this.$store.state.panes.panes[this.paneId]}},{key:"name",get:function(){var t=this.$store.state.panes.panes[this.paneId].name;if(!t){if(!t&&this.$store.state.panes.panes[this.paneId].markets.length){var e=Object(o["m"])(this.$store.state.panes.panes[this.paneId].markets[0]),i=d(e,2),n=i[1];return n+" - "+this.$store.state.panes.panes[this.paneId].type}return this.paneId}return t},set:function(t){this.$store.commit("panes/SET_PANE_NAME",{id:this.paneId,name:t})}},{key:"renamePane",value:async function(){var t=await s["a"].prompt({action:"Rename",input:this.name});t!==this.name&&(this.name=t)}},{key:"resetPane",value:async function(t){await this.close(),t||(t=JSON.parse(JSON.stringify(a["a"][this.$store.state.panes.panes[this.paneId].type].state))),await this.$store.dispatch("panes/resetPane",{id:this.paneId,data:t})}},{key:"getPreset",value:async function(){return await r["a"].getState(this.paneId)}}]),i}(l["default"]);x=Object(n["a"])([Object(c["b"])({props:{paneId:{required:!0,type:String}}})],x),e["a"]=x},"34c1":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Dialog",{staticClass:"pane-dialog -medium -mobile-fs",on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",{staticClass:"title -editable",domProps:{textContent:t._s(t.name)},on:{dblclick:t.renamePane}}),i("div",{staticClass:"column -center"})]},proxy:!0}])},[i("trades-settings",{attrs:{paneId:t.paneId}}),i("footer",[i("presets",{staticClass:"-left -top",attrs:{type:"trades",adapter:t.getPreset},on:{apply:function(e){return t.resetPane(e)}}})],1)],1)},s=[],o=i("1ea0"),r=i("1506"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",{staticClass:"section"},[t.sections.indexOf("display")>-1?i("div",[i("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{boundary:"window",placement:"left"},expression:"{ boundary: 'window', placement: 'left' }"}],staticClass:"form-group column mb8",attrs:{title:"Number of trades rendered"}},[i("label",{staticClass:"-fill -center"},[t._v(t._s(t.isLegacy?"Max trades to render":"Memory length"))]),i("input",{staticClass:"form-control",attrs:{id:"trades-limit",type:"number",min:"0",max:"1000",step:"1"},domProps:{value:t.maxRows},on:{change:function(e){return t.$store.commit(t.paneId+"/SET_MAX_ROWS",e.target.value)}}})]),i("div",{staticClass:"form-group column mb8",on:{click:function(e){return e.stopPropagation(),t.$store.commit(t.paneId+"/TOGGLE_TRADE_TYPE")}}},[i("label",{staticClass:"-fill -center"},[t._v("Filter by type")]),i("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control -auto checkbox-control-input -unshrinkable",attrs:{title:"Filter trade / liquidation"}},[i("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:"both"!==t.tradeType}}),i("div",{attrs:{on:"liquidations"===t.tradeType?"Liquidations only":"Trades only",off:"Both trades & liquidations"}})])]),t.isLegacy?i("div",{staticClass:"form-group column mb8",on:{click:function(e){return e.stopPropagation(),t.$store.commit(t.paneId+"/TOGGLE_LOGOS")}}},[i("label",{staticClass:"-fill -center"},[t._v("Show exchange's logos")]),i("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control -auto checkbox-control-input -unshrinkable",attrs:{title:"Exchange's logos + style"}},[i("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.showLogos}}),i("div",{attrs:{on:t.monochromeLogos?"Logo visible (B&W)":"Logo visible (Color)",off:"No logo"}})])]):t._e(),t.isLegacy?i("div",{staticClass:"form-group column mb8",on:{click:function(e){return e.stopPropagation(),t.$store.commit(t.paneId+"/TOGGLE_PRICE")}}},[i("label",{staticClass:"-fill -center"},[t._v("Columns")]),i("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control -auto checkbox-control-input -unshrinkable",attrs:{title:"Show symbol's names (ex: BTC-USD)"},on:{click:function(t){t.stopPropagation()}}},[i("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.showTradesPairs}}),i("div",{attrs:{on:"Symbol visible",off:"Symbol hidden"},on:{click:function(e){return t.$store.commit(t.paneId+"/TOGGLE_TRADES_PAIRS")}}})]),i("div",{staticClass:"checkbox-control -auto checkbox-control-input -unshrinkable"},[i("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.showPrice}}),i("div",{attrs:{on:"Price visible",off:"Price hidden"}})])]):t._e(),t.isLegacy?i("div",{staticClass:"form-group column",on:{click:function(e){return e.stopPropagation(),t.$store.commit(t.paneId+"/TOGGLE_TIME_AGO")}}},[i("label",{staticClass:"-fill -center"},[t._v("Time format")]),i("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control -auto checkbox-control-input -unshrinkable",attrs:{title:"Time format preference"}},[i("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.showTimeAgo}}),i("div",{attrs:{on:t.secondsAgoExample,off:"use HH:MM"}})])]):t._e()]):t._e(),i("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("display")}}},[t._v(" DISPLAY "),i("i",{staticClass:"icon-up-thin"})])]),i("section",{staticClass:"section"},[t.sections.indexOf("thresholds")>-1?i("div",[i("div",{staticClass:"column section__controls"},[i("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text -nowrap mr4 -cases",attrs:{type:"button",title:"Switch thresholds display"},on:{click:function(e){return t.$store.commit(t.paneId+"/TOGGLE_THRESHOLDS_TABLE",!t.showThresholdsAsTable)}}},[i("i",{staticClass:"icon-switch mr4 -lower"}),t._v(" "+t._s(t.showThresholdsAsTable?"slider view":"table view")+" ")]),i("presets",{attrs:{type:"threshold",adapter:t.getAudioPreset,label:"Presets"},on:{apply:function(e){return t.applyAudioPreset(e)}}})],1),i("div",{staticClass:"form-group mb16"},[i("div",{staticClass:"column"},[i("div",{staticClass:"text-nowrap"},[t._v("← Many")]),i("slider",{staticClass:"mt4 -fill",attrs:{min:.01,max:10,step:.01,label:"","show-completion":!1,value:t.thresholdsMultipler,log:""},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_THRESHOLDS_MULTIPLER",{value:e,market:t.markets[0]})},reset:function(e){return t.$store.commit(t.paneId+"/SET_THRESHOLDS_MULTIPLER",{value:1,market:t.markets[0]})}},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v(" "+t._s(t.formatAmount(t.thresholds[0].amount))+" ➜ "+t._s(t.formatAmount(t.thresholds[1].amount))+" ("+t._s(+(100*t.thresholdsMultipler).toFixed(2))+"%) ")]},proxy:!0}],null,!1,2205895483)}),i("div",{staticClass:"text-right text-nowrap mlauto"},[t._v("Few →")])],1)]),"liquidations"!==t.tradeType?i("div",{key:"liquidations",staticClass:"form-group"},[i("thresholds",{attrs:{paneId:t.paneId,thresholds:t.thresholds,label:"Trades"}}),i("div",{staticClass:"text-right mt8 mb8"},[i("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn ml4 -nowrap -text",attrs:{href:"javascript:void(0);",title:"Add a threshold"},on:{click:function(e){return t.$store.commit(t.paneId+"/ADD_THRESHOLD","thresholds")}}},[t._v(" Add "),i("i",{staticClass:"icon-plus ml4 text-bottom"})])])],1):t._e(),"trades"!==t.tradeType?i("div",{key:"trades",staticClass:"form-group mt16"},[i("thresholds",{attrs:{paneId:t.paneId,thresholds:t.liquidations,label:"Liquidations"}}),i("div",{staticClass:"text-right mt8 mb8"},[i("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn ml4 -nowrap -text",attrs:{href:"javascript:void(0);",title:"Add a threshold"},on:{click:function(e){return t.$store.commit(t.paneId+"/ADD_THRESHOLD","liquidations")}}},[t._v(" Add "),i("i",{staticClass:"icon-plus ml4 text-bottom"})])])],1):t._e(),t.displayGifWarning?i("div",{staticClass:"d-flex help-text"},[i("p",{staticClass:"mt0 mb0 text-danger"},[i("i",{staticClass:"icon-info mr8"}),i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.$store.commit("settings/TOGGLE_ANIMATIONS")}}},[t._v("Enable animations to show gifs")])])]):t._e()]):t._e(),i("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("thresholds")}}},[t._v(" THRESHOLDS ("+t._s(t.thresholds.length)+") "),i("i",{staticClass:"icon-up-thin"})])]),i("section",{staticClass:"section"},[t.sections.indexOf("audio")>-1?i("div",{staticClass:"form-group"},[i("div",{staticClass:"column section__controls"}),i("div",{staticClass:"column mb16"},[i("div",{staticClass:"form-group text-nowrap"},[i("label",{staticClass:"checkbox-control"},[i("input",{staticClass:"form-control",attrs:{type:"checkbox",disabled:!t.useAudio},domProps:{checked:t.muted},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_MUTED")}}}),i("div"),i("span",[t._v("Mute this pane")])])]),i("div",{staticClass:"-fill ml16"},[i("label",{staticClass:"mt8 d-block"},[t._v("Pane volume")]),i("div",{staticClass:"column"},[i("slider",{staticClass:"mrauto -fill mt8 mb8",attrs:{min:0,max:400,step:1,label:!0,disabled:t.muted,value:100*t.audioVolume,log:""},on:{input:function(e){t.$store.commit(t.paneId+"/SET_AUDIO_VOLUME",+(e/100).toFixed(2))},reset:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_VOLUME",null)}},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v(" "+t._s(t.audioVolume>1?"+":"")+" "+t._s(+(100*t.audioVolume).toFixed(2))+"% ")]},proxy:!0}],null,!1,3403519117)}),i("editable",{staticClass:"-center text-nowrap ml8",staticStyle:{"line-height":"1"},attrs:{value:"× "+t.audioVolume},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_VOLUME",e)}}})],1),i("label",{staticClass:"mt16 d-block"},[t._v("Pitch")]),i("div",{staticClass:"column"},[i("slider",{staticClass:"mrauto -fill mt8 mb8",attrs:{min:.001,max:5,step:.01,showCompletion:!1,disabled:t.muted,value:t.audioPitch},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_PITCH",e)},reset:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_PITCH",null)}},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v("× "+t._s(t.audioPitch)+" ")]},proxy:!0}],null,!1,3360634946)}),i("editable",{staticClass:"-center text-nowrap ml8",staticStyle:{"line-height":"1"},attrs:{value:"× "+t.audioPitch},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_PITCH",e)}}})],1)])]),t.useAudio&&!t.muted?i("div",{staticClass:"form-group"},[i("label",[t._v(" Minimum for a trade to trigger a sound "),i("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info mr8",attrs:{title:"Enter the absolute amount<br>or % of significant amount"}})]),i("editable",{staticClass:"form-control",attrs:{value:t.audioThreshold,placeholder:t.audioThresholdPlaceholder},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_THRESHOLD",e)}}})],1):t._e(),t.useAudio?t._e():i("div",{staticClass:"d-flex help-text"},[i("p",{staticClass:"mt0 mb0 text-danger"},[i("i",{staticClass:"icon-info mr8"}),i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.$store.commit("settings/TOGGLE_AUDIO",!0)}}},[t._v("Enable audio to use this feature")])])])]):t._e(),i("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("audio")}}},[t._v(" Audio "),i("i",{staticClass:"icon-up-thin"})])]),t.isLegacy?i("section",{staticClass:"section"},[t.sections.indexOf("multipliers")>-1?i("div",{staticClass:"form-group"},[t._m(0),t.multipliers.length?i("div",{staticClass:"multipliers"},t._l(t.multipliers,(function(e){return i("div",{key:e.identifier,staticClass:"d-flex multipliers-market",class:{"-disabled":1===e.multiplier}},[i("div",{staticClass:"multipliers-market__id",on:{dblclick:function(i){return t.$store.commit(t.paneId+"/SET_THRESHOLD_MULTIPLIER",{identifier:e.identifier,multiplier:null})}}},[i("div",{staticClass:"text-nowrap market-exchange"},[i("small",[t._v(t._s(e.exchange))])]),i("div",{staticClass:"text-nowrap market-pair"},[t._v(" "+t._s(e.pair)+" ")])]),i("div",{staticClass:"-fill -center ml16"},[i("slider",{staticStyle:{width:"100%","min-width":"150px"},attrs:{min:0,max:2,label:1!==e.multiplier,step:.01,showCompletion:!1,value:e.multiplier,editable:!1},on:{input:function(i){return t.$store.commit(t.paneId+"/SET_THRESHOLD_MULTIPLIER",{identifier:e.identifier,multiplier:i})},reset:function(i){return t.$store.commit(t.paneId+"/SET_THRESHOLD_MULTIPLIER",{identifier:e.identifier,multiplier:1})}},scopedSlots:t._u([{key:"tooltip",fn:function(e){var i=e.value;return[t._v(" "+t._s(t.thresholds[0].amount*i)+" ")]}}],null,!0)})],1)])})),0):i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.$store.dispatch("app/showSearch",t.paneId)}}},[t._v(" Add markets to pane ")])]):t._e(),i("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("multipliers")}}},[t._v(" THRESHOLD MULTIPLIER ("+t._s(t.mutipliersCount)+") "),i("i",{staticClass:"icon-up-thin"})])]):t._e()])},l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[i("div",{staticClass:"d-flex"},[i("div",[t._v(" ← Decrease threshold"),i("br"),i("small",[t._v("← Increase visibility")])]),i("div",{staticClass:"text-right mlauto"},[t._v(" Increase threshold →"),i("br"),i("small",[t._v("Decrease visibility →")])])])])}],c=i("9ab4"),u=i("0c01"),d=i("bd60"),h=i("28f3"),p=i("60a3"),f=i("7ab0"),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"thresholds",class:{"-dragging":t.dragging,"-rendering":t.rendering}},[t.showThresholdsAsTable?i("table",{staticClass:"table thresholds-table"},[i("thead",[i("tr",[i("th",{attrs:{colspan:"2"}},[t._v(t._s(t.label))]),i("th",{staticClass:"table-action"},[i("button",{staticClass:"btn -text",on:{click:function(e){return t.flipSwatches("buy")}}},[i("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-sort",attrs:{title:"Flip"}})])]),i("th",{staticClass:"table-action"},[i("button",{staticClass:"btn -text",on:{click:function(e){return t.flipSwatches("sell")}}},[i("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-sort",attrs:{title:"Flip"}})])])])]),i("transition-group",{attrs:{name:"flip-list",tag:"tbody"}},t._l(t.thresholds,(function(e,n){return i("tr",{key:e.id},[i("td",{staticClass:"table-input table-min"},[n===t.thresholds.length-1?i("label",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control -small mb4",attrs:{title:"Set as maximum amount"}},[i("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.capToLastThreshold},on:{change:function(i){return t.toggleMaximumThreshold(e)}}}),i("div")]):t._e()]),i("td",{staticClass:"table-input"},[i("i",{staticClass:"icon icon-currency"}),i("editable",{staticClass:"pl16 w-100",attrs:{placeholder:"Amount*",value:e.amount},on:{input:function(i){return t.$store.commit(t.paneId+"/SET_THRESHOLD_AMOUNT",{id:e.id,value:i})}}}),n===t.thresholds.length-1&&e.max?i("small",{staticClass:"pl8 text-danger"},[i("strong",[t._v("threshold is max")])]):t._e()],1),i("td",{staticClass:"table-action"},[i("color-picker-control",{attrs:{label:"Buy color",value:e.buyColor},on:{input:function(i){return t.$store.commit(t.paneId+"/SET_THRESHOLD_COLOR",{id:e.id,side:"buyColor",value:i})}}})],1),i("td",{staticClass:"table-action"},[i("color-picker-control",{attrs:{label:"Sell color",value:e.sellColor},on:{input:function(i){return t.$store.commit(t.paneId+"/SET_THRESHOLD_COLOR",{id:e.id,side:"sellColor",value:i})}}})],1),t.useAudio?i("td",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"thresholds-table__audio table-action",attrs:{title:"Configure threshold audio"},on:{click:function(i){return t.openThresholdAudio(e.id)}}},[i("button",{staticClass:"btn -text"},[i("i",{staticClass:"icon-music-note"})])]):t._e(),i("td",{staticClass:"table-action",on:{click:function(i){return t.selectThreshold(e.id,i)}}},[i("button",{staticClass:"btn -text"},[i("i",{staticClass:"icon-more"})])])])})),0)],1):i("div",{staticClass:"thresholds-slider"},[i("div",{staticClass:"thresholds-gradients"},[i("div",{ref:"buysGradient",staticClass:"thresholds-gradients__buys"}),i("div",{ref:"sellsGradient",staticClass:"thresholds-gradients__sells"})]),i("div",{ref:"thresholdContainer",staticClass:"thresholds-slider__bar"},t._l(t.thresholds,(function(e){return i("div",{key:e.id,staticClass:"thresholds-slider__handler",class:{"-selected":t.selectedThresholdId===e.id},attrs:{"data-id":e.id,"data-amount":t.formatAmount(e.amount,2)}})})),0)]),i("dropdown",{attrs:{interactive:""},model:{value:t.thresholdPanelTrigger,callback:function(e){t.thresholdPanelTrigger=e},expression:"thresholdPanelTrigger"}},[i("threshold-dropdown",{attrs:{threshold:t.selectedThreshold,"pane-id":t.paneId,"can-delete":t.thresholds.length>2},on:{input:function(e){t.thresholdPanelTrigger=e}}})],1)],1)},v=[],y=i("06c2"),b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Dialog",{staticClass:"pane-dialog -auto",on:{clickOutside:t.close,mousedown:function(e){t.clickOutsideClose=!1},mouseup:function(e){t.clickOutsideClose=!0}},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",[i("div",{staticClass:"title"},[i("div",[t._v("Threshold")])]),i("div",{staticClass:"subtitle"},[t._v(" "+t._s(t.thresholdId)+" "+t._s(t.formatAmount(t.threshold.amount))+" ")])])]},proxy:!0}])},[i("div",{staticClass:"form-group mb16"},[i("label",{attrs:{for:""}},[t._v(" When buy ")]),t.liveAnnotation&&"buy"===t.focusedSide?i("div",{staticClass:"live-annotation"},[i("div",{staticClass:"live-annotation__tooltip"},[t._v(t._s(t.liveAnnotation))])]):t._e(),i("div",{staticClass:"d-flex"},[t.buyAudio!==t.threshold.buyAudio?i("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -green mr8",attrs:{title:"Original"},on:{click:function(e){return t.testOriginal("buy",e)}}},[i("i",{staticClass:"icon-volume-high"})]):t._e(),i("prism-editor",{ref:"editor",staticClass:"editor__prism hide-scrollbar form-control",class:["buy"===t.dropping&&"-dropping"],attrs:{highlight:t.highlighter},on:{blur:function(e){t.liveAnnotation=null},focus:function(e){return t.scheduleLiveAnnotation(e,"buy")},drop:function(e){return t.handleDrop(e,"buy")},dragover:function(e){return t.handleDrop(e,"buy")},dragenter:function(e){return t.handleDropEnter("buy")},dragleave:function(e){t.dropping=null},keyup:function(e){return t.scheduleLiveAnnotation(e,"buy")},click:function(e){return t.scheduleLiveAnnotation(e,"buy")}},model:{value:t.buyAudio,callback:function(e){t.buyAudio=e},expression:"buyAudio"}}),i("button",{staticClass:"btn -green ml8",class:["buy"===t.loopingSide&&"shake-hard"],attrs:{title:"Custom"},on:{click:function(e){return t.testCustom("buy",e)},dblclick:function(e){return t.loopSide("buy")}}},[i("i",{staticClass:"icon-volume-high"})])],1),"buy"===t.focusedSide?i("div",{staticClass:"mt8 d-flex"},[i("button",{staticClass:"btn -small",on:{click:function(e){return t.openSoundAssistant("play","buy")}}},[i("i",{staticClass:"icon-music-note mr8"}),t._v(" Synthetize sound ")]),i("button",{staticClass:"btn -small ml8 mr8",on:{click:function(e){return t.openSoundAssistant("playurl","buy")}}},[i("i",{staticClass:"icon-upload mr8"}),t._v(" Import audio ")]),i("button",{staticClass:"btn -small -red mlauto -text",on:{click:function(e){return t.reset("buy")}}},[i("i",{staticClass:"icon-eraser mr8"}),t._v(" Reset ")])]):t._e(),t.buyError?i("p",{staticClass:"form-feedback"},[i("i",{staticClass:"icon-warning mr4"}),t._v(" "+t._s(t.buyError)+" ")]):t._e()]),i("div",{staticClass:"form-group mb16"},[i("label",{attrs:{for:""}},[t._v(" When sell ")]),t.liveAnnotation&&"sell"===t.focusedSide?i("div",{staticClass:"live-annotation"},[i("div",{staticClass:"live-annotation__tooltip"},[t._v(t._s(t.liveAnnotation))])]):t._e(),i("div",{staticClass:"d-flex"},[t.sellAudio!==t.threshold.sellAudio?i("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -red mr8",attrs:{title:"Original"},on:{click:function(e){return t.testOriginal("sell",e)}}},[i("i",{staticClass:"icon-volume-high"})]):t._e(),i("prism-editor",{ref:"editor",staticClass:"editor__prism hide-scrollbar form-control",class:["sell"===t.dropping&&"-dropping"],attrs:{highlight:t.highlighter},on:{blur:function(e){t.liveAnnotation=null},focus:function(e){return t.scheduleLiveAnnotation(e,"sell")},drop:function(e){return t.handleDrop(e,"sell")},dragover:function(e){return t.handleDrop(e,"sell")},dragenter:function(e){return t.handleDropEnter("sell")},dragleave:function(e){t.dropping=null},keyup:function(e){return t.scheduleLiveAnnotation(e,"sell")},click:function(e){return t.scheduleLiveAnnotation(e,"sell")}},model:{value:t.sellAudio,callback:function(e){t.sellAudio=e},expression:"sellAudio"}}),i("button",{staticClass:"btn -red ml8",class:["sell"===t.loopingSide&&"shake-hard"],on:{click:function(e){return t.testCustom("sell",e)},dblclick:function(e){return t.loopSide("sell")}}},[i("i",{staticClass:"icon-volume-high"})])],1),"sell"===t.focusedSide?i("div",{staticClass:"mt8 d-flex"},[i("button",{staticClass:"btn -small",on:{click:function(e){return t.openSoundAssistant("play","sell")}}},[i("i",{staticClass:"icon-music-note mr8"}),t._v(" Synthetize sound ")]),i("button",{staticClass:"btn -small ml8 mr8",on:{click:function(e){return t.openSoundAssistant("playurl","sell")}}},[i("i",{staticClass:"icon-upload mr8"}),t._v(" Import audio ")]),i("button",{staticClass:"btn -small -red mlauto -text",on:{click:function(e){return t.reset("sell")}}},[i("i",{staticClass:"icon-eraser mr8"}),t._v(" Reset ")])]):t._e(),t.sellError?i("p",{staticClass:"form-feedback"},[i("i",{staticClass:"icon-warning mr4"}),t._v(" "+t._s(t.sellError)+" ")]):t._e()]),i("footer",[i("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text mrauto",attrs:{href:"javascript:void(0);",title:"Restart audio service (clear ALL queue)"},on:{click:function(e){return t.restartWebAudio()}}},[i("i",{staticClass:"icon-refresh mr8"}),t._v(" Restart audio ")]),i("a",{staticClass:"btn -text mr8",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),i("button",{staticClass:"btn -large -green",on:{click:function(e){return t.saveInputs()}}},[i("i",{staticClass:"icon-check mr4"}),t._v(" Save ")])])])},g=[],_=i("4902"),C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Dialog",{staticClass:"pane-dialog -auto",on:{clickOutside:t.close,mousedown:function(e){t.clickOutsideClose=!1},mouseup:function(e){t.clickOutsideClose=!0}},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",{staticClass:"title"},[t._v(t._s(t.title))])]},proxy:!0}])},["play"===t.type?i("div",{staticClass:"form-group mb16"},[i("label",{attrs:{for:"audio-assistant-source"}},[i("i",{staticClass:"icon-music-note mr8"}),t._v(" Frequency "),i("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.descriptions.frequency}})]),i("div",{staticClass:"column"},[i("slider",{staticClass:"mrauto -fill mt8 mb8",attrs:{min:0,max:8902,step:1,label:!0,"show-completion":!0,value:t.frequency},on:{input:function(e){t.frequency=e},reset:function(e){return t.reset("frequency")}}}),i("editable",{staticClass:"-center text-nowrap ml8",staticStyle:{"line-height":"1"},attrs:{value:t.frequency},on:{input:function(e){t.frequency=e}}})],1)]):i("div",{staticClass:"form-group mb16"},[i("label",{attrs:{for:"audio-assistant-source"}},[i("i",{staticClass:"icon-music-note mr8"}),t._v(" Source ")]),i("button",{staticClass:"btn -file -blue -large -cases w-100",on:{change:t.handleFile}},[i("i",{staticClass:"icon-upload mr8"}),t._v(" Browse "),i("input",{attrs:{type:"file",accept:"audio/*"}})])]),i("div",{staticClass:"form-group mb16"},[i("label",[t._v("Gain "),i("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.descriptions.gain}})]),i("div",{staticClass:"column"},[i("slider",{attrs:{min:0,max:2,step:.01,label:!0,"show-completion":!0,value:t.gain},on:{input:function(e){t.gain=e},reset:function(e){return t.reset("gain")}}}),i("label",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control checkbox-control-input",attrs:{title:"Dynamic"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamicGain,expression:"dynamicGain"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dynamicGain)?t._i(t.dynamicGain,null)>-1:t.dynamicGain},on:{change:function(e){var i=t.dynamicGain,n=e.target,s=!!n.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);n.checked?r<0&&(t.dynamicGain=i.concat([o])):r>-1&&(t.dynamicGain=i.slice(0,r).concat(i.slice(r+1)))}else t.dynamicGain=s}}}),i("div")])],1)]),i("div",{staticClass:"form-group mb16"},[i("label",[t._v("Duration "),i("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.descriptions.holdDuration}})]),i("div",{staticClass:"column"},[i("slider",{attrs:{min:0,max:10,step:.1,label:!0,"show-completion":!0,value:t.holdDuration},on:{input:function(e){t.holdDuration=e},reset:function(e){return t.reset("holdDuration")}}}),i("label",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control checkbox-control-input",attrs:{title:"Dynamic"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamicLength,expression:"dynamicLength"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dynamicLength)?t._i(t.dynamicLength,null)>-1:t.dynamicLength},on:{change:function(e){var i=t.dynamicLength,n=e.target,s=!!n.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);n.checked?r<0&&(t.dynamicLength=i.concat([o])):r>-1&&(t.dynamicLength=i.slice(0,r).concat(i.slice(r+1)))}else t.dynamicLength=s}}}),i("div")])],1)]),i("section",{staticClass:"section"},[t.showAdvanced?i("div",["play"===t.type?i("div",{staticClass:"form-group mb16"},[i("label",[t._v("Wave type ("),i("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/OscillatorNode/type"}},[t._v("learn more")]),t._v(")")]),i("dropdown-button",{staticClass:"-outline form-control -arrow",attrs:{options:["'triangle'","'square'","'sine'","'sawtooth'"]},on:{input:function(e){t.osc=e}},scopedSlots:t._u([{key:"selection",fn:function(){return[t._v(" "+t._s(t.osc.replace(/'/g,""))+" ")]},proxy:!0},{key:"option",fn:function(e){var i=e.value;return[t._v(" "+t._s(i.replace(/'/g,""))+" ")]}}],null,!1,2424831711),model:{value:t.osc,callback:function(e){t.osc=e},expression:"osc"}})],1):t._e(),i("div",{staticClass:"column mb16"},[i("div",{staticClass:"form-group -fill"},[i("label",[t._v("Fade In "),i("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.descriptions.fadeIn}})]),i("slider",{staticClass:"mt8",attrs:{min:0,max:10,step:.1,label:!0,"show-completion":!0,value:t.fadeIn},on:{input:function(e){t.fadeIn=e},reset:function(e){return t.reset("fadeIn")}}})],1),i("div",{staticClass:"ml8 form-group -fill"},[i("label",[t._v("Fade Out "),i("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.descriptions.fadeOut}})]),i("slider",{staticClass:"mt8",attrs:{min:0,max:10,step:.1,label:!0,"show-completion":!0,value:t.fadeOut},on:{input:function(e){t.fadeOut=e},reset:function(e){return t.reset("fadeOut")}}})],1)]),i("div",{staticClass:"column mb16"},[i("div",{staticClass:"form-group -fill"},[i("label",[t._v("Start Gain "),i("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.descriptions.startGain}})]),i("slider",{staticClass:"mt8",attrs:{min:1e-4,max:1,step:.001,label:!0,"show-completion":!0,value:t.startGain},on:{input:function(e){t.startGain=e},reset:function(e){return t.reset("startGain")}}})],1),i("div",{staticClass:"ml8 form-group -fill"},[i("label",[t._v("End Gain "),i("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.descriptions.endGain}})]),i("slider",{staticClass:"mt8",attrs:{min:1e-4,max:1,step:.001,label:!0,"show-completion":!0,value:t.endGain},on:{input:function(e){t.endGain=e},reset:function(e){return t.reset("endGain")}}})],1)]),i("div",{staticClass:"form-group mb16"},[i("label",[t._v("Delay "),i("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.descriptions.delay}})]),i("slider",{staticClass:"mt8",attrs:{min:0,max:10,step:.1,label:!0,"show-completion":!0,value:t.delay},on:{input:function(e){t.delay=e},reset:function(e){return t.reset("delay")}}})],1)]):t._e(),i("div",{staticClass:"section__title",on:{click:function(e){t.showAdvanced=!t.showAdvanced}}},[t._v(" Advanced "),i("i",{staticClass:"icon-up-thin"})])]),i("div",{staticClass:"form-group mt16"},[i("label",{attrs:{for:"audio-assistant-output"}},[t._v(" Output ")]),i("div",{staticClass:"d-flex"},[i("textarea",{ref:"output",staticClass:"form-control",attrs:{id:"audio-assistant-output",cols:"20",rows:"4",spellcheck:"false",readonly:""},domProps:{value:t.litteral}}),i("button",{staticClass:"btn -red ml8",on:{click:function(e){return t.$emit("test",{event:e,litteral:t.litteral})}}},[i("i",{staticClass:"icon-volume-high"})])]),t.error?i("p",{staticClass:"form-feedback"},[i("i",{staticClass:"icon-warning mr4"}),t._v(" "+t._s(t.error)+" ")]):t._e()]),i("footer",[i("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text mrauto",attrs:{href:"javascript:void(0);",title:"Restart audio service (clear ALL queue)"},on:{click:function(e){return t.$emit("stop")}}},[i("i",{staticClass:"icon-refresh mr8"}),t._v(" Restart audio ")]),i("a",{staticClass:"btn -text mr8",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),i("button",{staticClass:"btn -large",on:{click:t.submit}},[i("i",{staticClass:"icon-check mr4"}),t._v(" Ok ")])])])},A=[],k=i("e7a1"),w=i("be31"),T=i("3918"),S=["gain"],x=["holdDuration","fadeIn","fadeOut"],O={components:{Slider:f["a"],DropdownButton:T["a"]},props:{type:{required:!0,type:String},error:{required:!1,type:String}},mixins:[o["a"]],data:function(){return{url:null,frequencyHz:null,gain:null,fadeOut:null,delay:null,fadeIn:null,holdDuration:null,osc:null,startGain:null,endGain:null,startTime:null,dynamicGain:!0,dynamicLength:!0,uploadedSound:null,showAdvanced:!1}},computed:{title:function(){return"play"===this.type?"Synthetize sound":"Import your own"},descriptions:function(){return _["c"]},frequency:{get:function(){return this.frequencyHz},set:function(t){isNaN(t)?this.frequencyHz=this.noteToFrequency(t):this.frequencyHz=+t}},litteral:function(){for(var t=this,e=_["a"][this.type],i=Object.keys(e),n=i.map((function(i){return t.dynamicGain&&-1!==S.indexOf(i)||t.dynamicLength&&-1!==x.indexOf(i)?t[i]?"gain*"+t[i]:0!=e[i]?0:null:t[i]!=e[i]?t[i]:null})),s=n.length-1;s>=0;s--){if(null!==n[s])break;n.splice(s,1)}return"".concat(this.type,"(").concat(n.map((function(t){return null===t?"":t})),")")}},created:function(){this.setDefaultAudioAttributes()},beforeDestroy:function(){var t=this;this.uploadedSound&&w["a"].removeSound(this.uploadedSound).then((function(){t.$store.dispatch("app/showNotice",{title:"Deleted ".concat(t.uploadedSound," (canceled)"),type:"info"})}))},methods:{setDefaultAudioAttributes:function(){var t=_["a"][this.type];for(var e in t)this[e]=t[e]},noteToFrequency:function(t){var e,i,n=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"];return e=3===t.length?t.charAt(2):t.charAt(1),i=n.indexOf(t.slice(0,-1)),i=i<3?i+12+12*(e-1)+1:i+12*(e-1)+1,+(440*Math.pow(2,(i-49)/12)).toFixed(2)},handleFile:async function(t){var e=t.target.files[0];if(e)try{var i=await k["a"].importSound(e);i?(this.uploadedSound&&w["a"].removeSound(this.uploadedSound),this.uploadedSound=this.url=i.name):this.url=e.name}catch(n){return void this.$store.dispatch("app/showNotice",{title:n.message,type:"error"})}},reset:function(t){var e=_["a"][this.type][t];this[t]=e},submit:function(){this.$emit("append",{litteral:this.litteral,uploadedSound:this.uploadedSound}),this.uploadedSound=null,this.close()}}},I=O,E=i("2877"),L=Object(E["a"])(I,C,A,!1,null,null,null),$=L.exports,D=i("e57a"),P=i("8c7a");i("cb55"),i("416b");function R(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=H(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){a=!0,o=t},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw o}}}}function H(t,e){if(t){if("string"===typeof t)return j(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?j(t,e):void 0}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var G={components:{PrismEditor:D["a"]},props:{paneId:{required:!0,type:String},thresholds:{required:!0},thresholdId:{required:!0,type:String}},mixins:[o["a"]],data:function(){return{buyAudio:"",sellAudio:"",buyError:null,sellError:null,showHelp:!1,focusedSide:null,loopingSide:null,dropping:null,liveAnnotation:null,uploadedSounds:[]}},computed:{threshold:function(){var t=this;return this.thresholds.find((function(e){return e.id===t.thresholdId}))},amounts:function(){return this.thresholds.map((function(t){return t.amount}))},audioPitch:function(){return this.$store.state[this.paneId].audioPitch},audioVolume:function(){return this.$store.state[this.paneId].audioVolume},index:function(){return this.amounts.indexOf(this.threshold.amount)},min:function(){return this.threshold.amount},max:function(){return this.amounts[this.index+1]||2*this.amounts[this.index]}},created:function(){var t=this;if(!this.threshold)return this.$nextTick((function(){return t.close(!1)}));this.buyAudio=this.threshold.buyAudio||"",this.sellAudio=this.threshold.sellAudio||""},beforeDestroy:function(){var t=this;this._loopingTimeout&&(clearTimeout(this._loopingTimeout),this._loopingTimeout=!1);var e,i=R(this.uploadedSounds);try{var n=function(){var i=e.value;w["a"].removeSound(i).then((function(){t.$store.dispatch("app/showNotice",{title:"Deleted ".concat(i," (canceled)"),type:"info"})}))};for(i.s();!(e=i.n()).done;)n()}catch(s){i.e(s)}finally{i.f()}},methods:{highlighter:function(t){return Object(P["highlight"])(t,P["languages"].js,"js")},setInput:function(t,e){this[e+"Audio"]=t,this.liveAnnotation=null},saveInputs:function(){this.validate(!0)&&(this.$store.commit(this.paneId+"/SET_THRESHOLD_AUDIO",{id:this.thresholdId,buyAudio:this.buyAudio,sellAudio:this.sellAudio}),this.uploadedSounds.splice(0,this.uploadedSounds.length),this.close(!0))},validate:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0,i=["buy","sell"];e<i.length;e++){var n=i[e],s=this[n+"Audio"];try{this.emulateAudioFunction(s,n)}catch(o){return t&&u["a"].confirm({message:"Please check that ".concat(n," audio script is syntactically correct."),ok:"OK",cancel:!1}),!1}}return!0},testCustom:async function(t,e,i){return this._loopingTimeout&&this.stopLoop(),i||(i=this[t+"Audio"]),await this.test(i,t,e)},testOriginal:function(t,e){this._loopingTimeout&&this.stopLoop();var i=this.threshold[t+"Audio"];this.test(i,t,e)},stopLoop:function(){this._loopingTimeout&&(clearTimeout(this._loopingTimeout),this._loopingTimeout=!1,this.loopingSide=null)},loopSide:function(t){var e=this;this._loopingTimeout||(this.loopingSide=t),this._loopingTimeout=setTimeout((function(){e.test(e[t+"Audio"],t),e.loopSide(t)}),100*Math.random())},restartWebAudio:function(){_["d"].reconnect()},test:async function(t,e,i){var n,s=1,o=this.max-this.min;if(i&&i.shiftKey||!o?n=this.min:(n=this.min+Math.random()*o,s=n/this.amounts[1]),n){var r=await this.emulateAudioFunction(t,e,s);return r&&i&&this.$store.dispatch("app/showNotice",{id:"testing-threshold-audio",type:"buy"===e?"success":"error",title:"NOW PLAYING : "+Object(y["c"])(n)+" "+e.toUpperCase()+" trade",timeout:1e3}),r}},formatAmount:function(t){return Object(y["c"])(t)},emulateAudioFunction:async function(t,e,i){try{var n=await _["d"].buildAudioFunction(t,e,this.audioPitch,this.audioVolume,!0);return"undefined"!==typeof i&&n(_["d"],i),this[e+"Error"]=null,!0}catch(s){return this[e+"Error"]=s.message,!1}},openSoundAssistant:function(t,e){var i=this,n=u["a"].open($,{type:t,error:this[e+"Error"]});n.$on("test",(function(t){var n=t.event,s=t.litteral;return i.testCustom(e,n,s)})),n.$on("stop",this.restartWebAudio),n.$on("append",(function(t){var n=t.litteral,s=t.uploadedSound;s&&i.uploadedSounds.push(s),i[e+"Audio"].trim().length?i[e+"Audio"]+="\n".concat(n):i[e+"Audio"]=n}))},handleDropEnter:function(t){this.dropping=t},handleDrop:async function(t,e){if(t.dataTransfer.files&&t.dataTransfer.files.length){if(t.preventDefault(),t.stopPropagation(),"drop"!==t.type)return!1;var i,n=R(t.dataTransfer.files);try{for(n.s();!(i=n.n()).done;){var s=i.value;await this.importSound(s,e)}}catch(o){n.e(o)}finally{n.f()}this.dropping=null}},importSound:async function(t,e){try{var i=await k["a"].importSound(t);i&&this.uploadedSounds.push(i.name);var n="playurl(".concat(t.name,")");this[e+"Audio"].trim().length?this[e+"Audio"]+="\n".concat(n):this[e+"Audio"]=n}catch(s){return void this.$store.dispatch("app/showNotice",{title:s.message,type:"error"})}},scheduleLiveAnnotation:async function(t,e){this.focusedSide=e,this._liveAnnotationTimeout&&clearTimeout(this._liveAnnotationTimeout),this._liveAnnotationTimeout=setTimeout(this.findCurrentParameter.bind(this,t.currentTarget,e),200)},findCurrentParameter:function(t){if(this._liveAnnotationTimeout=null,"selectionStart"in t&&document.activeElement==t){var e=t.selectionStart-1,i=t.value.slice(),n=e;for(n;n>=0;n--){if(/\n/.test(i[n])){n++;break}0===n&&e--}n>=0&&(i=i.slice(n)),e-=n;var s=i.indexOf("\n");if(s>=0&&(i=i.slice(0,s)),i.length){var o,r=new RegExp("(play(?:url)?)\\(","g");do{if(o=r.exec(i)){var a=o[1],l=o.index,c=Object(h["g"])(i,l+a.length);if(e<l+a.length||e>=c)continue;for(var u=Object(h["t"])(i.slice(l+a.length+1,c),!1,5),d=l+a.length+1,p=0;p<u.length;p++){if(e<=d+u[p].length-1)return void this.showParameterAnnotation(a,p);d+=u[p].length+1}}}while(o);this.liveAnnotation&&(this.liveAnnotation=null)}}},showParameterAnnotation:function(t,e){var i,n=_["b"][t][e];i=n?"".concat(n.toUpperCase()," : ").concat(_["c"][n]):"Too many parameters on ".concat(t,"() !"),this.liveAnnotation=i},reset:function(t){var e=JSON.parse(JSON.stringify(d["a"][this.$store.state.panes.panes[this.paneId].type].state));e.thresholds[Math.min(this.index,3)]&&(this[t+"Audio"]=e.thresholds[Math.min(this.index,3)][t+"Audio"])}}},N=G,q=(i("f81b"),Object(E["a"])(N,b,g,!1,null,"43c76488",null)),M=q.exports,U=i("81a6"),F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"threshold-dropdown"},[i("h3",[t._v("@ "+t._s(t.formatAmount(t.threshold.amount)))]),i("div",{staticClass:"form-group mb8 threshold-panel__gif"},[i("div",{staticClass:"column"},[t.isLegacy?i("div",{staticClass:"form-group"},[i("label",[t._v("Buy gif")]),i("input",{staticClass:"form-control w-100",attrs:{type:"text",placeholder:"Giphy keyword"},domProps:{value:t.threshold.buyGif},on:{change:function(e){return t.$store.commit(t.paneId+"/SET_THRESHOLD_GIF",{id:t.threshold.id,side:"buy",value:e.target.value})}}})]):t._e(),t.isLegacy?i("div",{staticClass:"form-group"},[i("label",[t._v("Sell gif")]),i("input",{staticClass:"form-control w-100",attrs:{type:"text",placeholder:"Giphy keyword"},domProps:{value:t.threshold.sellGif},on:{change:function(e){return t.$store.commit(t.paneId+"/SET_THRESHOLD_GIF",{id:t.threshold.id,side:"sell",value:e.target.value})}}})]):t._e()])]),i("div",{staticClass:"form-group mb8 threshold-panel__colors"},[i("label",[t._v("Custom colors")]),i("div",{staticClass:"column mt8"},[i("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"form-group column flex-center",attrs:{title:"When buy"}},[i("p",{staticClass:"help-text -center mr16 mt0 mb0"},[t._v("Buy")]),i("color-picker-control",{attrs:{label:"Buy color",value:t.threshold.buyColor},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_THRESHOLD_COLOR",{id:t.threshold.id,side:"buyColor",value:e})}}})],1),i("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"form-group column flex-center",attrs:{title:"When sell"}},[i("p",{staticClass:"help-text -center mr16 mt0 mb0"},[t._v("Sell")]),i("color-picker-control",{attrs:{label:"Sell color",value:t.threshold.sellColor},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_THRESHOLD_COLOR",{id:t.threshold.id,side:"sellColor",value:e})}}})],1)])]),i("button",{staticClass:"btn -red mt16",attrs:{type:"button"},on:{click:t.removeThreshold}},[i("i",{staticClass:"icon-trash mr8"}),t._v(" Remove ")])])},B=[];function W(t){return W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function J(t,e,i){return e&&V(t.prototype,e),i&&V(t,i),t}function X(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}function Y(t,e){return Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Y(t,e)}function K(t){var e=tt();return function(){var i,n=et(t);if(e){var s=et(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Q(this,i)}}function Q(t,e){if(e&&("object"===W(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Z(t)}function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}var it=function(t){X(i,t);var e=K(i);function i(){return z(this,i),e.apply(this,arguments)}return J(i,[{key:"isLegacy",get:function(){return"trades"===this.$store.state.panes.panes[this.paneId].type}},{key:"formatAmount",value:function(t){return Object(y["c"])(t)}},{key:"removeThreshold",value:function(){this.canDelete?(this.$store.commit(this.paneId+"/DELETE_THRESHOLD",this.threshold.id),this.$emit("input",null)):u["a"].confirm({message:"You can't delete the threshold because there is only 2 and the minimum is 2",cancel:null})}}]),i}(p["c"]);it=Object(c["a"])([Object(p["a"])({name:"ThresholdDropdown",components:{ColorPickerControl:U["a"]},props:{paneId:{type:String,required:!0},threshold:{required:!0},canDelete:{default:!1}}})],it);var nt=it,st=nt,ot=(i("813d"),Object(E["a"])(st,F,B,!1,null,"16fb6cb0",null)),rt=ot.exports;function at(t){return at="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ct(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ut(t,e,i){return e&&ct(t.prototype,e),i&&ct(t,i),t}function dt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}function ht(t,e){return ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ht(t,e)}function pt(t){var e=vt();return function(){var i,n=yt(t);if(e){var s=yt(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return ft(this,i)}}function ft(t,e){if(e&&("object"===at(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mt(t)}function mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function yt(t){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yt(t)}var bt=function(t){dt(i,t);var e=pt(i);function i(){var t;return lt(this,i),t=e.apply(this,arguments),t.rendering=!0,t.dragging=null,t.editing=null,t.selectedThresholdId=null,t.selectedSliderHandle=null,t.thresholdPanelTrigger=null,t._dragReference=null,t._minimum=null,t._maximum=null,t._offsetLeft=null,t}return ut(i,[{key:"selectedThreshold",get:function(){var t=this.$store.getters[this.paneId+"/getThreshold"](this.selectedThresholdId);return t}},{key:"showThresholdsAsTable",get:function(){return this.$store.state[this.paneId].showThresholdsAsTable}},{key:"useAudio",get:function(){return this.$store.state.settings.useAudio}},{key:"capToLastThreshold",get:function(){return this.thresholds[this.thresholds.length-1].max}},{key:"created",value:function(){var t=this;this._onStoreMutation=this.$store.subscribe((function(e){switch(e.type){case t.paneId+"/TOGGLE_SETTINGS_PANEL":case t.paneId+"/TOGGLE_THRESHOLDS_TABLE":(e.type===t.paneId+"/TOGGLE_SETTINGS_PANEL"&&"thresholds"===e.payload||e.type===t.paneId+"/TOGGLE_THRESHOLDS_TABLE"&&!1===e.payload)&&(t.rendering=!0,t.refreshHandlers(),t.refreshGradients());break;case t.paneId+"/SET_THRESHOLD_AMOUNT":t.reorderThresholds(),t.refreshHandlers();break;case t.paneId+"/SET_THRESHOLD_COLOR":t.refreshGradients();break;case t.paneId+"/ADD_THRESHOLD":t.refreshHandlers();break}}))}},{key:"mounted",value:function(){this.showThresholdsAsTable||(this.refreshHandlers(),this.refreshGradients()),this._startDrag=this.startDrag.bind(this),this.$el.addEventListener("touchstart",this._startDrag,!1),this.$el.addEventListener("mousedown",this._startDrag,!1),this._doDrag=this.doDrag.bind(this),window.addEventListener("touchmove",this._doDrag,!1),window.addEventListener("mousemove",this._doDrag,!1),this._endDrag=this.endDrag.bind(this),window.addEventListener("touchend",this._endDrag,!1),window.addEventListener("mouseup",this._endDrag,!1),this._doResize=this.refreshHandlers.bind(this),window.addEventListener("resize",this._doResize,!1)}},{key:"beforeDestroy",value:function(){window.removeEventListener("touchmove",this._doDrag),window.removeEventListener("mousemove",this._doDrag),window.removeEventListener("touchend",this._endDrag),window.removeEventListener("mouseup",this._endDrag),window.removeEventListener("resize",this._doResize),this._onStoreMutation()}},{key:"startDrag",value:function(t){var e=this;if(t.target.classList.contains("thresholds-slider__handler")){var i=t.pageX;t.touches&&t.touches.length&&(i=t.touches[0].pageX),this.selectThreshold(t.target.getAttribute("data-id"),t),this.selectedSliderHandle=t.target,this.$nextTick((function(){e._dragReference={timestamp:Date.now(),position:i}}))}}},{key:"selectThreshold",value:function(t,e){if(this.thresholdPanelTrigger&&this.selectedThresholdId===t)return this.thresholdPanelTrigger=null,this.selectedThresholdId=null,void(this.selectedSliderHandle&&this.endDrag());this.selectedThresholdId=t,this.selectedThresholdId&&(this.thresholdPanelTrigger=e.target)}},{key:"doDrag",value:function(t){var e=t.pageX;if(t.touches&&t.touches.length&&(e=t.touches[0].pageX),null!==this.selectedSliderHandle&&this._dragReference&&!(Date.now()-this._dragReference.timestamp<1e3&&Math.abs(this._dragReference.position-e)<3)){this.dragging=!0;var i=Math.max(0,Math.log(this._minimum+1)||0),n=i/Math.log(this._maximum+1)*this._width,s=Math.max(this._width/3*-1,Math.min(1.5*this._width,e-this._offsetLeft)),o=Math.exp((n+s/this._width*(this._width-n))/this._width*Math.log(this._maximum+1))-1;e<this._offsetLeft?(o=this.selectedThreshold.amount-.1*(this.selectedThreshold.amount-o),s=0):e>this._offsetLeft+this._width&&(o=this.selectedThreshold.amount-.1*(this.selectedThreshold.amount-o),s=this._width),o<0&&(o=0),this.selectedSliderHandle.style.transform="translateX("+s+"px)",this.$store.commit(this.paneId+"/SET_THRESHOLD_AMOUNT",{id:this.selectedThresholdId,value:o})}}},{key:"endDrag",value:function(){this.selectedSliderHandle&&(this.selectedSliderHandle=null,this.reorderThresholds(),this.refreshHandlers(),this.refreshGradients()),this.dragging=!1}},{key:"refreshHandlers",value:async function(){await Object(h["w"])(100);var t=this.thresholds.map((function(t){return t.amount}));if(this._minimum=this.thresholds[0].amount,this._maximum=Math.max.apply(null,t),!this.showThresholdsAsTable){var e=this.$refs.thresholdContainer.getBoundingClientRect();this._offsetLeft=e.left,this._width=this.$refs.thresholdContainer.clientWidth;for(var i=this.$refs.thresholdContainer.children,n=Math.max(0,Math.log(this._minimum+1)||0),s=Math.log(this._maximum+1)-n,o=0;o<this.thresholds.length;o++){var r=i[o],a=this.thresholds[o],l=Math.log(a.amount+1)-n,c=this._width*(l/s);r.style.transform="translateX("+c+"px)"}this.rendering=!1}}},{key:"refreshGradients",value:async function(){if(!this.showThresholdsAsTable){await Object(h["w"])(100);for(var t=Math.max(0,Math.log(this._minimum+1)||0),e=Math.log(this._maximum+1),i=[],n=[],s=0;s<this.thresholds.length;s++){var o=0===s?0:s===this.thresholds.length-1?100:((Math.log(this.thresholds[s].amount+1)-t)/(e-t)*100).toFixed(2);i.push("".concat(this.thresholds[s].buyColor," ").concat(o,"%")),n.push("".concat(this.thresholds[s].sellColor," ").concat(o,"%"))}this.$refs.buysGradient.style.backgroundImage="linear-gradient(to right, ".concat(i.join(", "),")"),this.$refs.sellsGradient.style.backgroundImage="linear-gradient(to right, ".concat(n.join(", "),")")}}},{key:"reorderThresholds",value:function(){this.thresholds.sort((function(t,e){return t.amount-e.amount}))}},{key:"deleteThreshold",value:function(t){this.thresholds.length<=2||this.$store.commit(this.paneId+"/DELETE_THRESHOLD",t)}},{key:"openThresholdAudio",value:function(t){u["a"].open(M,{paneId:this.paneId,thresholds:this.thresholds,thresholdId:t})}},{key:"formatAmount",value:function(t){return Object(y["c"])(t)}},{key:"flipSwatches",value:function(t){for(var e="".concat(t,"Color"),i=this.thresholds.map((function(t){return t[e]})).reverse(),n=0;n<this.thresholds.length;n++)this.$store.commit(this.paneId+"/SET_THRESHOLD_COLOR",{id:this.thresholds[n].id,side:e,value:i[n]})}},{key:"toggleMaximumThreshold",value:function(t){this.$store.commit(this.paneId+"/TOGGLE_THRESHOLD_MAX",t.id)}}]),i}(p["c"]);bt=Object(c["a"])([Object(p["a"])({name:"Thresholds",components:{ColorPickerControl:U["a"],ThresholdDropdown:rt},props:{paneId:{type:String,required:!0},label:{type:String,default:null},thresholds:{required:!0}}})],bt);var gt=bt,_t=gt,Ct=(i("dd52"),Object(E["a"])(_t,m,v,!1,null,null,null)),At=Ct.exports,kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",{staticClass:"title"},[t._v("Configure preset")])]},proxy:!0}])},[i("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[i("div",{staticClass:"form-group mb8"},[i("label",[t._v("Choose type")]),i("label",{staticClass:"checkbox-control mt8"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.includeThresholds,expression:"includeThresholds"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.includeThresholds)?t._i(t.includeThresholds,null)>-1:t.includeThresholds},on:{change:function(e){var i=t.includeThresholds,n=e.target,s=!!n.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);n.checked?r<0&&(t.includeThresholds=i.concat([o])):r>-1&&(t.includeThresholds=i.slice(0,r).concat(i.slice(r+1)))}else t.includeThresholds=s}}}),i("div"),i("span",[t._v("Trades")])])]),i("div",{staticClass:"form-group mb8"},[i("label",{staticClass:"checkbox-control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.includeLiquidations,expression:"includeLiquidations"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.includeLiquidations)?t._i(t.includeLiquidations,null)>-1:t.includeLiquidations},on:{change:function(e){var i=t.includeLiquidations,n=e.target,s=!!n.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);n.checked?r<0&&(t.includeLiquidations=i.concat([o])):r>-1&&(t.includeLiquidations=i.slice(0,r).concat(i.slice(r+1)))}else t.includeLiquidations=s}}}),i("div"),i("span",[t._v("Liquidations")])])]),i("div",{staticClass:"form-group mb8 mt16"},[i("label",[t._v("Choose what to include in preset")]),i("label",{staticClass:"checkbox-control mt8"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.includeAmounts,expression:"includeAmounts"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.includeAmounts)?t._i(t.includeAmounts,null)>-1:t.includeAmounts},on:{change:function(e){var i=t.includeAmounts,n=e.target,s=!!n.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);n.checked?r<0&&(t.includeAmounts=i.concat([o])):r>-1&&(t.includeAmounts=i.slice(0,r).concat(i.slice(r+1)))}else t.includeAmounts=s}}}),i("div"),i("span",[t._v("Amounts")])])]),i("div",{staticClass:"form-group mb8"},[i("label",{staticClass:"checkbox-control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.includeColors,expression:"includeColors"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.includeColors)?t._i(t.includeColors,null)>-1:t.includeColors},on:{change:function(e){var i=t.includeColors,n=e.target,s=!!n.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);n.checked?r<0&&(t.includeColors=i.concat([o])):r>-1&&(t.includeColors=i.slice(0,r).concat(i.slice(r+1)))}else t.includeColors=s}}}),i("div"),i("span",[t._v("Colors")])])]),i("div",{staticClass:"form-group mb8"},[i("label",{staticClass:"checkbox-control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.includeAudio,expression:"includeAudio"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.includeAudio)?t._i(t.includeAudio,null)>-1:t.includeAudio},on:{change:function(e){var i=t.includeAudio,n=e.target,s=!!n.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);n.checked?r<0&&(t.includeAudio=i.concat([o])):r>-1&&(t.includeAudio=i.slice(0,r).concat(i.slice(r+1)))}else t.includeAudio=s}}}),i("div"),i("span",[t._v("Audio")])])]),i("footer",[i("a",{staticClass:"btn -text mr8",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),i("button",{staticClass:"btn -large -green",attrs:{type:"submit"}},[i("i",{staticClass:"icon-check mr4"}),t._v(" Submit ")])])])])},wt=[],Tt={mixins:[o["a"]],data:function(){return{includeThresholds:!0,includeLiquidations:!0,includeAmounts:!1,includeColors:!0,includeAudio:!0}},methods:{submit:function(){this.close({thresholds:this.includeThresholds,liquidations:this.includeLiquidations,amounts:this.includeAmounts,colors:this.includeColors,audios:this.includeAudio})}}},St=Tt,xt=Object(E["a"])(St,kt,wt,!1,null,null,null),Ot=xt.exports,It=i("da81"),Et=i.n(It);function Lt(t){return Lt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function $t(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=Rt(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){a=!0,o=t},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw o}}}}function Dt(t,e){return Gt(t)||jt(t,e)||Rt(t,e)||Pt()}function Pt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rt(t,e){if(t){if("string"===typeof t)return Ht(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ht(t,e):void 0}}function Ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function jt(t,e){var i=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,s,o=[],r=!0,a=!1;try{for(i=i.call(t);!(r=(n=i.next()).done);r=!0)if(o.push(n.value),e&&o.length===e)break}catch(l){a=!0,s=l}finally{try{r||null==i["return"]||i["return"]()}finally{if(a)throw s}}return o}}function Gt(t){if(Array.isArray(t))return t}function Nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mt(t,e,i){return e&&qt(t.prototype,e),i&&qt(t,i),t}function Ut(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}function Ft(t,e){return Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ft(t,e)}function Bt(t){var e=Vt();return function(){var i,n=Jt(t);if(e){var s=Jt(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Wt(this,i)}}function Wt(t,e){if(e&&("object"===Lt(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zt(t)}function zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Jt(t){return Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jt(t)}var Xt=function(t){Ut(i,t);var e=Bt(i);function i(){var t;return Nt(this,i),t=e.apply(this,arguments),t.sections=["thresholds"],t.secondsAgoExample="0s ago",t}return Mt(i,[{key:"useAudio",get:function(){return this.$store.state.settings.useAudio}},{key:"markets",get:function(){return this.$store.state.panes.panes[this.paneId].markets}},{key:"maxRows",get:function(){return this.$store.state[this.paneId].maxRows}},{key:"thresholds",get:function(){return this.$store.state[this.paneId].thresholds}},{key:"liquidations",get:function(){return this.$store.state[this.paneId].liquidations}},{key:"showLogos",get:function(){return this.$store.state[this.paneId].showLogos}},{key:"monochromeLogos",get:function(){return this.$store.state[this.paneId].monochromeLogos}},{key:"showTimeAgo",get:function(){return this.$store.state[this.paneId].showTimeAgo}},{key:"showPrice",get:function(){return this.$store.state[this.paneId].showPrice}},{key:"tradeType",get:function(){return this.$store.state[this.paneId].tradeType}},{key:"showTradesPairs",get:function(){return this.$store.state[this.paneId].showTradesPairs}},{key:"showThresholdsAsTable",get:function(){return this.$store.state[this.paneId].showThresholdsAsTable}},{key:"audioThresholdPlaceholder",get:function(){return+(.1*this.thresholds[0].amount).toFixed(2)+" (10% of minimum threshold)"}},{key:"audioThreshold",get:function(){return this.$store.state[this.paneId].audioThreshold}},{key:"muted",get:function(){return this.$store.state[this.paneId].muted}},{key:"audioPitch",get:function(){return this.$store.state[this.paneId].audioPitch||1}},{key:"audioVolume",get:function(){var t=this.$store.state[this.paneId].audioVolume;return null===t?this.$store.state.settings.audioVolume:t}},{key:"thresholdsMultipler",get:function(){return this.$store.state[this.paneId].thresholdsMultipler}},{key:"disableAnimations",get:function(){return this.$store.state.settings.disableAnimations}},{key:"isLegacy",get:function(){return"trades"===this.$store.state.panes.panes[this.paneId].type}},{key:"displayGifWarning",get:function(){return this.isLegacy&&this.disableAnimations&&(this.thresholds.filter((function(t){return!!t.buyGif&&!!t.sellGif})).length||this.liquidations.filter((function(t){return!!t.buyGif&&!!t.sellGif})).length)}},{key:"multipliers",get:function(){var t=this;return this.markets.map((function(e){var i=Object(y["m"])(e),n=Dt(i,2),s=n[0],o=n[1],r=t.$store.state[t.paneId].multipliers[e];return{exchange:s,pair:o,multiplier:isNaN(r)?1:r,identifier:e}}))}},{key:"mutipliersCount",get:function(){return this.multipliers.filter((function(t){return 1!==t.multiplier})).length}},{key:"mounted",value:function(){var t=this,e=Date.now();this._secondsAgoExampleTimeout=setInterval((function(){t.secondsAgoExample="".concat(Object(h["a"])(e)," ago")}),1e3)}},{key:"beforeDestroy",value:function(){this._secondsAgoExampleTimeout&&clearTimeout(this._secondsAgoExampleTimeout)}},{key:"formatAmount",value:function(t){return Object(y["c"])(t)}},{key:"toggleSection",value:function(t){var e=this.sections.indexOf(t);-1===e?this.sections.push(t):this.sections.splice(e,1)}},{key:"getAudioPreset",value:async function(){var t=await u["a"].openAsPromise(Ot);if(t){if(!t.thresholds&&!t.liquidations&&!t.amounts&&!t.audios&&!t.colors)return void this.$store.dispatch("app/showNotice",{title:"You did not select anything to save in the preset !",type:"error"});for(var e={},i=0,n=["thresholds","liquidations"];i<n.length;i++){var s=n[i];if(t[s]){e[s]=[];var o,r=$t(this.$store.state[this.paneId][s]);try{for(r.s();!(o=r.n()).done;){var a=o.value,l={};t.amounts&&(l.amount=a.amount),t.colors&&(l.buyColor=a.buyColor,l.sellColor=a.sellColor),t.audios&&(l.buyAudio=a.buyAudio,l.sellAudio=a.sellAudio),e[s].push(l)}}catch(c){r.e(c)}finally{r.f()}}}return e}}},{key:"applyAudioPreset",value:function(t){var e=this,i=JSON.parse(JSON.stringify(d["a"][this.$store.state.panes.panes[this.paneId].type].state)),n=null,s=null,o=null;if(t){var r;if(t[0])t.liquidations&&(r=t.liquidations,delete t.liquidations),t={thresholds:Object.values(t),liquidations:r?[r]:null};for(var a=function(){var r=c[l];if(!t[r])return"continue";o="undefined"!==typeof t[r][0].amount,n="undefined"!==typeof t[r][0].buyColor,s="undefined"!==typeof t[r][0].buyAudio;var a=o&&n&&s,u=i[r].length;if(a)return Et()(e.$store.state[e.paneId][r],t[r]),"continue";var d=e.$store.state[e.paneId][r][0].amount;e.$store.state[e.paneId][r]=Et()(e.$store.state[e.paneId][r],t[r]).map((function(t,e){return t.id||(t.id=Object(h["v"])()),"undefined"===typeof t.amount&&(t.amount=d),"undefined"===typeof t.buyColor&&(t.buyColor=i[r][Math.min(e,u)].buyColor,t.sellColor=i[r][Math.min(e,u)].sellColor),"undefined"===typeof t.buyAudio&&(t.buyAudio=i[r][Math.min(e,u)].buyAudio,t.sellAudio=i[r][Math.min(e,u)].sellAudio),d=t.amount,t}))},l=0,c=["thresholds","liquidations"];l<c.length;l++)a()}else o=n=s=!0,this.$store.state[this.paneId].thresholds&&this.$store.state[this.paneId].thresholds.splice(0,this.$store.state[this.paneId].thresholds.length),this.$store.state[this.paneId].liquidations&&this.$store.state[this.paneId].liquidations.splice(0,this.$store.state[this.paneId].liquidations.length),Et()(this.$store.state[this.paneId],{thresholds:i.thresholds,liquidations:i.liquidations,thresholdsMultipler:1});var u=this.$store.state[this.paneId].thresholds[0];o&&this.$store.commit(this.paneId+"/SET_THRESHOLD_AMOUNT",{id:u.id,value:u.amount}),n&&this.$store.commit(this.paneId+"/SET_THRESHOLD_COLOR",{id:u.id,side:"buy",value:u.buyColor}),s&&this.$store.commit(this.paneId+"/SET_THRESHOLD_AUDIO",{id:u.id,buyAudio:u.buyAudio,sellAudio:u.sellAudio})}}]),i}(p["c"]);Xt=Object(c["a"])([Object(p["a"])({components:{Thresholds:At,Slider:f["a"]},name:"TradesSettings",props:{paneId:{type:String,required:!0}}})],Xt);var Yt=Xt,Kt=Yt,Qt=(i("af3e"),Object(E["a"])(Kt,a,l,!1,null,"a169b4cc",null)),Zt=Qt.exports,te={components:{TradesSettings:Zt},mixins:[o["a"],r["a"]],data:function(){return{renaming:!1}},methods:{}},ee=te,ie=Object(E["a"])(ee,n,s,!1,null,null,null);e["default"]=ie.exports},"813d":function(t,e,i){"use strict";i("cd91")},"92bf":function(t,e,i){},a97b:function(t,e,i){},af3e:function(t,e,i){"use strict";i("ca39")},ca39:function(t,e,i){},cd91:function(t,e,i){},dd52:function(t,e,i){"use strict";i("a97b")},f81b:function(t,e,i){"use strict";i("92bf")}}]);
//# sourceMappingURL=chunk-4cbfe090.d9ddb1f9.js.map