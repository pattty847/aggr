{"version":3,"sources":["webpack:///./src/mixins/paneMixin.ts","webpack:///./src/components/prices/Prices.vue?fcd8","webpack:///./src/components/panes/PaneHeader.vue?8308","webpack:///./src/components/panes/PaneHeader.vue","webpack:///./src/components/panes/PaneHeader.vue?260b","webpack:///./src/components/panes/PaneHeader.vue?7137","webpack:///./src/components/prices/PricesSortDropdown.vue?931a","webpack:///./src/components/prices/PricesSortDropdown.vue","webpack:///./src/components/prices/PricesSortDropdown.vue?a592","webpack:///./src/components/prices/PricesSortDropdown.vue?8683","webpack:///./src/components/prices/Prices.vue?497c","webpack:///./src/components/prices/Prices.vue","webpack:///./src/components/prices/Prices.vue?e2ce","webpack:///./src/components/prices/Prices.vue?4c5a"],"names":["PaneMixin","this","$store","state","panes","paneId","$el","id","refreshZoom","$nextTick","width","clientWidth","onResize","clientHeight","addEventListener","focusPane","removeEventListener","_onStoreMutation","dispatch","commit","props","required","type","String","render","_vm","_h","$createElement","_c","_self","staticClass","class","loading","attrs","on","renamePane","_v","_s","name","maximizePane","_t","openSearch","openSettings","_e","toggleDropdown","model","value","callback","$$v","paneDropdownTrigger","expression","$event","stopPropagation","changeZoom","resetZoom","apply","arguments","zoom","toFixed","settings","duplicatePane","removePane","staticRenderFns","market","marketsListeners","markets","local","event","direction","shiftKey","$emit","async","dialogService","confirm","parentElement","classList","currentTarget","target","className","el","isMaximized","toggle","siblings","sibling","getAttribute","remove","style","display","cls","Event","window","dispatchEvent","prompt","action","input","open","default","Function","Boolean","component","selectSortType","sortType","sortOrder","option","components","DropdownButton","buttonClass","pauseSort","animateSort","tag","mode","transitionGroupName","_l","key","status","exchange","price","change","formatAmount","volume","volumeDelta","currentMarket","previousMarkets","indexOf","removeMarketFromList","pair","addMarketToList","period","periodReset","clearPeriodReset","exchanges","disableAnimations","showPairs","showChange","showPrice","showVolume","showVolumeDelta","_initialValues","watch","cacheSortFunction","refreshMarkets","aggregatorService","updateMarkets","off","_resetTimeout","clearTimeout","pane","marketsStats","marketStats","initialPrice","_sortFunction","sort","index","find","m","splice","product","push","order","by","a","b","amount","height","now","Date","periodMs","timeOfReset","Math","ceil","setTimeout","bind","getTimeToNextReset","once","scheduleNextPeriodReset","immediate","PaneHeader","PricesSortDropdown"],"mappings":"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","file":"js/chunk-2bd9cf2c.00630cce.js","sourcesContent":["import { Pane } from '@/store/panes'\nimport Vue from 'vue'\nimport Component from 'vue-class-component'\n\n@Component({\n  props: {\n    paneId: {\n      required: true,\n      type: String\n    }\n  }\n})\nexport default class PaneMixin extends Vue {\n  paneId: string\n  protected _onStoreMutation: () => void\n\n  get pane(): Pane {\n    return this.$store.state.panes.panes[this.paneId]\n  }\n\n  mounted() {\n    this.$el.id = this.paneId\n\n    this.refreshZoom()\n\n    this.$nextTick(() => {\n      const width = this.$el.clientWidth\n\n      if (typeof this.onResize === 'function') {\n        this.onResize(width, this.$el.clientHeight, true)\n      }\n    })\n\n    this.$el.addEventListener('mousedown', this.focusPane)\n  }\n\n  beforeDestroy() {\n    this.$el.removeEventListener('mousedown', this.focusPane)\n\n    if (this._onStoreMutation) {\n      this._onStoreMutation()\n    }\n  }\n\n  refreshZoom() {\n    this.$store.dispatch('panes/refreshZoom', this.paneId)\n  }\n\n  focusPane() {\n    this.$store.commit('app/SET_FOCUSED_PANE', this.paneId)\n  }\n\n  onResize?(newWidth: number, newHeight: number, isMounting?: boolean)\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prices.vue?vue&type=style&index=0&id=52e6658f&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pane-header hide-scrollbar pane-overlay d-flex\",class:{ '-loading': _vm.loading }},[_c('div',{staticClass:\"pane-header__loader\"}),_c('span',{staticClass:\"pane-header__name ml4 mrauto\",attrs:{\"data-hide-header\":\"\"},on:{\"dblclick\":_vm.renamePane}},[_vm._v(_vm._s(_vm.name))]),_c('div',{staticClass:\"toolbar flex-grow-1\",on:{\"dblclick\":_vm.maximizePane}},[_vm._t(\"default\"),_c('button',{staticClass:\"toolbar__label min-768\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openSearch}},[_c('i',{staticClass:\"icon-search\"})]),(_vm.settings)?_c('button',{staticClass:\"toolbar__label min-768\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openSettings}},[_c('i',{staticClass:\"icon-cog\"})]):_vm._e(),_c('button',{staticClass:\"toolbar__label\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleDropdown}},[_c('i',{staticClass:\"icon-more\"})]),_c('dropdown',{model:{value:(_vm.paneDropdownTrigger),callback:function ($$v) {_vm.paneDropdownTrigger=$$v},expression:\"paneDropdownTrigger\"}},[_c('div',{staticClass:\"d-flex btn-group\"},[_c('button',{staticClass:\"btn -green\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeZoom($event, -1)}}},[_c('i',{staticClass:\"icon-minus\"})]),_c('button',{staticClass:\"btn -green text-monospace flex-grow-1 text-center\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.resetZoom.apply(null, arguments)}}},[_vm._v(\" Ã— \"+_vm._s(_vm.zoom.toFixed(2))+\" \")]),_c('button',{staticClass:\"btn -green\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeZoom($event, 1)}}},[_c('i',{staticClass:\"icon-plus\"})])]),_vm._t(\"menu\"),(_vm.settings !== null)?_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openSettings}},[_c('i',{staticClass:\"icon-cog\"}),_c('span',[_vm._v(\"Settings\")])]):_vm._e(),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$store.dispatch('app/showSearch', _vm.paneId)}}},[_c('i',{staticClass:\"icon-search\"}),_c('span',[_vm._v(\"Sources\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.maximizePane}},[_c('i',{staticClass:\"icon-enlarge\"}),_c('span',[_vm._v(\"Maximize\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.duplicatePane}},[_c('i',{staticClass:\"icon-copy-paste\"}),_c('span',[_vm._v(\"Duplicate\")])]),_c('div',{staticClass:\"dropdown--divider\"}),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.removePane}},[_c('i',{staticClass:\"icon-trash\"}),_c('span',[_vm._v(\"Remove\")])])],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport Component from 'vue-class-component'\n\nimport { getSiblings } from '@/utils/helpers'\nimport dialogService from '@/services/dialogService'\n\n@Component({\n  name: 'PaneHeader',\n  props: {\n    paneId: {\n      type: String\n    },\n    settings: {\n      type: Function,\n      default: null\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  }\n})\nexport default class extends Vue {\n  private settings?: () => Promise<any>\n  paneId: string\n  paneDropdownTrigger = null\n\n  get zoom() {\n    return this.$store.state.panes.panes[this.paneId].zoom || 1\n  }\n\n  get type() {\n    return this.$store.state.panes.panes[this.paneId].type\n  }\n\n  get name() {\n    const name = this.$store.state.panes.panes[this.paneId].name\n    const market = this.$store.state.panes.marketsListeners[\n      this.$store.state.panes.panes[this.paneId].markets[0]\n    ]\n\n    if (name) {\n      return name\n    } else if (market) {\n      return market.local\n    } else {\n      return this.type\n    }\n  }\n\n  openSearch() {\n    this.$store.dispatch('app/showSearch', this.paneId)\n  }\n\n  changeZoom(event, direction) {\n    const zoom = this.zoom + (event.shiftKey ? 0.0625 : 0.125) * direction\n    this.$store.dispatch('panes/setZoom', { id: this.paneId, zoom: zoom })\n\n    this.$emit('zoom', zoom)\n  }\n\n  resetZoom() {\n    this.$store.dispatch('panes/setZoom', { id: this.paneId, zoom: 1 })\n\n    this.$emit('zoom', 1)\n  }\n\n  async removePane() {\n    if (await dialogService.confirm(`Delete pane \"${this.paneId}\" ?`)) {\n      this.$store.dispatch('panes/removePane', this.paneId)\n    }\n  }\n\n  duplicatePane() {\n    this.$store.dispatch('panes/duplicatePane', this.paneId)\n  }\n\n  highlightPane(value: boolean) {\n    this.$el.parentElement.parentElement.classList[value ? 'add' : 'remove'](\n      '-highlight'\n    )\n  }\n\n  maximizePane(event) {\n    if (\n      event.type === 'dblclick' &&\n      event.currentTarget !== event.target &&\n      event.target.className !== 'toolbar__spacer'\n    ) {\n      return\n    }\n\n    const el = this.$el.parentElement.parentElement\n    const isMaximized = el.classList.toggle('-maximized')\n\n    const siblings = getSiblings(el)\n\n    for (const sibling of siblings) {\n      if (!sibling.getAttribute('type')) {\n        continue\n      }\n      sibling.classList.remove('-maximized')\n      sibling.style.display = isMaximized ? 'none' : 'block'\n    }\n\n    const cls = Event as any\n\n    window.dispatchEvent(new cls('resize'))\n  }\n\n  async renamePane() {\n    const name = await dialogService.prompt({\n      action: 'Rename',\n      input: this.name\n    })\n\n    if (name !== this.name) {\n      this.$store.commit('panes/SET_PANE_NAME', { id: this.paneId, name: name })\n    }\n  }\n\n  toggleDropdown(event) {\n    if (this.paneDropdownTrigger) {\n      this.paneDropdownTrigger = null\n    } else {\n      this.paneDropdownTrigger = event.currentTarget\n    }\n  }\n\n  async openSettings() {\n    if (!this.settings) {\n      return\n    }\n\n    dialogService.open((await this.settings()).default, {\n      paneId: this.paneId\n    })\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaneHeader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaneHeader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PaneHeader.vue?vue&type=template&id=219eac84&\"\nimport script from \"./PaneHeader.vue?vue&type=script&lang=ts&\"\nexport * from \"./PaneHeader.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dropdown-button',{attrs:{\"options\":['none', 'price', 'volume', 'delta', 'change']},on:{\"input\":function($event){return _vm.selectSortType($event)}},model:{value:(_vm.sortType),callback:function ($$v) {_vm.sortType=$$v},expression:\"sortType\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport DropdownButton from '@/components/framework/DropdownButton.vue'\n\n@Component({\n  name: 'PricesSortDropdown',\n  components: {\n    DropdownButton\n  },\n  props: {\n    paneId: {\n      type: String,\n      required: true\n    },\n    buttonClass: {\n      type: String,\n      default: '-text -arrow'\n    }\n  }\n})\nexport default class extends Vue {\n  paneId: string\n\n  get sortType() {\n    return this.$store.state[this.paneId].sortType\n  }\n\n  get sortOrder() {\n    return this.$store.state[this.paneId].sortOrder\n  }\n\n  selectSortType(option) {\n    if (option === this.sortType) {\n      this.$store.commit(this.paneId + '/TOGGLE_SORT_ASC')\n    }\n\n    this.$store.commit(this.paneId + '/SET_SORT_TYPE', option)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PricesSortDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PricesSortDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PricesSortDropdown.vue?vue&type=template&id=9f425e0c&\"\nimport script from \"./PricesSortDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./PricesSortDropdown.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pane-prices\",on:{\"mouseenter\":function($event){_vm.pauseSort = true},\"mouseleave\":function($event){_vm.pauseSort = false}}},[_c('pane-header',{attrs:{\"paneId\":_vm.paneId,\"settings\":function () { return import('@/components/prices/PricesDialog.vue'); }}},[_c('prices-sort-dropdown',{staticClass:\"toolbar__label -arrow\",attrs:{\"pane-id\":_vm.paneId}})],1),_c('div',{staticClass:\"markets-bar__wrapper hide-scrollbar\"},[_c(_vm.animateSort ? 'transition-group' : 'div',{tag:\"component\",staticClass:\"markets-bar hide-scrollbar pane\",class:[_vm.mode === 'horizontal' && '-horizontal'],attrs:{\"name\":_vm.transitionGroupName,\"tag\":\"div\"}},_vm._l((_vm.markets),function(market){return _c('div',{key:market.id,staticClass:\"market\",class:market.status,attrs:{\"title\":market.id}},[_c('div',{staticClass:\"market__exchange\",class:market.exchange}),(_vm.showPairs)?_c('div',{staticClass:\"market__pair\"},[_vm._v(_vm._s(market.local))]):_vm._e(),(_vm.showPrice)?_c('div',{staticClass:\"market__price\"},[_vm._v(_vm._s(market.price))]):_vm._e(),(_vm.showChange)?_c('div',{staticClass:\"market__change\"},[_vm._v(\" \"+_vm._s((market.change >= 0 ? '+' : '') + market.change.toFixed(2))+\"% \")]):_vm._e(),(_vm.showVolume)?_c('div',{staticClass:\"market__volume\"},[_vm._v(\" \"+_vm._s(_vm.formatAmount(market.volume, 2))+\" \")]):_vm._e(),(_vm.showVolumeDelta)?_c('div',{staticClass:\"market__volume\"},[_vm._v(\" \"+_vm._s(_vm.formatAmount(market.volumeDelta, 2))+\" \")]):_vm._e()])}),0)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Mixins, Watch } from 'vue-property-decorator'\nimport PricesSortDropdown from '@/components/prices/PricesSortDropdown.vue'\n\nimport aggregatorService from '@/services/aggregatorService'\nimport PaneMixin from '@/mixins/paneMixin'\nimport PaneHeader from '../panes/PaneHeader.vue'\nimport { Market } from '@/types/types'\nimport {\n  formatAmount,\n  formatMarketPrice,\n  parseMarket,\n  getMarketProduct\n} from '@/services/productsService'\n\ntype MarketsBarMarketStatus = '-pending' | '-up' | '-down' | '-neutral'\ntype MarketStats = Market & {\n  local: string\n  price: string\n  change: number\n  volume: number\n  volumeDelta: number\n  status: MarketsBarMarketStatus\n}\n\n@Component({\n  components: { PaneHeader, PricesSortDropdown },\n  name: 'Prices'\n})\nexport default class extends Mixins(PaneMixin) {\n  mode = 'vertical'\n  pauseSort = false\n  markets: MarketStats[] = []\n\n  private _sortFunction: (a: MarketStats, b: MarketStats) => number\n\n  private _initialValues: {\n    [id: string]: {\n      volume: number\n      volumeDelta: number\n      change: number\n    }\n  }\n  private _resetTimeout: number\n\n  @Watch('pane.markets')\n  private marketChange(currentMarket, previousMarkets) {\n    for (const id of previousMarkets) {\n      if (currentMarket.indexOf(id) === -1) {\n        this.removeMarketFromList(id)\n      }\n    }\n\n    for (const id of currentMarket) {\n      if (previousMarkets.indexOf(id) === -1) {\n        const [exchange, pair] = parseMarket(id)\n\n        this.addMarketToList({\n          id,\n          exchange,\n          pair\n        })\n      }\n    }\n  }\n\n  @Watch('period', { immediate: true })\n  private periodChange(period) {\n    if (period > 0) {\n      this.periodReset()\n    } else {\n      this.clearPeriodReset()\n    }\n  }\n\n  get exchanges() {\n    return this.$store.state.exchanges\n  }\n\n  get disableAnimations() {\n    return this.$store.state.settings.disableAnimations\n  }\n\n  get showPairs() {\n    return this.$store.state[this.paneId].showPairs\n  }\n\n  get showChange() {\n    return this.$store.state[this.paneId].showChange\n  }\n\n  get showPrice() {\n    return this.$store.state[this.paneId].showPrice\n  }\n\n  get showVolume() {\n    return this.$store.state[this.paneId].showVolume\n  }\n\n  get showVolumeDelta() {\n    return this.$store.state[this.paneId].showVolumeDelta\n  }\n\n  get animateSort() {\n    return this.$store.state[this.paneId].animateSort\n  }\n\n  get sortType() {\n    return this.$store.state[this.paneId].sortType\n  }\n\n  get sortOrder() {\n    return this.$store.state[this.paneId].sortOrder\n  }\n\n  get period() {\n    return this.$store.state[this.paneId].period\n  }\n\n  get transitionGroupName() {\n    if (this.animateSort) {\n      return 'flip-list'\n    } else {\n      return null\n    }\n  }\n\n  created() {\n    this._initialValues = {}\n    this._onStoreMutation = this.$store.watch(\n      state => [state[this.paneId].sortType, state[this.paneId].sortOrder],\n      this.cacheSortFunction\n    )\n\n    this.cacheSortFunction()\n\n    this.refreshMarkets()\n  }\n\n  mounted() {\n    aggregatorService.on('prices', this.updateMarkets)\n  }\n\n  beforeDestroy() {\n    aggregatorService.off('prices', this.updateMarkets)\n\n    if (this._resetTimeout) {\n      clearTimeout(this._resetTimeout)\n    }\n  }\n\n  refreshMarkets() {\n    this.markets = []\n\n    for (const market of this.pane.markets) {\n      const [exchange, pair] = parseMarket(market)\n\n      this.addMarketToList({\n        id: market,\n        pair,\n        exchange\n      })\n    }\n  }\n\n  updateMarkets(marketsStats) {\n    const showChange = this.showChange\n\n    for (const market of this.markets) {\n      const marketStats = marketsStats[market.id]\n\n      if (!marketStats || marketStats.volume === market.volume) {\n        continue\n      }\n\n      market.volume = marketStats.volume - this._initialValues[market.id].volume\n      market.volumeDelta =\n        marketStats.volumeDelta - this._initialValues[market.id].volumeDelta\n\n      if (showChange && marketStats.price) {\n        const change =\n          marketStats.price -\n          marketStats.initialPrice -\n          this._initialValues[market.id].change\n\n        market.change = (change / marketStats.price) * 100\n        market.status = change > 0 ? '-up' : '-down'\n      } else {\n        if (marketStats.price === null) {\n          market.status = '-pending'\n        } else if (market.price > marketStats.price) {\n          market.status = '-down'\n        } else if (market.price < marketStats.price) {\n          market.status = '-up'\n        } else {\n          market.status = '-neutral'\n        }\n      }\n\n      market.price = formatMarketPrice(marketStats.price, market.id)\n    }\n\n    if (!this.pauseSort && this._sortFunction !== null) {\n      this.markets = this.markets.sort(this._sortFunction)\n    }\n  }\n\n  removeMarketFromList(market: string) {\n    if (this._initialValues[market]) {\n      delete this._initialValues[market]\n    }\n\n    const index = this.markets.indexOf(this.markets.find(m => m.id === market))\n\n    if (index !== -1) {\n      this.markets.splice(index, 1)\n    } else {\n      console.warn(\n        `[prices] unable to remove market from list after panes.markets change: market doesn't exists in list (${market})`\n      )\n    }\n  }\n\n  addMarketToList(market: Market) {\n    this._initialValues[market.id] = {\n      change: 0,\n      volume: 0,\n      volumeDelta: 0\n    }\n\n    const product = getMarketProduct(market.exchange, market.pair)\n\n    this.markets.push({\n      ...market,\n      local: product.local,\n      status: '-pending',\n      price: null,\n      change: 0,\n      volume: 0,\n      volumeDelta: 0\n    })\n  }\n\n  cacheSortFunction() {\n    const order =\n      this.mode === 'horizontal'\n        ? this.sortOrder > 0\n          ? -1\n          : 1\n        : this.sortOrder\n    const by = this.sortType\n\n    if (!by || by === 'none') {\n      this._sortFunction = null\n      return\n    }\n\n    if (by === 'price') {\n      if (order === 1) {\n        this._sortFunction = (a, b) => (a as any).price - (b as any).price\n      } else {\n        this._sortFunction = (a, b) => (b as any).price - (a as any).price\n      }\n    } else if (by === 'change') {\n      if (order === 1) {\n        this._sortFunction = (a, b) => a.change - b.change\n      } else {\n        this._sortFunction = (a, b) => b.change - a.change\n      }\n    } else if (by === 'volume') {\n      if (order === 1) {\n        this._sortFunction = (a, b) => a.volume - b.volume\n      } else {\n        this._sortFunction = (a, b) => b.volume - a.volume\n      }\n    } else if (by === 'delta') {\n      if (order === 1) {\n        this._sortFunction = (a, b) => a.volumeDelta - b.volumeDelta\n      } else {\n        this._sortFunction = (a, b) => b.volumeDelta - a.volumeDelta\n      }\n    }\n\n    this.markets = this.markets.sort(this._sortFunction)\n  }\n\n  formatAmount(amount) {\n    return formatAmount(amount, 2)\n  }\n\n  onResize(width: number, height: number) {\n    this.mode = width > height * 1.75 ? 'horizontal' : 'vertical'\n  }\n\n  getTimeToNextReset() {\n    const now = Date.now()\n    const periodMs = this.period * 1000 * 60\n    const timeOfReset = Math.ceil(now / periodMs) * periodMs\n\n    return timeOfReset - now\n  }\n\n  scheduleNextPeriodReset() {\n    if (this._resetTimeout) {\n      clearTimeout(this._resetTimeout)\n    }\n\n    this._resetTimeout = setTimeout(\n      this.periodReset.bind(this),\n      this.getTimeToNextReset()\n    )\n  }\n\n  periodReset() {\n    aggregatorService.once('prices', marketsStats => {\n      for (const market of this.markets) {\n        if (!marketsStats[market.id]) {\n          continue\n        }\n\n        this._initialValues[market.id].change =\n          marketsStats[market.id].price - marketsStats[market.id].initialPrice\n        this._initialValues[market.id].volume = marketsStats[market.id].volume\n        this._initialValues[market.id].volumeDelta =\n          marketsStats[market.id].volumeDelta\n      }\n\n      this.updateMarkets(marketsStats)\n\n      if (this.period) {\n        this.scheduleNextPeriodReset()\n      }\n    })\n  }\n\n  clearPeriodReset() {\n    for (const market in this._initialValues) {\n      this._initialValues[market].change = this._initialValues[\n        market\n      ].volume = this._initialValues[market].volumeDelta = 0\n    }\n\n    if (this._resetTimeout) {\n      clearTimeout(this._resetTimeout)\n      this._resetTimeout = null\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prices.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prices.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Prices.vue?vue&type=template&id=52e6658f&scoped=true&\"\nimport script from \"./Prices.vue?vue&type=script&lang=ts&\"\nexport * from \"./Prices.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Prices.vue?vue&type=style&index=0&id=52e6658f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52e6658f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}