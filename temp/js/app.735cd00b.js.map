{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/SearchDialog.vue","webpack:///./src/components/framework/Carousel.vue","webpack:///./src/components/framework/Carousel.vue?2288","webpack:///./src/components/framework/Carousel.vue?a8b7","webpack:///./src/components/framework/Carousel.vue?9f1b","webpack:///src/components/SearchDialog.vue","webpack:///./src/components/SearchDialog.vue?b3ab","webpack:///./src/components/SearchDialog.vue?5c03","webpack:///./src/components/TimeframeDialog.vue","webpack:///src/components/TimeframeDialog.vue","webpack:///./src/components/TimeframeDialog.vue?8d2d","webpack:///./src/components/TimeframeDialog.vue?122a","webpack:///./src/store/app.ts","webpack:///./src/store/settings.ts","webpack:///./src/store/exchanges.ts","webpack:///./src/store/panes.ts","webpack:///./src/store/index.ts","webpack:///./src/services/productsService.ts","webpack:///./src/components/framework/ConfirmDialog.vue","webpack:///src/components/framework/ConfirmDialog.vue","webpack:///./src/components/framework/ConfirmDialog.vue?9120","webpack:///./src/components/framework/ConfirmDialog.vue?33b2","webpack:///./src/components/framework/PromptDialog.vue","webpack:///src/components/framework/PromptDialog.vue","webpack:///./src/components/framework/PromptDialog.vue?b7eb","webpack:///./src/components/framework/PromptDialog.vue?c4a4","webpack:///./src/services/dialogService.ts","webpack:///./src/mixins/dialogMixin.ts","webpack:///./src/components/framework/picker/Slider.vue?c1ac","webpack:///./src/components/stats/StatDialog.vue","webpack:///src/components/stats/StatDialog.vue","webpack:///./src/components/stats/StatDialog.vue?3856","webpack:///./src/components/stats/StatDialog.vue?4a66","webpack:///./src/utils/helpers.ts","webpack:///./src/components/framework/DropdownButton.vue","webpack:///./src/components/framework/DropdownButton.vue?5376","webpack:///./src/components/framework/DropdownButton.vue?7299","webpack:///./src/components/framework/DropdownButton.vue?3973","webpack:///./src/services/audioService.ts","webpack:///./src/assets/down.png","webpack:///./src/components/framework/picker/ColorPickerControl.vue?5fcd","webpack:///./src/components/framework/Dialog.vue","webpack:///./src/components/framework/Dialog.vue?c1d9","webpack:///./src/components/framework/Dialog.vue?1bfb","webpack:///./src/components/framework/Dialog.vue?aef2","webpack:///./src/components/framework/picker/Slider.vue","webpack:///src/components/framework/picker/Slider.vue","webpack:///./src/components/framework/picker/Slider.vue?107c","webpack:///./src/components/framework/picker/Slider.vue?e979","webpack:///./src/components/framework/picker/ColorPickerControl.vue","webpack:///src/components/framework/picker/ColorPickerControl.vue","webpack:///./src/components/framework/picker/ColorPickerControl.vue?d49a","webpack:///./src/components/framework/picker/ColorPickerControl.vue?5491","webpack:///./src/assets/up.png","webpack:///./src/utils/touchevent.ts","webpack:///./src/components/TimeframeDialog.vue?64a3","webpack:///./src/components/Menu.vue?3c5e","webpack:///./src/components/SearchDialog.vue?4b48","webpack:///./src/utils/constants.ts","webpack:///./src/components/chart/TimeframeInput.vue","webpack:///./src/components/chart/TimeframeInput.vue?8cf7","webpack:///./src/components/chart/TimeframeInput.vue?dcaf","webpack:///./src/components/chart/TimeframeInput.vue?250b","webpack:///./src/worker/aggregator.ts","webpack:///./src/services/aggregatorService.ts","webpack:///./src/components/settings/Exchange.vue?90c3","webpack:///./src/store/panesSettings/chart.ts","webpack:///./src/store/panesSettings/stats.ts","webpack:///./src/store/panesSettings/trades.ts","webpack:///./src/store/panesSettings/prices.ts","webpack:///./src/store/panesSettings/counters.ts","webpack:///./src/store/panesSettings/website.ts","webpack:///./src/store/panesSettings/index.ts","webpack:///./src/services/migrations.ts","webpack:///./src/services/workspacesService.ts","webpack:///./src/components/framework/Dropdown.vue?30e3","webpack:///./src/App.vue","webpack:///./src/components/framework/Notices.vue","webpack:///./src/components/framework/Notices.vue?4cfb","webpack:///./src/components/framework/Notices.vue?6105","webpack:///./src/components/framework/Notices.vue?94b6","webpack:///./src/components/Menu.vue","webpack:///./src/components/settings/SettingsDialog.vue","webpack:///./src/components/settings/Exchange.vue","webpack:///./src/components/settings/Exchange.vue?5ba0","webpack:///./src/components/settings/Exchange.vue?9b8b","webpack:///./src/components/settings/Exchange.vue?f2c2","webpack:///./src/components/settings/DonoDropdown.vue","webpack:///./src/components/settings/DonoDropdown.vue?e7df","webpack:///./src/components/settings/DonoDropdown.vue?3cbb","webpack:///./src/components/settings/DonoDropdown.vue?d1aa","webpack:///./src/components/settings/AudioSettings.vue","webpack:///./src/components/settings/AudioSettings.vue?b12e","webpack:///./src/components/settings/AudioSettings.vue?9ac3","webpack:///./src/components/settings/AudioSettings.vue?e2f3","webpack:///./src/components/settings/OtherSettings.vue","webpack:///./src/components/settings/OtherSettings.vue?7d88","webpack:///./src/components/settings/OtherSettings.vue?07f6","webpack:///./src/components/settings/OtherSettings.vue?1a8a","webpack:///src/components/settings/SettingsDialog.vue","webpack:///./src/components/settings/SettingsDialog.vue?388f","webpack:///./src/components/settings/SettingsDialog.vue?3bb7","webpack:///./src/components/Menu.vue?7b5f","webpack:///./src/components/Menu.vue?899b","webpack:///./src/components/Menu.vue?7573","webpack:///./src/components/panes/Panes.vue","webpack:///./src/components/panes/Panes.vue?fd56","webpack:///./src/components/panes/Panes.vue?79d4","webpack:///./src/components/panes/Panes.vue?a824","webpack:///./src/App.vue?9844","webpack:///./src/App.vue?198c","webpack:///./src/App.vue?315a","webpack:///./src/components/framework/Editable.vue","webpack:///./src/components/framework/Editable.vue?e5d7","webpack:///./src/components/framework/Editable.vue?5220","webpack:///./src/components/framework/Editable.vue?94cb","webpack:///./src/components/framework/Dropdown.vue","webpack:///./src/components/framework/Dropdown.vue?4a0e","webpack:///./src/components/framework/Dropdown.vue?15b8","webpack:///./src/components/framework/Dropdown.vue?ef00","webpack:///./src/components/framework/Presets.vue","webpack:///./src/components/settings/PresetDialog.vue","webpack:///src/components/settings/PresetDialog.vue","webpack:///./src/components/settings/PresetDialog.vue?d9bc","webpack:///./src/components/settings/PresetDialog.vue?ad02","webpack:///./src/components/framework/Presets.vue?5125","webpack:///./src/components/framework/Presets.vue?3229","webpack:///./src/components/framework/Presets.vue?059a","webpack:///./src/directives/autofocusDirective.ts","webpack:///./src/main.ts","webpack:///./src/components/settings/AudioSettings.vue?a882","webpack:///./src/utils/store.ts","webpack:///./src/components/settings/ImportConfirmation.vue","webpack:///./src/components/settings/ImportConfirmation.vue?cdd1","webpack:///./src/components/settings/ImportConfirmation.vue?2b14","webpack:///./src/components/settings/ImportConfirmation.vue?ad16","webpack:///./src/services/importService.ts","webpack:///./src/components/framework/Carousel.vue?25b1","webpack:///./src/services/alertService.ts","webpack:///./src/components/settings/SettingsDialog.vue?1c75","webpack:///./src/utils/colors.ts","webpack:///./src/components/framework/TransitionHeight.vue","webpack:///./src/components/framework/TransitionHeight.vue?282e","webpack:///./src/components/framework/TransitionHeight.vue?5711","webpack:///./src/components/framework/TransitionHeight.vue?d8ba"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","staticClass","class","loading","on","hide","scopedSlots","_u","fn","paneId","_v","staticStyle","domProps","_s","paneName","directives","rawName","attrs","detargetPane","proxy","mobileShowFilters","sections","indexOf","searchTypes","normalize","$event","$store","commit","mergeUsdt","historical","recent","_e","allExchangesEnabled","toggleAll","_l","exchanges","id","state","disabled","searchExchanges","canRefreshProducts","boundary","placement","expression","stopPropagation","refreshExchangeProducts","spots","perpetuals","futures","quoteCurrencies","quote","searchQuotes","checked","ref","groupsCount","$refs","input","focus","selection","clearSelection","groupedSelection","markets","localPair","join","preventDefault","deselectWhileRetainingScroll","market","activeMarkets","query","page","previousSearchSelections","savedSelection","label","selectMarkets","shiftKey","count","results","showLess","group","index","active","activeIndex","selectMarket","exchange","pair","historicalMarkets","addAll","resultsPerPage","showMore","hasFilters","clearFilters","submit","submitLabel","staticRenderFns","canRight","canLeft","onScroll","$slots","default","components","Vnodes","functional","h","ctx","props","vnodes","mounted","$nextTick","methods","scrollWidth","scrollLeft","clientWidth","scroller","goLeft","element","scroll","left","Math","max","behavior","goRight","nextScrollLeft","maxScrollLeft","ceil","min","component","RESULTS_PER_PAGE","mixins","Dialog","Carousel","required","originalSelection","flattenedProducts","computed","otherPanes","filter","a","map","paneMarkets","toConnect","toDisconnect","acc","searchQuotesPreferences","allQuotes","output","isMergeStables","hasHistorical","hasSpot","hasPerpetuals","hasFutures","queryFilter","replace","filteredProducts","hasTypeFilters","product","reduce","local","groups","offset","watch","beforeDestroy","initSelection","containMultipleMarketsConfigurations","selectPaneMarkets","title","deselectMarket","deselectMarkets","toggleType","toggleExchange","copySelection","copyTextToClipboard","onPaste","onKeydown","deleteLast","selectAll","exchangeId","cacheProducts","arguments","placeholder","onTimeframe","valid","timeframeForHuman","TimeframeInput","timeframe","newTimeframe","created","isBooted","isLoading","isExchangesReady","showSearch","activeExchanges","notices","apiSupportedTimeframes","version","buildDate","baseCurrency","baseCurrencySymbol","quoteCurrency","quoteCurrencySymbol","focusedPaneId","actions","dispatch","process","setBooted","getters","notice","getNoticeById","update","randomString","_timeout","hideNotice","_reject","updateNotice","currentNotice","dialogService","open","SearchDialog","showTimeframe","rootState","TimeframeDialog","hideSearch","getApiSupportedMarkets","mutations","SET_BOOTED","SET_EXCHANGES_READY","EXCHANGE_UPDATED","Vue","set","TOGGLE_LOADING","CREATE_NOTICE","UPDATE_NOTICE","REMOVE_NOTICE","TOGGLE_SEARCH","SET_HISTORICAL_MARKETS","SET_API_SUPPORTED_TIMEFRAMES","trim","split","SET_VERSION","SET_BUILD_DATE","SET_CURRENCIES","currencies","base","baseSymbol","quoteSymbol","SET_FOCUSED_PANE","namespaced","assign","_id","DEFAULTS_STATE","aggregatorService","op","calculateSlippage","aggregationLength","preferQuoteCurrencySize","nextTick","useAudio","audioService","connect","disconnect","toLowerCase","mutation","toUpperCase","refreshTheme","backgroundRgb","splitColorCode","backgroundColor","backgroundLuminance","getColorLuminance","theme","textColor","updateCSS","backgroundDirection","background100Rgb","getLinearShare","background100","joinRgba","documentElement","style","setProperty","textColorRgb","getTextColor","buyRgb","buyColor","getLogShade","sellRgb","sellColor","setAudioVolume","volume","setVolume","saveSearchSelection","sortedSelection","sort","b","localeCompare","pairs","parseMarket","getMarketProduct","SET_QUOTE_AS_PREFERED_CURRENCY","TOGGLE_SLIPPAGE","values","TOGGLE_AGGREGATION","TOGGLE_ANIMATIONS","disableAnimations","TOGGLE_NORMAMIZE_WATERMARKS","normalizeWatermarks","TOGGLE_SETTINGS_PANEL","settings","TOGGLE_SEARCH_PANEL","searchSections","TOGGLE_AUDIO","SET_AUDIO_VOLUME","audioVolume","SET_AUDIO_FILTER","audioFilters","reconnect","SET_BACKGROUND_COLOR","SET_CHART_THEME","SET_TEXT_COLOR","SET_BUY_COLOR","SET_SELL_COLOR","SET_TIMEZONE_OFFSET","timezoneOffset","TOGGLE_AUTO_HIDE_HEADERS","autoHideHeaders","TOGGLE_SEARCH_TYPE","TOGGLE_SEARCH_QUOTE","TOGGLE_SEARCH_EXCHANGE","CLEAR_SEARCH_FILTERS","TOGGLE_FAVORITE_TIMEFRAME","favoriteTimeframes","getTimeframeForHuman","delete","TOGGLE_ALERTS","alerts","isTouchSupported","alertsClick","SET_ALERTS_COLOR","alertsColor","SET_ALERTS_LINESTYLE","alertsLineStyle","SET_ALERTS_LINEWIDTH","alertsLineWidth","TOGGLE_ALERTS_CLICK","SET_ALERT_SOUND","alertSound","SAVE_SEARCH_SELECTION","matchingSavedSearch","find","unshift","CLEAR_SEARCH_HISTORY","REMOVE_SEARCH_HISTORY","match","REMOVE_TIMEFRAME","timeframes","ADD_TIMEFRAME","TOGGLE_TIMEFRAME_GROUP","timeframeGroups","supportedExchanges","exchangesState","test","_exchanges","getExchanges","keys","prepareExchanges","app","exchangeRegex","RegExp","panes","marketsListeners","TOGGLE_EXCHANGE","layoutDesktop","x","y","w","layoutMobile","JSON","parse","stringify","defaultPanes","layout","listeners","options","panesSettings","uniqueName","slugify","pane","zoom","registerModule","originalGridItem","scrollTo","body","scrollHeight","item","workspacesService","removeState","unregisterModule","localStorage","removeItem","appendPaneGridItem","removePaneGridItems","originalListeners","listenersByMarkets","marketKey","buckets","bucketId","getBucketId","allUniqueMarkets","concat","v","previousListeners","currentListeners","setMarketsForAll","setMarketsForPane","duplicatePane","currentPaneState","layoutItem","originalPaneType","saveState","setZoom","refreshZoom","el","getElementById","parent","parentElement","fontSize","classList","remove","add","setupLayout","initialZoom","innerWidth","liquidations","ADD_PANE","REMOVE_PANE","ADD_GRID_ITEM","cols","GRID_COLS","size","width","height","items","columns","REMOVE_GRID_ITEM","UPDATE_LAYOUT","TOGGLE_LAYOUT","locked","SET_MARKETS_LISTENERS","SET_PANE_MARKETS","SET_PANE_NAME","SET_PANE_ZOOM","use","Vuex","store","Store","async","boot","workspace","pairsFromURL","bootPane","marketsOverride","resolvePairs","subscribe","scheduleSync","baseQuoteLookupKnown","baseQuoteLookupOthers","baseQuoteLookupPoloniex","promisesOfProducts","indexedProducts","marketDecimals","requestExchangeProductsData","forceFetch","dispatchAsync","getExchangeStoredProductsData","storage","getProducts","Date","now","timestamp","PRODUCTS_EXPIRES_AFTER","saveExchangeProductsData","productsData","saveProducts","fetchExchangeProducts","endpoints","Array","isArray","instruction","url","method","json","fetch","response","getStoredProductsOrFetch","stripStable","getExchangeSymbols","symbols","products","symbol","noStable","localSymbol","localSymbolAlpha","cache","getItem","getApiUrl","arr","catch","setItem","indexProducts","ensureIndexedProducts","searchPreference","historicalOnly","spot","perp","future","allTypes","filtered","formatAmount","amount","decimals","negative","abs","toFixed","isNaN","countDecimals","parts","toString","formatMarketPrice","price","formatPrice","precision","parseInt","close","html","action","onClickAction","cancel","ok","question","composing","DialogService","constructor","mountedComponents","isInteracting","hasDialogOpened","createComponent","dialogId","Factory","extend","cmp","propsData","destroyed","pickerInstance","mountDialog","onClose","container","$mount","$el","isDialogOpened","initialColor","cb","allowNull","$off","setColorFromProp","$on","indicatorId","openAsPromise","ConfirmDialog","PromptDialog","_isDestroyed","preventClose","$destroy","availableTypes","prop","model","callback","$$v","conditionnalColor","color","getHms","enabled","disable","DropdownButton","ColorPickerControl","line","area","histogram","DAY","ago","seconds","floor","interval","round","isNegPrefix","getHmsFull","characters","charactersLength","charAt","random","string","downloadAnything","filename","downloadAnchorNode","Blob","URL","createObjectURL","encodeURIComponent","click","names","slug","suffix","sleep","duration","mA","mB","openBase64InNewTab","mimeType","byteCharacters","atob","byteNumbers","charCodeAt","byteArray","Uint8Array","file","fileURL","findClosingBracketMatchIndex","str","pos","depth","parseFunctionArguments","trimArguments","maxIterations","PARANTHESIS_REGEX","paranthesisMatch","iteration","exec","closingParenthesisIndex","contentWithinParenthesis","arg","camelize","g","formatBytes","bytes","k","dm","sizes","log","parseFloat","pow","fallbackCopyTextToClipboard","text","textArea","top","position","select","execCommand","browseFile","onchange","files","navigator","clipboard","writeText","full","normalized","getSiblings","elem","children","sibling","isOddTimeframe","floorTimestampToTimeframe","isOdd","dayOpen","parseVersion","padStart","handleFetchError","hasSomethingToSay","location","hostname","path","getEventCords","touch","touches","clientX","clientY","debounce","func","immediate","args","later","callNow","cancelAnimationFrame","requestAnimationFrame","getClosestValue","array","prev","curr","_setupProxy","buttonClass","toggleDropdown","_t","nativeOn","selectFromElementRecursive","dropdownTrigger","option","currentTarget","contains","selectOption","optionElement","$emit","default_1","Component","audioParametersDescriptions","frequency","gain","fadeOut","delay","fadeIn","holdDuration","osc","startGain","endGain","startTime","audioParametersDefinitions","play","playurl","audioDefaultParameters","AudioService","filtersOptions","HighPassFilter","Q","filterType","bypass","LowPassFilter","Compressor","threshold","makeupGain","attack","release","ratio","knee","automakeup","Delay","feedback","delayTime","PingPongDelay","wetLevel","delayTimeLeft","delayTimeRight","Chorus","rate","minTime","context","bindContext","bindOutput","AudioContext","webkitAudioContext","checkInProgress","application","resumeOnFocus","resume","removeEventListener","addEventListener","tuna","Tuna","effects","gainNode","Gain","source","effect","destination","fetchArrayBuffer","res","arrayBuffer","blob","getSound","reader","FileReader","onloadend","readAsArrayBuffer","savedAudioBuffers","retrieveArrayBuffer","decodeAudioData","time","getNextTime","createGain","createBufferSource","buffer","fade","currentTime","createOscillator","onended","setValueAtTime","exponentialRampToValueAtTime","start","stop","cueTime","litteral","side","frequencyMultiplier","gainMultiplier","FUNCTION_LOOKUP_REGEX","functionMatch","originalParameters","functionArguments","defaultArguments","argumentValue","stringProvided","defaultExpectedString","loadSoundBuffer","finalParameters","replaceAll","Function","mask","clickOutside","contentClass","transform","delta","onMouseDown","header","headerColor","background","headerBackground","handleDrag","bodyClass","animating","lum","startPosition","innerHeight","_handleRelease","button","lastMove","startOffset","dialogContent","offsetTop","minY","_handleDragging","evnt","endPosition","animate","_deinteractionTimeout","handler","distance","Boolean","showCompletion","handles","positionX","handle","positionY","gradient","colorCode","step","handlesValue","fill","translate","scale","multiple","currentValue","init","initElements","initGradient","handleResize","initEvents","dragging","getStepValue","updateSize","getPositionPercentage","normalizeValue","addHandle","removeHandle","getHandleColor","reloadHandlesColor","updateValue","positionPercentage","openPicker","_m","dialogInstance","colorDidChanged","prefixes","mq","matchMedia","matches","getEventOffset","offsetX","offsetY","rect","getBoundingClientRect","pageX","pageY","APPLICATION_START_TIME","MAX_BARS_PER_CHUNKS","onInput","which","format","innerText","trimmed","hero","String","autofocus","Worker_fn","Worker","AggregatorService","EventEmitter","super","worker","emit","trackingId","listenUtilityEvents","once","initialize","_normalizeDecimalsTimeout","normalizeDecimals","payload","postMessage","listener","decimalsByLocalMarkets","averageDecimals","indicatorsErrors","indicators","priceScales","right","scaleMargins","bottom","layouting","refreshRate","showLegend","fillGapsWithEmpty","forceNormalizePrice","showHorizontalGridlines","horizontalGridlinesColor","showVerticalGridlines","verticalGridlinesColor","showWatermark","watermarkColor","hiddenMarkets","barSpacing","getIndicators","indicator","series","addIndicator","ids","priceScaleId","duplicateIndicator","merge","updatedAt","createdAt","priceScale","exportableIndicator","description","toggleSerieVisibility","visible","setIndicatorOption","silent","unsavedChanges","confirm","saveIndicator","newId","indicatorCopy","transferIndicator","otherPaneIndicator","navigationState","syncState","savedIndicator","getIndicator","toggleMarkets","inverse","containsHidden","isHidden","indexedMarket","SET_REFRESH_RATE","TOGGLE_LEGEND","SET_GRIDLINES","SET_WATERMARK","SET_INDICATOR_SERIES","SET_INDICATOR_ERROR","SET_TIMEFRAME","ADD_INDICATOR","UPDATE_DESCRIPTION","REMOVE_INDICATOR","SET_INDICATOR_OPTION","REMOVE_INDICATOR_OPTION","SET_INDICATOR_SCRIPT","FLAG_INDICATOR_AS_UNSAVED","FLAG_INDICATOR_AS_SAVED","TOGGLE_LAYOUTING","TOGGLE_FILL_GAPS_WITH_EMPTY","TOGGLE_FORCE_NORMALIZE_PRICE","UPDATE_INDICATOR_DISPLAY_NAME","displayName","TOGGLE_MARKET","marketId","SET_PRICE_SCALE","SET_BAR_SPACING","granularity","enableChart","trades","vold","tradesd","createBucket","otherIds","otherNames","StatDialog","updateBucket","renameBucket","TOGGLE_BUCKET","stat","SET_BUCKET_INPUT","RENAME_BUCKET","SET_BUCKET_COLOR","SET_BUCKET_TYPE","TOGGLE_BUCKET_COLOR_CONDITION","SET_BUCKET_PRECISION","SET_BUCKET_WINDOW","milliseconds","CREATE_BUCKET","REMOVE_BUCKET","SET_WINDOW","TOGGLE_CHART","getThreshold","thresholds","buyAudio","sellAudio","buyGif","sellGif","audioThreshold","multipliers","showThresholdsAsTable","maxRows","muted","audioPitch","showTradesPairs","tradeType","showLogos","monochromeLogos","showTimeAgo","showPrice","thresholdsMultipler","firstTime","updateThreshold","updateLiquidations","generateSwatch","baseVariance","baseMultipler","buyScaled","sellScaled","TOGGLE_TRADES_PAIRS","SET_MAX_ROWS","TOGGLE_LOGOS","TOGGLE_MUTED","SET_AUDIO_PITCH","TOGGLE_MONOCHROME_LOGOS","TOGGLE_TRADE_TYPE","TOGGLE_TIME_AGO","TOGGLE_PRICE","TOGGLE_THRESHOLDS_TABLE","SET_THRESHOLD_AMOUNT","TOGGLE_THRESHOLD_MAX","SET_THRESHOLD_MULTIPLIER","identifier","multiplier","SET_THRESHOLD_GIF","gif","isDeleted","SET_THRESHOLD_COLOR","SET_THRESHOLD_AUDIO","ADD_THRESHOLD","previousThreshold","DELETE_THRESHOLD","tradesIndex","liquidationsIndex","SET_AUDIO_THRESHOLD","SET_THRESHOLDS_MULTIPLER","change","animateSort","showPairs","showVolume","showVolumeDelta","period","showChange","sortType","sortOrder","TOGGLE_SORT_ANIMATION","TOGGLE_PAIRS","TOGGLE_VOLUME","TOGGLE_VOLUME_DELTA","SET_PERIOD","TOGGLE_CHANGE","TOGGLE_SORT_ORDER","SET_SORT_TYPE","liquidationsOnly","steps","REPLACE_COUNTERS","counters","TOGGLE_COUNT","TOGGLE_LIQUIDATIONS_ONLY","reloadTimer","interactive","setUrl","setTitle","previousHostname","currentHostname","SET_URL","TOGGLE_INTERACTIVE","UNLOCK_URL","SET_RELOAD_TIMER","chart","stats","prices","website","databaseUpgrades","0","db","workspacesStore","createObjectStore","keyPath","createIndex","seriesStore","1","deleteObjectStore","indicatorsStore","2","3","autoIncrement","5","7","tx","objectStore","getAllKeys","record","alert","put","workspaceUpgrades","states","layouts","lg","normalTradesSettings","liquidationsTradesSettings","upgradeThreshold","defaultThreshold","audioFilter","audioCompressor","audioDelay","audioPingPong","breakpointsWidth","xl","md","sm","xs","breakpointsCols","breakpoints","breakpoint","currentBreakpoint","currentLayout","coeficient","rightIndicatorId","4","liquidationThreshold","liquidation","WorkspacesService","urlStrategy","defaultInserted","latestDatabaseVersion","latestWorkspaceVersion","previousAppVersion","latestAppVersion","createDatabase","insertDefault","alertService","syncTriggeredAlerts","getCurrentWorkspace","setCurrentWorkspace","promiseOfUpgrade","openDB","upgrade","oldVersion","newVersion","oncomplete","blocked","blocking","terminated","upgradeWorkspace","insertDefaultIndicators","insertDefaultPresets","transaction","existing","defaultIndicators","added","done","preset","defaultPresets","lastWorkspaceId","urlWorkspaceId","urlPairs","hash","substring","decodeURIComponent","pathname","getWorkspace","createWorkspace","previousWorkspaceId","reload","history","replaceState","addWorkspace","getWorkspaces","stateId","cleanState","saveWorkspace","makeUniqueWorkspace","workspaces","workspaceCopy","getAllFromIndex","removeWorkspace","deleteProducts","saveGifs","getGifs","getGifsKeywords","deleteGifs","uses","getIndicatorsIds","deleteIndicator","confirmOverride","inputType","targetType","pop","getPreset","getPresetsKeysByType","IDBKeyRange","bound","removePreset","saveSound","sound","removeSound","saveColor","getAll","removeColor","marketAlerts","saveAlerts","deleteDB","Dexie","exportDB","tableName","preferedSizingCurrency","showStuck","resetAndReload","transitionGroupName","icon","onButtonClick","TransitionHeight","menuDropdown","toggle","panesDropdown","addPane","_g","volumeSliderTriggerEvents","mouseleave","volumeSliderOpened","volumeSliderEvents","toggleAudio","toggleFullscreen","isFullscreen","showSettings","hits","currentWorkspace","toggleWorkspaceDropdown","workspaceDropdownTrigger","openWorkspace","workspaceDropdownId","renameWorkspace","duplicateWorkspace","exportWorkspace","createWorkspaceDropdown","uploadWorkspace","createBlankWorkspace","regenerateSwatch","databaseDropdown","reset","exportDatabase","expanded","updateMarketsPrices","off","Slider","donationMenu","onSelect","filters","filtersDescriptions","animationsEnabled","getTimezoneOffset","responsiveEnabled","Exchange","AudioSettings","OtherSettings","DonoDropdown","getHits","nextWorkspace","words","content","toElement","volumeSliderTrigger","volumeSlider","mouseenter","SettingsDialog","HTMLElement","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","cancelFullScreen","webkitCancelFullScreen","mozCancelFullScreen","toggleMenu","webkitIsFullScreen","mozFullScreen","rowHeight","unlocked","layoutReady","onLayoutUpdated","gridItem","onContainerResized","onItemResized","refInFor","draggable","resizable","updateRowHeight","resizeMaximizedPane","maximizedItem","_maximizedPaneId","getElementsByClassName","maximizedPaneId","clientHeight","resizePane","onResize","hPx","wPx","updateItem","gridItems","isTrusted","_resizeTimeout","GridLayout","VueGridLayout","GridItem","Chart","Trades","Stats","Counters","Prices","Website","TradesLite","_stuckTimeout","bindDropFile","updatePrice","onDocumentKeyPress","onBlur","unbindDropFile","stopUpdatingPrice","marketsPrices","_mainMarkets","updateFavicon","_mainPair","direction","_faviconElement","upFavicon","downFavicon","activeElement","keyCode","metaKey","ctrlKey","altKey","tagName","isContentEditable","downloadWorkspace","handleDrop","dataTransfer","importService","importAnything","refreshMainMarkets","marketsByNormalizedPair","Menu","Notices","Panes","newMarkets","previousMarkets","editable","onKeyDown","changed","onFocus","onWheel","onValueChange","getCaretPosition","sel","range","caretPos","getSelection","rangeCount","getRangeAt","commonAncestorContainer","endOffset","innerHTML","removeAllRanges","empty","blur","increment","partIndex","_incrementSelectionTimeout","part","Infinity","createRange","moveStart","collapse","lastChild","_emitTimeout","focusedElement","sign","deltaY","__decorate","Watch","onEnterStart","triggerElement","noScroll","transparent","margin","Number","onSides","nextTriggerElement","fitScreen","bindResize","bindClickOutside","unbindResize","unbindClickOutside","querySelector","dropdownElement","offsetHeight","viewportWidth","viewportHeight","triggerElementRect","dropdownElementRect","dropdownElementWidth","optimalLeft","triggerIsBeyondViewportMiddle","maxHeight","dropdownElementHeight","triggerIsLowerThanViewportMiddle","_resizeHandler","clickOutsideHandler","bindPaste","unbindPaste","savePreset","handleFile","applyDefault","presets","selectPreset","openPreset","deletePreset","meta","renamePreset","showDetails","dataProperties","presetDropdown","downloadPreset","replacePreset","copyPreset","menu","cat","retrieveDataProperties","getPresets","applyPreset","postClose","PresetDialog","isOverride","prompt","adapter","original","importPreset","_pasteHandler","clipboardData","getData","setSelectionRange","runtime","register","VueTippy","maxWidth","arrow","animation","animateFill","TippyComponent","Dropdown","Editable","Presets","directive","App","persistModulesTimers","mergeStoredState","storedState","getState","_actions","waitForStateMutation","unsubscribe","$set","DialogMixin","ImportService","getJSON","readAsText","uploadedSound","presetType","SettingsImportConfirmation","addAndSetWorkspace","chartPaneId","openIndicator","formatName","importDatabase","importIndicator","importWorkspace","importSound","importDB","currentWorkspaceId","AlertService","publicVapidKey","urlBase64ToUint8Array","base64String","padding","repeat","base64","rawData","outputArray","_promiseOfSync","getAlerts","serviceWorker","ready","markAlertsAsTriggered","registration","getNotifications","notification","triggered","pushSubscription","getRegistration","pushManager","userVisibleOnly","applicationServerKey","toggleAlert","modify","newPrice","moveAlert","getPrice","marketsStats","marketPrice","percentChangeToAlert","subscription","getPushSubscription","validateAlert","origin","headers","PALETTE","getColorByWeight","weight","w1","w2","rgb","rgbaToRgb","alpha","hexToRgb","hex","shorthandRegex","colorsByName","getColorByName","canvas","getContext","clearRect","fillStyle","fillRect","getImageData","getAppBackgroundColor","getComputedStyle","percent","luminance","adjustedPercent","P","rgbToHsl","hslToRgb","hue2rgb","q","strength","hsl","luminanceFactor","strengthLog","saturation","lightness","luminanceIndexedTo1","luminanceWithMinimum","luminanceLog","single","beforeEnter","enter","afterEnter","beforeLeave","leave","Element","dataset","getChildrenHeight","styles","getPropertyValue"],"mappings":"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,KAAKE,UAAU,IAChB8oC,EACHG,SACAx8C,SACA6c,QACAs8B,gBAEFsD,QAAS,CACP,eAAgB,sBAGjB7jD,KAAK6hB,GAAYA,EAASF,QAC1B3hB,KAAK2hB,IACJ,GAAIA,EAAKlhB,MACP,MAAM,IAAIf,MAAMiiB,EAAKlhB,OAGvB,OAAO,IAERkiB,MAAMljB,IACL0tB,eAAiB1tB,IAEV,IAIE,gBACb2H,EACA6c,EACAk/B,GAEA,MAAMM,QAAqBzgD,KAAK0gD,sBAEhC,IAAKD,EACH,OAGF,UAAYzgD,KAAK2gD,cAAcv8C,EAAQ+7C,GACrC,OAGF,MAAMS,EAASv2B,SAAS/uB,KAExB,OAAOsjB,MAAM5e,KAAKye,IAAK,CACrBC,OAAQ,OACRlG,KAAMf,KAAKE,UAAU,IAChB8oC,EACHG,SACAx8C,SACA6c,QACAk/B,aAEFU,QAAS,CACP,eAAgB,sBAGjB7jD,KAAK6hB,GAAYA,EAASF,QAC1B3hB,KAAK2hB,IACJ,GAAIA,EAAKlhB,MACP,MAAM,IAAIf,MAAMiiB,EAAKlhB,OAGvB,OAAO,IAERkiB,MAAMljB,IACL0tB,eAAiB1tB,IAEV,KAKA,WAAIiiD,G,kCChRnB,W,kCCAA,sXAAO,MAAMoC,EAAU,CACrB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAaI,SAAUC,EAAiBr4C,EAAG4J,EAAG0uC,GACrC,GAAIA,EAAS,EACX,OAAO1uC,EAGT,MAAM1X,EAAIomD,EACJzpC,EAAQ,EAAJ3c,EAAQ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","file":"js/app.735cd00b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-00f8fb9c\":\"e72c81a7\",\"chunk-3bbacbcd\":\"5deea3d4\",\"chunk-662f5aef\":\"c34ac558\",\"chunk-d2fbbe60\":\"c554081e\",\"chunk-1e0e1a87\":\"d0da451f\",\"chunk-03130df0\":\"4e228326\",\"chunk-1d61eeb5\":\"a17341d5\",\"chunk-1e3ac1a1\":\"4d720fe4\",\"chunk-2d0cc844\":\"3183866d\",\"chunk-3a77d76f\":\"f83cb0e8\",\"chunk-3c639b53\":\"9ddd8c71\",\"chunk-5c268662\":\"1384ff03\",\"chunk-73666f02\":\"3b6892f1\",\"chunk-10024d20\":\"68b4f063\",\"chunk-ebc5e646\":\"e1e7a10e\",\"chunk-48f0107b\":\"dc0cf54d\",\"chunk-2f4fd947\":\"cfe5b6d9\",\"chunk-6edad2a6\":\"0ab054a3\",\"chunk-653050d6\":\"52231507\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-3bbacbcd\":1,\"chunk-662f5aef\":1,\"chunk-1e0e1a87\":1,\"chunk-03130df0\":1,\"chunk-1d61eeb5\":1,\"chunk-1e3ac1a1\":1,\"chunk-3a77d76f\":1,\"chunk-3c639b53\":1,\"chunk-5c268662\":1,\"chunk-ebc5e646\":1,\"chunk-48f0107b\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-00f8fb9c\":\"31d6cfe0\",\"chunk-3bbacbcd\":\"058181ef\",\"chunk-662f5aef\":\"3a3e7136\",\"chunk-d2fbbe60\":\"31d6cfe0\",\"chunk-1e0e1a87\":\"22f03d2a\",\"chunk-03130df0\":\"8dbd7c45\",\"chunk-1d61eeb5\":\"6dc9840e\",\"chunk-1e3ac1a1\":\"dbf034c7\",\"chunk-2d0cc844\":\"31d6cfe0\",\"chunk-3a77d76f\":\"5cdb843c\",\"chunk-3c639b53\":\"8f814b58\",\"chunk-5c268662\":\"a5e77379\",\"chunk-73666f02\":\"31d6cfe0\",\"chunk-10024d20\":\"31d6cfe0\",\"chunk-ebc5e646\":\"903252b6\",\"chunk-48f0107b\":\"52743c60\",\"chunk-2f4fd947\":\"31d6cfe0\",\"chunk-6edad2a6\":\"31d6cfe0\",\"chunk-653050d6\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Dialog',{staticClass:\"-sticky-footer -mobile-fs -internal-scroll -auto\",class:[_vm.loading && '-loading'],on:{\"clickOutside\":_vm.hide},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [(_vm.paneId)?_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"ADD/REMOVE SOURCES\")]),_c('div',{staticClass:\"subtitle\",staticStyle:{\"opacity\":\"1\"}},[_vm._v(\" to \"),_c('span',{staticClass:\"text-success\",domProps:{\"textContent\":_vm._s(_vm.paneName)}}),_vm._v(\" pane \"),_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"btn -small ml4 -text\",attrs:{\"type\":\"button\",\"title\":\"Target all instead\"},on:{\"click\":_vm.detargetPane}},[_c('i',{staticClass:\"icon-cross\"})])])]):_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"REPLACE SOURCES\")]),_c('div',{staticClass:\"subtitle\"},[_vm._v(\"across all panes\")])]),_c('div',{staticClass:\"column -center\"})]},proxy:true}])},[_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search__side hide-scrollbar\",class:{ '-show': _vm.mobileShowFilters }},[_c('section',{staticClass:\"section\"},[(_vm.sections.indexOf('extras') > -1)?_c('div',{staticClass:\"section__content\"},[_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.normalize},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'normalize')}}}),_c('div'),_c('span',[_vm._v(\"Group by pair\")])]),_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.mergeUsdt},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'mergeUsdt')}}}),_c('div'),_c('span',[_vm._v(\"Merge stablecoins\")])]),_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.historical},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'historical')}}}),_c('div'),_c('span',[_vm._v(\"With historical data\")])]),_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.recent},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'recent')}}}),_c('div'),_c('span',[_vm._v(\"Show recents\")])])]):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_PANEL', 'extras')}}},[_vm._v(\" Extras \"),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section\"},[(_vm.sections.indexOf('exchanges') > -1)?_c('div',{staticClass:\"section__content\"},[_c('label',{staticClass:\"section__controls checkbox-control -small mb4 flex-right\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.allExchangesEnabled},on:{\"change\":_vm.toggleAll}}),_c('div')]),_vm._l((_vm.exchanges),function(id){return [(!_vm.$store.state.exchanges[id].disabled)?_c('label',{key:id,staticClass:\"checkbox-control -small mb4 -custom hide-scrollbar\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchExchanges[id] !== false},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_EXCHANGE', id)}}}),_c('div',{class:'icon-' + id}),_c('span',[_c('span',{domProps:{\"textContent\":_vm._s(id)}}),(_vm.canRefreshProducts)?_c('a',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ boundary: 'window', placement: 'left' }),expression:\"{ boundary: 'window', placement: 'left' }\"}],staticClass:\"-text\",attrs:{\"href\":\"javascript:void(0);\",\"title\":`Refresh ${id}'s products`},on:{\"click\":function($event){$event.stopPropagation();return _vm.refreshExchangeProducts(id)}}},[_c('i',{staticClass:\"icon-refresh ml8 mr8\"})]):_vm._e()])]):_vm._e()]})],2):_vm._e(),_c('div',{staticClass:\"section__title text-muted mb8\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_PANEL', 'exchanges')}}},[_vm._v(\" Exchanges \"),(_vm.canRefreshProducts)?_c('a',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"refresh-all -text\",attrs:{\"href\":\"javascript:void(0);\",\"title\":\"Refresh all exchange's products\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.refreshExchangeProducts()}}},[_c('i',{staticClass:\"icon-refresh ml8 mr8\"})]):_vm._e(),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section mb16\"},[(_vm.sections.indexOf('types') > -1)?_c('div',{staticClass:\"section__content\"},[_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.spots},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'spots')}}}),_c('div'),_c('span',[_vm._v(\"Spots\")])]),_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.perpetuals},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'perpetuals')}}}),_c('div'),_c('span',[_vm._v(\"Perpetuals\")])]),_c('label',{staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchTypes.futures},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'futures')}}}),_c('div'),_c('span',[_vm._v(\"Futures\")])])]):_vm._e(),_c('div',{staticClass:\"section__title text-muted mb8\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_PANEL', 'types')}}},[_vm._v(\" Type \"),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section\"},[(_vm.sections.indexOf('quotes') > -1)?_c('div',{staticClass:\"section__content\"},_vm._l((_vm.quoteCurrencies),function(quote){return _c('label',{key:quote,staticClass:\"checkbox-control -small mb4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.searchQuotes[quote] === true ||\n                  _vm.searchQuotes[quote] === undefined},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_QUOTE', {\n                  key: quote,\n                  value: $event.target.checked\n                })}}}),_c('div'),_c('span',[_vm._v(_vm._s(quote))])])}),0):_vm._e(),_c('div',{staticClass:\"section__title text-muted mb8\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_PANEL', 'quotes')}}},[_vm._v(\" Quote currency \"),_c('i',{staticClass:\"icon-up-thin\"})])])]),_c('div',{staticClass:\"search__wrapper hide-scrollbar\"},[_c('div',{ref:\"selection\",staticClass:\"search-selection search__tags form-control\",class:_vm.groupsCount < 10 && '-sticky',on:{\"click\":function($event){return _vm.$refs.input.focus()}}},[(_vm.selection.length)?_c('div',{staticClass:\"search-selection__controls\"},[_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ boundary: 'window', placement: 'bottom' }),expression:\"{ boundary: 'window', placement: 'bottom' }\"}],staticClass:\"btn -text\",attrs:{\"title\":\"Toggle grouping\"},on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SEARCH_TYPE', 'normalize')}}},[_c('i',{staticClass:\"icon-merge\"})]),_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ boundary: 'window', placement: 'bottom' }),expression:\"{ boundary: 'window', placement: 'bottom' }\"}],staticClass:\"btn -text\",attrs:{\"title\":\"Clear\"},on:{\"click\":_vm.clearSelection}},[_c('i',{staticClass:\"icon-eraser\"})])]):_vm._e(),(_vm.searchTypes.normalize)?_vm._l((_vm.groupedSelection),function(markets,localPair){return _c('button',{key:localPair,staticClass:\"btn -pill\",attrs:{\"title\":'Click to remove ' + markets.join(', ')},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deselectWhileRetainingScroll(markets)}}},[(markets.length > 1)?_c('span',{staticClass:\"badge -compact ml8\",domProps:{\"textContent\":_vm._s(markets.length)}}):_vm._e(),_c('span',{domProps:{\"textContent\":_vm._s(localPair)}})])}):_vm._l((_vm.selection),function(market){return _c('button',{key:market,staticClass:\"btn\",class:{ '-green': _vm.activeMarkets.indexOf(market) !== -1 },attrs:{\"title\":\"Click to remove\"},domProps:{\"textContent\":_vm._s(market)},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deselectWhileRetainingScroll(market)}}})}),_c('input',{ref:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"Search\"},domProps:{\"value\":_vm.query},on:{\"input\":function($event){;(_vm.page = 0), (_vm.query = $event.target.value)}}})],2),_c('div',{staticClass:\"search__results\"},[(_vm.searchTypes.recent && _vm.previousSearchSelections.length)?_c('div',{staticClass:\"search-recent-searches\"},[_c('carousel',{staticClass:\"search__tags\"},_vm._l((_vm.previousSearchSelections),function(savedSelection){return _c('button',{key:savedSelection.label,staticClass:\"btn -pill -small\",attrs:{\"title\":savedSelection.markets.join(', ')},on:{\"click\":function($event){return _vm.selectMarkets(savedSelection.markets, $event.shiftKey)}}},[(savedSelection.count > 1)?_c('span',{staticClass:\"badge -invert ml8\",domProps:{\"textContent\":_vm._s(savedSelection.markets.length)}}):_vm._e(),_c('span',[_vm._v(_vm._s(savedSelection.label))])])}),0),_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"btn -outline search-history__clear\",attrs:{\"title\":\"Clear recent searches<br><i>💡 SHIFT+CLIC to delete 1 item</i>\"}},[_c('i',{staticClass:\"icon-trash -small\",on:{\"click\":function($event){return _vm.$store.commit('settings/CLEAR_SEARCH_HISTORY')}}})])],1):_vm._e(),(_vm.results.length)?[(_vm.page > 0)?_c('div',{staticClass:\"d-flex mt8\"},[_c('button',{staticClass:\"btn -text mlauto switch-page\",on:{\"click\":_vm.showLess}},[_vm._v(\" ... go page \"+_vm._s(_vm.page)+\" \")])]):_vm._e(),(_vm.searchTypes.normalize)?_c('table',{staticClass:\"table mt8\"},[_c('tbody',_vm._l((_vm.results),function(group,index){return _c('tr',{key:group.localPair,staticClass:\"-action\",class:{ active: _vm.activeIndex === index },on:{\"click\":function($event){return _vm.selectMarkets(group.markets)}}},[_c('td',{domProps:{\"textContent\":_vm._s(group.localPair)}}),_c('td',[_c('small',{domProps:{\"textContent\":_vm._s(group.markets.join(', '))}})])])}),0)]):_c('table',{staticClass:\"table mt8\"},[_c('tbody',_vm._l((_vm.results),function(market,index){return _c('tr',{key:market.id,staticClass:\"-action\",class:{ active: _vm.activeIndex === index },on:{\"click\":function($event){return _vm.selectMarket(market.id)}}},[_c('td',{staticClass:\"icon search__exchange text-center\",class:'icon-' + market.exchange}),_c('td',{domProps:{\"textContent\":_vm._s(market.exchange)}}),_c('td',{domProps:{\"textContent\":_vm._s(market.pair)}}),_c('td',{domProps:{\"textContent\":_vm._s(market.type)}}),_c('td',{staticClass:\"text-center\"},[(_vm.historicalMarkets.indexOf(market.id) !== -1)?_c('i',{staticClass:\"icon-candlestick\",attrs:{\"title\":\"historical data available for this market\"}}):_vm._e()])])}),0)]),_c('div',{staticClass:\"mt8 d-flex\"},[_c('button',{staticClass:\"btn -text\",on:{\"click\":_vm.addAll}},[_c('i',{staticClass:\"icon-plus mr8\"}),_vm._v(\" add all of the above \")]),(_vm.results.length === _vm.resultsPerPage)?_c('button',{staticClass:\"btn -text mlauto switch-page\",on:{\"click\":_vm.showMore}},[_vm._v(\" go page \"+_vm._s(_vm.page + 2)+\" ... \")]):_vm._e()])]:(_vm.query.length)?_c('p',{staticClass:\"mb0 pb0\"},[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"No results found for \\\"\"+_vm._s(_vm.query)+\"\\\".\")]),_c('br'),(_vm.hasFilters || !_vm.allExchangesEnabled)?_c('button',{staticClass:\"btn -cases -text\",on:{\"click\":_vm.clearFilters}},[_c('i',{staticClass:\"icon-refresh\"}),_vm._v(\" Retry without filters \")]):_vm._e()]):_vm._e()],2)])]),_c('footer',[_c('a',{staticClass:\"btn -text mrauto search__side-toggle\",attrs:{\"href\":\"javascript:void(0);\"},domProps:{\"textContent\":_vm._s(_vm.mobileShowFilters ? 'Hide filters' : 'Show filters')},on:{\"click\":function($event){_vm.mobileShowFilters = !_vm.mobileShowFilters}}}),_c('a',{staticClass:\"btn -text\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.hide}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn -large ml8 -green\",class:_vm.loading && '-loading',on:{\"click\":_vm.submit}},[_vm._v(\" \"+_vm._s(_vm.submitLabel)+\" \"),(_vm.loading)?_c('div',{staticClass:\"lds-spinner -center\"},[_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div')]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"carousel\",class:[\n    _vm.canRight && 'carousel--can-right',\n    _vm.canLeft && 'carousel--can-left'\n  ]},[_c('div',{ref:\"scroller\",staticClass:\"carousel__wrapper\",on:{\"scroll\":_vm.onScroll}},[_c('vnodes',{attrs:{\"vnodes\":this.$slots.default}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nexport default {\n  name: 'Carousel',\n  components: {\n    Vnodes: {\n      functional: true,\n      render: (h, ctx) => ctx.props.vnodes\n    }\n  },\n  data: () => ({\n    canRight: false,\n    canLeft: false\n  }),\n  mounted() {\n    this.$nextTick().then(() => this.onScroll())\n  },\n  methods: {\n    onScroll() {\n      const { scrollWidth, scrollLeft, clientWidth } = this.$refs.scroller\n\n      this.canLeft = scrollLeft > 0\n\n      this.canRight = scrollLeft < scrollWidth - clientWidth\n    },\n    goLeft() {\n      const element = this.$refs.scroller as HTMLElement\n\n      element.scroll({\n        left: Math.max(0, element.scrollLeft - element.clientWidth),\n        behavior: 'smooth'\n      })\n    },\n    goRight() {\n      const element = this.$refs.scroller as HTMLElement\n\n      const { scrollWidth, scrollLeft, clientWidth } = element\n\n      const nextScrollLeft = element.scrollLeft + element.clientWidth\n      const maxScrollLeft = scrollWidth - clientWidth\n\n      if (Math.ceil(scrollLeft) < maxScrollLeft) {\n        element.scroll({\n          left: Math.min(maxScrollLeft, nextScrollLeft),\n          behavior: 'smooth'\n        })\n      }\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carousel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carousel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Carousel.vue?vue&type=template&id=3742e45a&scoped=true&\"\nimport script from \"./Carousel.vue?vue&type=script&lang=ts&\"\nexport * from \"./Carousel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Carousel.vue?vue&type=style&index=0&id=3742e45a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3742e45a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <Dialog\n    @clickOutside=\"hide\"\n    class=\"-sticky-footer -mobile-fs -internal-scroll -auto\"\n    :class=\"[loading && '-loading']\"\n  >\n    <template v-slot:header>\n      <div v-if=\"paneId\">\n        <div class=\"title\">ADD/REMOVE SOURCES</div>\n        <div class=\"subtitle\" style=\"opacity: 1\">\n          to\n          <span class=\"text-success\" v-text=\"paneName\"></span>\n          pane\n          <button\n            type=\"button\"\n            class=\"btn -small ml4 -text\"\n            v-tippy\n            title=\"Target all instead\"\n            @click=\"detargetPane\"\n          >\n            <i class=\"icon-cross\"></i>\n          </button>\n        </div>\n      </div>\n      <div v-else>\n        <div class=\"title\">REPLACE SOURCES</div>\n        <div class=\"subtitle\">across all panes</div>\n      </div>\n      <div class=\"column -center\"></div>\n    </template>\n    <div class=\"search\">\n      <div\n        class=\"search__side hide-scrollbar\"\n        :class=\"{ '-show': mobileShowFilters }\"\n      >\n        <section class=\"section\">\n          <div v-if=\"sections.indexOf('extras') > -1\" class=\"section__content\">\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.normalize\"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_TYPE', 'normalize')\n                \"\n              />\n              <div></div>\n              <span>Group by pair</span>\n            </label>\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.mergeUsdt\"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_TYPE', 'mergeUsdt')\n                \"\n              />\n              <div></div>\n              <span>Merge stablecoins</span>\n            </label>\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.historical\"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_TYPE', 'historical')\n                \"\n              />\n              <div></div>\n              <span>With historical data</span>\n            </label>\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.recent\"\n                @change=\"$store.commit('settings/TOGGLE_SEARCH_TYPE', 'recent')\"\n              />\n              <div></div>\n              <span>Show recents</span>\n            </label>\n          </div>\n          <div\n            class=\"section__title\"\n            @click=\"$store.commit('settings/TOGGLE_SEARCH_PANEL', 'extras')\"\n          >\n            Extras <i class=\"icon-up-thin\"></i>\n          </div>\n        </section>\n\n        <section class=\"section\">\n          <div\n            class=\"section__content\"\n            v-if=\"sections.indexOf('exchanges') > -1\"\n          >\n            <label\n              class=\"section__controls checkbox-control -small mb4 flex-right\"\n            >\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"allExchangesEnabled\"\n                @change=\"toggleAll\"\n              />\n              <div></div>\n            </label>\n            <template v-for=\"id of exchanges\">\n              <label\n                class=\"checkbox-control -small mb4 -custom hide-scrollbar\"\n                :key=\"id\"\n                v-if=\"!$store.state.exchanges[id].disabled\"\n              >\n                <input\n                  type=\"checkbox\"\n                  class=\"form-control\"\n                  :checked=\"searchExchanges[id] !== false\"\n                  @change=\"$store.commit('settings/TOGGLE_SEARCH_EXCHANGE', id)\"\n                />\n                <div :class=\"'icon-' + id\"></div>\n                <span>\n                  <span v-text=\"id\"></span>\n                  <a\n                    v-if=\"canRefreshProducts\"\n                    href=\"javascript:void(0);\"\n                    class=\"-text\"\n                    @click.stop=\"refreshExchangeProducts(id)\"\n                    :title=\"`Refresh ${id}'s products`\"\n                    v-tippy=\"{ boundary: 'window', placement: 'left' }\"\n                  >\n                    <i class=\"icon-refresh ml8 mr8\"></i>\n                  </a>\n                </span>\n              </label>\n            </template>\n          </div>\n          <div\n            class=\"section__title text-muted mb8\"\n            @click=\"$store.commit('settings/TOGGLE_SEARCH_PANEL', 'exchanges')\"\n          >\n            Exchanges\n            <a\n              v-if=\"canRefreshProducts\"\n              href=\"javascript:void(0);\"\n              class=\"refresh-all -text\"\n              @click.stop=\"refreshExchangeProducts()\"\n              title=\"Refresh all exchange's products\"\n              v-tippy\n            >\n              <i class=\"icon-refresh ml8 mr8\"></i>\n            </a>\n            <i class=\"icon-up-thin\"></i>\n          </div>\n        </section>\n\n        <section class=\"section mb16\">\n          <div class=\"section__content\" v-if=\"sections.indexOf('types') > -1\">\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.spots\"\n                @change=\"$store.commit('settings/TOGGLE_SEARCH_TYPE', 'spots')\"\n              />\n              <div></div>\n              <span>Spots</span>\n            </label>\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.perpetuals\"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_TYPE', 'perpetuals')\n                \"\n              />\n              <div></div>\n              <span>Perpetuals</span>\n            </label>\n            <label class=\"checkbox-control -small mb4\">\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"searchTypes.futures\"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_TYPE', 'futures')\n                \"\n              />\n              <div></div>\n              <span>Futures</span>\n            </label>\n          </div>\n          <div\n            class=\"section__title text-muted mb8\"\n            @click=\"$store.commit('settings/TOGGLE_SEARCH_PANEL', 'types')\"\n          >\n            Type\n            <i class=\"icon-up-thin\"></i>\n          </div>\n        </section>\n        <section class=\"section\">\n          <div class=\"section__content\" v-if=\"sections.indexOf('quotes') > -1\">\n            <label\n              class=\"checkbox-control -small mb4\"\n              v-for=\"quote of quoteCurrencies\"\n              :key=\"quote\"\n            >\n              <input\n                type=\"checkbox\"\n                class=\"form-control\"\n                :checked=\"\n                  searchQuotes[quote] === true ||\n                    searchQuotes[quote] === undefined\n                \"\n                @change=\"\n                  $store.commit('settings/TOGGLE_SEARCH_QUOTE', {\n                    key: quote,\n                    value: $event.target.checked\n                  })\n                \"\n              />\n              <div></div>\n              <span>{{ quote }}</span>\n            </label>\n          </div>\n          <div\n            class=\"section__title text-muted mb8\"\n            @click=\"$store.commit('settings/TOGGLE_SEARCH_PANEL', 'quotes')\"\n          >\n            Quote currency\n            <i class=\"icon-up-thin\"></i>\n          </div>\n        </section>\n      </div>\n      <div class=\"search__wrapper hide-scrollbar\">\n        <div\n          class=\"search-selection search__tags form-control\"\n          :class=\"groupsCount < 10 && '-sticky'\"\n          @click=\"$refs.input.focus()\"\n          ref=\"selection\"\n        >\n          <div v-if=\"selection.length\" class=\"search-selection__controls\">\n            <button\n              class=\"btn -text\"\n              @click=\"$store.commit('settings/TOGGLE_SEARCH_TYPE', 'normalize')\"\n              title=\"Toggle grouping\"\n              v-tippy=\"{ boundary: 'window', placement: 'bottom' }\"\n            >\n              <i class=\"icon-merge\"></i>\n            </button>\n            <button\n              class=\"btn -text\"\n              @click=\"clearSelection\"\n              title=\"Clear\"\n              v-tippy=\"{ boundary: 'window', placement: 'bottom' }\"\n            >\n              <i class=\"icon-eraser\"></i>\n            </button>\n          </div>\n          <template v-if=\"searchTypes.normalize\">\n            <button\n              v-for=\"(markets, localPair) of groupedSelection\"\n              :key=\"localPair\"\n              class=\"btn -pill\"\n              :title=\"'Click to remove ' + markets.join(', ')\"\n              @click.stop.prevent=\"deselectWhileRetainingScroll(markets)\"\n            >\n              <span\n                v-if=\"markets.length > 1\"\n                class=\"badge -compact ml8\"\n                v-text=\"markets.length\"\n              ></span>\n              <span v-text=\"localPair\"></span>\n            </button>\n          </template>\n          <template v-else>\n            <button\n              v-for=\"market of selection\"\n              :key=\"market\"\n              class=\"btn\"\n              :class=\"{ '-green': activeMarkets.indexOf(market) !== -1 }\"\n              title=\"Click to remove\"\n              @click.stop.prevent=\"deselectWhileRetainingScroll(market)\"\n              v-text=\"market\"\n            ></button>\n          </template>\n          <input\n            ref=\"input\"\n            type=\"text\"\n            placeholder=\"Search\"\n            :value=\"query\"\n            @input=\";(page = 0), (query = $event.target.value)\"\n          />\n        </div>\n        <div class=\"search__results\">\n          <div\n            v-if=\"searchTypes.recent && previousSearchSelections.length\"\n            class=\"search-recent-searches\"\n          >\n            <carousel class=\"search__tags\">\n              <button\n                v-for=\"savedSelection of previousSearchSelections\"\n                :key=\"savedSelection.label\"\n                class=\"btn -pill -small\"\n                :title=\"savedSelection.markets.join(', ')\"\n                @click=\"selectMarkets(savedSelection.markets, $event.shiftKey)\"\n              >\n                <span\n                  v-if=\"savedSelection.count > 1\"\n                  class=\"badge -invert ml8\"\n                  v-text=\"savedSelection.markets.length\"\n                ></span>\n                <span>{{ savedSelection.label }}</span>\n              </button>\n            </carousel>\n            <button\n              class=\"btn -outline search-history__clear\"\n              v-tippy\n              title=\"Clear recent searches<br><i>💡 SHIFT+CLIC to delete 1 item</i>\"\n            >\n              <i\n                class=\"icon-trash -small\"\n                @click=\"$store.commit('settings/CLEAR_SEARCH_HISTORY')\"\n              ></i>\n            </button>\n          </div>\n          <template v-if=\"results.length\">\n            <div v-if=\"page > 0\" class=\"d-flex mt8\">\n              <button class=\"btn -text mlauto switch-page\" @click=\"showLess\">\n                ... go page {{ page }}\n              </button>\n            </div>\n\n            <table class=\"table mt8\" v-if=\"searchTypes.normalize\">\n              <tbody>\n                <tr\n                  v-for=\"(group, index) in results\"\n                  :key=\"group.localPair\"\n                  @click=\"selectMarkets(group.markets)\"\n                  :class=\"{ active: activeIndex === index }\"\n                  class=\"-action\"\n                >\n                  <td v-text=\"group.localPair\"></td>\n                  <td>\n                    <small v-text=\"group.markets.join(', ')\"></small>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <table v-else class=\"table mt8\">\n              <tbody>\n                <tr\n                  v-for=\"(market, index) of results\"\n                  :key=\"market.id\"\n                  @click=\"selectMarket(market.id)\"\n                  :class=\"{ active: activeIndex === index }\"\n                  class=\"-action\"\n                >\n                  <td\n                    class=\"icon search__exchange text-center\"\n                    :class=\"'icon-' + market.exchange\"\n                  ></td>\n                  <td v-text=\"market.exchange\"></td>\n                  <td v-text=\"market.pair\"></td>\n                  <td v-text=\"market.type\"></td>\n                  <td class=\"text-center\">\n                    <i\n                      v-if=\"historicalMarkets.indexOf(market.id) !== -1\"\n                      class=\"icon-candlestick\"\n                      title=\"historical data available for this market\"\n                    ></i>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n\n            <div class=\"mt8 d-flex\">\n              <button class=\"btn -text\" @click=\"addAll\">\n                <i class=\"icon-plus mr8\"></i> add all of the above\n              </button>\n              <button\n                class=\"btn -text mlauto switch-page\"\n                @click=\"showMore\"\n                v-if=\"results.length === resultsPerPage\"\n              >\n                go page {{ page + 2 }} ...\n              </button>\n            </div>\n          </template>\n          <p class=\"mb0 pb0\" v-else-if=\"query.length\">\n            <span class=\"text-muted\">No results found for \"{{ query }}\".</span>\n            <br />\n\n            <button\n              v-if=\"hasFilters || !allExchangesEnabled\"\n              class=\"btn -cases -text\"\n              @click=\"clearFilters\"\n            >\n              <i class=\"icon-refresh\"></i> Retry without filters\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <footer>\n      <a\n        href=\"javascript:void(0);\"\n        class=\"btn -text mrauto search__side-toggle\"\n        @click=\"mobileShowFilters = !mobileShowFilters\"\n        v-text=\"mobileShowFilters ? 'Hide filters' : 'Show filters'\"\n      ></a>\n      <a href=\"javascript:void(0);\" class=\"btn -text\" @click=\"hide\">Cancel</a>\n      <button\n        class=\"btn -large ml8 -green\"\n        @click=\"submit\"\n        :class=\"loading && '-loading'\"\n      >\n        {{ submitLabel }}\n        <div v-if=\"loading\" class=\"lds-spinner -center\">\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </button>\n    </footer>\n  </Dialog>\n</template>\n\n<script>\nimport Dialog from '@/components/framework/Dialog.vue'\nimport DialogMixin from '@/mixins/dialogMixin'\nimport { copyTextToClipboard, getBucketId } from '@/utils/helpers'\nimport dialogService from '@/services/dialogService'\nimport workspacesService from '@/services/workspacesService'\nimport {\n  stripStable,\n  indexedProducts,\n  indexProducts,\n  getExchangeSymbols,\n  ensureIndexedProducts\n} from '@/services/productsService'\nimport Carousel from '@/components/framework/Carousel.vue'\n\nconst RESULTS_PER_PAGE = 25\n\nexport default {\n  mixins: [DialogMixin],\n  components: {\n    Dialog,\n    Carousel\n  },\n  props: {\n    paneId: {\n      required: false\n    }\n  },\n  data: () => ({\n    page: 0,\n    query: '',\n    markets: [],\n    loading: false,\n    selection: [],\n    originalSelection: [],\n    activeIndex: null,\n    mobileShowFilters: false,\n    canRefreshProducts: true,\n    flattenedProducts: [],\n    quoteCurrencies: [\n      'USD',\n      'USDT',\n      'UST',\n      'USDC',\n      'BUSD',\n      'ETH',\n      'BTC',\n      'BNB',\n      'EUR',\n      'AUD',\n      'GBP',\n      'OTHERS'\n    ]\n  }),\n  computed: {\n    sections() {\n      return this.$store.state.settings.searchSections\n    },\n    previousSearchSelections() {\n      return this.$store.state.settings.previousSearchSelections\n    },\n    resultsPerPage() {\n      return RESULTS_PER_PAGE\n    },\n    otherPanes() {\n      return Object.keys(this.$store.state.panes.panes)\n        .filter(a => a !== this.paneId)\n        .map(a => this.$store.state.panes.panes[a])\n    },\n    paneName() {\n      if (this.paneId) {\n        return this.$store.state.panes.panes[this.paneId].name || this.paneId\n      } else {\n        return null\n      }\n    },\n    activeMarkets() {\n      return Object.keys(this.$store.state.panes.marketsListeners)\n    },\n    paneMarkets() {\n      if (!this.paneId) {\n        return []\n      }\n\n      return this.$store.state.panes.panes[this.paneId].markets\n    },\n    toConnect() {\n      if (this.paneId) {\n        return this.selection.filter(a => this.paneMarkets.indexOf(a) === -1)\n          .length\n      } else {\n        return this.selection.filter(a => this.activeMarkets.indexOf(a) === -1)\n          .length\n      }\n    },\n    toDisconnect() {\n      return this.originalSelection.filter(\n        a => this.selection.indexOf(a) === -1\n      ).length\n    },\n    submitLabel() {\n      const toConnect = +this.toConnect\n      const toDisconnect = +this.toDisconnect\n      let label = ''\n\n      if (toConnect) {\n        label += `connect${this.loading ? 'ing' : ''} ${toConnect}`\n      }\n\n      if (toDisconnect) {\n        label += `${toConnect ? ' and ' : ''}disconnect${\n          this.loading ? 'ing' : ''\n        } ${toDisconnect}`\n      }\n\n      return label ? label : 'REFRESH'\n    },\n    searchTypes() {\n      return this.$store.state.settings.searchTypes\n    },\n    searchQuotes() {\n      const searchQuotesPreferences = this.$store.state.settings.searchQuotes\n\n      return this.quoteCurrencies.reduce((acc, quote) => {\n        acc[quote] =\n          typeof searchQuotesPreferences[quote] === 'undefined'\n            ? false\n            : searchQuotesPreferences[quote]\n\n        return acc\n      }, {})\n    },\n    allQuotes() {\n      return !Object.values(this.searchQuotes).find(a => !!a)\n    },\n    exchanges() {\n      return this.$store.getters['exchanges/getExchanges']\n    },\n    searchExchanges() {\n      const searchExchanges = this.$store.state.settings.searchExchanges\n\n      return Object.keys(this.$store.state.exchanges).reduce((output, id) => {\n        if (this.$store.state.exchanges[id].disabled) {\n          return output\n        }\n\n        output[id] =\n          typeof searchExchanges[id] === 'undefined'\n            ? true\n            : searchExchanges[id]\n\n        return output\n      }, {})\n    },\n    allExchangesEnabled() {\n      return (\n        typeof Object.values(this.searchExchanges).find(a => a === false) ===\n        'undefined'\n      )\n    },\n    hasFilters() {\n      const hasHistorical = this.searchTypes.historical\n      const hasSpot = this.searchTypes.spots\n      const hasPerpetuals = this.searchTypes.perpetuals\n      const hasFutures = this.searchTypes.futures\n      const isMergeStables = this.searchTypes.mergeUsdt\n      return (\n        isMergeStables ||\n        hasHistorical ||\n        hasSpot ||\n        hasPerpetuals ||\n        hasFutures\n      )\n    },\n    historicalMarkets() {\n      return this.$store.state.app.historicalMarkets\n    },\n    queryFilter: function() {\n      const multiQuery = this.query\n        .replace(/[ ,]/g, '|')\n        .replace(/(^|\\w|\\s)\\*(\\w|\\s|$)/g, '$1.*$2')\n\n      if (this.searchTypes.normalize) {\n        return new RegExp('^' + multiQuery, 'i')\n      } else {\n        return new RegExp(multiQuery, 'i')\n      }\n    },\n    filteredProducts() {\n      const hasHistorical = this.searchTypes.historical\n      const hasSpot = this.searchTypes.spots\n      const hasPerpetuals = this.searchTypes.perpetuals\n      const hasFutures = this.searchTypes.futures\n\n      const exchanges = this.searchExchanges\n      const hasTypeFilters = hasSpot || hasPerpetuals || hasFutures\n\n      const searchQuotes = this.searchQuotes\n      const allQuotes = this.allQuotes\n\n      // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n      this.page = 0\n\n      return this.flattenedProducts.filter(a => {\n        if (hasHistorical && this.historicalMarkets.indexOf(a.id) === -1) {\n          return false\n        }\n\n        if (\n          !allQuotes &&\n          ((typeof searchQuotes[a.quote] === 'boolean' &&\n            searchQuotes[a.quote] === false) ||\n            (typeof searchQuotes[a.quote] !== 'boolean' &&\n              !searchQuotes.OTHERS))\n        ) {\n          return false\n        }\n\n        if (!exchanges[a.exchange]) {\n          return false\n        }\n\n        if (\n          hasTypeFilters &&\n          ((!hasFutures && a.type === 'future') ||\n            (!hasPerpetuals && a.type === 'perp') ||\n            (!hasSpot && a.type === 'spot'))\n        ) {\n          return false\n        }\n\n        return true\n      })\n    },\n    results: function() {\n      const offset = this.page * RESULTS_PER_PAGE\n\n      if (this.searchTypes.normalize) {\n        const marketsByPair = this.filteredProducts\n          .filter(\n            product =>\n              this.selection.indexOf(product.id) === -1 &&\n              this.queryFilter.test(product.local)\n          )\n          .reduce((groups, product) => {\n            let local = product.local\n\n            if (this.searchTypes.mergeUsdt) {\n              local = stripStable(local)\n            }\n\n            if (!groups[local]) {\n              groups[local] = []\n            }\n\n            groups[local].push(product.id)\n\n            return groups\n          }, {})\n\n        return Object.keys(marketsByPair)\n          .slice(offset, offset + RESULTS_PER_PAGE)\n          .map(localPair => ({\n            localPair,\n            markets: marketsByPair[localPair]\n          }))\n      } else {\n        return this.filteredProducts\n          .filter(\n            product =>\n              this.selection.indexOf(product.id) === -1 &&\n              this.queryFilter.test(product.id)\n          )\n          .slice(offset, offset + RESULTS_PER_PAGE)\n      }\n    },\n    groupedSelection: function() {\n      return this.selection.reduce((groups, market) => {\n        const [exchange] = market.split(':')\n\n        if (!indexedProducts[exchange]) {\n          return groups\n        }\n\n        const indexedProduct = indexedProducts[exchange].find(\n          product => product.id === market\n        )\n\n        let localPair = indexedProduct ? indexedProduct.local : market\n\n        if (this.searchTypes.mergeUsdt) {\n          localPair = stripStable(localPair)\n        }\n\n        if (!groups[localPair]) {\n          groups[localPair] = []\n        }\n\n        groups[localPair].push(market)\n\n        return groups\n      }, {})\n    },\n    groupsCount() {\n      return Object.keys(this.groupedSelection).length\n    }\n  },\n\n  watch: {\n    '$store.state.app.showSearch': function(value) {\n      if (!value) {\n        this.close(false)\n      }\n    }\n  },\n  async created() {\n    await ensureIndexedProducts()\n\n    this.initSelection()\n\n    this.cacheProducts()\n  },\n  mounted() {\n    this.$nextTick(() => {\n      if (!this.$refs.input) {\n        return\n      }\n\n      this.$refs.input.focus()\n    })\n\n    document.addEventListener('paste', this.onPaste)\n    document.addEventListener('keydown', this.onKeydown)\n  },\n  beforeDestroy() {\n    document.removeEventListener('paste', this.onPaste)\n    document.removeEventListener('keydown', this.onKeydown)\n\n    if (this._hideHistoryTimeout) {\n      clearTimeout(this._hideHistoryTimeout)\n    }\n  },\n  methods: {\n    detargetPane() {\n      this.$store.commit('app/SET_FOCUSED_PANE', null)\n      this.paneId = null\n      this.initSelection()\n    },\n    initSelection() {\n      if (this.paneId) {\n        this.selection = this.$store.state.panes.panes[\n          this.paneId\n        ].markets.slice()\n      } else {\n        this.selection = this.activeMarkets.slice()\n      }\n\n      this.originalSelection = this.selection.slice()\n    },\n    containMultipleMarketsConfigurations() {\n      return (\n        Object.keys(this.$store.state.panes.panes)\n          .map(id => getBucketId(this.$store.state.panes.panes[id].markets))\n          .filter((v, i, a) => a.indexOf(v) === i).length > 1\n      )\n    },\n    selectPaneMarkets(paneId) {\n      const pane = this.otherPanes[paneId]\n\n      for (let i = 0; i < pane.markets.length; i++) {\n        if (this.selection.indexOf(pane.markets[i]) !== -1) {\n          continue\n        }\n\n        this.selection.push(pane.markets[i])\n      }\n    },\n    selectMarket(market) {\n      this.selection.push(market)\n    },\n    selectMarkets(markets, removeFromHistory) {\n      if (removeFromHistory) {\n        this.$store.commit('settings/REMOVE_SEARCH_HISTORY', markets)\n        clearTimeout(this._hideHistoryTimeout)\n        return\n      }\n\n      const marketsToAdd = markets.filter(\n        market => this.selection.indexOf(market) === -1\n      )\n\n      if (!marketsToAdd.length) {\n        this.$store.dispatch('app/showNotice', {\n          id: 'select-market-already-added',\n          title: `You already selected ${\n            markets.length > 1 ? 'these markets' : markets[0]\n          } !`,\n          type: 'error'\n        })\n        return\n      }\n\n      this.selection = this.selection.concat(marketsToAdd)\n    },\n    async deselectWhileRetainingScroll(markets) {\n      const scrollTop = this.$refs.selection.scrollTop\n\n      if (Array.isArray(markets)) {\n        this.deselectMarkets(markets)\n      } else {\n        this.deselectMarket(markets)\n      }\n\n      await this.$nextTick()\n\n      this.$refs.input.focus()\n\n      this.$refs.selection.scrollTop = scrollTop\n    },\n    deselectMarket(market) {\n      this.selection.splice(this.selection.indexOf(market), 1)\n    },\n    deselectMarkets(markets) {\n      for (const market of markets) {\n        this.deselectMarket(market)\n      }\n    },\n    async submit() {\n      if (this.selection.length) {\n        this.$store.dispatch('settings/saveSearchSelection', this.selection)\n      }\n\n      if (!this.paneId) {\n        if (\n          this.containMultipleMarketsConfigurations() &&\n          !(await dialogService.confirm(\n            'Are you sure ? Some of the panes are watching specific markets.'\n          ))\n        ) {\n          return\n        }\n\n        this.loading = true\n\n        if (!Object.keys(this.$store.state.panes.panes).length) {\n          await this.$store.dispatch('panes/addPane', { type: 'trades' })\n        }\n\n        await this.$store.dispatch('panes/setMarketsForAll', this.selection)\n      } else {\n        this.loading = true\n\n        await this.$store.dispatch('panes/setMarketsForPane', {\n          id: this.paneId,\n          markets: this.selection\n        })\n      }\n\n      this.loading = false\n\n      this.hide()\n    },\n    hide() {\n      this.$store.dispatch('app/hideSearch')\n    },\n    toggleType(key) {\n      this.$store.commit('settings/TOGGLE_SEARCH_TYPE', key)\n    },\n    toggleExchange(key) {\n      this.$store.commit('settings/TOGGLE_SEARCH_EXCHANGE', key)\n    },\n\n    clearSelection() {\n      this.selection.splice(0, this.selection.length)\n\n      this.query = ''\n\n      this.$refs.input.focus()\n    },\n\n    copySelection() {\n      copyTextToClipboard(this.selection.join(','))\n\n      this.$store.dispatch('app/showNotice', {\n        id: 'products-clipboard',\n        title: `Copied ${this.selection.length} product(s) to clipboard`\n      })\n    },\n\n    clearFilters() {\n      this.$store.commit('settings/CLEAR_SEARCH_FILTERS')\n      this.toggleAll(true)\n    },\n\n    onPaste(event) {\n      if (document.activeElement) {\n        if (document.activeElement.tagName === 'INPUT') {\n          return\n        }\n      }\n\n      const raw = event.clipboardData.getData('text/plain')\n      const markets = raw.split(',').filter(a => /^.{3,}:.{4,32}$/.test(a))\n\n      if (!markets.length) {\n        return\n      }\n\n      this.selection = markets\n    },\n\n    onKeydown(event) {\n      switch (event.key) {\n        case 'Enter':\n          event.preventDefault()\n          if (this.results[this.activeIndex]) {\n            if (this.searchTypes.normalize) {\n              this.selectMarkets(this.results[this.activeIndex].markets)\n            } else {\n              this.selectMarket(this.results[this.activeIndex].id)\n            }\n          }\n          break\n\n        case 'ArrowDown':\n        case 'ArrowUp':\n          if (this.results.length) {\n            if (event.key === 'ArrowUp') {\n              this.activeIndex = Math.max(0, this.activeIndex - 1)\n            } else {\n              if (this.activeIndex === null) {\n                this.activeIndex = 0\n              } else {\n                this.activeIndex = Math.min(\n                  this.results.length - 1,\n                  this.activeIndex + 1\n                )\n              }\n            }\n          }\n          break\n\n        case 'Backspace':\n        case 'Delete':\n          this.deleteLast()\n          break\n\n        case 'c':\n          if (\n            (event.ctrlKey || event.metaKey) &&\n            !window.getSelection().toString().length\n          ) {\n            this.copySelection()\n          }\n          break\n      }\n    },\n\n    deleteLast() {\n      if (!this.query.length && this.selection.length) {\n        if (this.searchTypes.normalize) {\n          const lastPair = Object.keys(this.groupedSelection).pop()\n          this.deselectMarkets(this.groupedSelection[lastPair])\n        } else {\n          this.selection.splice(this.selection.length - 1, 1)\n        }\n      }\n    },\n\n    addAll() {\n      const normalized = this.searchTypes.normalize\n      const markets = []\n\n      for (let i = 0; i < this.results.length; i++) {\n        if (normalized) {\n          for (const market of this.results[i].markets) {\n            markets.push(market)\n          }\n        } else {\n          markets.push(this.results[i].id)\n        }\n      }\n\n      this.selectMarkets(markets)\n    },\n\n    toggleAll(selectAll) {\n      if (typeof selectAll !== 'boolean') {\n        selectAll = Boolean(!this.allExchangesEnabled)\n      }\n\n      this.$set(\n        this.$store.state.settings,\n        'searchExchanges',\n        this.exchanges.reduce((output, id) => {\n          output[id] = selectAll ? true : false\n          return output\n        }, {})\n      )\n    },\n\n    async refreshExchangeProducts(exchangeId) {\n      if (!exchangeId) {\n        if (\n          await dialogService.confirm(\n            `Download all exchange's products ?\\n\\nThis might take a while.`\n          )\n        ) {\n          for (const exchange of this.exchanges) {\n            await this.refreshExchangeProducts(exchange)\n          }\n        }\n\n        return\n      }\n\n      if (this._refreshProductsTimeout) {\n        clearTimeout(this._refreshProductsTimeout)\n      }\n\n      this.canRefreshProducts = false\n\n      this.$store.dispatch('app/showNotice', {\n        id: exchangeId,\n        title: `Refreshing ${exchangeId}'s products...`\n      })\n\n      await workspacesService.deleteProducts(exchangeId)\n\n      const count = (\n        await indexProducts(\n          exchangeId,\n          await getExchangeSymbols(exchangeId, true)\n        )\n      ).length\n\n      this.$store.dispatch('app/showNotice', {\n        id: exchangeId,\n        title: `Saved ${count} ${exchangeId}'s products`\n      })\n\n      await this.$store.dispatch('exchanges/disconnect', exchangeId)\n      await this.$store.dispatch('exchanges/connect', exchangeId)\n\n      this._refreshProductsTimeout = setTimeout(() => {\n        this._refreshProductsTimeout = null\n        this.canRefreshProducts = true\n      }, 10000)\n\n      this.cacheProducts()\n    },\n\n    showMore() {\n      this.page++\n    },\n\n    showLess() {\n      this.page = Math.max(this.page - 1, 0)\n    },\n\n    cacheProducts() {\n      this.flattenedProducts = Array.prototype.concat(\n        ...Object.values(indexedProducts)\n      )\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.search {\n  display: flex;\n  align-items: stretch;\n  height: 100%;\n  overflow: hidden;\n\n  &__side {\n    width: 12.5rem;\n    min-width: 12.5rem;\n    overflow: auto;\n\n    .section {\n      background: 0;\n\n      &__title:first-child {\n        padding-bottom: 0;\n      }\n    }\n\n    @media screen and (max-width: 550px) {\n      display: none;\n\n      &.-show {\n        display: block;\n      }\n    }\n\n    &-toggle {\n      @media screen and (min-width: 550px) {\n        display: none;\n      }\n    }\n  }\n\n  &__wrapper {\n    flex-grow: 1;\n    width: 650px;\n    max-width: 650px;\n    padding: 0 1rem 1rem;\n    overflow: auto;\n\n    @media screen and (min-width: 551px) {\n      padding-left: 0;\n    }\n  }\n\n  &__results {\n    table {\n      border: 0;\n      border-collapse: collapse;\n      width: 100%;\n    }\n\n    tr.active {\n      background-color: rgba(black, 0.2) !important;\n    }\n\n    td {\n      padding: 0.5em;\n    }\n  }\n\n  &__tags {\n    padding: 6px 2rem 2px 6px;\n\n    &-controls > button,\n    > button,\n    > input {\n      margin-bottom: 4px;\n      margin-right: 5px;\n      height: 32px;\n    }\n\n    input {\n      border: 0;\n      background: 0;\n      color: inherit;\n      font-family: inherit;\n      padding: 0 4px;\n      flex-grow: 1;\n      font-size: 1em;\n    }\n  }\n\n  &-selection {\n    position: relative;\n    min-width: 19rem;\n    border: 0;\n    max-height: 50%;\n    overflow: auto;\n\n    &.-sticky {\n      @media screen and (min-width: 550px) {\n        backdrop-filter: blur(0.25rem);\n        background-color: var(--theme-background-o20);\n        position: sticky;\n        top: 0;\n        z-index: 2;\n        border-radius: 0;\n      }\n    }\n\n    &__controls {\n      position: absolute;\n      top: 0;\n      right: 0;\n      margin: 6px 0 6px 6px;\n    }\n  }\n\n  &-recent-searches {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: var(--theme-color-o10);\n    margin-top: 0.5rem;\n\n    small {\n      text-transform: uppercase;\n    }\n\n    &__clear {\n      padding: 0;\n      margin: 0.25rem 1rem;\n    }\n\n    .search__tags {\n      padding: 0;\n      max-width: 100%;\n      overflow: hidden;\n      flex-grow: 1;\n      padding: 0.25rem 0.5rem;\n\n      button,\n      button:hover {\n        background: none;\n        border: 1px dashed currentColor;\n        height: 24px;\n      }\n    }\n  }\n  .section {\n    &__controls {\n      top: 0.75rem;\n      right: 0.75rem;\n      font-size: 0.875em;\n      z-index: 1;\n    }\n\n    label {\n      overflow-y: auto;\n    }\n  }\n\n  .checkbox-control {\n    a {\n      visibility: hidden;\n    }\n\n    &:hover a {\n      visibility: visible;\n    }\n  }\n}\n\n.search .switch-page {\n  height: 0;\n  display: block;\n  padding: 0;\n  line-height: 0;\n  border: 0;\n  background: 0 !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchDialog.vue?vue&type=template&id=cf96adc4&scoped=true&\"\nimport script from \"./SearchDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchDialog.vue?vue&type=style&index=0&id=cf96adc4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cf96adc4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Dialog',{staticClass:\"-timeframe\",on:{\"clickOutside\":_vm.hide},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"Timeframe\")]),_c('div',{staticClass:\"subtitle pl0\",domProps:{\"textContent\":_vm._s(_vm.paneName)}})]),_c('div',{staticClass:\"column -center\"})]},proxy:true}])},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_c('div',{staticClass:\"text-center\"},[_c('timeframe-input',{staticClass:\"form-control w-100\",attrs:{\"placeholder\":_vm.placeholder},on:{\"input\":_vm.onTimeframe,\"submit\":_vm.submit}})],1),_c('div',{staticClass:\"timeframe-for-human\"},[(_vm.valid)?_c('code',{staticClass:\"text-muted\",domProps:{\"textContent\":_vm._s('= ' + _vm.timeframeForHuman)}}):_c('code',{staticClass:\"form-feedback\"},[_vm._v(\"Unknown timeframe\")])]),_c('footer',[_c('button',{staticClass:\"btn -green ml8 -large\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Go\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Dialog @clickOutside=\"hide\" class=\"-timeframe\">\n    <template v-slot:header>\n      <div>\n        <div class=\"title\">Timeframe</div>\n        <div class=\"subtitle pl0\" v-text=\"paneName\"></div>\n      </div>\n\n      <div class=\"column -center\"></div>\n    </template>\n    <form @submit.prevent=\"submit\">\n      <div class=\"text-center\">\n        <timeframe-input\n          :placeholder=\"placeholder\"\n          @input=\"onTimeframe\"\n          @submit=\"submit\"\n          class=\"form-control w-100\"\n        />\n      </div>\n\n      <div class=\"timeframe-for-human\">\n        <code\n          v-if=\"valid\"\n          class=\"text-muted\"\n          v-text=\"'= ' + timeframeForHuman\"\n        ></code>\n        <code v-else class=\"form-feedback\">Unknown timeframe</code>\n      </div>\n\n      <footer>\n        <button type=\"submit\" class=\"btn -green ml8 -large\">Go</button>\n      </footer>\n    </form>\n  </Dialog>\n</template>\n\n<script>\nimport DialogMixin from '@/mixins/dialogMixin'\nimport { getTimeframeForHuman } from '@/utils/helpers'\nimport TimeframeInput from './chart/TimeframeInput.vue'\n\nexport default {\n  components: { TimeframeInput },\n  props: {\n    timeframe: {\n      type: String\n    }\n  },\n  mixins: [DialogMixin],\n  data: () => ({\n    newTimeframe: '',\n    paneId: null\n  }),\n  computed: {\n    paneName() {\n      return this.$store.state.panes.panes[this.paneId].name || this.paneId\n    },\n    timeframeForHuman() {\n      return getTimeframeForHuman(this.newTimeframe)\n    },\n    valid() {\n      return this.timeframeForHuman !== null\n    }\n  },\n  watch: {\n    '$store.state.app.showSearch': function(value) {\n      if (!value) {\n        this.close(false)\n      }\n    }\n  },\n  created() {\n    this.paneId = this.$store.state.app.focusedPaneId\n\n    if (this.timeframe) {\n      this.newTimeframe = this.timeframe\n    }\n\n    this.placeholder = this.$store.state[this.paneId].timeframe\n  },\n  methods: {\n    hide() {\n      this.$store.dispatch('app/hideSearch')\n    },\n    onTimeframe({ value }) {\n      this.newTimeframe = value\n    },\n    submit() {\n      if (!this.valid) {\n        return\n      }\n\n      this.$store.commit(this.paneId + '/SET_TIMEFRAME', this.newTimeframe)\n\n      this.hide()\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.dialog.-timeframe {\n  .dialog-content {\n    min-width: 0;\n\n    .form-control {\n      font-size: 2rem;\n      font-family: $font-monospace;\n      text-align: center;\n      padding: 0.5em;\n      border: 0;\n    }\n\n    .timeframe-for-human {\n      padding: 0.5rem 1rem 0;\n      text-align: center;\n      font-size: 1.125rem;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeframeDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeframeDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeframeDialog.vue?vue&type=template&id=5e17e77a&\"\nimport script from \"./TimeframeDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeframeDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeframeDialog.vue?vue&type=style&index=0&id=5e17e77a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import dialogService from '@/services/dialogService'\nimport { randomString } from '@/utils/helpers'\nimport Vue from 'vue'\nimport { ActionTree, GetterTree, Module, MutationTree } from 'vuex'\nimport { ModulesState } from '.'\nimport SearchDialog from '../components/SearchDialog.vue'\nimport TimeframeDialog from '../components/TimeframeDialog.vue'\nimport { getApiSupportedMarkets } from '../services/productsService'\n\nexport interface Notice {\n  id?: string\n  title?: string\n  timeout?: number\n  button: NoticeButton\n  _timeoutId?: number\n}\n\ninterface BaseQuoteCurrencies {\n  base: string\n  baseSymbol: string\n  quote: string\n  quoteSymbol: string\n}\n\ninterface NoticeButton {\n  text: string\n  icon?: string\n  click?: Function\n}\n\nexport interface NoticesState {\n  notices: Notice[]\n}\n\nexport interface Product {\n  id: string\n  pair: string\n  exchange: string\n  type: string\n  base: string\n  quote: string\n  local: string\n}\n\nexport interface ListenedProduct extends Product {\n  listeners?: number\n}\n\nexport interface AppState {\n  isBooted: boolean\n  isLoading: boolean\n  isExchangesReady: boolean\n  showSearch: boolean\n  historicalMarkets: string[]\n  apiSupportedTimeframes: number[]\n  activeExchanges: { [exchangeId: string]: boolean }\n  version: string\n  buildDate: number | string\n  notices: Notice[]\n  baseCurrency: string\n  baseCurrencySymbol: string\n  quoteCurrency: string\n  quoteCurrencySymbol: string\n  focusedPaneId: string\n}\n\nconst state = {\n  isBooted: false,\n  isLoading: false,\n  isExchangesReady: false,\n  showSearch: false,\n  activeExchanges: {},\n  notices: [],\n  historicalMarkets: [],\n  apiSupportedTimeframes: [],\n  version: 'DEV',\n  buildDate: 'now',\n  baseCurrency: 'coin',\n  baseCurrencySymbol: '฿',\n  quoteCurrency: 'dollar',\n  quoteCurrencySymbol: '$',\n  focusedPaneId: null\n} as AppState\n\nconst actions = {\n  async boot({ commit, dispatch }) {\n    await dispatch('getApiSupportedPairs')\n    commit(\n      'SET_API_SUPPORTED_TIMEFRAMES',\n      process.env.VUE_APP_API_SUPPORTED_TIMEFRAMES\n    )\n    commit('SET_VERSION', process.env.VUE_APP_VERSION)\n    commit('SET_BUILD_DATE', process.env.VUE_APP_BUILD_DATE)\n  },\n  setBooted({ commit }, value = true) {\n    commit('SET_BOOTED', value)\n  },\n  async showNotice({ commit, getters }, notice) {\n    if (typeof notice === 'string') {\n      notice = {\n        title: notice\n      }\n    }\n\n    if (notice.id && getters.getNoticeById(notice.id)) {\n      if (notice.update) {\n        return this.dispatch('app/updateNotice', notice)\n      } else {\n        try {\n          await this.dispatch('app/hideNotice', notice.id)\n        } catch (error) {\n          // notice was already hiding, no worries\n          return\n        }\n      }\n    }\n\n    if (!notice.id) {\n      notice.id = randomString()\n    }\n\n    if (typeof notice.timeout === 'undefined') {\n      notice.timeout = notice.type === 'error' ? 10000 : 3000\n    }\n\n    if (notice.timeout > 0) {\n      notice._timeout = setTimeout(() => {\n        delete notice._timeout\n        this.dispatch('app/hideNotice', notice.id)\n      }, notice.timeout)\n    }\n\n    commit('CREATE_NOTICE', notice)\n  },\n  hideNotice({ commit, getters }, id): Promise<void> {\n    const notice = getters.getNoticeById(id)\n\n    if (!notice) {\n      return Promise.resolve()\n    }\n\n    if (notice._timeout) {\n      clearTimeout(notice._timeout)\n    }\n\n    if (notice._reject) {\n      // notice is already hiding\n      notice._reject()\n    }\n\n    return new Promise((resolve, reject) => {\n      notice._reject = reject // mark notice as hiding\n      notice._timeout = setTimeout(() => {\n        commit('REMOVE_NOTICE', notice)\n        delete notice._reject\n        delete notice._timeout\n        resolve()\n      }, 100)\n    })\n  },\n  updateNotice({ commit, getters, state }, notice) {\n    const currentNotice = getters.getNoticeById(notice.id)\n    const index = state.notices.indexOf(currentNotice)\n\n    if (!currentNotice || index === -1) {\n      return Promise.resolve()\n    }\n\n    commit('UPDATE_NOTICE', {\n      index,\n      notice\n    })\n  },\n  showSearch({ commit, state }, paneId?: string) {\n    if (state.showSearch) {\n      return\n    }\n\n    commit('TOGGLE_SEARCH', true)\n\n    if (typeof paneId === 'undefined' && state.focusedPaneId) {\n      paneId = state.focusedPaneId\n    }\n\n    dialogService.open(SearchDialog, { paneId })\n  },\n  showTimeframe({ commit, state, rootState }) {\n    if (\n      state.showSearch ||\n      !state.focusedPaneId ||\n      !rootState[state.focusedPaneId]\n    ) {\n      return\n    }\n\n    commit('TOGGLE_SEARCH', true)\n\n    dialogService.open(TimeframeDialog)\n  },\n  hideSearch({ commit, state }) {\n    if (!state.showSearch) {\n      return\n    }\n\n    commit('TOGGLE_SEARCH', false)\n  },\n  async getApiSupportedPairs({ commit }) {\n    const markets = await getApiSupportedMarkets()\n    commit('SET_HISTORICAL_MARKETS', markets)\n  }\n} as ActionTree<AppState, ModulesState>\n\nconst mutations = {\n  SET_BOOTED: (state, value: boolean) => {\n    state.isBooted = value\n  },\n  SET_EXCHANGES_READY(state) {\n    state.isExchangesReady = true\n  },\n  EXCHANGE_UPDATED(state, exchangeId: string) {\n    Vue.set(\n      state.activeExchanges,\n      exchangeId,\n      !this.state.exchanges[exchangeId].disabled\n    )\n  },\n  TOGGLE_LOADING(state, value) {\n    state.isLoading = value ? true : false\n  },\n  CREATE_NOTICE(state, notice) {\n    state.notices.push(notice)\n  },\n  UPDATE_NOTICE(state, { index, notice }) {\n    Vue.set(state.notices, index, notice)\n  },\n  REMOVE_NOTICE(state, notice) {\n    const index = state.notices.indexOf(notice)\n\n    if (index !== -1) {\n      state.notices.splice(index, 1)\n    }\n  },\n  TOGGLE_SEARCH(state, value) {\n    state.showSearch = typeof value === 'boolean' ? value : !state.showSearch\n  },\n  SET_HISTORICAL_MARKETS(state, value) {\n    state.historicalMarkets = value\n  },\n  SET_API_SUPPORTED_TIMEFRAMES(state, value) {\n    if (value && value.trim()) {\n      state.apiSupportedTimeframes = value.split(',')\n    } else {\n      state.apiSupportedTimeframes = []\n    }\n  },\n  SET_VERSION(state, value) {\n    state.version = value\n  },\n  SET_BUILD_DATE(state, value) {\n    state.buildDate = value\n  },\n  SET_CURRENCIES(state, currencies: BaseQuoteCurrencies) {\n    state.baseCurrency = currencies.base\n    state.baseCurrencySymbol = currencies.baseSymbol\n    state.quoteCurrency = currencies.quote\n    state.quoteCurrencySymbol = currencies.quoteSymbol\n  },\n  SET_FOCUSED_PANE(state, id: string) {\n    state.focusedPaneId = id\n  }\n} as MutationTree<AppState>\n\nconst getters = {\n  getNoticeById: state => id => {\n    for (let i = 0; i < state.notices.length; i++) {\n      if (state.notices[i].id === id) {\n        return state.notices[i]\n      }\n    }\n  }\n} as GetterTree<AppState, ModulesState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<AppState, ModulesState>\n","import Vue from 'vue'\n\nimport { ActionTree, Module, MutationTree } from 'vuex'\n\nimport DEFAULTS_STATE from './defaultSettings.json'\nimport {\n  getColorLuminance,\n  getLinearShare,\n  getLogShade,\n  getTextColor,\n  joinRgba,\n  splitColorCode\n} from '@/utils/colors'\nimport { ModulesState } from '.'\nimport {\n  AggregationLength,\n  PreviousSearchSelection,\n  SlippageMode\n} from '@/types/types'\nimport aggregatorService from '@/services/aggregatorService'\nimport audioService from '@/services/audioService'\nimport { getTimeframeForHuman } from '@/utils/helpers'\nimport { isTouchSupported } from '@/utils/touchevent'\nimport { getMarketProduct, parseMarket } from '../services/productsService'\n\nexport type AudioFilters = { [id: string]: boolean }\nexport interface SettingsState {\n  preferQuoteCurrencySize?: boolean\n  calculateSlippage?: SlippageMode\n  aggregationLength?: AggregationLength\n  theme?: string\n  backgroundColor?: string\n  textColor?: string\n  buyColor?: string\n  sellColor?: string\n  timezoneOffset?: number\n  useAudio?: boolean\n  audioVolume?: number\n  audioFilters?: AudioFilters\n  settings?: string[]\n  searchSections?: string[]\n  disableAnimations?: boolean\n  autoHideHeaders?: boolean\n  searchTypes?: any\n  searchQuotes?: any\n  searchExchanges?: any\n  previousSearchSelections?: PreviousSearchSelection[]\n  timeframes?: { label: string; value: string }[]\n  timeframeGroups?: string[]\n  favoriteTimeframes?: { [timeframe: number]: string }\n  normalizeWatermarks: boolean\n  alerts: number | boolean\n  alertsLineStyle: number\n  alertsLineWidth: number\n  alertsColor: string\n  alertsClick: boolean\n  alertSound: string\n}\n\nconst state = Object.assign(\n  {\n    _id: 'settings'\n  },\n  DEFAULTS_STATE\n) as SettingsState\n\nconst actions = {\n  async boot({ state, dispatch }) {\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: { key: 'calculateSlippage', value: state.calculateSlippage }\n    })\n\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: { key: 'aggregationLength', value: state.aggregationLength }\n    })\n\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: {\n        key: 'preferQuoteCurrencySize',\n        value: state.preferQuoteCurrencySize\n      }\n    })\n\n    dispatch('updateCSS')\n\n    Vue.nextTick(() => {\n      if (state.useAudio) {\n        audioService.connect()\n      } else {\n        audioService.disconnect()\n      }\n    })\n  },\n  async setColor(\n    { commit, dispatch, state },\n    { type, value }: { type: string; value: string }\n  ) {\n    state[type.toLowerCase() + 'Color'] = value\n\n    const mutation = `SET_${type.toUpperCase()}_COLOR`\n\n    if (mutation === 'SET_BACKGROUND_COLOR') {\n      dispatch('refreshTheme')\n    }\n\n    dispatch('updateCSS')\n\n    commit(mutation, value)\n  },\n  refreshTheme({ commit, state }) {\n    const backgroundRgb = splitColorCode(state.backgroundColor)\n    const backgroundLuminance = getColorLuminance(backgroundRgb)\n    const theme = backgroundLuminance > 0 ? 'light' : 'dark'\n\n    if (theme !== state.theme) {\n      commit('SET_CHART_THEME', theme)\n    }\n\n    if (state.textColor) {\n      commit('SET_TEXT_COLOR', '')\n    }\n  },\n  updateCSS({ state }) {\n    const theme = state.theme\n    const backgroundDirection = theme === 'dark' ? 1 : -1\n    const backgroundRgb = splitColorCode(state.backgroundColor)\n    const background100Rgb = getLinearShare(\n      backgroundRgb,\n      0.025 * backgroundDirection\n    )\n    const background100 = joinRgba(background100Rgb)\n\n    document.documentElement.style.setProperty(\n      '--theme-background-base',\n      state.backgroundColor\n    )\n    document.documentElement.style.setProperty(\n      '--theme-background-100',\n      background100\n    )\n    document.documentElement.style.setProperty(\n      '--theme-background-150',\n      joinRgba(getLinearShare(backgroundRgb, 0.05 * backgroundDirection))\n    )\n    document.documentElement.style.setProperty(\n      '--theme-background-200',\n      joinRgba(getLinearShare(backgroundRgb, 0.08 * backgroundDirection))\n    )\n    document.documentElement.style.setProperty(\n      '--theme-background-300',\n      joinRgba(getLinearShare(backgroundRgb, 0.125 * backgroundDirection))\n    )\n\n    // const background100 = splitColorCode(document.documentElement.style.getPropertyValue('--theme-background-100'))\n    document.documentElement.style.setProperty(\n      '--theme-background-o75',\n      `rgba(${background100Rgb[0]}, ${background100Rgb[1]},${background100Rgb[2]}, .75)`\n    )\n    document.documentElement.style.setProperty(\n      '--theme-background-o20',\n      `rgba(${background100Rgb[0]}, ${background100Rgb[1]},${background100Rgb[2]}, .2)`\n    )\n\n    let textColor = state.textColor\n    let textColorRgb\n\n    if (!textColor) {\n      textColorRgb = getTextColor(backgroundRgb, 1.25)\n      textColor = joinRgba(textColorRgb)\n    } else {\n      textColorRgb = splitColorCode(textColor)\n    }\n\n    document.documentElement.style.setProperty('--theme-color-base', textColor)\n    document.documentElement.style.setProperty(\n      '--theme-color-100',\n      joinRgba(getTextColor(backgroundRgb, 1.2))\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-150',\n      joinRgba(getTextColor(backgroundRgb, 1.4))\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-200',\n      joinRgba(getTextColor(backgroundRgb, 1.7))\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-o75',\n      `rgba(${textColorRgb[0]}, ${textColorRgb[1]},${textColorRgb[2]}, .75)`\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-o50',\n      `rgba(${textColorRgb[0]}, ${textColorRgb[1]},${textColorRgb[2]}, .5)`\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-o20',\n      `rgba(${textColorRgb[0]}, ${textColorRgb[1]},${textColorRgb[2]}, .2)`\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-o10',\n      `rgba(${textColorRgb[0]}, ${textColorRgb[1]},${textColorRgb[2]}, .1)`\n    )\n    document.documentElement.style.setProperty(\n      '--theme-color-o05',\n      `rgba(${textColorRgb[0]}, ${textColorRgb[1]},${textColorRgb[2]}, .05)`\n    )\n\n    const buyRgb = splitColorCode(state.buyColor)\n\n    document.documentElement.style.setProperty(\n      '--theme-buy-base',\n      state.buyColor\n    )\n    document.documentElement.style.setProperty(\n      '--theme-buy-100',\n      getLogShade(buyRgb, 0.25)\n    )\n    document.documentElement.style.setProperty(\n      '--theme-buy-color',\n      joinRgba(getTextColor(buyRgb))\n    )\n\n    const sellRgb = splitColorCode(state.sellColor)\n\n    document.documentElement.style.setProperty(\n      '--theme-sell-base',\n      state.sellColor\n    )\n    document.documentElement.style.setProperty(\n      '--theme-sell-100',\n      getLogShade(sellRgb, 0.25)\n    )\n    document.documentElement.style.setProperty(\n      '--theme-sell-color',\n      joinRgba(getTextColor(sellRgb))\n    )\n  },\n  setAudioVolume({ commit, state }, volume: number) {\n    commit('SET_AUDIO_VOLUME', volume)\n\n    audioService.setVolume(volume)\n\n    if (volume && !state.useAudio) {\n      commit('TOGGLE_AUDIO', true)\n    } else if (!volume && state.useAudio) {\n      commit('TOGGLE_AUDIO', false)\n    }\n  },\n  saveSearchSelection({ commit }, selection: string[]) {\n    const sortedSelection = selection.sort((a, b) => a.localeCompare(b))\n\n    const pairs = []\n    const exchanges = []\n\n    for (const market of sortedSelection) {\n      const [exchange, pair] = parseMarket(market)\n      const product = getMarketProduct(exchange, pair, true)\n\n      const local = product.local\n\n      if (pairs.indexOf(local) === -1) {\n        pairs.push(local)\n      }\n\n      if (exchanges.indexOf(exchange) === -1) {\n        exchanges.push(exchange)\n      }\n    }\n\n    let label\n    let count = 0\n\n    if (sortedSelection.length === 1) {\n      label = sortedSelection[0]\n    } else if (exchanges.length === 1) {\n      label = exchanges[0] + ':' + pairs.join('+')\n      count = sortedSelection.length\n    } else {\n      label = pairs.join('+')\n      count = sortedSelection.length\n    }\n\n    commit('SAVE_SEARCH_SELECTION', {\n      label: label.length > 32 ? label.slice(0, 29) + '...' : label,\n      markets: sortedSelection,\n      count\n    })\n  }\n} as ActionTree<SettingsState, ModulesState>\n\nconst mutations = {\n  SET_QUOTE_AS_PREFERED_CURRENCY(state, value) {\n    state.preferQuoteCurrencySize = value ? true : false\n\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: {\n        key: 'preferQuoteCurrencySize',\n        value: state.preferQuoteCurrencySize\n      }\n    })\n  },\n  TOGGLE_SLIPPAGE(state) {\n    const values: SlippageMode[] = [false, 'bps', 'price']\n\n    const index = Math.max(0, values.indexOf(state.calculateSlippage))\n\n    state.calculateSlippage = values[(index + 1) % values.length]\n\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: { key: 'calculateSlippage', value: state.calculateSlippage }\n    })\n  },\n  TOGGLE_AGGREGATION(state) {\n    const values: AggregationLength[] = [0, 1, 10, 100, 1000]\n\n    const index = Math.max(0, values.indexOf(state.aggregationLength))\n\n    state.aggregationLength = values[(index + 1) % values.length]\n\n    aggregatorService.dispatch({\n      op: 'configureAggregator',\n      data: { key: 'aggregationLength', value: state.aggregationLength }\n    })\n  },\n  TOGGLE_ANIMATIONS(state) {\n    state.disableAnimations = !state.disableAnimations\n  },\n  TOGGLE_NORMAMIZE_WATERMARKS(state) {\n    state.normalizeWatermarks = !state.normalizeWatermarks\n  },\n  TOGGLE_SETTINGS_PANEL(state, value) {\n    const index = state.settings.indexOf(value)\n\n    if (index === -1) {\n      state.settings.push(value)\n    } else {\n      state.settings.splice(index, 1)\n    }\n  },\n  TOGGLE_SEARCH_PANEL(state, value) {\n    const index = state.searchSections.indexOf(value)\n\n    if (index === -1) {\n      state.searchSections.push(value)\n    } else {\n      state.searchSections.splice(index, 1)\n    }\n  },\n  TOGGLE_AUDIO(state, value) {\n    state.useAudio = value ? true : false\n\n    if (state.useAudio) {\n      audioService.connect()\n    } else {\n      audioService.disconnect()\n    }\n  },\n  SET_AUDIO_VOLUME(state, value) {\n    state.audioVolume = value\n  },\n  SET_AUDIO_FILTER(state, { id, value }: { id: string; value: boolean }) {\n    state.audioFilters[id] = value\n    audioService.reconnect()\n  },\n  SET_BACKGROUND_COLOR(state, value) {\n    state.backgroundColor = value\n  },\n  SET_CHART_THEME(state, value) {\n    state.theme = value\n  },\n  SET_TEXT_COLOR(state, value) {\n    state.textColor = value\n  },\n  SET_BUY_COLOR(state, value) {\n    state.buyColor = value\n  },\n  SET_SELL_COLOR(state, value) {\n    state.sellColor = value\n  },\n  SET_TIMEZONE_OFFSET(state, value) {\n    state.timezoneOffset = +value || 0\n  },\n  TOGGLE_AUTO_HIDE_HEADERS(state) {\n    state.autoHideHeaders = !state.autoHideHeaders\n  },\n  TOGGLE_SEARCH_TYPE(state, key: string) {\n    Vue.set(state.searchTypes, key, !state.searchTypes[key])\n  },\n  TOGGLE_SEARCH_QUOTE(state, { key, value }: { key: string; value: boolean }) {\n    Vue.set(state.searchQuotes, key, value)\n  },\n  TOGGLE_SEARCH_EXCHANGE(state, key: string) {\n    Vue.set(\n      state.searchExchanges,\n      key,\n      typeof state.searchExchanges[key] === 'boolean'\n        ? !state.searchExchanges[key]\n        : false\n    )\n  },\n  CLEAR_SEARCH_FILTERS(state) {\n    for (const key in state.searchTypes) {\n      if (key === 'normalize') {\n        continue\n      }\n\n      state.searchTypes[key] = false\n    }\n\n    Vue.set(state, 'searchTypes', state.searchTypes)\n    Vue.set(state, 'searchQuotes', {})\n  },\n  TOGGLE_FAVORITE_TIMEFRAME(state, value) {\n    if (typeof state.favoriteTimeframes[value] === 'undefined') {\n      Vue.set(state.favoriteTimeframes, value, getTimeframeForHuman(value))\n    } else {\n      Vue.delete(state.favoriteTimeframes, value)\n    }\n  },\n  TOGGLE_ALERTS(state, value) {\n    state.alerts = typeof value !== 'undefined' ? value : !state.alerts\n\n    if (value && isTouchSupported()) {\n      state.alertsClick = true\n    }\n  },\n  SET_ALERTS_COLOR(state, value) {\n    state.alertsColor = value\n  },\n  SET_ALERTS_LINESTYLE(state, value) {\n    state.alertsLineStyle = Math.max(0, Math.min(4, value))\n  },\n  SET_ALERTS_LINEWIDTH(state, value) {\n    state.alertsLineWidth = Math.max(0, +value || 0)\n  },\n  TOGGLE_ALERTS_CLICK(state) {\n    state.alertsClick = !state.alertsClick\n  },\n  SET_ALERT_SOUND(state, value) {\n    state.alertSound = value\n  },\n  SAVE_SEARCH_SELECTION(state, value) {\n    const matchingSavedSearch = state.previousSearchSelections.find(\n      a => a.label === value.label && a.count === value.count\n    )\n\n    if (matchingSavedSearch) {\n      state.previousSearchSelections.splice(\n        state.previousSearchSelections.indexOf(matchingSavedSearch),\n        1\n      )\n    }\n    state.previousSearchSelections.unshift(value)\n\n    if (state.previousSearchSelections.length > 32) {\n      state.previousSearchSelections.splice(\n        32,\n        state.previousSearchSelections.length - 32\n      )\n    }\n  },\n  CLEAR_SEARCH_HISTORY(state) {\n    state.previousSearchSelections = []\n  },\n  REMOVE_SEARCH_HISTORY(state, markets) {\n    const match = state.previousSearchSelections.find(\n      a => a.markets === markets\n    )\n\n    if (match) {\n      state.previousSearchSelections.splice(\n        state.previousSearchSelections.indexOf(match),\n        1\n      )\n    }\n  },\n  REMOVE_TIMEFRAME(state, value) {\n    const index = state.timeframes.indexOf(\n      state.timeframes.find(timeframe => timeframe.value === value)\n    )\n\n    if (index !== -1) {\n      state.timeframes.splice(index, 1)\n    }\n  },\n  ADD_TIMEFRAME(state, value) {\n    state.timeframes.push({\n      label: getTimeframeForHuman(value),\n      value\n    })\n  },\n  TOGGLE_TIMEFRAME_GROUP(state, value) {\n    const index = state.timeframeGroups.indexOf(value)\n\n    if (index === -1) {\n      state.timeframeGroups.push(value)\n    } else {\n      state.timeframeGroups.splice(index, 1)\n    }\n  }\n} as MutationTree<SettingsState>\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  mutations\n} as Module<SettingsState, ModulesState>\n","import aggregatorService from '@/services/aggregatorService'\nimport Vue from 'vue'\nimport { ActionTree, GetterTree, Module, MutationTree } from 'vuex'\nimport { ModulesState } from '.'\n\nexport interface ExchangeSettings {\n  disabled?: boolean\n}\n\nexport type ExchangesState = { [exchangeId: string]: ExchangeSettings } & {\n  _id: string\n  _exchanges: string[]\n}\n\nconst supportedExchanges = process.env.VUE_APP_EXCHANGES.split(',').map(id =>\n  id.toUpperCase()\n)\n\nconst state = supportedExchanges.reduce(\n  (exchangesState: ExchangesState, id: string) => {\n    exchangesState[id] = {\n      disabled: /HITBTC|PHEMEX|BINANCE_US|SERUM|OKEX|HUOBI|BITSTAMP|KRAKEN|POLONIEX/.test(\n        id\n      )\n    }\n\n    return exchangesState\n  },\n  {\n    _exchanges: []\n  } as any\n) as ExchangesState\n\nstate._id = 'exchanges'\n\nconst getters = {\n  getExchanges: state =>\n    Object.keys(state).filter(id => id !== 'INDEX' && !/^_/.test(id))\n} as GetterTree<ExchangesState, ModulesState>\n\nconst actions = {\n  async boot({ dispatch }) {\n    await dispatch('prepareExchanges')\n  },\n  prepareExchanges({ state, getters, rootState }) {\n    state._exchanges.splice(0, state._exchanges.length)\n\n    for (const id of getters.getExchanges) {\n      if (supportedExchanges.indexOf(id) === -1) {\n        if (rootState.settings.searchExchanges[id]) {\n          delete rootState.settings.searchExchanges[id]\n        }\n\n        if (rootState.exchanges[id]) {\n          delete rootState.exchanges[id]\n        }\n\n        continue\n      }\n\n      state._exchanges.push(id)\n      rootState.app.activeExchanges[id] = !state[id].disabled\n    }\n  },\n  async toggleExchange({ commit, state, dispatch }, id: string) {\n    commit('TOGGLE_EXCHANGE', id)\n\n    if (state[id].disabled) {\n      await dispatch('disconnect', id)\n    } else {\n      await dispatch('connect', id)\n    }\n\n    this.commit('app/EXCHANGE_UPDATED', id)\n  },\n  async disconnect({ rootState }, id: string) {\n    const exchangeRegex = new RegExp(`^${id}:`, 'i')\n    const markets = Object.keys(rootState.panes.marketsListeners).filter(p =>\n      exchangeRegex.test(p)\n    )\n\n    console.log(\n      `[exchanges.${id}] manually disconnecting ${markets.join(', ')}`\n    )\n\n    await aggregatorService.disconnect(markets)\n  },\n  async connect({ rootState }, id: string) {\n    const exchangeRegex = new RegExp(`^${id}:`, 'i')\n    const markets = Object.keys(rootState.panes.marketsListeners).filter(p =>\n      exchangeRegex.test(p)\n    )\n\n    console.log(`[exchanges.${id}] manually connecting ${markets.join(', ')}`)\n\n    await aggregatorService.connect(markets)\n  }\n} as ActionTree<ExchangesState, ModulesState>\n\nconst mutations = {\n  TOGGLE_EXCHANGE: (state, id: string) => {\n    let disabled = true\n\n    if (typeof state[id].disabled === 'boolean') {\n      disabled = !state[id].disabled\n    }\n\n    Vue.set(state[id], 'disabled', disabled)\n  }\n} as MutationTree<ExchangesState>\n\nexport default {\n  namespaced: true,\n  getters,\n  state,\n  actions,\n  mutations\n} as Module<ExchangesState, ModulesState>\n","import aggregatorService from '@/services/aggregatorService'\nimport workspacesService from '@/services/workspacesService'\nimport { getBucketId, slugify, uniqueName } from '@/utils/helpers'\nimport { registerModule } from '@/utils/store'\nimport Vue from 'vue'\nimport { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\nimport { ModulesState } from '.'\nimport panesSettings from './panesSettings'\nimport defaultPanes from './defaultPanes.json'\nimport { ListenedProduct } from './app'\nimport { GRID_COLS } from '@/utils/constants'\nimport { getMarketProduct, parseMarket } from '../services/productsService'\n\nexport type PaneType =\n  | 'trades'\n  | 'chart'\n  | 'stats'\n  | 'counters'\n  | 'prices'\n  | 'website'\nexport type MarketsListeners = { [market: string]: ListenedProduct }\nexport interface GridItem {\n  x?: number\n  y?: number\n  w?: number\n  h?: number\n  i: string\n  type?: string\n}\n\nexport interface Pane {\n  type: string\n  id: string\n  name: string\n  zoom?: number\n  markets?: string[]\n  settings?: any\n}\n\nexport interface PanesState {\n  locked?: boolean\n  layout: GridItem[]\n  panes: { [paneId: string]: Pane }\n  marketsListeners: MarketsListeners\n}\n\nconst layoutDesktop = [\n  { i: 'chart', type: 'chart', x: 0, y: 0, w: 20, h: 24 },\n  { i: 'trades', type: 'trades', x: 20, y: 0, w: 4, h: 20 },\n  { i: 'liquidations', type: 'trades', x: 20, y: 20, w: 4, h: 4 }\n]\n\nconst layoutMobile = [\n  { i: 'chart', type: 'chart', x: 0, y: 0, w: 24, h: 16 },\n  { i: 'trades', type: 'trades', x: 0, y: 0, w: 24, h: 8 }\n]\n\nconst state: PanesState = JSON.parse(JSON.stringify(defaultPanes))\n\nconst getters = {} as GetterTree<PanesState, ModulesState>\n\nconst actions = {\n  async boot({ state, dispatch }) {\n    if (!state.layout) {\n      dispatch('setupLayout')\n    }\n\n    for (const market in state.marketsListeners) {\n      if (typeof state.marketsListeners[market] === 'number') {\n        delete state.marketsListeners[market]\n      } else {\n        state.marketsListeners[market].listeners = 0\n      }\n    }\n  },\n  async addPane(\n    { commit, dispatch, state },\n    options: Pane & { settings?: any; originalGridItem?: any }\n  ) {\n    if (!panesSettings[options.type]) {\n      this.dispatch('app/showNotice', {\n        title: 'Unrecognized pane type \"' + options.type + '\"',\n        type: 'error'\n      })\n      return\n    }\n\n    const name = options.name || ''\n    const id = uniqueName(\n      slugify(name || options.type),\n      Object.keys(state.panes)\n    )\n\n    const pane: Pane = {\n      id,\n      name,\n      type: options.type,\n      zoom: options.zoom,\n      settings: options.settings,\n      markets: options.markets || Object.keys(state.marketsListeners)\n    }\n\n    await registerModule(id, {}, true, pane)\n\n    commit('ADD_PANE', pane)\n    dispatch('appendPaneGridItem', {\n      id: pane.id,\n      type: pane.type,\n      originalGridItem: options.originalGridItem\n    })\n    dispatch('refreshMarketsListeners')\n\n    Vue.nextTick(() => {\n      window.scrollTo(0, document.body.scrollHeight)\n    })\n  },\n  async removePane({ commit, state, dispatch, rootState }, id: string) {\n    const item = state.panes[id]\n\n    if (!item) {\n      return\n    }\n\n    dispatch('removePaneGridItems', id)\n    commit('REMOVE_PANE', id)\n    dispatch('refreshMarketsListeners')\n\n    if (rootState.app.focusedPaneId === id) {\n      this.commit('app/SET_FOCUSED_PANE', null)\n    }\n\n    await workspacesService.removeState(id)\n\n    setTimeout(() => {\n      this.unregisterModule(id)\n\n      localStorage.removeItem(id)\n    })\n  },\n  appendPaneGridItem(\n    { commit },\n    {\n      id,\n      type,\n      originalGridItem\n    }: { id: string; type: PaneType; originalGridItem?: GridItem }\n  ) {\n    const item: GridItem = {\n      i: id,\n      type\n    }\n\n    if (originalGridItem) {\n      item.w = originalGridItem.w\n      item.h = originalGridItem.h\n    }\n\n    commit('ADD_GRID_ITEM', item)\n  },\n  removePaneGridItems({ commit, state }, id: string) {\n    const item = state.layout.find(item => item.i === id)\n\n    if (item) {\n      const index = state.layout.indexOf(item)\n      commit('REMOVE_GRID_ITEM', index)\n    }\n  },\n  async refreshMarketsListeners({ commit, state }, { markets, id } = {}) {\n    // cache original listeners (market: n listeners)\n    const originalListeners: { [marketKey: string]: number } = Object.keys(\n      state.marketsListeners\n    ).reduce((listenersByMarkets, marketKey) => {\n      listenersByMarkets[marketKey] =\n        state.marketsListeners[marketKey].listeners\n\n      return listenersByMarkets\n    }, {})\n\n    // new listeners stored here\n    const marketsListeners: MarketsListeners = {}\n\n    // bucketed markets stored here\n    const buckets = {}\n\n    for (const paneId in state.panes) {\n      let paneMarkets = state.panes[paneId].markets\n      if (markets && (!id || paneId === id)) {\n        paneMarkets = markets\n      }\n\n      if (\n        state.panes[paneId].type === 'counters' ||\n        state.panes[paneId].type === 'stats'\n      ) {\n        // market used in a bucket\n        const bucketId = getBucketId(paneMarkets)\n\n        if (!buckets[bucketId]) {\n          buckets[bucketId] = paneMarkets\n        }\n      }\n\n      for (const marketKey of paneMarkets) {\n        if (typeof marketsListeners[marketKey] === 'undefined') {\n          if (state.marketsListeners[marketKey]) {\n            marketsListeners[marketKey] = state.marketsListeners[marketKey]\n            marketsListeners[marketKey].listeners = 0\n          } else {\n            const [exchange, pair] = parseMarket(marketKey)\n\n            marketsListeners[marketKey] = getMarketProduct(exchange, pair, true)\n\n            marketsListeners[marketKey].listeners = 0\n          }\n        }\n\n        if (typeof marketsListeners[marketKey] !== 'undefined') {\n          marketsListeners[marketKey].listeners++\n        }\n      }\n    }\n\n    const allUniqueMarkets = Object.keys(marketsListeners)\n      .concat(Object.keys(state.marketsListeners))\n      .filter((v, i, a) => a.indexOf(v) === i)\n\n    const toConnect = []\n    const toDisconnect = []\n\n    for (const market of allUniqueMarkets) {\n      const previousListeners = originalListeners[market]\n      const currentListeners =\n        marketsListeners[market] && marketsListeners[market].listeners\n\n      if (!previousListeners && currentListeners) {\n        toConnect.push(market)\n      } else if (previousListeners && !currentListeners) {\n        toDisconnect.push(market)\n\n        if (state.marketsListeners[market]) {\n          // dlete market from store\n          delete state.marketsListeners[market]\n        }\n      }\n    }\n\n    await Promise.all([\n      aggregatorService.connect(toConnect),\n      aggregatorService.disconnect(toDisconnect)\n    ])\n\n    aggregatorService.dispatch({\n      op: 'updateBuckets',\n      data: buckets\n    })\n\n    commit('SET_MARKETS_LISTENERS', marketsListeners)\n\n    if (markets) {\n      for (const paneId in state.panes) {\n        if (!id || paneId === id) {\n          commit('SET_PANE_MARKETS', { id: paneId, markets })\n        }\n      }\n    }\n  },\n  setMarketsForAll({ dispatch }, markets: string[]) {\n    return dispatch('refreshMarketsListeners', { markets })\n  },\n  setMarketsForPane(\n    { dispatch },\n    { id, markets }: { id: string; markets: string[] }\n  ) {\n    return dispatch('refreshMarketsListeners', { id, markets })\n  },\n  duplicatePane({ state, rootState, dispatch }, id: string) {\n    if (!state.panes[id] || !rootState[id]) {\n      this.dispatch('app/showNotice', {\n        title: `Pane ${id} doesn't exists`,\n        type: 'error'\n      })\n\n      return\n    }\n\n    const options = JSON.parse(JSON.stringify(state.panes[id]))\n    options.settings = JSON.parse(JSON.stringify(rootState[id]))\n    options.originalGridItem = state.layout.find(a => a.i === id)\n    dispatch('addPane', options)\n\n    this.dispatch('app/showNotice', {\n      title: `Duplicated pane ${id}`\n    })\n  },\n  async resetPane(\n    { state, rootState },\n    { id, data }: { id: string; data?: any }\n  ) {\n    const pane = JSON.parse(JSON.stringify(state.panes[id]))\n\n    let currentPaneState\n\n    if (data && typeof data === 'object') {\n      currentPaneState = Object.assign({}, rootState[id], data)\n    }\n\n    const layoutItem = state.layout.find(a => a.i === id)\n\n    const originalPaneType = layoutItem.type\n\n    layoutItem.type = 'div'\n\n    this.unregisterModule(id)\n\n    await workspacesService.removeState(id)\n\n    if (currentPaneState) {\n      await workspacesService.saveState(id, currentPaneState)\n    }\n\n    await registerModule(id, {}, true, pane)\n\n    layoutItem.type = originalPaneType\n  },\n  setZoom({ commit, dispatch }, { id, zoom }: { id: string; zoom: number }) {\n    commit('SET_PANE_ZOOM', { id, zoom })\n\n    dispatch('refreshZoom', id)\n  },\n  refreshZoom({ state }, id: string) {\n    const zoom = state.panes[id].zoom ? Math.max(0.1, state.panes[id].zoom) : 1\n    const el = document.getElementById(id) as HTMLElement\n\n    if (el) {\n      const parent = el.parentElement\n\n      parent.style.fontSize = zoom ? zoom + 'rem' : ''\n      el.classList.remove('-large', '-extra-large', '-small', '-extra-small')\n\n      if (zoom > 1) {\n        el.classList.add('-large')\n        if (zoom >= 2) {\n          el.classList.add('-extra-large')\n        }\n      } else {\n        el.classList.add('-small')\n        if (zoom < 0.87) {\n          el.classList.add('-extra-small')\n        }\n      }\n    }\n  },\n  setupLayout({ state }) {\n    // first time load\n    // app not even loaded yet\n\n    let initialZoom = 1\n    const innerWidth = window.innerWidth\n\n    console.info('[panes/setupLayout] @' + innerWidth)\n\n    if (innerWidth >= 768) {\n      // start with desktop layout\n      state.layout = layoutDesktop\n\n      if (innerWidth >= 1920) {\n        initialZoom = 1.25\n      }\n    } else {\n      // start with mobile layout\n      state.layout = layoutMobile\n      initialZoom = 1.25\n\n      delete state.panes.liquidations\n    }\n\n    if (initialZoom > 1) {\n      for (const paneId in state.panes) {\n        state.panes[paneId].zoom = initialZoom\n      }\n    }\n  }\n} as ActionTree<PanesState, ModulesState>\n\nconst mutations = {\n  ADD_PANE: (state, pane: Pane) => {\n    Vue.set(state.panes, pane.id, pane)\n  },\n  REMOVE_PANE: (state, id: string) => {\n    Vue.delete(state.panes, id)\n  },\n  ADD_GRID_ITEM: (state, item) => {\n    if (typeof item.x === 'undefined') {\n      const cols = GRID_COLS\n      const size =\n        window.innerWidth <= 500 ? 16 : window.innerWidth < 768 ? 8 : 4\n      const width = item.w || size\n      const height = item.h || size\n\n      const items = state.layout\n        .slice()\n        .sort((a, b) => a.x + a.y * 2 - (b.x + b.y * 2))\n\n      const columns = []\n\n      for (let x = 0; x < cols; x += width) {\n        let y = 0\n        for (const item of items) {\n          if (\n            (item.x >= x && item.x < x + width) ||\n            (item.x + item.w > x && item.x + item.w < x + width) ||\n            (item.x < x && item.x + item.w >= x + width)\n          ) {\n            y = Math.max(y, item.y + item.h)\n            continue\n          }\n        }\n\n        columns.push(y)\n      }\n\n      item.y = Math.min.apply(null, columns)\n      item.x = columns.indexOf(Math.min.apply(null, columns)) * width\n\n      if (item.y >= cols) {\n        for (const item of state.layout) {\n          item.y += height\n        }\n\n        item.y = 0\n        item.x = 0\n      }\n\n      item.w = width\n      item.h = height\n    }\n\n    state.layout.push(item)\n  },\n  REMOVE_GRID_ITEM: (state, index) => {\n    state.layout.splice(index, 1)\n  },\n  UPDATE_LAYOUT: (state, items: GridItem[]) => {\n    state.layout = items\n  },\n  TOGGLE_LAYOUT: state => {\n    state.locked = !state.locked\n  },\n  SET_MARKETS_LISTENERS: (state, marketsListeners: MarketsListeners) => {\n    state.marketsListeners = marketsListeners\n  },\n  SET_PANE_MARKETS: (\n    state,\n    { id, markets }: { id: string; markets: string[] }\n  ) => {\n    state.panes[id].markets = markets\n  },\n  SET_PANE_NAME: (state, { id, name }: { id: string; name: string }) => {\n    state.panes[id].name = name\n  },\n  SET_PANE_ZOOM: (state, { id, zoom }: { id: string; zoom: number }) => {\n    Vue.set(state.panes[id], 'zoom', zoom)\n  }\n} as MutationTree<PanesState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<PanesState, ModulesState>\n","import Vue from 'vue'\nimport Vuex, { Module, StoreOptions } from 'vuex'\nimport { bootPane, registerModule, scheduleSync } from '@/utils/store'\n\nimport app, { AppState } from './app'\nimport settings, { SettingsState } from './settings'\nimport exchanges, { ExchangesState } from './exchanges'\nimport panes, { PanesState } from './panes'\nimport { Workspace } from '@/types/types'\nimport { resolvePairs } from '../services/productsService'\nimport panesSettings from './panesSettings'\n\nVue.use(Vuex)\n\nexport interface AppModuleTree<R> {\n  [key: string]: Module<any, R>\n}\n\nexport interface ModulesState {\n  app: AppState\n  settings: SettingsState\n  panes: PanesState\n  exchanges: ExchangesState\n}\n\nconst store = new Vuex.Store({} as StoreOptions<ModulesState>)\nconst modules = { app, settings, exchanges, panes } as AppModuleTree<\n  ModulesState\n>\n\nstore.subscribe((mutation, state: any) => {\n  const moduleId = mutation.type.split('/')[0]\n\n  if (state[moduleId] && typeof state[moduleId]._id !== 'undefined') {\n    scheduleSync(state[moduleId])\n  }\n})\n\nexport async function boot(workspace?: Workspace, pairsFromURL?: string[]) {\n  console.log(\n    `[store] booting on workspace \"${workspace.name}\" (${workspace.id})`\n  )\n\n  console.info(`loading core module`)\n  await registerModule('app', modules['app'])\n  await store.dispatch('app/boot')\n\n  console.info(`setting up workspace`)\n  await registerModule('settings', modules['settings'])\n  await store.dispatch('settings/boot')\n\n  console.info(`loading panes`)\n  await registerModule('panes', modules['panes'])\n  await store.dispatch('panes/boot')\n\n  console.info(`registering exchanges`)\n  await registerModule('exchanges', modules['exchanges'])\n\n  console.info(`preparing active exchanges`)\n  await store.dispatch('exchanges/boot')\n\n  for (const paneId in store.state.panes.panes) {\n    if (!panesSettings[store.state.panes.panes[paneId].type]) {\n      await store.dispatch('panes/removePane', paneId)\n      continue\n    }\n\n    console.info(`registering pane module ${paneId}`)\n\n    await registerModule(paneId, {}, false, store.state.panes.panes[paneId])\n\n    await bootPane(paneId)\n  }\n\n  store.dispatch('app/setBooted')\n\n  let marketsOverride\n\n  if (pairsFromURL) {\n    marketsOverride = await resolvePairs(pairsFromURL)\n  }\n\n  await store.dispatch('panes/refreshMarketsListeners', {\n    markets: marketsOverride\n  })\n\n  store.commit('app/SET_EXCHANGES_READY')\n}\n\nexport default store\n","import store from '@/store'\nimport { ProductsData, ProductsStorage } from '@/types/types'\nimport { PRODUCTS_EXPIRES_AFTER } from '@/utils/constants'\nimport { getApiUrl } from '../utils/helpers'\nimport aggregatorService from './aggregatorService'\nimport workspacesService from './workspacesService'\n\nconst baseQuoteLookupKnown = new RegExp(\n  `^([A-Z0-9]{3,})[-/:]?(USDT|USDC|TUSD|BUSD)$|^([A-Z0-9]{2,})[-/:]?(UST|EUR|USD)$`\n)\nconst baseQuoteLookupOthers = new RegExp(`^([A-Z0-9]{2,})[-/]?([A-Z0-9]{3,})$`)\nconst baseQuoteLookupPoloniex = new RegExp(`^(.*)_(.*)$`)\n\nconst promisesOfProducts = {}\n\nexport const indexedProducts = {}\n\nexport const marketDecimals = {}\n\n/**\n * 1. app send products request to worker\n * 2. worker send products request endpoints\n * 3. app call getStoredProductsOrFetch with worker's endpoints\n * 4. getStoredProductsOrFetch first try to retrieve from workspace storage\n * 5. if not found or forceFetch is true, getStoredProductsOrFetch will fetch using worker's endpoints\n * 6. aquired productsData are sent back to worker for assignation in the exchange class\n * @param exchangeId\n * @param {boolean} forceFetch\n * @returns\n */\nexport function requestExchangeProductsData(\n  exchangeId: string,\n  forceFetch = false\n) {\n  if (promisesOfProducts[exchangeId]) {\n    console.debug(`[products.${exchangeId}] use promise of products`)\n    return promisesOfProducts[exchangeId]\n  }\n\n  promisesOfProducts[exchangeId] = aggregatorService\n    .dispatchAsync({\n      op: 'fetchExchangeProducts',\n      data: { exchangeId, forceFetch }\n    })\n    .then(data => {\n      delete promisesOfProducts[exchangeId]\n      return data\n    })\n\n  return promisesOfProducts[exchangeId]\n}\n\nasync function getExchangeStoredProductsData(exchangeId: string) {\n  console.debug(`[products.${exchangeId}] reading stored products`)\n\n  const storage = await workspacesService.getProducts(exchangeId)\n\n  if (storage && Date.now() - storage.timestamp < PRODUCTS_EXPIRES_AFTER) {\n    return storage.data\n  }\n\n  return null\n}\n\nfunction saveExchangeProductsData(\n  exchangeId: string,\n  productsData: ProductsData\n) {\n  console.log(`[products.${exchangeId}] saving products`)\n\n  return workspacesService.saveProducts({\n    exchange: exchangeId,\n    data: productsData,\n    timestamp: Date.now()\n  })\n}\n\n/**\n * 1. get raw symbols data from exchange API\n * 2. send response(s) to worker for formatting\n * 3. worker returns formatted products data (productsData)\n * 4. return productsData\n * @param {string} exchangeId exchange to fetch products for\n * @param {string[]} endpoints list of URL to fetch\n * @returns {Promise<ProductsData>}\n */\nasync function fetchExchangeProducts(\n  exchangeId: string,\n  endpoints: string[]\n): Promise<ProductsData> {\n  if (!Array.isArray(endpoints)) {\n    endpoints = [endpoints]\n  }\n\n  console.debug(\n    `[products.${exchangeId}] fetching latest products...`,\n    endpoints\n  )\n\n  let data = []\n\n  for (const instruction of endpoints) {\n    let [url, method] = instruction.split('|')\n\n    if (!method) {\n      method = 'GET'\n    }\n\n    if (\n      process.env.VUE_APP_PROXY_URL &&\n      !/^https:\\/\\/raw.githubusercontent.com\\//.test(url)\n    ) {\n      url = process.env.VUE_APP_PROXY_URL + url\n    }\n\n    try {\n      const json = await fetch(url, {\n        method\n      }).then(response => response.json())\n\n      data[endpoints.indexOf(instruction)] = json\n    } catch (error) {\n      console.error(`[${exchangeId}] couldn't parse non-json products`, error)\n\n      data[endpoints.indexOf(instruction)] = null\n    }\n  }\n\n  console.log(\n    `[products.${exchangeId}] received API products response => format products`\n  )\n\n  if (data.indexOf(null) !== -1) {\n    // today if one of the endpoint fail, consider they all failed\n    // todo => accept this set of products without saving\n    data = null\n  } else if (data.length === 1) {\n    data = data[0]\n  }\n\n  if (data) {\n    const productsData = (await aggregatorService.dispatchAsync({\n      op: 'formatExchangeProducts',\n      data: {\n        exchangeId: exchangeId,\n        response: data\n      }\n    })) as ProductsStorage\n\n    if (productsData) {\n      return saveExchangeProductsData(exchangeId, productsData).then(\n        () => productsData\n      )\n    }\n\n    return null\n  } else {\n    return null\n  }\n}\n\nexport async function getStoredProductsOrFetch(\n  exchangeId: string,\n  endpoints: string[],\n  forceFetch?: boolean\n): Promise<ProductsData> {\n  let productsData: ProductsData\n\n  if (\n    forceFetch ||\n    !(productsData = await getExchangeStoredProductsData(exchangeId))\n  ) {\n    console.debug(\n      `[products.${exchangeId}] fetch products using provided endpoints`\n    )\n\n    if (indexedProducts[exchangeId]) {\n      delete indexedProducts[exchangeId]\n    }\n\n    productsData = await fetchExchangeProducts(exchangeId, endpoints)\n  } else {\n    console.debug(`[products.${exchangeId}] using products exchange storage`)\n  }\n\n  return productsData\n}\n\nexport function stripStable(pair) {\n  return pair.replace(\n    /(\\w{3})?(usd|ust|eur|jpy|gbp|aud|cad|chf|cnh)[a-z]?$/i,\n    '$1$2'\n  )\n}\n\nexport async function getExchangeSymbols(\n  exchangeId: string,\n  forceFetch = false\n) {\n  let symbols\n\n  const data = await requestExchangeProductsData(exchangeId, forceFetch)\n\n  if (data) {\n    if (Array.isArray(data)) {\n      symbols = data\n    } else {\n      symbols = data.products\n    }\n  }\n\n  if (!symbols) {\n    symbols = []\n  }\n\n  return symbols\n}\n\nexport function parseMarket(market: string) {\n  return market.match(/([^:]*):(.*)/).slice(1, 3)\n}\n\nexport function getMarketProduct(exchangeId, symbol, noStable?: boolean) {\n  const id = exchangeId + ':' + symbol\n\n  let type = 'spot'\n\n  if (/[UZ_-]\\d{2}/.test(symbol)) {\n    type = 'future'\n  } else if (exchangeId === 'BINANCE_FUTURES' || exchangeId === 'DYDX') {\n    type = 'perp'\n  } else if (exchangeId === 'BITFINEX' && /F0$/.test(symbol)) {\n    type = 'perp'\n  } else if (exchangeId === 'HUOBI' && /_(CW|CQ|NW|NQ)$/.test(symbol)) {\n    type = 'future'\n  } else if (exchangeId === 'HUOBI' && /-/.test(symbol)) {\n    type = 'perp'\n  } else if (exchangeId === 'BYBIT' && !/-SPOT$/.test(symbol)) {\n    type = 'perp'\n  } else if (\n    exchangeId === 'BITMEX' ||\n    /(-|_)swap$|(-|_|:)perp/i.test(symbol)\n  ) {\n    if (/\\d{2}/.test(symbol)) {\n      type = 'future'\n    } else {\n      type = 'perp'\n    }\n  } else if (exchangeId === 'PHEMEX' && symbol[0] !== 's') {\n    type = 'perp'\n  } else if (exchangeId === 'KRAKEN' && /_/.test(symbol) && type === 'spot') {\n    type = 'perp'\n  }\n\n  let localSymbol = symbol\n\n  if (exchangeId === 'BYBIT') {\n    localSymbol = localSymbol.replace(/-SPOT$/, '')\n  } else if (exchangeId === 'KRAKEN') {\n    localSymbol = localSymbol.replace(/PI_/, '').replace(/FI_/, '')\n  } else if (exchangeId === 'FTX' && type === 'future') {\n    localSymbol = localSymbol.replace(/(\\w+)-\\d+$/, '$1-USD')\n  } else if (exchangeId === 'BITFINEX') {\n    localSymbol = localSymbol\n      .replace(/(.*)F0:(\\w+)F0/, '$1-$2')\n      .replace(/UST($|F0)/, 'USDT$1')\n  } else if (exchangeId === 'HUOBI') {\n    localSymbol = localSymbol.replace(/_CW|_CQ|_NW|_NQ/i, 'USD')\n  } else if (exchangeId === 'DERIBIT') {\n    localSymbol = localSymbol.replace(/_(\\w+)-PERPETUAL/i, '$1')\n  }\n\n  localSymbol = localSymbol\n    .replace(/xbt$|^xbt/i, 'BTC')\n    .replace(/-PERP(ETUAL)?/i, '-USD')\n    .replace(/[^a-z0-9](perp|swap|perpetual)$/i, '')\n    .replace(/[^a-z0-9]\\d+$/i, '')\n    .toUpperCase()\n\n  let localSymbolAlpha = localSymbol.replace(/[-_/:]/, '')\n\n  let match\n\n  if (exchangeId === 'POLONIEX') {\n    match = symbol.match(baseQuoteLookupPoloniex)\n\n    if (match) {\n      match[0] = match[2]\n      match[2] = match[1]\n      match[1] = match[0]\n\n      localSymbolAlpha = match[1] + match[2]\n    }\n  } else {\n    match = localSymbol.match(baseQuoteLookupKnown)\n\n    if (!match) {\n      match = localSymbolAlpha.match(baseQuoteLookupOthers)\n    }\n  }\n\n  if (\n    !match &&\n    (exchangeId === 'DERIBIT' || exchangeId === 'FTX' || exchangeId === 'HUOBI')\n  ) {\n    match = localSymbolAlpha.match(/(\\w+)[^a-z0-9]/i)\n\n    if (match) {\n      match[2] = match[1]\n    }\n  }\n\n  let base\n  let quote\n\n  if (match) {\n    if (match[1] === undefined && match[2] === undefined) {\n      base = match[3]\n      quote = match[4]\n    } else {\n      base = match[1]\n      quote = match[2]\n    }\n\n    if (noStable) {\n      localSymbolAlpha = stripStable(base + quote)\n    } else {\n      localSymbolAlpha = base + quote\n    }\n  }\n\n  return {\n    id,\n    base,\n    quote,\n    pair: symbol,\n    local: localSymbolAlpha,\n    exchange: exchangeId,\n    type\n  }\n}\n\nexport async function getApiSupportedMarkets() {\n  let products = process.env.VUE_APP_API_SUPPORTED_PAIRS\n\n  if (products && products.length) {\n    products = products.split(',').map(market => market.trim())\n  } else {\n    products = []\n  }\n\n  if (!process.env.VUE_APP_API_URL) {\n    return products\n  }\n\n  const now = Date.now()\n\n  try {\n    const cache = JSON.parse(localStorage.getItem('API_SUPPORTED_PAIRS'))\n\n    if (!cache || !cache.products) {\n      throw new Error('api supported pairs products cache is invalid')\n    }\n\n    if (!cache.products.length) {\n      throw new Error('api supported pairs need a refresh')\n    }\n\n    if (now - cache.timestamp > 1000 * 60 * 5) {\n      throw new Error('api supported pairs products cache has expired')\n    }\n\n    products = cache.products\n  } catch (error) {\n    await fetch(getApiUrl('products'))\n      .then(response => response.json())\n      .then(arr => {\n        products = arr\n      })\n      .catch(err => {\n        console.log(err)\n      })\n\n    localStorage.setItem(\n      'API_SUPPORTED_PAIRS',\n      JSON.stringify({ products, timestamp: now })\n    )\n  }\n\n  return products\n}\n\nexport async function indexProducts(exchangeId: string, symbols: string[]) {\n  console.debug(`[products.${exchangeId}] indexed ${symbols.length} products`)\n\n  indexedProducts[exchangeId] = symbols.map(product =>\n    getMarketProduct(exchangeId, product)\n  )\n\n  return indexedProducts[exchangeId]\n}\n\nexport async function ensureIndexedProducts() {\n  for (const exchangeId of store.getters['exchanges/getExchanges']) {\n    if (\n      store.state.exchanges[exchangeId].disabled === true ||\n      indexedProducts[exchangeId]\n    ) {\n      continue\n    }\n\n    await indexProducts(exchangeId, await getExchangeSymbols(exchangeId))\n  }\n}\n\nexport async function resolvePairs(pairs: string[]) {\n  const markets = []\n\n  const historicalMarkets = store.state.app.historicalMarkets\n  const searchPreference = store.state.settings.searchTypes\n  const historicalOnly = searchPreference.historical\n  const searchTypes = {\n    spot: searchPreference.spots,\n    perp: searchPreference.perpetuals,\n    future: searchPreference.futures\n  }\n  const allTypes = !(searchTypes.spot || searchTypes.perp || searchTypes.future)\n  const searchQuotes = store.state.settings.searchQuotes\n  const allQuotes = !Object.values(searchQuotes).find(filtered => !!filtered)\n\n  for (const exchangeId of store.getters['exchanges/getExchanges']) {\n    if (store.state.exchanges[exchangeId].disabled === true) {\n      continue\n    }\n\n    const symbols = await getExchangeSymbols(exchangeId)\n\n    for (const symbol of symbols) {\n      const product = getMarketProduct(exchangeId, symbol, true)\n\n      if (historicalOnly && historicalMarkets.indexOf(product.id) === -1) {\n        continue\n      }\n\n      if (!allTypes && !searchTypes[product.type]) {\n        continue\n      }\n\n      if (!allQuotes && !searchQuotes[product.quote]) {\n        continue\n      }\n\n      if (pairs.indexOf(product.local) !== -1) {\n        markets.push(product.id)\n      }\n    }\n  }\n\n  if (!markets.length) {\n    return null\n  }\n\n  return markets\n}\n\nexport function formatAmount(amount, decimals?: number) {\n  const negative = amount < 0\n\n  amount = Math.abs(amount)\n\n  if (amount >= 1000000000) {\n    amount =\n      +(amount / 1000000000).toFixed(isNaN(decimals) ? 1 : decimals) + ' B'\n  } else if (amount >= 1000000) {\n    amount = +(amount / 1000000).toFixed(isNaN(decimals) ? 1 : decimals) + ' M'\n  } else if (amount >= 1000) {\n    amount = +(amount / 1000).toFixed(isNaN(decimals) ? 1 : decimals) + 'k'\n  } else {\n    amount = +amount.toFixed(2)\n  }\n\n  if (negative) {\n    return '-' + amount\n  } else {\n    return amount\n  }\n}\n\nexport function countDecimals(value) {\n  const parts = value.toString().split('.')\n\n  if (parts.length === 2) {\n    return parts[1].length\n  }\n\n  return 0\n}\n\nexport function formatMarketPrice(price, market): string {\n  if (typeof marketDecimals[market] === 'undefined') {\n    return price\n  }\n\n  if (!price) {\n    price = 0\n  }\n\n  return price.toFixed(marketDecimals[market])\n}\n\nexport function formatPrice(price, precision?: number): number {\n  if (!precision) {\n    return parseInt(price)\n  }\n\n  if (!price) {\n    price = 0\n  }\n\n  return price.toFixed(precision)\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Dialog',{on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))])]},proxy:true}])},[(!_vm.html)?_c('p',{staticClass:\"mx0\",domProps:{\"textContent\":_vm._s(_vm.message)}}):_c('p',{staticClass:\"mx0\",domProps:{\"innerHTML\":_vm._s(_vm.message)}}),_c('footer',{staticClass:\"pl16\"},[_vm._l((_vm.actions),function(action){return _c('button',{key:action.label,staticClass:\"btn -text -large mr16\",on:{\"click\":function($event){return _vm.onClickAction($event, action)}}},[_vm._v(\" \"+_vm._s(action.label)+\" \")])}),(_vm.cancel)?_c('a',{staticClass:\"btn -text mr8\",attrs:{\"href\":\"javascript:void(0);\"},domProps:{\"textContent\":_vm._s(_vm.cancel)},on:{\"click\":function($event){return _vm.close(false)}}}):_vm._e(),_c('button',{directives:[{name:\"autofocus\",rawName:\"v-autofocus\"}],staticClass:\"btn -green -large\",on:{\"click\":function($event){return _vm.close(true)}}},[_c('i',{staticClass:\"icon-check mr4\"}),_vm._v(\" \"+_vm._s(_vm.ok)+\" \")])],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Dialog @clickOutside=\"close\">\n    <template v-slot:header>\n      <div class=\"title\">{{ title }}</div>\n    </template>\n    <p class=\"mx0\" v-if=\"!html\" v-text=\"message\"></p>\n    <p class=\"mx0\" v-else v-html=\"message\"></p>\n    <footer class=\"pl16\">\n      <button\n        v-for=\"action in actions\"\n        :key=\"action.label\"\n        class=\"btn -text -large mr16\"\n        @click=\"onClickAction($event, action)\"\n      >\n        {{ action.label }}\n      </button>\n\n      <a\n        href=\"javascript:void(0);\"\n        class=\"btn -text mr8\"\n        @click=\"close(false)\"\n        v-if=\"cancel\"\n        v-text=\"cancel\"\n      ></a>\n      <button class=\"btn -green -large\" v-autofocus @click=\"close(true)\">\n        <i class=\"icon-check mr4\"></i> {{ ok }}\n      </button>\n    </footer>\n  </Dialog>\n</template>\n\n<script>\nimport DialogMixin from '@/mixins/dialogMixin'\n\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: 'Confirmation'\n    },\n    message: {\n      type: String,\n      required: true\n    },\n    ok: {\n      type: String,\n      default: 'OK'\n    },\n    cancel: {\n      type: String,\n      default: 'Cancel'\n    },\n    html: {\n      type: Boolean,\n      default: false\n    },\n    actions: {\n      type: Array,\n      default: () => []\n    }\n  },\n  mixins: [DialogMixin],\n  methods: {\n    onClickAction(event, action) {\n      if (action.callback) {\n        const output = action.callback(event)\n        if (typeof output !== 'undefined') {\n          this.close(output)\n        }\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=778af572&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Dialog',{on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.action))])]},proxy:true}])},[(_vm.question)?_c('p',{staticClass:\"mx0\"},[_vm._v(_vm._s(_vm.question))]):_vm._e(),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[(_vm.label)?_c('label',[_vm._v(_vm._s(_vm.label))]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"},{name:\"autofocus\",rawName:\"v-autofocus\"}],staticClass:\"form-control w-100\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing)return;_vm.value=$event.target.value}}})]),_c('footer',[_c('a',{staticClass:\"btn -text\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.close(false)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn -green ml8 -large\",attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"icon-check mr8\"}),_vm._v(\" \"+_vm._s(_vm.submitLabel)+\" \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Dialog @clickOutside=\"close\">\n    <template v-slot:header>\n      <div class=\"title\">{{ action }}</div>\n    </template>\n    <p class=\"mx0\" v-if=\"question\">{{ question }}</p>\n    <form @submit.prevent=\"submit\">\n      <div class=\"form-group\">\n        <label v-if=\"label\">{{ label }}</label>\n        <input\n          type=\"text\"\n          class=\"form-control w-100\"\n          :placeholder=\"placeholder\"\n          v-model=\"value\"\n          v-autofocus\n        />\n      </div>\n\n      <footer>\n        <a href=\"javascript:void(0);\" class=\"btn -text\" @click=\"close(false)\"\n          >Cancel</a\n        >\n        <button type=\"submit\" class=\"btn -green ml8 -large\">\n          <i class=\"icon-check mr8\"></i> {{ submitLabel }}\n        </button>\n      </footer>\n    </form>\n  </Dialog>\n</template>\n\n<script>\nimport DialogMixin from '@/mixins/dialogMixin'\n\nexport default {\n  props: {\n    question: {\n      type: String\n    },\n    action: {\n      type: String,\n      required: true\n    },\n    input: {\n      type: String,\n      default: ''\n    },\n    submitLabel: {\n      type: String,\n      default: 'Submit'\n    },\n    placeholder: {\n      type: String,\n      default: null\n    },\n    label: {\n      type: String,\n      default: null\n    }\n  },\n  mixins: [DialogMixin],\n  data: () => ({\n    value: ''\n  }),\n  created() {\n    if (this.input && this.input.length) {\n      this.value = this.input\n    }\n  },\n  methods: {\n    submit() {\n      this.close(this.value)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PromptDialog.vue?vue&type=template&id=20442980&\"\nimport script from \"./PromptDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./PromptDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport store from '@/store'\n\nimport ConfirmDialog from '@/components/framework/ConfirmDialog.vue'\nimport PromptDialog from '@/components/framework/PromptDialog.vue'\n\nclass DialogService {\n  mountedComponents: { [id: string]: any } = {}\n  isInteracting = false\n  hasDialogOpened = false\n  pickerInstance: any\n\n  createComponent(\n    component,\n    props: any = {},\n    resolve = null,\n    dialogId?: string\n  ): Vue {\n    const Factory = Vue.extend(Object.assign({ store }, component))\n\n    const cmp: any = new Factory(\n      Object.assign(\n        {},\n        {\n          dialogId: dialogId,\n          propsData: Object.assign({}, props),\n          destroyed: () => {\n            if (dialogId && this.mountedComponents[dialogId]) {\n              delete this.mountedComponents[dialogId]\n\n              this.hasDialogOpened =\n                Object.keys(this.mountedComponents).length > 0\n            }\n\n            if (this.pickerInstance === cmp) {\n              delete this.pickerInstance\n            }\n\n            if (typeof resolve === 'function') {\n              resolve((cmp as any).output)\n            }\n          }\n        }\n      )\n    )\n\n    cmp.dialogId = dialogId\n\n    return cmp\n  }\n\n  async openAsPromise(component, props = {}, dialogId?: string): Promise<any> {\n    return new Promise(resolve => {\n      component = this.createComponent(component, props, resolve, dialogId)\n\n      this.mountDialog(component)\n    })\n  }\n\n  open(component, props = {}, dialogId?: string, onClose?: Function): Vue {\n    component = this.createComponent(component, props, onClose, dialogId)\n\n    this.mountDialog(component)\n\n    return component\n  }\n\n  mountDialog(cmp: Vue) {\n    const container = document.getElementById('app') || document.body\n\n    const mounted = cmp.$mount()\n    container.appendChild(mounted.$el)\n\n    const id = (cmp as any).dialogId\n\n    if (id) {\n      if (this.mountedComponents[id]) {\n        this.mountedComponents[id].close()\n      }\n\n      this.mountedComponents[id] = cmp\n\n      this.hasDialogOpened = Object.keys(this.mountedComponents).length > 0\n    }\n  }\n\n  isDialogOpened(name) {\n    return !!this.mountedComponents[name]\n  }\n\n  async openPicker(\n    initialColor,\n    cb,\n    label?: string,\n    onClose?: Function,\n    allowNull?: boolean\n  ) {\n    if (this.pickerInstance) {\n      this.pickerInstance.$off('input')\n      this.pickerInstance.setColorFromProp(initialColor)\n\n      this.pickerInstance.label = typeof label !== 'undefined' ? label : null\n    } else {\n      this.pickerInstance = this.open(\n        (await import('@/components/framework/picker/ColorPickerDialog.vue'))\n          .default,\n        {\n          value: initialColor,\n          label,\n          allowNull\n        },\n        null,\n        onClose\n      )\n    }\n\n    if (typeof cb === 'function') {\n      this.pickerInstance.$on('input', cb)\n    }\n\n    return this.pickerInstance\n  }\n\n  async openIndicator(paneId: string, indicatorId: string) {\n    return this.open(\n      (await import('@/components/chart/IndicatorDialog.vue')).default,\n      {\n        paneId,\n        indicatorId\n      },\n      'indicator'\n    )\n  }\n\n  async confirm(options: any) {\n    if (!options) {\n      return\n    }\n\n    if (typeof options === 'string') {\n      options = {\n        message: options\n      }\n    }\n\n    if (!options.message) {\n      return\n    }\n\n    return this.openAsPromise(ConfirmDialog, options)\n  }\n\n  async prompt(options: any) {\n    if (!options) {\n      return\n    }\n\n    if (typeof options === 'string') {\n      options = {\n        action: options\n      }\n    }\n\n    if (!options.action) {\n      return\n    }\n\n    return this.openAsPromise(PromptDialog, options)\n  }\n}\n\nexport default new DialogService()\n","import Dialog from '@/components/framework/Dialog.vue'\n\nexport default {\n  components: {\n    Dialog\n  },\n  data: function() {\n    return {\n      output: null\n    }\n  },\n  created() {\n    if (module.hot) {\n      module.hot.dispose(() => {\n        this.close()\n      })\n    }\n  },\n  methods: {\n    close(data): Promise<void> {\n      if (this._isDestroyed) {\n        console.warn('attempting to close destroyed dialog.')\n      }\n\n      if (this.preventClose) {\n        return\n      }\n\n      if (typeof data !== 'undefined' && data !== null) {\n        this.output = data\n      }\n\n      this.$destroy()\n\n      // remove the element from the DOM\n      try {\n        this.$el.parentNode.removeChild(this.$el)\n      } catch (error) {\n        console.warn(\n          'failed to remove dialog element: was the dialog already destroyed?',\n          error\n        )\n      }\n\n      return Promise.resolve()\n    }\n  }\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=style&index=0&id=a1b85f3c&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Dialog',{on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"BUCKET\")]),_c('div',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.name))])]),_c('dropdown-button',{attrs:{\"options\":_vm.availableTypes},on:{\"input\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n          id: _vm.bucketId,\n          prop: 'type',\n          value: $event\n        })}},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}})]},proxy:true}])},[_c('div',{staticClass:\"column mb8\"},[_c('div',{staticClass:\"form-group -fill\"},[_c('label',[_vm._v(\"Name\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.name},on:{\"input\":function($event){return _vm.$store.dispatch(_vm.paneId + '/renameBucket', {\n            id: _vm.bucketId,\n            name: $event.target.value\n          })}}})]),(!_vm.conditionnalColor)?_c('div',{ref:\"colorContainer\",staticClass:\"form-group -end mtauto -tight\"},[_c('color-picker-control',{attrs:{\"value\":_vm.color},on:{\"input\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n            id: _vm.bucketId,\n            prop: 'color',\n            value: $event\n          })}}})],1):_vm._e(),(_vm.type === 'histogram')?_c('div',{staticClass:\"form-group -tight -end mtauto\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'bottom' }),expression:\"{ placement: 'bottom' }\"}],staticClass:\"checkbox-control checkbox-control-input -auto flex-right\",attrs:{\"title\":\"Enable onditionnal color\"}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.conditionnalColor},on:{\"change\":function($event){return _vm.$store.commit(_vm.paneId + '/TOGGLE_BUCKET_COLOR_CONDITION', _vm.bucketId)}}}),_c('div',{attrs:{\"on\":\"dynamic\",\"off\":\"fixed\"}})])]):_vm._e()]),(_vm.conditionnalColor)?_c('div',{staticClass:\"form-group mb8\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Color condition \"),_c('span',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"icon-info\",attrs:{\"title\":\"ex: value > 0 ? 'red' : 'white'\"}})]),_c('textarea',{staticClass:\"form-control\",attrs:{\"rows\":\"2\",\"spellcheck\":\"false\"},domProps:{\"value\":_vm.color},on:{\"change\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n          id: _vm.bucketId,\n          prop: 'color',\n          value: $event.target.value\n        })}}})]):_vm._e(),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"form-group mb8\"},[_c('label',[_vm._v(\" Window (m) \"),_c('span',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"icon-info\",attrs:{\"title\":\"Sum over given interval (ex: 30s or 10m or 1h)\"}})]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm.getHms(_vm.$store.state[_vm.paneId].window) + ' (default)'},domProps:{\"value\":_vm.window},on:{\"change\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n            id: _vm.bucketId,\n            prop: 'window',\n            value: $event.target.value\n          })}}})]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',[_vm._v(\" Precision \"),_c('span',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"icon-info\",attrs:{\"title\":\"Decimal precision\"}})]),_c('editable',{staticClass:\"form-control\",attrs:{\"placeholder\":\"auto\",\"value\":_vm.precision},on:{\"input\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n            id: _vm.bucketId,\n            prop: 'precision',\n            value: $event\n          })}}})],1)]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Value \"),_c('span',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"icon-info\",attrs:{\"title\":\"/!\\\\Javascript syntax/!\\\\<br>use build in variable such as vbuy/vsell (volume) cbuy/csell (trade count) lbuy/lsell (liquidation volume)\"}})]),_c('textarea',{staticClass:\"form-control\",attrs:{\"rows\":\"5\",\"spellcheck\":\"false\"},domProps:{\"value\":_vm.input},on:{\"change\":function($event){return _vm.$store.dispatch(_vm.paneId + '/updateBucket', {\n          id: _vm.bucketId,\n          prop: 'input',\n          value: $event.target.value\n        })}}}),_c('p',{staticClass:\"help-text mt-8\"},[_vm._v(\" Sum \"),_c('code',[_vm._v(_vm._s(_vm.input))]),_vm._v(\" over \"+_vm._s(_vm.window)+\" window \")])]),_c('hr'),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'bottom' }),expression:\"{ placement: 'bottom' }\"}],staticClass:\"checkbox-control\",attrs:{\"title\":_vm.enabled ? 'Disable' : 'Enable'},on:{\"change\":function($event){return _vm.disable(_vm.bucketId, $event)}}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.enabled}}),_c('div'),_c('span',[_vm._v(\" \"+_vm._s(_vm.enabled ? 'Active' : 'Disabled')+\" \")])])]),_c('button',{staticClass:\"btn -red\",on:{\"click\":_vm.remove}},[_c('i',{staticClass:\"icon-trash\"})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Dialog @clickOutside=\"close\">\r\n    <template v-slot:header>\r\n      <div>\r\n        <div class=\"title\">BUCKET</div>\r\n        <div class=\"subtitle\">{{ name }}</div>\r\n      </div>\r\n\r\n      <dropdown-button\r\n        v-model=\"type\"\r\n        :options=\"availableTypes\"\r\n        @input=\"\r\n          $store.dispatch(paneId + '/updateBucket', {\r\n            id: bucketId,\r\n            prop: 'type',\r\n            value: $event\r\n          })\r\n        \"\r\n      ></dropdown-button>\r\n    </template>\r\n    <div class=\"column mb8\">\r\n      <div class=\"form-group -fill\">\r\n        <label>Name</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          :value=\"name\"\r\n          @input=\"\r\n            $store.dispatch(paneId + '/renameBucket', {\r\n              id: bucketId,\r\n              name: $event.target.value\r\n            })\r\n          \"\r\n        />\r\n      </div>\r\n      <div\r\n        v-if=\"!conditionnalColor\"\r\n        class=\"form-group -end mtauto -tight\"\r\n        ref=\"colorContainer\"\r\n      >\r\n        <color-picker-control\r\n          :value=\"color\"\r\n          @input=\"\r\n            $store.dispatch(paneId + '/updateBucket', {\r\n              id: bucketId,\r\n              prop: 'color',\r\n              value: $event\r\n            })\r\n          \"\r\n        ></color-picker-control>\r\n      </div>\r\n      <div v-if=\"type === 'histogram'\" class=\"form-group -tight -end mtauto\">\r\n        <label\r\n          class=\"checkbox-control checkbox-control-input -auto flex-right\"\r\n          v-tippy=\"{ placement: 'bottom' }\"\r\n          title=\"Enable onditionnal color\"\r\n        >\r\n          <input\r\n            type=\"checkbox\"\r\n            class=\"form-control\"\r\n            :checked=\"conditionnalColor\"\r\n            @change=\"\r\n              $store.commit(paneId + '/TOGGLE_BUCKET_COLOR_CONDITION', bucketId)\r\n            \"\r\n          />\r\n          <div on=\"dynamic\" off=\"fixed\"></div>\r\n        </label>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"conditionnalColor\" class=\"form-group mb8\">\r\n      <label for\r\n        >Color condition\r\n        <span\r\n          class=\"icon-info\"\r\n          title=\"ex: value > 0 ? 'red' : 'white'\"\r\n          v-tippy\r\n        ></span\r\n      ></label>\r\n      <textarea\r\n        class=\"form-control\"\r\n        rows=\"2\"\r\n        spellcheck=\"false\"\r\n        :value=\"color\"\r\n        @change=\"\r\n          $store.dispatch(paneId + '/updateBucket', {\r\n            id: bucketId,\r\n            prop: 'color',\r\n            value: $event.target.value\r\n          })\r\n        \"\r\n      ></textarea>\r\n    </div>\r\n    <div class=\"column\">\r\n      <div class=\"form-group mb8\">\r\n        <label>\r\n          Window (m)\r\n          <span\r\n            class=\"icon-info\"\r\n            title=\"Sum over given interval (ex: 30s or 10m or 1h)\"\r\n            v-tippy\r\n          ></span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          :value=\"window\"\r\n          :placeholder=\"getHms($store.state[paneId].window) + ' (default)'\"\r\n          @change=\"\r\n            $store.dispatch(paneId + '/updateBucket', {\r\n              id: bucketId,\r\n              prop: 'window',\r\n              value: $event.target.value\r\n            })\r\n          \"\r\n        />\r\n      </div>\r\n      <div class=\"form-group mb8\">\r\n        <label>\r\n          Precision\r\n          <span class=\"icon-info\" title=\"Decimal precision\" v-tippy></span>\r\n        </label>\r\n        <editable\r\n          class=\"form-control\"\r\n          placeholder=\"auto\"\r\n          :value=\"precision\"\r\n          @input=\"\r\n            $store.dispatch(paneId + '/updateBucket', {\r\n              id: bucketId,\r\n              prop: 'precision',\r\n              value: $event\r\n            })\r\n          \"\r\n        ></editable>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for\r\n        >Value\r\n        <span\r\n          class=\"icon-info\"\r\n          title=\"/!\\Javascript syntax/!\\<br>use build in variable such as vbuy/vsell (volume) cbuy/csell (trade count) lbuy/lsell (liquidation volume)\"\r\n          v-tippy\r\n        ></span\r\n      ></label>\r\n      <textarea\r\n        class=\"form-control\"\r\n        rows=\"5\"\r\n        spellcheck=\"false\"\r\n        :value=\"input\"\r\n        @change=\"\r\n          $store.dispatch(paneId + '/updateBucket', {\r\n            id: bucketId,\r\n            prop: 'input',\r\n            value: $event.target.value\r\n          })\r\n        \"\r\n      ></textarea>\r\n      <p class=\"help-text mt-8\">\r\n        Sum <code>{{ input }}</code> over {{ window }} window\r\n      </p>\r\n    </div>\r\n    <hr />\r\n    <div class=\"column\">\r\n      <div class=\"form-group\">\r\n        <label\r\n          class=\"checkbox-control\"\r\n          v-tippy=\"{ placement: 'bottom' }\"\r\n          :title=\"enabled ? 'Disable' : 'Enable'\"\r\n          @change=\"disable(bucketId, $event)\"\r\n        >\r\n          <input type=\"checkbox\" class=\"form-control\" :checked=\"enabled\" />\r\n          <div></div>\r\n          <span>\r\n            {{ enabled ? 'Active' : 'Disabled' }}\r\n          </span>\r\n        </label>\r\n      </div>\r\n      <button class=\"btn -red\" @click=\"remove\">\r\n        <i class=\"icon-trash\"></i>\r\n      </button>\r\n    </div>\r\n  </Dialog>\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store'\r\nimport { getHms } from '@/utils/helpers'\r\n\r\nimport Dialog from '@/components/framework/Dialog.vue'\r\nimport DialogMixin from '@/mixins/dialogMixin'\r\nimport DropdownButton from '@/components/framework/DropdownButton.vue'\r\nimport ColorPickerControl from '../framework/picker/ColorPickerControl.vue'\r\n\r\nexport default {\r\n  props: ['paneId', 'bucketId'],\r\n  mixins: [DialogMixin],\r\n  components: {\r\n    Dialog,\r\n    DropdownButton,\r\n    ColorPickerControl\r\n  },\r\n  computed: {\r\n    color: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].color\r\n    },\r\n    conditionnalColor: function() {\r\n      if (\r\n        typeof store.state[this.paneId].buckets[this.bucketId]\r\n          .conditionnalColor === 'undefined'\r\n      ) {\r\n        this.$set(\r\n          store.state[this.paneId].buckets[this.bucketId],\r\n          'conditionnalColor',\r\n          false\r\n        )\r\n      }\r\n\r\n      return store.state[this.paneId].buckets[this.bucketId].conditionnalColor\r\n    },\r\n    enabled: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].enabled\r\n    },\r\n    name: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].name\r\n    },\r\n    type: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].type\r\n    },\r\n    input: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].input\r\n    },\r\n    precision: function() {\r\n      return store.state[this.paneId].buckets[this.bucketId].precision || null\r\n    },\r\n    window: function() {\r\n      const window = store.state[this.paneId].buckets[this.bucketId].window\r\n\r\n      if (window) {\r\n        return getHms(window)\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n  },\r\n  data: () => ({\r\n    availableTypes: { line: 'Line', area: 'Area', histogram: 'Histogram' }\r\n  }),\r\n  methods: {\r\n    getHms(value) {\r\n      return getHms(value)\r\n    },\r\n    disable(id, event) {\r\n      this.$store.dispatch(this.paneId + '/updateBucket', {\r\n        id: id,\r\n        prop: 'enabled',\r\n        value: event.target.checked\r\n      })\r\n      this.close()\r\n    },\r\n    async remove() {\r\n      await this.close()\r\n\r\n      this.$store.commit(this.paneId + '/REMOVE_BUCKET', this.bucketId)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatDialog.vue?vue&type=template&id=1bb329b4&\"\nimport script from \"./StatDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./StatDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import store from '@/store'\n\nconst DAY = 60 * 60 * 24\n\nexport function ago(timestamp) {\n  if (!timestamp) {\n    return '0s'\n  }\n\n  const seconds = Math.floor((Date.now() - timestamp) / 1000)\n  let interval, output\n\n  if ((interval = Math.floor(seconds / 31536000)) > 1) {\n    output = interval + 'yr'\n  } else if ((interval = Math.floor(seconds / 2592000)) >= 1) {\n    output = interval + 'mo'\n  } else if ((interval = Math.floor(seconds / 86400)) >= 1) {\n    output = interval + 'd'\n  } else if ((interval = Math.floor(seconds / 3600)) >= 1) {\n    output = interval + 'h'\n  } else if ((interval = Math.floor(seconds / 60)) >= 1) {\n    output = interval + 'm'\n  } else {\n    output = Math.ceil(seconds) + 's'\n  }\n  return output\n}\n\nexport function getHms(timestamp, round = false) {\n  if (isNaN(timestamp) || timestamp === null) {\n    return null\n  }\n\n  const isNegPrefix = timestamp < 0 ? '-' : ''\n  timestamp = Math.abs(timestamp)\n\n  const d = Math.floor(timestamp / 1000 / 86400)\n  const h = Math.floor(((timestamp / 1000) % 86400) / 3600)\n  const m = Math.floor(((timestamp / 1000) % 3600) / 60)\n  const s = Math.floor(((timestamp / 1000) % 3600) % 60)\n\n  let output = ''\n\n  output +=\n    (!round || !output.length) && d > 0\n      ? (output.length ? ', ' : '') + isNegPrefix + d + 'd'\n      : ''\n  output +=\n    (!round || !output.length) && h > 0\n      ? (output.length ? ', ' : '') + isNegPrefix + h + 'h'\n      : ''\n  output +=\n    (!round || !output.length) && m > 0\n      ? (output.length ? ', ' : '') + isNegPrefix + m + 'm'\n      : ''\n  output +=\n    (!round || !output.length) && s > 0\n      ? (output.length ? ', ' : '') + isNegPrefix + s + 's'\n      : ''\n\n  if (\n    !output.length ||\n    (!round && timestamp < 60 * 1000 && timestamp > s * 1000)\n  )\n    output +=\n      (output.length ? ', ' : '') + isNegPrefix + (timestamp - s * 1000) + 'ms'\n\n  return output.trim()\n}\n\nexport function getHmsFull(timestamp, round = false) {\n  let output = getHms(timestamp, round)\n  output = output.replace(/\\b1s\\b/, '1 second')\n  output = output.replace(/(\\d)s\\b/, '$1 seconds')\n  output = output.replace(/\\b1m\\b/, '1 minute')\n  output = output.replace(/(\\d)m\\b/, '$1 minutes')\n  output = output.replace(/\\b1h\\b/, '1 hour')\n  output = output.replace(/(\\d)h\\b/, '$1 hours')\n  output = output.replace(/\\b1d\\b/, '1 day')\n  output = output.replace(/(\\d)d\\b/, '$1 days')\n\n  return output\n}\n\nexport function randomString(\n  length = 16,\n  characters = 'abcdefghijklmnopqrstuvwxyz0123456789'\n) {\n  let output = ``\n\n  const charactersLength = characters.length\n\n  for (let i = 0; i < length; i++) {\n    output += characters.charAt(Math.floor(Math.random() * charactersLength))\n  }\n\n  return output\n}\n\nexport const slugify = string => {\n  const a =\n    'àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;'\n  const b =\n    'aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------'\n  const p = new RegExp(a.split('').join('|'), 'g')\n\n  return string\n    .toString()\n    .toLowerCase()\n    .replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters\n    .replace(/&/g, '-and-') // Replace & with 'and'\n    .replace(/[^\\w-]+/g, '') // Remove all non-word characters\n    .replace(/--+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, '') // Trim - from end of text\n}\n\nexport const downloadAnything = (data, filename) => {\n  const downloadAnchorNode = document.createElement('a')\n\n  let href\n\n  if (!data) {\n    return\n  }\n\n  if (data instanceof Blob) {\n    href = URL.createObjectURL(data)\n  } else if (typeof data === 'object') {\n    href =\n      'data:text/json;charset=utf-8,' +\n      encodeURIComponent(JSON.stringify(data, null, 2))\n  } else if (typeof data === 'string') {\n    href = 'data:text/json;charset=utf-8,' + encodeURIComponent(data)\n  }\n\n  downloadAnchorNode.setAttribute('href', href)\n  downloadAnchorNode.setAttribute('download', filename + '.txt')\n  document.body.appendChild(downloadAnchorNode)\n  downloadAnchorNode.click()\n  downloadAnchorNode.remove()\n}\n\nexport function uniqueName(name, names, slug?: boolean, suffix = ' copy 1') {\n  while (!name || names.indexOf(name) !== -1) {\n    if (!name) {\n      // random alphanum\n      name = randomString(4)\n    } else {\n      // id + 1 (myworkspace1 then myworkspace2 then myworkspace3 etc)\n      if (!/\\d$/.test(name)) {\n        name = name + suffix\n      } else {\n        name = name.replace(\n          /\\d+$/,\n          (+((name.match(/\\d+$/) as string[]) || ['0'])[0] + 1).toString()\n        )\n      }\n    }\n  }\n\n  return slug ? slugify(name) : name\n}\n\nexport function sleep(duration = 1000): Promise<void> {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(), duration)\n  })\n}\n\nexport function getBucketId(markets: string[]) {\n  return markets\n    .map(m => m.replace(/[^a-zA-Z]+/gi, ''))\n    .sort(function(mA, mB) {\n      return mA.localeCompare(mB)\n    })\n    .join('')\n}\n\nexport function openBase64InNewTab(data, mimeType) {\n  const byteCharacters = atob(data)\n  const byteNumbers = new Array(byteCharacters.length)\n  for (let i = 0; i < byteCharacters.length; i++) {\n    byteNumbers[i] = byteCharacters.charCodeAt(i)\n  }\n  const byteArray = new Uint8Array(byteNumbers)\n  const file = new Blob([byteArray], { type: mimeType + ';base64' })\n  const fileURL = URL.createObjectURL(file)\n  window.open(fileURL)\n}\n\nexport function findClosingBracketMatchIndex(\n  str,\n  pos,\n  open = /\\(/,\n  close = /\\)/\n) {\n  if (!open.test(str[pos])) {\n    throw new Error('No ' + open.toString() + ' at index ' + pos)\n  }\n\n  let depth = 1\n\n  for (let i = pos + 1; i < str.length; i++) {\n    if (close.test(str[i])) {\n      if (--depth == 0) {\n        return i\n      }\n    } else if (open.test(str[i])) {\n      depth++\n    }\n  }\n  return -1 // No matching closing parenthesis\n}\n\nexport function parseFunctionArguments(\n  str,\n  trimArguments = true,\n  maxIterations = 100\n) {\n  const PARANTHESIS_REGEX = /\\(|{|\\[/g\n  let paranthesisMatch\n  let iteration = 0\n  do {\n    if ((paranthesisMatch = PARANTHESIS_REGEX.exec(str))) {\n      iteration++\n      const closingParenthesisIndex = findClosingBracketMatchIndex(\n        str,\n        paranthesisMatch.index,\n        /\\(|{|\\[/,\n        /\\)|}|\\]/\n      )\n      const contentWithinParenthesis = str\n        .slice(paranthesisMatch.index + 1, closingParenthesisIndex)\n        .replace(/,/g, '#COMMA#')\n      str =\n        str.slice(0, paranthesisMatch.index + 1) +\n        contentWithinParenthesis +\n        str.slice(closingParenthesisIndex, str.length)\n    }\n  } while (paranthesisMatch && iteration < maxIterations)\n\n  if (iteration >= maxIterations) {\n    throw new Error('Maxiumum parseFunctionArguments iteration reached')\n  }\n\n  return str.split(',').map(arg => {\n    if (trimArguments) {\n      arg = arg.trim()\n    }\n\n    return arg.replace(/#COMMA#/g, ',')\n  })\n}\n\nexport function camelize(str) {\n  return str.replace(/-([a-z])/g, function(g) {\n    return g[1].toUpperCase()\n  })\n}\n\nexport function formatBytes(bytes, decimals = 2) {\n  if (bytes === 0) return '0 Bytes'\n\n  const k = 1024\n  const dm = decimals < 0 ? 0 : decimals\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i]\n}\n\nexport function fallbackCopyTextToClipboard(text) {\n  const textArea = document.createElement('textarea')\n  textArea.value = text\n\n  // Avoid scrolling to bottom\n  textArea.style.top = '0'\n  textArea.style.left = '0'\n  textArea.style.position = 'fixed'\n\n  document.body.appendChild(textArea)\n  textArea.focus()\n  textArea.select()\n\n  try {\n    const successful = document.execCommand('copy')\n    const msg = successful ? 'successful' : 'unsuccessful'\n    console.log('Fallback: Copying text command was ' + msg)\n  } catch (err) {\n    console.error('Fallback: Oops, unable to copy', err)\n  }\n}\n\nexport function browseFile(): Promise<File> {\n  const input = document.createElement('input') as HTMLInputElement\n  input.type = 'file'\n\n  return new Promise(resolve => {\n    input.onchange = (event: any) => {\n      if (!event.target.files.length) {\n        resolve(null)\n      }\n\n      resolve(event.target.files[0])\n    }\n\n    input.click()\n  })\n}\n\nexport function copyTextToClipboard(text) {\n  if (!navigator.clipboard) {\n    fallbackCopyTextToClipboard(text)\n    return Promise.resolve()\n  }\n\n  return navigator.clipboard.writeText(text)\n}\n\nexport function getTimeframeForHuman(timeframe, full?: boolean) {\n  if (timeframe === null) {\n    return 'ERR'\n  }\n\n  const normalized = timeframe.toString().trim()\n\n  if (normalized[normalized.length - 1] === 't') {\n    return parseInt(normalized) + ' ticks'\n  } else if (!isNaN(normalized) && normalized > 0) {\n    return full ? getHmsFull(normalized * 1000) : getHms(normalized * 1000)\n  }\n\n  return null\n}\n\nexport function getScrollParent(node) {\n  if (node == null) {\n    return null\n  }\n\n  if (node.id === 'app') {\n    return node\n  }\n\n  const overflowY = window.getComputedStyle(node).overflowY\n  const isScrollable = overflowY !== 'visible' && overflowY !== 'hidden'\n\n  if (isScrollable && node.scrollHeight > node.clientHeight) {\n    return node\n  } else {\n    return getScrollParent(node.parentNode)\n  }\n}\n\nexport function getSiblings(elem) {\n  return Array.prototype.filter.call(elem.parentNode.children, function(\n    sibling\n  ) {\n    return sibling !== elem\n  })\n}\n\nexport function isOddTimeframe(timeframe) {\n  return DAY % timeframe !== 0 && timeframe < DAY\n}\n\nexport function floorTimestampToTimeframe(\n  timestamp: number,\n  timeframe: number,\n  isOdd?: boolean\n) {\n  if (typeof isOdd === 'undefined') {\n    isOdd = isOddTimeframe(timeframe)\n  }\n\n  if (isOdd) {\n    const dayOpen = Math.floor(timestamp / DAY) * DAY\n    return dayOpen + Math.floor((timestamp - dayOpen) / timeframe) * timeframe\n  } else {\n    return Math.floor(timestamp / timeframe) * timeframe\n  }\n}\n\nexport function parseVersion(version: string): number {\n  if (!version) {\n    return 0\n  }\n\n  return +version\n    .split('.')\n    .map(n => n.padStart(2, '0'))\n    .join('')\n}\n\nexport function handleFetchError(err): void {\n  if (err instanceof Error) {\n    const hasSomethingToSay = err.message && err.message !== 'Failed to fetch'\n\n    if (hasSomethingToSay) {\n      store.dispatch('app/showNotice', {\n        title: err.message,\n        type: 'error',\n        timeout: 10000\n      })\n    } else {\n      if (/aggr\\.trade$/.test(location.hostname)) {\n        store.dispatch('app/showNotice', {\n          title: `Aggr server seems down 💀`,\n          type: 'error',\n          timeout: 10000\n        })\n      } else {\n        store.dispatch('app/showNotice', {\n          id: 'fetch-error',\n          html: true,\n          title: `Failed to reach api<br><a href=\"https://github.com/Tucsky/aggr-server\">Configure aggr-server</a> <strong>to use your own data</strong>`,\n          type: 'error',\n          timeout: 10000\n        })\n      }\n    }\n  }\n}\n\nexport function getApiUrl(path: string): string {\n  let base = process.env.VUE_APP_API_URL\n\n  if (!/\\/$/.test(base)) {\n    base += '/'\n  }\n\n  return base + path\n}\n\nexport function getEventCords(event) {\n  if (event.type.match(/^touch/i)) {\n    const touch = event.touches[0]\n    return { x: touch.clientX, y: touch.clientY }\n  }\n  if (event.type.match(/^mouse/i)) {\n    return { x: event.clientX, y: event.clientY }\n  }\n  return { x: 0, y: 0 }\n}\n\nexport function debounce(func, immediate = false) {\n  let timeout\n  return function(...args) {\n    const later = (...args) => {\n      timeout = null\n\n      if (!immediate) {\n        func(...args)\n      }\n    }\n\n    const callNow = immediate && !timeout\n\n    window.cancelAnimationFrame(timeout)\n\n    timeout = window.requestAnimationFrame(later)\n\n    if (callNow) {\n      func(...args)\n    }\n  }\n}\n\nexport function getClosestValue(array, value) {\n  return array.reduce((prev, curr) => {\n    return Math.abs(curr - value) < Math.abs(prev - value) ? curr : prev\n  })\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"btn\",class:_vm.buttonClass,on:{\"click\":_vm.toggleDropdown}},[_vm._t(\"selection\",function(){return [_c('span',[_vm._v(_vm._s(_vm.label))])]},{\"item\":_vm.value,\"placeholder\":_vm.placeholder}),_c('dropdown',{nativeOn:{\"click\":function($event){return _vm.selectFromElementRecursive($event.target)}},model:{value:(_vm.dropdownTrigger),callback:function ($$v) {_vm.dropdownTrigger=$$v},expression:\"dropdownTrigger\"}},_vm._l((_vm.options),function(option,index){return _c('button',{key:index,staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"}},[_vm._t(\"option\",function(){return [_c('span',[_vm._v(_vm._s(option))])]},{\"value\":option,\"index\":index})],2)}),0)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  name: 'DropdownButton',\n  props: {\n    value: {\n      required: false,\n      default: null\n    },\n    buttonClass: {\n      required: false,\n      default: '-arrow'\n    },\n    placeholder: {\n      required: false,\n      default: null\n    },\n    options: {\n      type: [Array, Object],\n      required: false,\n      default: () => []\n    }\n  }\n})\nexport default class extends Vue {\n  private value: any\n  private placeholder: string\n  private options: any[] | { [key: string]: any }\n  private isArray: boolean\n  dropdownTrigger = null\n\n  created() {\n    this.isArray = Array.isArray(this.options as any[])\n  }\n\n  get label() {\n    if (this.value) {\n      return this.options[this.value] || this.value\n    }\n\n    if (this.placeholder) {\n      return this.placeholder\n    }\n\n    return 'Choose'\n  }\n\n  toggleDropdown(event) {\n    if (event && !this.dropdownTrigger) {\n      this.dropdownTrigger = event.currentTarget\n    } else {\n      this.dropdownTrigger = null\n    }\n  }\n\n  selectFromElementRecursive(element: HTMLElement) {\n    let depth = 0\n    while (element && ++depth < 3) {\n      if (element.classList && element.classList.contains('dropdown-item')) {\n        this.selectOption(element)\n\n        break\n      }\n\n      element = element.parentElement\n    }\n  }\n\n  selectOption(optionElement: HTMLElement) {\n    const index = Array.prototype.indexOf.call(\n      optionElement.parentElement.children,\n      optionElement\n    )\n\n    let value\n    if (this.isArray) {\n      value = this.options[index]\n    } else {\n      value = Object.keys(this.options)[index]\n    }\n\n    this.$emit('input', value)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropdownButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropdownButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DropdownButton.vue?vue&type=template&id=15158d72&\"\nimport script from \"./DropdownButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./DropdownButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Tuna from 'tunajs'\nimport store from '../store'\nimport {\n  findClosingBracketMatchIndex,\n  parseFunctionArguments\n} from '@/utils/helpers'\nimport workspacesService from './workspacesService'\n\nexport type AudioFunction = (audioService: AudioService, ratio: number) => void\n\nexport const audioParametersDescriptions = {\n  frequency: 'Tone frequency of the note you want to play (Hz)',\n  gain: `Determine how loud it should be (0 to 1 to avoid saturation)`,\n  fadeOut: `Duration of the OUT transition (in seconds, default is 1)`,\n  delay: `Wait n seconds before play the note`,\n  fadeIn: `Duration of the IN transition (in seconds, default is 0)`,\n  holdDuration: `Hold the note for n seconds (default 0)`,\n  osc: `Type of wave used for the note (can be triangle, square, sawtooth, sin etc)`,\n  startGain: `Initial gain (before fadeIn)`,\n  endGain: `Final gain (after fadeOut)`,\n  url: `Direct link to song (.mp3, .wav, .ogg) or name of already imported file`,\n  startTime: `Offset the start of the song at second n (to play only a part of it)`\n}\n\nexport const audioParametersDefinitions = {\n  play: [\n    'frequency',\n    'gain',\n    'fadeOut',\n    'delay',\n    'fadeIn',\n    'holdDuration',\n    'osc',\n    'startGain',\n    'endGain'\n  ],\n  playurl: [\n    'url',\n    'gain',\n    'holdDuration',\n    'delay',\n    'startTime',\n    'fadeIn',\n    'fadeOut',\n    'startGain',\n    'endGain'\n  ]\n}\n\nexport const audioDefaultParameters = {\n  play: {\n    frequency: 329.63,\n    gain: 1,\n    fadeOut: 1,\n    delay: 0,\n    fadeIn: 0,\n    holdDuration: 0,\n    osc: `'triangle'`,\n    startGain: 0.001,\n    endGain: 0.001\n  },\n  playurl: {\n    url:\n      \"'https://d7d3471nr939s.cloudfront.net/DeepHouseSessions_Noiz_SP/MP3/One+Shots/Bongo_08_73_SP.mp3?cb=6cfb91bb-f15f-432a-bfae-17ef22b22005'\",\n    gain: 1,\n    holdDuration: 1,\n    delay: 0,\n    startTime: 0,\n    fadeIn: 0,\n    fadeOut: 0,\n    startGain: 0.00001,\n    endGain: 0.00001\n  }\n}\n\nclass AudioService {\n  static savedAudioBuffers = {}\n\n  filtersOptions = {\n    HighPassFilter: {\n      frequency: 800, //20 to 22050\n      Q: 10, //0.001 to 100\n      gain: -10, //-40 to 40 (in decibels)\n      filterType: 'highpass', //lowpass, highpass, bandpass, lowshelf, highshelf, peaking, notch, allpass\n      bypass: 0\n    },\n    LowPassFilter: {\n      frequency: 1500, //20 to 22050\n      Q: 1, //0.001 to 100\n      gain: 0, //-40 to 40 (in decibels)\n      filterType: 'lowpass', //lowpass, highpass, bandpass, lowshelf, highshelf, peaking, notch, allpass\n      bypass: 0\n    },\n    Compressor: {\n      threshold: -1, //-100 to 0\n      makeupGain: 1, //0 and up (in decibels)\n      attack: 1, //0 to 1000\n      release: 0, //0 to 3000\n      ratio: 4, //1 to 20\n      knee: 5, //0 to 40\n      automakeup: true, //true/false\n      bypass: 0\n    },\n    Delay: {\n      feedback: 0.33, //0 to 1+\n      delayTime: 400 //1 to 10000 milliseconds\n    },\n    PingPongDelay: {\n      wetLevel: 0.6, //0 to 1\n      feedback: 0.01, //0 to 1\n      delayTimeLeft: 175, //1 to 10000 (milliseconds)\n      delayTimeRight: 100 //1 to 10000 (milliseconds)\n    },\n    Chorus: {\n      rate: 1.5, //0.01 to 8+\n      feedback: 0.4, //0 to 1+\n      depth: 0.7, //0 to 1\n      delay: 0.0045, //0 to 1\n      bypass: 0 //the value 1 starts the effect as bypassed, 0 or 1\n    }\n  }\n\n  context: AudioContext\n  tuna: any\n\n  output: any\n  count = 0\n  minTime = 0\n  gainNode: any\n\n  connect() {\n    console.log(`[sfx] connect`)\n    if (this.context) {\n      console.debug(`[sfx] context already exists -> abort`)\n      return\n    }\n\n    this.minTime = 0\n    this.count = 0\n\n    Vue.nextTick(() => {\n      this.bindContext()\n      this.bindOutput()\n    })\n  }\n\n  bindContext() {\n    // this.context = new AudioContext()\n    this.context = new ((window as any).AudioContext ||\n      (window as any).webkitAudioContext)()\n\n    let checkInProgress = false\n\n    if (this.context.state === 'suspended') {\n      const application = document.body\n\n      setTimeout(() => {\n        application.focus()\n      }, 500)\n\n      const resumeOnFocus = (() => {\n        if (checkInProgress) {\n          return\n        }\n\n        checkInProgress = true\n\n        console.log('[sfx] Yet another try to start AudioContext')\n\n        if (this.context && store.state.settings.useAudio) {\n          this.context.resume()\n        }\n\n        setTimeout(() => {\n          if (\n            !store.state.settings.useAudio ||\n            this.context.state !== 'suspended'\n          ) {\n            if (store.state.settings.useAudio) {\n              store.dispatch('app/showNotice', {\n                id: 'audio',\n                type: 'success',\n                title: 'Audio resumed successfully 🔊'\n              })\n            }\n\n            window.removeEventListener('focus', resumeOnFocus)\n            window.removeEventListener('blur', resumeOnFocus)\n            application.removeEventListener('click', resumeOnFocus)\n          } else if (this.context.state === 'suspended') {\n            store.dispatch('app/showNotice', {\n              id: 'audio',\n              type: 'error',\n              title:\n                'Browser prevented audio from playing\\nClick somewhere to resume.'\n            })\n          }\n\n          checkInProgress = false\n        }, 500)\n      }).bind(this)\n\n      window.addEventListener('blur', resumeOnFocus)\n      window.addEventListener('focus', resumeOnFocus)\n      application.addEventListener('click', resumeOnFocus)\n    } else {\n      store.dispatch('app/showNotice', {\n        id: 'audio',\n        type: 'success',\n        title: 'Audio enabled 🔊'\n      })\n    }\n\n    return this.context\n  }\n\n  bindOutput() {\n    if (!this.context) {\n      return\n    }\n\n    if (this.output) {\n      this.output.disconnect()\n      this.output = null\n    }\n\n    this.tuna = new Tuna(this.context)\n\n    const effects = []\n\n    for (const id in this.filtersOptions) {\n      if (!store.state.settings.audioFilters[id]) {\n        continue\n      }\n\n      let name = id\n\n      if (id === 'HighPassFilter' || id === 'LowPassFilter') {\n        name = 'Filter'\n      }\n\n      effects.push(new this.tuna[name](this.filtersOptions[id]))\n    }\n\n    this.gainNode = new this.tuna.Gain({\n      gain: store.state.settings.audioVolume\n    })\n\n    effects.push(this.gainNode)\n\n    if (effects.length) {\n      let source\n\n      for (const effect of effects) {\n        if (source) {\n          source.connect(effect)\n        }\n\n        source = effect\n      }\n\n      source.connect(this.context.destination)\n\n      console.debug(`[sfx] created output with ${effects.length} effect(s)`)\n\n      this.output = effects[0]\n    } else {\n      console.debug(`[sfx] created output (no effect)`)\n      this.output = this.context.destination\n    }\n  }\n\n  setVolume(gain: number) {\n    if (!this.gainNode) {\n      return\n    }\n\n    this.gainNode.gain.value = gain\n  }\n\n  fetchArrayBuffer(url: string) {\n    return fetch(url).then(res => res.arrayBuffer())\n  }\n\n  async retrieveArrayBuffer(name: string) {\n    const blob = (await workspacesService.getSound(name)).data\n    const reader = new FileReader()\n\n    return new Promise<ArrayBuffer>(resolve => {\n      reader.onloadend = event => resolve(event.target.result as ArrayBuffer)\n      reader.readAsArrayBuffer(blob)\n    })\n  }\n\n  async loadSoundBuffer(url) {\n    if (AudioService.savedAudioBuffers[url]) {\n      return AudioService.savedAudioBuffers[url]\n    }\n\n    let arrayBuffer: ArrayBuffer\n\n    if (url.indexOf('/') !== -1) {\n      arrayBuffer = await this.fetchArrayBuffer(url)\n    } else {\n      arrayBuffer = await this.retrieveArrayBuffer(url)\n    }\n\n    AudioService.savedAudioBuffers[url] = await this.context.decodeAudioData(\n      arrayBuffer\n    )\n  }\n\n  async playurl(\n    url?: string,\n    gain?: number,\n    holdDuration?: number,\n    delay?: number,\n    startTime?: number,\n    fadeIn?: number,\n    fadeOut?: number,\n    startGain?: number,\n    endGain?: number\n  ) {\n    if (\n      this.context.state !== 'running' ||\n      !AudioService.savedAudioBuffers[url]\n    ) {\n      return\n    }\n\n    const time = this.getNextTime(delay)\n\n    setTimeout(() => {\n      const gainNode = this.context.createGain()\n      const source = this.context.createBufferSource()\n\n      source.buffer = AudioService.savedAudioBuffers[url]\n\n      source.connect(gainNode)\n      gainNode.connect(this.output)\n\n      this.fade(\n        source,\n        gainNode,\n        time,\n        gain,\n        startGain,\n        fadeIn,\n        holdDuration,\n        fadeOut,\n        endGain,\n        startTime\n      )\n    }, (time - this.context.currentTime) * 1000)\n  }\n\n  async play(\n    frequency?: number,\n    gain?: number,\n    fadeOut?: number,\n    delay?: number,\n    fadeIn?: number,\n    holdDuration?: number,\n    osc?: OscillatorType,\n    startGain?: number,\n    endGain?: number\n  ) {\n    if (this.context.state !== 'running') {\n      return\n    }\n\n    let time = this.getNextTime(delay)\n\n    setTimeout(() => {\n      if (!this.context) {\n        return\n      }\n\n      time = this.context.currentTime\n\n      const source = this.context.createOscillator()\n      const gainNode = this.context.createGain()\n      source.frequency.value = frequency\n      source.type = osc\n\n      gainNode.connect(this.output)\n      source.connect(gainNode)\n\n      this.fade(\n        source,\n        gainNode,\n        time,\n        gain,\n        startGain,\n        fadeIn,\n        holdDuration,\n        fadeOut,\n        endGain\n      )\n    }, (time - this.context.currentTime) * 1000)\n  }\n\n  fade(\n    source: OscillatorNode | AudioBufferSourceNode,\n    gainNode,\n    time,\n    gain,\n    startGain,\n    fadeIn,\n    holdDuration,\n    fadeOut,\n    endGain,\n    startTime?\n  ) {\n    source.onended = () => {\n      gainNode.disconnect()\n      this.count--\n    }\n\n    if (fadeIn) {\n      gainNode.gain.setValueAtTime(startGain, time)\n\n      gainNode.gain.exponentialRampToValueAtTime(gain, time + fadeIn)\n\n      if (fadeOut) {\n        gainNode.gain.setValueAtTime(gain, time + fadeIn + holdDuration)\n\n        setTimeout(() => {\n          gainNode.gain.exponentialRampToValueAtTime(\n            endGain,\n            time + fadeIn + holdDuration + fadeOut\n          )\n        }, (fadeIn + holdDuration) * 1000)\n      }\n    } else {\n      gainNode.gain.setValueAtTime(gain, time)\n\n      if (fadeOut) {\n        gainNode.gain.exponentialRampToValueAtTime(\n          endGain,\n          time + fadeIn + holdDuration + fadeOut\n        )\n      }\n    }\n\n    if (typeof startTime !== 'undefined') {\n      source.start(time, startTime)\n    } else {\n      source.start(time)\n    }\n\n    source.stop(time + fadeIn + holdDuration + fadeOut)\n  }\n\n  getNextTime(delay) {\n    let cueTime = 0\n\n    if (!this.minTime) {\n      this.minTime = this.context.currentTime\n    } else {\n      this.minTime = Math.max(this.minTime, this.context.currentTime)\n      if (!delay && this.count) {\n        cueTime =\n          this.count > 10\n            ? this.count > 20\n              ? this.count > 100\n                ? 0.01\n                : 0.02\n              : 0.04\n            : 0.08\n      }\n    }\n\n    const time = this.minTime + cueTime + delay\n\n    this.minTime += cueTime\n    this.count++\n\n    return time\n  }\n\n  reconnect() {\n    this.disconnect()\n    this.connect()\n  }\n\n  disconnect() {\n    console.log(`[sfx] disconnect`)\n    if (this.context && this.context.state === 'running') {\n      console.debug(`[sfx] close context`)\n      this.context.close()\n    }\n\n    if (this.output) {\n      this.output.disconnect()\n    }\n\n    this.context = null\n\n    this.output = null\n\n    store.dispatch('app/showNotice', {\n      id: 'audio',\n      title: 'Audio disabled 🔇'\n    })\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async buildAudioFunction(\n    litteral,\n    side,\n    frequencyMultiplier: number = null,\n    gainMultiplier: number = null,\n    test = false\n  ) {\n    litteral = `'use strict'; \n    var gain = Math.sqrt(ratio);\n    ${litteral}`\n\n    const FUNCTION_LOOKUP_REGEX = /(play|playurl)\\(/g\n    let functionMatch = null\n\n    if (gainMultiplier === null) {\n      gainMultiplier = 1\n    }\n\n    try {\n      do {\n        if ((functionMatch = FUNCTION_LOOKUP_REGEX.exec(litteral))) {\n          const originalParameters = litteral.slice(\n            functionMatch.index + functionMatch[0].length,\n            findClosingBracketMatchIndex(\n              litteral,\n              functionMatch.index + functionMatch[0].length - 1\n            )\n          )\n\n          const functionArguments = parseFunctionArguments(originalParameters)\n\n          if (!functionArguments) {\n            throw new Error(\n              'Invalid argument(s) for ' + functionMatch[0] + ' function'\n            )\n          }\n\n          const defaultArguments = Object.values(\n            audioDefaultParameters[functionMatch[1] as 'play' | 'playurl']\n          )\n\n          for (let i = 0; i < defaultArguments.length; i++) {\n            let argumentValue = defaultArguments[i]\n            if (typeof functionArguments[i] !== 'undefined') {\n              if (typeof functionArguments[i] === 'string') {\n                functionArguments[i] = functionArguments[i].trim()\n\n                const stringProvided = /^('|\").*('|\")$/.test(\n                  functionArguments[i]\n                )\n                const defaultExpectedString = /^('|\").*('|\")$/.test(\n                  defaultArguments[i] as any\n                )\n\n                if (stringProvided && !defaultExpectedString) {\n                  functionArguments[i] = defaultArguments[i]\n                } else if (!stringProvided && defaultExpectedString) {\n                  functionArguments[i] = `'${functionArguments[i]}'`\n                }\n              }\n\n              try {\n                argumentValue = JSON.parse(functionArguments[i])\n              } catch (error) {\n                argumentValue = functionArguments[i]\n              }\n\n              if (argumentValue === null || argumentValue === '') {\n                argumentValue = defaultArguments[i]\n              }\n            }\n\n            if (argumentValue === null) {\n              functionArguments[i] = 'null'\n            } else {\n              functionArguments[i] = argumentValue\n            }\n          }\n\n          if (functionMatch[1] === 'play') {\n            if (\n              +functionArguments[0] &&\n              frequencyMultiplier &&\n              frequencyMultiplier !== 1\n            ) {\n              functionArguments[0] *= frequencyMultiplier\n            }\n          } else {\n            await this.loadSoundBuffer(\n              functionArguments[0].slice(1, functionArguments[0].length - 1)\n            )\n          }\n\n          if (gainMultiplier && gainMultiplier !== 1) {\n            for (let i = 1; i <= 2; i++) {\n              if (+functionArguments[1]) {\n                functionArguments[1] *= gainMultiplier\n              } else {\n                functionArguments[1] =\n                  gainMultiplier + '*(' + functionArguments[1] + ')'\n              }\n            }\n          }\n\n          const finalParameters = functionArguments.join(', ')\n\n          litteral = litteral.replace(\n            '(' + originalParameters + ')',\n            '(' + finalParameters + ')'\n          )\n        }\n      } while (functionMatch)\n\n      litteral = litteral.replaceAll('play(', \"audioService['play'](\")\n      litteral = litteral.replaceAll('playurl(', \"audioService['playurl'](\")\n\n      return new Function('audioService', 'ratio', litteral) as AudioFunction\n    } catch (error) {\n      console.warn('invalid audio script', litteral)\n\n      if (test) {\n        throw error\n      } else {\n        store.dispatch('app/showNotice', {\n          id: 'audio-script-error',\n          type: 'error',\n          title:\n            `Please check that ${side} audio script is syntactically correct.` +\n            (error.message ? `<br>${error.message}` : ''),\n          timeout: 60000\n        })\n\n        return new Function() as AudioFunction\n      }\n    }\n  }\n\n  async playOnce(url) {\n    await this.loadSoundBuffer(url)\n\n    this.playurl(url, 1, 1, 0, 0, 0, 0, 0.00001, 0.00001)\n  }\n}\n\nexport default new AudioService()\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQ5JREFUeNrslz0KwjAUgJNCF3EoiIuniIu7eJF6BE9kLyLuLvYULiJ0EJdC8QWe4NA0eT91sQ9CWkj7ffnhJTHm38MKvs2hLPD5AaX9pcAHnuF7x5WwCnAjkbBKcLYERSBDeB5p16JEpymQCidL2BHgJAk7EjxZIiZQQJkJc80LSsMR0IBHJYYEVspZ90YVWArmvm8t3M0UU1AW4XO3uULllDj1/HRZhzJdKJxiR91Qqg1FpShQsVIxTMMRqlIKh+Hfc0bAx8HPn2Tu8R/87RhGwe8JZ8aa8PAt9L4RH0gYEklw0pGMIJEMJx9KQcKhRBFo0iC8FicihgQZzr6Y9Eiw4KKr2ZeE4cKn8PEWYACxq1U+/EnHbQAAAABJRU5ErkJggg==\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPickerControl.vue?vue&type=style&index=0&id=0116c0c8&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"dialog\",class:{ '-mask': _vm.mask },on:{\"click\":_vm.clickOutside}},[_c('div',{ref:\"dialogContent\",staticClass:\"dialog-content\",class:_vm.contentClass,style:({ transform: `translate(${_vm.delta.x}px, ${_vm.delta.y}px)` }),on:{\"click\":function($event){$event.stopPropagation();},\"mousedown\":_vm.onMouseDown}},[(_vm.header)?_c('header',{style:({ color: _vm.headerColor, background: _vm.headerBackground }),on:{\"mousedown\":_vm.handleDrag,\"touchstart\":_vm.handleDrag}},[_vm._t(\"header\"),_c('div',{staticClass:\"dialog-controls\"},[_vm._t(\"controls\"),_c('a',{staticClass:\"dialog-controls__close -link -text -no-grab\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.close,\"touchend\":_vm.close}},[_c('i',{staticClass:\"icon-cross\"})])],2)],2):_vm._e(),_c('div',{staticClass:\"dialog-body hide-scrollbar\",class:_vm.bodyClass},[_vm._t(\"default\")],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport dialogService from '@/services/dialogService'\nimport { getColorLuminance, splitColorCode } from '@/utils/colors'\nimport { Component, Vue } from 'vue-property-decorator'\nimport { getEventCords } from '../../utils/helpers'\n\n@Component({\n  name: 'Dialog',\n  props: {\n    open: {\n      type: Boolean\n    },\n    mask: {\n      type: Boolean,\n      default: true\n    },\n    header: {\n      type: Boolean,\n      default: true\n    },\n    headerBackground: {\n      required: false\n    },\n    bodyClass: {\n      required: false\n    },\n    contentClass: {\n      required: false\n    },\n    startPosition: {\n      required: false\n    }\n  }\n})\nexport default class extends Vue {\n  startPosition: { x: number; y: number }\n  headerBackground: string\n  delta = { x: 0, y: 0 }\n  target = { x: 0, y: 0 }\n  animating = false\n  private _deinteractionTimeout: number\n  private _handleRelease: () => void\n  private _handleDragging: (evnt: any) => void\n\n  $refs!: {\n    dialogContent: HTMLElement\n  }\n\n  get headerColor() {\n    if (this.headerBackground) {\n      const lum = getColorLuminance(splitColorCode(this.headerBackground))\n      return lum > 0 ? 'black' : 'white'\n    }\n\n    return null\n  }\n\n  created() {\n    if (this.startPosition) {\n      if (this.startPosition.x) {\n        this.delta.x = window.innerWidth * this.startPosition.x\n      }\n\n      if (this.startPosition.y) {\n        this.delta.y = window.innerHeight * this.startPosition.y\n      }\n    }\n  }\n\n  beforeDestroy() {\n    if (this._handleRelease) {\n      this._handleRelease()\n    }\n  }\n\n  handleDrag(event) {\n    if (\n      event.button === 2 ||\n      event.target.classList.contains('-no-grab') ||\n      event.target.parentElement.classList.contains('-no-grab')\n    ) {\n      return\n    }\n    event.preventDefault()\n    const lastMove = Object.assign({}, this.delta)\n    const startPosition = getEventCords(event)\n    const startOffset = this.$refs.dialogContent.offsetTop\n    const minY = startOffset * -1\n\n    this._handleDragging = evnt => {\n      const endPosition = getEventCords(evnt)\n\n      const x = lastMove.x + endPosition.x - startPosition.x\n      const y = Math.max(minY, lastMove.y + endPosition.y - startPosition.y)\n\n      this.target.x = x\n      this.target.y = y\n\n      this.animate()\n    }\n    this._handleRelease = () => {\n      document.removeEventListener('mousemove', this._handleDragging)\n      document.removeEventListener('mouseup', this._handleRelease)\n      document.removeEventListener('touchmove', this._handleDragging)\n      document.removeEventListener('touchend', this._handleRelease)\n\n      delete this._handleRelease\n    }\n    document.addEventListener('mousemove', this._handleDragging)\n    document.addEventListener('mouseup', this._handleRelease)\n    document.addEventListener('touchmove', this._handleDragging)\n    document.addEventListener('touchend', this._handleRelease)\n  }\n\n  onMouseDown() {\n    if (this._deinteractionTimeout) {\n      clearTimeout(this._deinteractionTimeout)\n    }\n\n    dialogService.isInteracting = true\n\n    const handler = () => {\n      document.removeEventListener('mouseup', handler)\n\n      this._deinteractionTimeout = setTimeout(() => {\n        dialogService.isInteracting = false\n        this._deinteractionTimeout = null\n      }, 100)\n    }\n\n    document.addEventListener('mouseup', handler)\n  }\n\n  animate() {\n    this.delta.x = this.target.x\n    this.delta.y = this.target.y\n    const distance =\n      Math.abs(this.delta.x - this.target.x) +\n      Math.abs(this.delta.y - this.target.y)\n\n    if (distance > 10 && !this.animating) {\n      this.animating = true\n      return requestAnimationFrame(this.animate)\n    }\n\n    this.animating = false\n  }\n\n  clickOutside() {\n    if (dialogService.isInteracting) {\n      return false\n    }\n\n    this.$emit('clickOutside')\n  }\n\n  close() {\n    this.$emit('clickOutside')\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=28e8fde3&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"wrapper\",staticClass:\"slider\",class:{ '-disabled': _vm.disabled }},[_c('div',{ref:\"track\",staticClass:\"slider__track\"},[_c('div',{ref:\"fill\",staticClass:\"slider__fill\",on:{\"mousedown\":_vm.select,\"touchstart\":_vm.select}}),(_vm.showCompletion && _vm.handles[0])?_c('div',{staticClass:\"slider__completion\",style:(`width: ${_vm.handles[0].positionX}px`)}):_vm._e(),_vm._l((_vm.handles),function(handle,index){return _c('div',{key:index,staticClass:\"slider__handle\",style:(`transform: translate(${handle.positionX}px, ${handle.positionY}px); background-color: ${handle.color};`),on:{\"mousedown\":_vm.select,\"touchstart\":_vm.select}},[(_vm.label)?_c('div',{staticClass:\"slider__label\"},[_vm._t(\"tooltip\",function(){return [_vm._v(\" \"+_vm._s(handle.value)+\" \")]},{\"value\":handle.value})],2):_vm._e()])})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"slider\" ref=\"wrapper\" :class=\"{ '-disabled': disabled }\">\n    <div class=\"slider__track\" ref=\"track\">\n      <div\n        class=\"slider__fill\"\n        ref=\"fill\"\n        @mousedown=\"select\"\n        @touchstart=\"select\"\n      ></div>\n      <div\n        v-if=\"showCompletion && handles[0]\"\n        class=\"slider__completion\"\n        :style=\"`width: ${handles[0].positionX}px`\"\n      ></div>\n      <div\n        class=\"slider__handle\"\n        v-for=\"(handle, index) in handles\"\n        :key=\"index\"\n        @mousedown=\"select\"\n        @touchstart=\"select\"\n        :style=\"\n          `transform: translate(${handle.positionX}px, ${handle.positionY}px); background-color: ${handle.color};`\n        \"\n      >\n        <div class=\"slider__label\" v-if=\"label\">\n          <slot name=\"tooltip\" :value=\"handle.value\">\n            {{ handle.value }}\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mix } from 'color-fns'\nimport { debounce, getClosestValue, getEventCords } from '@/utils/helpers'\n\nexport default {\n  name: 'VerteSlider',\n  props: {\n    gradient: Array,\n    colorCode: { type: Boolean, default: false },\n    label: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    min: { type: Number, default: 0 },\n    max: { type: Number, default: 255 },\n    step: { type: Number, default: 1 },\n    value: { type: Number, default: 0 },\n    handlesValue: { type: Array, default: () => [0] },\n    showCompletion: { type: Boolean, default: true },\n    log: { type: Boolean, default: false }\n  },\n  data: () => ({\n    fill: {\n      translate: 0,\n      scale: 0\n    },\n    multiple: false,\n    currentValue: 0,\n    handles: [],\n    values: []\n  }),\n  watch: {\n    gradient(val) {\n      this.initGradient(val)\n      this.reloadHandlesColor()\n    },\n    values() {\n      this.multiple = this.values.length > 1\n      this.fill = this.multiple ? false : this.fill || {}\n    },\n    value(val, oldVal) {\n      if (val === oldVal || val === this.currentValue) return\n\n      this.updateValue(this.value, true)\n    }\n  },\n  methods: {\n    init() {\n      this.$emitInputEvent = debounce(() => {\n        this.$emit('input', this.currentValue)\n      })\n      this.multiple = this.values.length > 1\n      this.values = this.handlesValue\n      this.handles = this.handlesValue.map(value => {\n        return { value, positionX: 0, positionY: 0, color: '#fff' }\n      })\n      if (this.values.length === 1) {\n        this.values[0] = Number(this.value)\n      }\n      this.values.sort()\n\n      this.initElements()\n      if (this.gradient) {\n        this.initGradient(this.gradient)\n      }\n      this.initEvents()\n      this.values.forEach((handle, index) => {\n        this.activeHandle = index\n        this.updateValue(handle, true)\n      })\n    },\n    initElements() {\n      this.wrapper = this.$refs.wrapper\n      this.track = this.$refs.track\n      this.fill = this.$refs.fill\n\n      if (this.classes) {\n        this.wrapper.classList.add(...this.classes)\n      }\n    },\n    initGradient(gradient) {\n      if (gradient.length > 1) {\n        this.fill.style.backgroundImage = `linear-gradient(90deg, ${gradient})`\n        return\n      }\n      this.fill.style.backgroundImage = ''\n      this.fill.style.backgroundColor = gradient[0]\n      this.handles.forEach(handle => {\n        handle.style.color = gradient[0]\n      })\n    },\n    handleResize() {\n      this.updateSize()\n      this.updateValue(this.currentValue, true)\n    },\n    initEvents() {\n      window.addEventListener('resize', this.handleResize)\n    },\n    beforeDestroy() {\n      this.removeEventListener('resize', this.handleResize)\n    },\n    /**\n     * fire select events\n     */\n    select(event) {\n      event.preventDefault()\n\n      // check if  left mouse is clicked\n      if (event.buttons === 2) return\n\n      if (this._dblClickTimeout) {\n        clearTimeout(this._dblClickTimeout)\n      }\n\n      // check if a double click\n      if (this.pendingDblClick) {\n        this.pendingDblClick = false\n        this.$emit('reset')\n        return\n      }\n\n      // next click might be double click, for the next 150ms\n      this.pendingDblClick = true\n\n      this.updateSize()\n      this.track.classList.add('slider--dragging')\n      this.ticking = false\n\n      const stepValue = this.getStepValue(event)\n\n      if (this.multiple) {\n        const closest = getClosestValue(this.values, stepValue)\n        this.activeHandle = this.values.indexOf(closest)\n      }\n      this.updateValue(stepValue)\n\n      this.tempDrag = this.dragging.bind(this)\n      this.tempRelease = this.release.bind(this)\n      document.addEventListener('mousemove', this.tempDrag)\n      document.addEventListener('touchmove', this.tempDrag)\n      document.addEventListener('touchend', this.tempRelease)\n      document.addEventListener('mouseup', this.tempRelease)\n    },\n    /**\n     * dragging motion\n     */\n    dragging(event) {\n      const stepValue = this.getStepValue(event)\n      if (!this.ticking) {\n        window.requestAnimationFrame(() => {\n          this.updateValue(stepValue)\n          this.ticking = false\n        })\n\n        this.ticking = true\n      }\n    },\n    /**\n     * release handler\n     */\n    release() {\n      this.track.classList.remove('slider--dragging')\n      document.removeEventListener('mousemove', this.tempDrag)\n      document.removeEventListener('touchmove', this.tempDrag)\n      document.removeEventListener('mouseup', this.tempRelease)\n      document.removeEventListener('touchend', this.tempRelease)\n\n      if (this.pendingDblClick) {\n        this._dblClickTimeout = window.setTimeout(() => {\n          this.pendingDblClick = false\n          this._dblClickTimeout = null\n        }, 150)\n      }\n    },\n    getStepValue(event) {\n      const { x } = getEventCords(event)\n\n      let value\n\n      if (this.log) {\n        const minLog = Math.max(0, Math.log(this.min + 1) || 0)\n        const minLeft = (minLog / Math.log(this.max + 1)) * this.width\n\n        const logPosition = Math.max(\n          (this.width / 3) * -1,\n          Math.min(this.width * 1.5, x - this.left)\n        )\n\n        value = Math.max(\n          0,\n          Math.exp(\n            ((minLeft + (logPosition / this.width) * (this.width - minLeft)) /\n              this.width) *\n              Math.log(this.max + 1)\n          ) - 1\n        )\n      } else {\n        const mouseValue = x - this.left\n        const stepCount = parseInt(mouseValue / this.stepWidth + 0.5, 10)\n        value = stepCount * this.step + this.min\n      }\n\n      if (!this.decimalsCount) {\n        return value\n      }\n\n      return Number(value.toFixed(this.decimalsCount))\n    },\n    updateSize() {\n      const trackRect = this.track.getBoundingClientRect()\n\n      this.left = trackRect.left\n\n      this.width = this.$el.clientWidth\n\n      if (!this.width) {\n        this.width = parseInt(this.track.parentElement.style.width)\n      }\n\n      if (!this.width && trackRect.width) {\n        this.width = trackRect.width\n      }\n\n      this.stepWidth = (this.width / (this.max - this.min)) * this.step\n    },\n    /**\n     * get the filled area percentage\n     * @param  {Object} slider\n     * @param  {Number} value\n     * @return {Number}\n     */\n    getPositionPercentage(value) {\n      if (this.log) {\n        return Math.log(value + 1) / Math.log(this.max + 1)\n      } else {\n        return (value - this.min) / (this.max - this.min)\n      }\n    },\n    normalizeValue(value) {\n      if (isNaN(Number(value))) {\n        return this.value\n      }\n      if (this.multiple) {\n        const prevValue = this.values[this.activeHandle - 1] || this.min\n        const nextValue = this.values[this.activeHandle + 1] || this.max\n        value = Math.min(Math.max(Number(value), prevValue), nextValue)\n      }\n      return Math.min(Math.max(Number(value), this.min), this.max)\n    },\n    addHandle(value) {\n      const closest = getClosestValue(this.values, value)\n      const closestIndex = this.values.indexOf(closest)\n      const closestValue = this.values[closestIndex]\n      const newIndex = closestValue <= value ? closestIndex + 1 : closestIndex\n      this.handles.splice(newIndex, 0, {\n        value,\n        positionX: 0,\n        positionY: 0,\n        color: '#fff'\n      })\n      this.values.splice(newIndex, 0, value)\n\n      this.activeHandle = newIndex\n      this.currentValue = null\n      this.updateValue(value)\n    },\n    removeHandle(index) {\n      this.handles.splice(index, 1)\n      this.values.splice(index, 1)\n      this.activeHandle = index === 0 ? index + 1 : index - 1\n    },\n    /**\n     * get the handle color\n     * @param  {Number} positionPercentage\n     * @return {Number} handle hex color code\n     */\n    getHandleColor(positionPercentage) {\n      const colorCount = this.gradient.length - 1\n      const region = positionPercentage\n      for (let i = 1; i <= colorCount; i++) {\n        // check the current zone\n        if (region >= (i - 1) / colorCount && region <= i / colorCount) {\n          // get the active color percentage\n          const colorPercentage =\n            (region - (i - 1) / colorCount) / (1 / colorCount)\n          // return the mixed color based on the zone boundary colors\n          return mix(this.gradient[i - 1], this.gradient[i], colorPercentage)\n        }\n      }\n      return 'rgb(0, 0, 0)'\n    },\n    /**\n     * update the slider fill, value and color\n     * @param {Number} value\n     */\n\n    reloadHandlesColor() {\n      this.handles.forEach((handle, index) => {\n        const positionPercentage = this.getPositionPercentage(handle.value)\n        const color = this.getHandleColor(positionPercentage)\n        this.handles[index].color = color.toString()\n      })\n    },\n\n    updateValue(value, muted = false) {\n      // if (Number(value) === this.value) return;\n\n      window.requestAnimationFrame(() => {\n        const normalized = this.normalizeValue(value)\n        const positionPercentage = this.getPositionPercentage(normalized)\n\n        if (this.fill) {\n          this.fill.translate = positionPercentage * this.width\n          this.fill.scale = 1 - positionPercentage\n        }\n\n        this.values[this.activeHandle] = normalized\n        this.handles[this.activeHandle].value = normalized\n\n        this.handles[this.activeHandle].positionX =\n          positionPercentage * this.width\n\n        this.currentValue = normalized\n\n        if (this.gradient) {\n          const color = this.getHandleColor(positionPercentage)\n          this.handles[this.activeHandle].color = color.toString()\n          if (this.colorCode) {\n            this.currentValue = color\n          }\n        }\n\n        if (muted) return\n        this.$emitInputEvent()\n      })\n    }\n  },\n  created() {\n    const stepSplited = this.step.toString().split('.')[1]\n    this.currentValue = this.value\n    this.decimalsCount = stepSplited ? stepSplited.length : 0\n  },\n  mounted() {\n    this.init()\n\n    this.$nextTick(() => {\n      this.updateSize()\n      this.updateValue(undefined, true)\n    })\n  },\n  destroyed() {\n    window.removeEventListener('resize', this.handleResize)\n\n    if (this._updateSizeTimeout) {\n      clearTimeout(this._updateSizeTimeout)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.slider {\n  position: relative;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n\n  &.-alpha {\n    .slider__track {\n      background-image: $checkerboard;\n      background-size: 6px 6px;\n      background-position: 0 0, 3px -3px, 0 3px, -3px 0px;\n    }\n  }\n\n  &.-disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n\n  &:hover,\n  &--dragging {\n    .slider__label {\n      visibility: visible;\n      opacity: 1;\n    }\n  }\n}\n\n.slider__input {\n  margin-bottom: 0;\n  padding: 0.3em;\n  margin-left: 0.2em;\n  max-width: 70px;\n  width: 20%;\n  border: 0;\n  text-align: center;\n  font-size: 12px;\n  -webkit-appearance: none;\n  -moz-appearance: textfield;\n\n  &::-webkit-inner-spin-button,\n  &::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  &:focus {\n    outline: none;\n    border-color: $blue;\n  }\n}\n\n.slider__track {\n  position: relative;\n  flex: 1;\n  margin: 0;\n  width: auto;\n  height: 8px;\n  background: var(--theme-background-200);\n  will-change: transfom;\n  border-radius: 10px;\n  cursor: pointer;\n  padding: 0;\n}\n\n.slider__handle {\n  position: relative;\n  position: absolute;\n  top: 0;\n  left: 0;\n  will-change: transform;\n  color: black;\n  margin: -0.25rem -0.5rem;\n  width: 1rem;\n  height: 1rem;\n  border: 0;\n  background-color: currentColor;\n  border-radius: 50%;\n  cursor: grab;\n  box-shadow: 0 1px 0 1px rgba(black, 0.2);\n\n  &:active,\n  &:hover {\n    box-shadow: 0 0 0 0.5em rgba(white, 0.2);\n  }\n\n  &:active {\n    cursor: grabbing;\n  }\n}\n\n.slider__label {\n  position: absolute;\n  bottom: 2rem;\n  left: 50%;\n  z-index: 999;\n  padding: 0.5rem;\n  min-width: 1rem;\n  border-radius: 4px;\n  filter: drop-shadow(-1em -1em 3em var(--theme-background-base));\n  color: white;\n  background-color: rgba(black, 0.75);\n  text-align: center;\n  font-size: 14px;\n  line-height: 1rem;\n  transform: translate(-50%, 0);\n  white-space: nowrap;\n  visibility: hidden;\n  opacity: 0;\n\n  &:before {\n    position: absolute;\n    bottom: -0.5rem;\n    left: 50%;\n    display: block;\n    width: 0;\n    height: 0;\n    border-width: 0.5rem 0.5rem 0 0.5rem;\n    border-style: solid;\n    border-color: rgba(black, 0.75) transparent transparent transparent;\n    content: '';\n    transform: translate3d(-50%, 0, 0);\n  }\n}\n\n.slider__fill {\n  width: 100%;\n  height: 100%;\n  transform-origin: left top;\n  border-radius: 10px;\n}\n\n.slider__completion {\n  position: absolute;\n  top: 0;\n  height: 100%;\n\n  border-radius: 10px;\n  background-color: var(--theme-buy-base);\n\n  pointer-events: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Slider.vue?vue&type=template&id=a1b85f3c&\"\nimport script from \"./Slider.vue?vue&type=script&lang=js&\"\nexport * from \"./Slider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Slider.vue?vue&type=style&index=0&id=a1b85f3c&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{staticClass:\"btn color-picker-control\",on:{\"click\":_vm.openPicker}},[_c('div',{staticClass:\"color-picker-control__color\",style:({\n      backgroundColor: _vm.value\n    })}),_vm._m(0)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"color-picker-control__wrapper\"},[_c('i',{staticClass:\"icon-dropper\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <button class=\"btn color-picker-control\" @click=\"openPicker\">\n    <div\n      class=\"color-picker-control__color\"\n      :style=\"{\n        backgroundColor: value\n      }\"\n    ></div>\n    <div class=\"color-picker-control__wrapper\">\n      <i class=\"icon-dropper\"></i>\n    </div>\n  </button>\n</template>\n\n<script>\nimport dialogService from '../../../services/dialogService'\n\nexport default {\n  name: 'ColorPickerControl',\n  props: {\n    value: {\n      type: String,\n      default: '#000'\n    },\n    label: {\n      type: String\n    },\n    allowNull: {\n      type: Boolean\n    }\n  },\n  data: () => ({\n    dialogInstance: null\n  }),\n  beforeDestroy() {\n    if (this.dialogInstance) {\n      this.dialogInstance.close()\n    }\n  },\n  methods: {\n    async openPicker() {\n      let colorDidChanged = false\n      let timeout\n\n      this.dialogInstance = await dialogService.openPicker(\n        this.value,\n        color => {\n          if (timeout) {\n            clearTimeout(timeout)\n          }\n          colorDidChanged = true\n\n          timeout = setTimeout(() => {\n            timeout = null\n\n            this.$emit('input', color)\n          }, 500)\n        },\n        this.label,\n        () => this.$emit('close', colorDidChanged),\n        this.allowNull\n      )\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.color-picker-control {\n  background-color: transparent !important;\n  background-image: $checkerboard;\n  background-size: 6px 6px;\n  background-position: 0 0, 3px -3px, 0 3px, -3px 0px;\n  position: relative;\n  overflow: hidden;\n  border: 1px solid transparent;\n\n  &__wrapper {\n    position: relative;\n    z-index: 1;\n  }\n\n  &__color {\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    position: absolute;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPickerControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPickerControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ColorPickerControl.vue?vue&type=template&id=0116c0c8&scoped=true&\"\nimport script from \"./ColorPickerControl.vue?vue&type=script&lang=js&\"\nexport * from \"./ColorPickerControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ColorPickerControl.vue?vue&type=style&index=0&id=0116c0c8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0116c0c8\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAS5JREFUeNrsljEOgjAUQIuEGJ1c3D0C3kDdTTyCB3F09wgewl2OIEdwN5o6SFQM+Jt8TAeV/t8fF2zyQ4D+/15bKCjV9BZwExebSQyHBE/Hy+k2/ZmABe/hJc2VCATgykciEIKzJQIC3EB3EIOarnuIIUhol7otAjxxgCvsk2CO/wxY8Jj4uKS4HJot4AF3lqhbgpUHXGHumvUMwOhN4lxgs5thLfIMSMBftUBiRBVIBQW0cL1/a8j/QB8iEuLkEAfqWxAJDjTi7AOZoMDl043wS9IV7/vOhBnImSMgIZHhJqS4ApVE27Gv3e4Qp7pOrkWpEjnCSymBkiBh4EeIwqUwZVpdJEhwxVhXI3GD6L7ZxAoqnCNgS3QsiQr+oBYLma9XYUmUCM//XzZOewowABKyYnH/TytxAAAAAElFTkSuQmCC\"","export function isTouchSupported() {\n  const prefixes = ' -webkit- -moz- -o- -ms- '.split(' ')\n  const mq = function(query) {\n    return window.matchMedia(query).matches\n  }\n\n  if ('ontouchstart' in window) {\n    return true\n  }\n\n  // include the 'heartz' as a way to have a non matching MQ to help terminate the join\n  // https://git.io/vznFH\n  const query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('')\n  return mq(query)\n}\n\nexport function getEventOffset(event) {\n  let x = event.offsetX\n  let y = event.offsetY\n\n  if (event.touches && event.touches.length) {\n    const rect = event.target.getBoundingClientRect()\n\n    x = event.touches[0].pageX - rect.left\n    y = event.touches[0].pageY - rect.top\n  }\n\n  return { x, y }\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeframeDialog.vue?vue&type=style&index=0&id=5e17e77a&prod&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=22df1b6a&prod&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchDialog.vue?vue&type=style&index=0&id=cf96adc4&prod&lang=scss&scoped=true&\"","export const APPLICATION_START_TIME = Date.now()\nexport const MASTER_DOMAIN = /aggr.trade$/.test(window.location.hostname)\nexport const MAX_BARS_PER_CHUNKS = 10000\nexport const GRID_COLS = 24\nexport const PRODUCTS_EXPIRES_AFTER = 1000 * 60 * 60 * 24 * 7\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"input\",staticClass:\"w-100\",attrs:{\"contenteditable\":\"\",\"placeholder\":_vm.placeholder},on:{\"input\":_vm.onInput,\"keydown\":_vm.onKeydown}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { isTouchSupported } from '@/utils/touchevent'\nimport { Component, Vue } from 'vue-property-decorator'\nimport { getTimeframeForHuman } from '../../utils/helpers'\n\n@Component({\n  name: 'TimeframeInput',\n  props: {\n    hero: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    placeholder: {\n      type: String,\n      required: false,\n      default: null\n    },\n    autofocus: {\n      type: String,\n      required: false,\n      default: null\n    }\n  }\n})\nexport default class extends Vue {\n  disabled\n\n  $refs!: {\n    input: HTMLInputElement\n  }\n\n  mounted() {\n    if (!isTouchSupported()) {\n      this.$nextTick(() => {\n        this.$refs.input.focus()\n      })\n    }\n  }\n\n  onKeydown(event) {\n    if (event.which === 13) {\n      event.preventDefault()\n\n      this.$emit('submit', this.format(event.currentTarget.innerText))\n\n      this.$refs.input.innerText = ''\n    }\n  }\n\n  format(input) {\n    const trimmed = input.trim()\n\n    let output\n\n    if (/t$|ticks?$/i.test(trimmed)) {\n      return (output = parseInt(trimmed) + 't')\n    } else {\n      if (/d$/i.test(trimmed)) {\n        output = parseFloat(trimmed) * 60 * 60 * 24\n      } else if (/h$/i.test(trimmed)) {\n        output = parseFloat(trimmed) * 60 * 60\n      } else if (/m$/i.test(trimmed)) {\n        output = parseFloat(trimmed) * 60\n      } else if (/ms$/i.test(trimmed)) {\n        output = parseFloat(trimmed) / 1000\n      } else {\n        output = parseFloat(trimmed)\n      }\n    }\n\n    return output\n  }\n\n  onInput(event) {\n    const value = this.format(event.currentTarget.innerText) || null\n    let label\n    if (value) {\n      label = getTimeframeForHuman(value)\n    } else {\n      label = event.currentTarget.innerText\n    }\n\n    if (!label || !label.length) {\n      return this.$emit('input', null)\n    }\n\n    this.$emit('input', {\n      value,\n      label\n    })\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeframeInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeframeInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TimeframeInput.vue?vue&type=template&id=2dab96c8&\"\nimport script from \"./TimeframeInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./TimeframeInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"js/aggregator.32a5e2d4.worker.js\");\n}\n","import store from '@/store'\nimport { AggregatorPayload } from '@/types/types'\nimport { randomString } from '@/utils/helpers'\nimport EventEmitter from 'eventemitter3'\n\nimport Worker from 'worker-loader!@/worker/aggregator'\nimport {\n  countDecimals,\n  marketDecimals,\n  getStoredProductsOrFetch,\n  parseMarket,\n  stripStable\n} from './productsService'\nimport workspacesService from './workspacesService'\n\nclass AggregatorService extends EventEmitter {\n  public worker: Worker\n  private _normalizeDecimalsTimeout: number\n\n  constructor() {\n    super()\n\n    this.worker = new Worker()\n\n    this.worker.addEventListener('message', event => {\n      this.emit(event.data.op, event.data.data, event.data.trackingId)\n    })\n\n    this.listenUtilityEvents()\n  }\n\n  listenUtilityEvents() {\n    this.once('hello', () => {\n      workspacesService.initialize()\n    })\n\n    this.on('price', ({ market, price }: { market: string; price: number }) => {\n      marketDecimals[market] = countDecimals(price)\n\n      if (this._normalizeDecimalsTimeout) {\n        clearTimeout(this._normalizeDecimalsTimeout)\n      }\n\n      this._normalizeDecimalsTimeout = setTimeout(\n        this.normalizeDecimals.bind(this),\n        1000\n      )\n    })\n\n    this.on(\n      'getExchangeProducts',\n      async (\n        {\n          exchangeId,\n          endpoints,\n          forceFetch\n        }: { exchangeId: string; endpoints: string[]; forceFetch?: boolean },\n        trackingId: string\n      ) => {\n        console.debug(\n          `[${exchangeId}] aggregator requested ${exchangeId}'s products (${\n            forceFetch ? 'force fetch products' : 'get stored or fetch'\n          })`\n        )\n        const productsData = await getStoredProductsOrFetch(\n          exchangeId,\n          endpoints,\n          forceFetch\n        )\n\n        this.dispatch({\n          op: 'getExchangeProducts',\n          data: {\n            exchangeId,\n            data: productsData\n          },\n          trackingId\n        })\n      }\n    )\n  }\n\n  dispatch(payload: AggregatorPayload) {\n    this.worker.postMessage(payload)\n  }\n\n  dispatchAsync(payload: AggregatorPayload) {\n    const trackingId = randomString(8)\n\n    return new Promise(resolve => {\n      const listener = ({ data }: { data: AggregatorPayload }) => {\n        if (data.trackingId === payload.trackingId) {\n          this.worker.removeEventListener('message', listener)\n          resolve(data.data)\n        }\n      }\n\n      this.worker.addEventListener('message', listener)\n\n      payload.trackingId = trackingId\n\n      this.worker.postMessage(payload)\n    })\n  }\n\n  async connect(markets: string[]): Promise<any> {\n    if (!markets.length) {\n      return\n    }\n\n    for (let i = 0; i < markets.length; i++) {\n      const [exchange] = parseMarket(markets[i])\n\n      if (store.state.exchanges[exchange].disabled) {\n        const panes = []\n        for (const paneId in store.state.panes.panes) {\n          if (\n            store.state.panes.panes[paneId].markets.indexOf(markets[i]) !== -1\n          ) {\n            panes.push(paneId)\n          }\n        }\n\n        markets.splice(i, 1)\n        i--\n      }\n    }\n\n    await this.dispatchAsync({\n      op: 'connect',\n      data: markets\n    })\n  }\n\n  async disconnect(markets: string[]): Promise<any> {\n    if (!markets.length) {\n      return\n    }\n\n    await this.dispatchAsync({\n      op: 'disconnect',\n      data: markets\n    })\n  }\n\n  normalizeDecimals() {\n    this._normalizeDecimalsTimeout = null\n    const decimalsByLocalMarkets = {}\n\n    for (const marketKey in marketDecimals) {\n      if (!store.state.panes.marketsListeners[marketKey]) {\n        continue\n      }\n\n      const localPair = store.state.panes.marketsListeners[marketKey].local\n        .replace('USDT', 'USD')\n        .replace('USDC', 'USD')\n\n      if (!decimalsByLocalMarkets[localPair]) {\n        decimalsByLocalMarkets[localPair] = []\n      }\n\n      decimalsByLocalMarkets[localPair].push(marketDecimals[marketKey])\n    }\n\n    for (const marketKey in marketDecimals) {\n      if (!store.state.panes.marketsListeners[marketKey]) {\n        continue\n      }\n\n      const localPair = stripStable(\n        store.state.panes.marketsListeners[marketKey].local\n      )\n\n      if (!decimalsByLocalMarkets[localPair]) {\n        continue\n      }\n\n      const averageDecimals = Math.round(\n        decimalsByLocalMarkets[localPair].reduce((a, b) => a + b) /\n          decimalsByLocalMarkets[localPair].length\n      )\n\n      marketDecimals[marketKey] = marketDecimals[localPair] = averageDecimals\n    }\n\n    this.emit('decimals')\n  }\n}\n\nexport default new AggregatorService()\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exchange.vue?vue&type=style&index=0&id=6ae41fdb&prod&lang=scss&\"","import dialogService from '@/services/dialogService'\nimport workspacesService from '@/services/workspacesService'\nimport { downloadAnything, sleep, slugify, uniqueName } from '@/utils/helpers'\nimport { scheduleSync, syncState } from '@/utils/store'\nimport {\n  PriceScaleMargins,\n  PriceScaleMode,\n  SeriesOptions,\n  SeriesType\n} from 'lightweight-charts'\nimport Vue from 'vue'\nimport { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\nimport { ModulesState } from '..'\nimport merge from 'lodash.merge'\n\nexport interface PriceScaleSettings {\n  scaleMargins?: PriceScaleMargins\n  mode?: PriceScaleMode\n}\n\nexport interface IndicatorNavigationState {\n  sections: string[]\n  tab: string\n  optionsQuery: string\n  fontSize: number\n}\n\nexport interface IndicatorSettings {\n  id?: string\n  name?: string\n  displayName?: string\n  description?: string\n  navigationState?: IndicatorNavigationState\n  script?: string\n  options?: SeriesOptions<SeriesType>\n  createdAt?: number\n  updatedAt?: number\n  unsavedChanges?: boolean\n  series?: string[]\n  version?: string\n  uses?: number\n}\nexport interface ChartPaneState {\n  _id?: string\n  indicators?: { [id: string]: IndicatorSettings }\n  priceScales: { [id: string]: PriceScaleSettings }\n  layouting: boolean | string\n  timeframe: number\n  indicatorsErrors: { [indicatorId: string]: string }\n  refreshRate?: number\n  showLegend: boolean\n  fillGapsWithEmpty: boolean\n  forceNormalizePrice: boolean\n  showHorizontalGridlines: boolean\n  horizontalGridlinesColor: string\n  showVerticalGridlines: boolean\n  verticalGridlinesColor: string\n  showWatermark: boolean\n  watermarkColor: string\n  hiddenMarkets: { [indicatorId: string]: boolean }\n  barSpacing: number\n}\n\nconst getters = {} as GetterTree<ChartPaneState, ModulesState>\n\nconst state = {\n  indicatorsErrors: {},\n  indicators: {},\n  priceScales: {\n    right: {\n      scaleMargins: {\n        top: 0.04,\n        bottom: 0.26\n      }\n    }\n  },\n  layouting: false,\n  timeframe: 10,\n  refreshRate: 1000,\n  showLegend: true,\n  fillGapsWithEmpty: true,\n  forceNormalizePrice: false,\n  showHorizontalGridlines: false,\n  horizontalGridlinesColor: 'rgba(255,255,255,.1)',\n  showVerticalGridlines: false,\n  verticalGridlinesColor: 'rgba(255,255,255,.1)',\n  showWatermark: true,\n  watermarkColor: 'rgba(255,255,255,.1)',\n  hiddenMarkets: {},\n  barSpacing: null\n} as ChartPaneState\n\nconst actions = {\n  async boot({ state }) {\n    state.indicatorsErrors = {} // let chart recalculate potential errors\n    state.layouting = false // start without layouting overlay\n\n    if (!Object.keys(state.indicators).length) {\n      const indicators = await workspacesService.getIndicators()\n\n      for (const indicator of indicators) {\n        if ((indicator as any).enabled !== true) {\n          continue\n        }\n\n        if (!indicator.series) {\n          indicator.series = []\n        }\n\n        Vue.set(state.indicators, indicator.id, indicator)\n      }\n\n      scheduleSync(state)\n    }\n  },\n  addIndicator({ state, commit }, indicator) {\n    const ids = Object.keys(state.indicators)\n\n    indicator.id = uniqueName(indicator.id, ids)\n\n    indicator = {\n      script: 'plotline(avg_close(bar))',\n      ...indicator,\n      options: {\n        priceScaleId: indicator.priceScaleId || indicator.id,\n        ...indicator.options\n      }\n    }\n\n    commit('ADD_INDICATOR', indicator)\n    commit('UPDATE_INDICATOR_DISPLAY_NAME', indicator.id)\n\n    return indicator.id\n  },\n\n  duplicateIndicator({ state, dispatch }, id) {\n    const indicator = merge({}, state.indicators[id])\n\n    const indicators = Object.values(state.indicators)\n\n    indicator.name = uniqueName(\n      indicator.name,\n      indicators.map(indicator => indicator.name)\n    )\n\n    indicator.id = slugify(indicator.name)\n\n    delete indicator.updatedAt\n    delete indicator.createdAt\n    delete indicator.enabled\n\n    dispatch('addIndicator', indicator)\n  },\n\n  async downloadIndicator({ state }, indicatorId) {\n    const indicator = state.indicators[indicatorId]\n\n    const priceScale = state.priceScales[indicator.options.priceScaleId] || {}\n\n    const exportableIndicator = Object.assign(\n      {},\n      indicator.options,\n      priceScale\n        ? {\n            scaleMargins: priceScale.scaleMargins\n          }\n        : {}\n    )\n\n    await downloadAnything(\n      {\n        type: 'indicator',\n        name: 'indicator:' + indicator.name,\n        data: {\n          options: exportableIndicator,\n          description: indicator.description,\n          script: indicator.script\n        }\n      },\n      'indicator_' + indicatorId\n    )\n  },\n\n  toggleSerieVisibility({ commit, state }, id) {\n    commit('SET_INDICATOR_OPTION', {\n      id,\n      key: 'visible',\n      value:\n        !state.indicators[id].options ||\n        typeof state.indicators[id].options.visible === 'undefined'\n          ? false\n          : !state.indicators[id].options.visible\n    })\n  },\n  setIndicatorOption({ commit, state }, { id, key, value, silent }) {\n    try {\n      value = JSON.parse(value)\n    } catch (error) {\n      // empty\n    }\n    if (state.indicators[id] && state.indicators[id].options[key] === value) {\n      return\n    }\n\n    commit('SET_INDICATOR_OPTION', { id, key, value, silent })\n\n    if (!state.indicators[id].unsavedChanges) {\n      commit('FLAG_INDICATOR_AS_UNSAVED', id)\n    }\n\n    if (state.indicators[id].name.indexOf(key) !== -1) {\n      commit('UPDATE_INDICATOR_DISPLAY_NAME', id)\n    }\n  },\n  async removeIndicator(\n    { state, commit, dispatch },\n    { id, confirm = true }: { id: string; confirm?: boolean }\n  ) {\n    if (\n      dialogService.mountedComponents.indicator &&\n      dialogService.mountedComponents.indicator.indicatorId === id\n    ) {\n      await dialogService.mountedComponents.indicator.close()\n    }\n\n    if (state.indicators[id].unsavedChanges && confirm) {\n      const output = await dialogService.confirm({\n        title: 'Save changes ?',\n        message: `This indicator has <strong>unsaved changes <i class=\"icon-warning\"></i></strong>`,\n        cancel: 'DISCARD CHANGES',\n        ok: 'SAVE',\n        actions: [\n          {\n            label: 'Cancel',\n            callback: () => 2\n          }\n        ],\n        html: true\n      })\n\n      if (output === null || output === 2) {\n        return\n      }\n\n      if (output) {\n        await dispatch('saveIndicator', id)\n      }\n    }\n\n    commit('REMOVE_INDICATOR', id)\n\n    await sleep(100)\n  },\n  async saveIndicator({ state, commit, dispatch }, id) {\n    commit('FLAG_INDICATOR_AS_SAVED', id)\n\n    workspacesService.saveIndicator(state.indicators[id])\n\n    await dispatch('transferIndicator', state.indicators[id])\n  },\n  async renameIndicator({ commit, state, dispatch }, { id, name }) {\n    const newId = uniqueName(slugify(name), Object.keys(state.indicators))\n\n    const indicatorCopy = JSON.parse(JSON.stringify(state.indicators[id]))\n\n    const indicator = { ...indicatorCopy, name, id: newId }\n\n    commit('ADD_INDICATOR', indicator)\n\n    dispatch('removeIndicator', { id, confirm: false })\n    commit('UPDATE_INDICATOR_DISPLAY_NAME', newId)\n\n    return newId\n  },\n  transferIndicator({ state, rootState }, indicator: IndicatorSettings) {\n    for (const paneId in rootState.panes.panes) {\n      if (\n        paneId === state._id ||\n        rootState.panes.panes[paneId].type !== 'chart'\n      ) {\n        continue\n      }\n\n      const otherPaneIndicator = rootState[paneId].indicators[\n        indicator.id\n      ] as IndicatorSettings\n\n      if (!otherPaneIndicator.unsavedChanges) {\n        otherPaneIndicator.options = indicator.options\n\n        this.commit(paneId + '/SET_INDICATOR_SCRIPT', { id: indicator.id })\n      }\n    }\n  },\n  async setIndicatorNavigationState(\n    { state },\n    {\n      id,\n      navigationState\n    }: { id: string; navigationState: IndicatorNavigationState }\n  ) {\n    state.indicators[id].navigationState = navigationState\n    syncState(state)\n  },\n  async undoIndicator({ state, commit }, indicatorId) {\n    const savedIndicator = await workspacesService.getIndicator(indicatorId)\n\n    if (!savedIndicator) {\n      this.dispatch('app/showNotice', {\n        title: `Indicator ${indicatorId} doesn't exist in your library, nothing to rollback to.`,\n        type: 'error'\n      })\n      return\n    }\n\n    state.indicators[indicatorId] = savedIndicator\n    commit('SET_INDICATOR_SCRIPT', { id: indicatorId })\n  },\n  toggleMarkets(\n    { state, rootState, commit },\n    { type, id, inverse }: { type: string; id: string; inverse: boolean }\n  ) {\n    const containsHidden =\n      typeof rootState.panes.panes[state._id].markets.find(\n        market => state.hiddenMarkets[market] === true\n      ) !== 'undefined'\n\n    for (const market of rootState.panes.panes[state._id].markets) {\n      const isHidden = state.hiddenMarkets[market] === true\n\n      if (!type) {\n        if (!inverse) {\n          if (market !== id) {\n            continue\n          }\n\n          // toggle selected market\n          Vue.set(state.hiddenMarkets, market, !isHidden)\n        } else if (!isHidden && market !== id) {\n          // hide market other than selected\n          Vue.set(state.hiddenMarkets, market, true)\n        } else if (isHidden && market === id) {\n          // show current market\n          Vue.set(state.hiddenMarkets, market, false)\n        }\n      } else if (type === 'all') {\n        if (containsHidden !== !isHidden) {\n          Vue.set(state.hiddenMarkets, market, !containsHidden)\n        }\n      } else {\n        const indexedMarket = rootState.panes.marketsListeners[market]\n\n        const hide = type !== indexedMarket.type\n\n        if (hide !== isHidden) {\n          Vue.set(state.hiddenMarkets, market, hide)\n        }\n      }\n    }\n    commit('TOGGLE_MARKET')\n  }\n} as ActionTree<ChartPaneState, ModulesState>\n\nconst mutations = {\n  SET_REFRESH_RATE(state, value) {\n    state.refreshRate = +value || 0\n  },\n  TOGGLE_LEGEND(state) {\n    state.showLegend = !state.showLegend\n  },\n  SET_GRIDLINES(state, { type, value }) {\n    if (type === 'vertical') {\n      if (typeof value === 'boolean') {\n        state.showVerticalGridlines = value\n      } else {\n        state.verticalGridlinesColor = value\n      }\n    } else {\n      if (typeof value === 'boolean') {\n        state.showHorizontalGridlines = value\n      } else {\n        state.horizontalGridlinesColor = value\n      }\n    }\n  },\n  SET_WATERMARK(state, { value }) {\n    if (typeof value === 'boolean') {\n      state.showWatermark = value\n    } else {\n      state.watermarkColor = value\n    }\n  },\n  SET_INDICATOR_SERIES(state, { id, series }) {\n    state.indicators[id].series = series\n  },\n  SET_INDICATOR_ERROR(state, { id, error }) {\n    if (error) {\n      Vue.set(state.indicatorsErrors, id, error)\n    } else {\n      Vue.set(state.indicatorsErrors, id, null)\n    }\n  },\n  SET_TIMEFRAME(state, value) {\n    state.timeframe = value\n  },\n  ADD_INDICATOR(state, indicator) {\n    Vue.set(state.indicators, indicator.id, indicator)\n  },\n  UPDATE_DESCRIPTION(state, { id, description }) {\n    Vue.set(state.indicators[id], 'description', description)\n  },\n  REMOVE_INDICATOR(state, id) {\n    Vue.delete(state.indicators, id)\n  },\n  SET_INDICATOR_OPTION(state, { id, key, value }) {\n    if (!state.indicators[id]) {\n      state.indicators[id] = {}\n    }\n\n    if (!state.indicators[id].options) {\n      ;(state.indicators[id] as any).options = {}\n    }\n\n    Vue.set(state.indicators[id].options, key, value)\n  },\n  REMOVE_INDICATOR_OPTION(state, { id, key }) {\n    if (!state.indicators[id]) {\n      return\n    }\n\n    Vue.delete(state.indicators[id].options, key)\n  },\n  SET_INDICATOR_SCRIPT(state, payload) {\n    if (typeof payload.value === 'undefined') {\n      return\n    }\n\n    if (state.indicators[payload.id].script !== payload.value) {\n      this.commit(state._id + '/FLAG_INDICATOR_AS_UNSAVED', payload.id)\n    }\n\n    Vue.set(state.indicators[payload.id], 'script', payload.value)\n  },\n  FLAG_INDICATOR_AS_UNSAVED(state, id) {\n    Vue.set(state.indicators[id], 'unsavedChanges', true)\n  },\n  FLAG_INDICATOR_AS_SAVED(state, id) {\n    Vue.set(state.indicators[id], 'unsavedChanges', false)\n  },\n  TOGGLE_LAYOUTING(state, indicatorId: string) {\n    if (typeof indicatorId === 'string' && !state.layouting) {\n      state.layouting = indicatorId\n    } else {\n      state.layouting = !state.layouting\n    }\n  },\n  TOGGLE_FILL_GAPS_WITH_EMPTY(state) {\n    state.fillGapsWithEmpty = !state.fillGapsWithEmpty\n  },\n  TOGGLE_FORCE_NORMALIZE_PRICE(state) {\n    state.forceNormalizePrice = !state.forceNormalizePrice\n  },\n  UPDATE_INDICATOR_DISPLAY_NAME(state, id) {\n    const displayName = state.indicators[id].name.replace(\n      /\\{([\\w\\d_]+)\\}/g,\n      (match, key) => state.indicators[id].options[key] || ''\n    )\n    Vue.set(state.indicators[id], 'displayName', displayName)\n  },\n  TOGGLE_MARKET(state, marketId) {\n    if (marketId) {\n      Vue.set(state.hiddenMarkets, marketId, !state.hiddenMarkets[marketId])\n    }\n  },\n  SET_PRICE_SCALE(state, { id, priceScale }) {\n    if (!priceScale) {\n      delete state.priceScales[id]\n      return\n    }\n\n    state.priceScales[id] = priceScale\n  },\n  SET_BAR_SPACING(state, value) {\n    state.barSpacing = value\n  }\n} as MutationTree<ChartPaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<ChartPaneState, ModulesState>\n","import { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\n\nimport dialogService from '@/services/dialogService'\nimport StatDialog from '@/components/stats/StatDialog.vue'\nimport Vue from 'vue'\nimport { slugify, uniqueName } from '@/utils/helpers'\n\nexport interface StatBucket {\n  id: string\n  name: string\n  input: string\n  enabled: boolean\n  window?: number\n  precision?: number\n  color?: string\n  type?: string\n  conditionnalColor?: boolean\n}\n\nexport interface StatsPaneState {\n  _id?: string\n  granularity?: number\n  window?: number\n  enableChart?: boolean\n  buckets?: { [id: string]: StatBucket }\n}\n\nconst getters = {} as GetterTree<StatsPaneState, StatsPaneState>\n\nconst state = {\n  granularity: 5000,\n  window: 60000,\n  enableChart: false,\n  buckets: {\n    trades: {\n      id: 'trades',\n      name: 'TRADES',\n      input: 'cbuy + csell',\n      enabled: true,\n      color: 'rgba(255, 255, 255, .25)',\n      precision: 2,\n      type: 'line'\n    },\n    vold: {\n      id: 'vold',\n      name: 'VOLUME Δ',\n      input: 'vbuy - vsell',\n      enabled: true,\n      color: '#40d745',\n      type: 'area'\n    },\n    tradesd: {\n      id: 'tradesd',\n      name: 'TRADES Δ',\n      input: 'cbuy - csell',\n      enabled: true,\n      color: '#2196f3',\n      precision: 2,\n      type: 'line'\n    },\n    '1hliq': {\n      id: '1hliq',\n      name: '1H LIQUIDATIONS Δ',\n      window: 3600000,\n      input: 'lbuy-lsell',\n      enabled: false,\n      color: \"value>0?'#43a047':'#f44336'\",\n      conditionnalColor: true,\n      type: 'histogram'\n    }\n  }\n} as StatsPaneState\n\nconst actions = {\n  createBucket({ state, commit }) {\n    const otherIds = Object.keys(state.buckets)\n    const otherNames = otherIds.map(id => state.buckets[id].name)\n\n    const name = uniqueName('Untitled Bucket', otherNames)\n    const id = uniqueName(slugify(name), otherIds)\n\n    commit('CREATE_BUCKET', { id, name })\n\n    dialogService.open(StatDialog, { paneId: state._id, bucketId: id })\n  },\n  updateBucket({ commit, state }, { id, prop, value }) {\n    if (state.buckets[id][prop] === value) {\n      return\n    }\n\n    let mutation = ''\n\n    if (typeof value === 'boolean') {\n      mutation += 'TOGGLE_BUCKET'\n    } else {\n      mutation += 'SET_BUCKET_' + prop.toUpperCase()\n    }\n\n    commit(mutation, {\n      id,\n      value\n    })\n  },\n  renameBucket({ commit, state }, { id, name }) {\n    const otherNames = Object.keys(state.buckets)\n      .filter(_id => _id !== id)\n      .map(id => state.buckets[id].name)\n\n    name = uniqueName(name, otherNames)\n\n    commit('RENAME_BUCKET', {\n      id,\n      name\n    })\n  }\n} as ActionTree<StatsPaneState, StatsPaneState>\n\nconst mutations = {\n  TOGGLE_BUCKET(state, { id, value }) {\n    const stat = state.buckets[id]\n\n    stat.enabled = value ? true : false\n\n    Vue.set(state.buckets, id, stat)\n  },\n  SET_BUCKET_INPUT(state, { id, value }) {\n    const stat = state.buckets[id]\n\n    stat.input = value\n\n    Vue.set(state.buckets, id, stat)\n  },\n  RENAME_BUCKET(state, { id, name }) {\n    const stat = state.buckets[id]\n\n    stat.name = name\n    // stat.id = id\n\n    // Vue.delete(state.buckets, oldId)\n    Vue.set(state.buckets, id, stat)\n  },\n  SET_BUCKET_COLOR(state, { id, value }) {\n    const stat = state.buckets[id]\n\n    stat.color = value\n\n    Vue.set(state.buckets, id, stat)\n  },\n  SET_BUCKET_TYPE(state, { id, value }) {\n    const stat = state.buckets[id]\n\n    stat.type = value\n\n    if (stat.conditionnalColor && value !== 'histogram') {\n      this.commit(state._id + '/TOGGLE_BUCKET_COLOR_CONDITION', id)\n    }\n\n    Vue.set(state.buckets, id, stat)\n  },\n  TOGGLE_BUCKET_COLOR_CONDITION(state, id) {\n    const stat = state.buckets[id]\n    stat.conditionnalColor = !stat.conditionnalColor\n\n    if (!stat.conditionnalColor) {\n      this.commit(state._id + '/SET_BUCKET_COLOR', {\n        id,\n        value: this.state.settings.textColor\n      })\n    }\n\n    Vue.set(state.buckets, id, stat)\n  },\n  SET_BUCKET_PRECISION(state, { id, value }) {\n    const stat = state.buckets[id]\n\n    value = parseInt(value)\n\n    stat.precision = !isNaN(value) ? value : null\n\n    Vue.set(state.buckets, id, stat)\n  },\n  SET_BUCKET_WINDOW(state, { id, value }) {\n    const stat = state.buckets[id]\n    let milliseconds = parseInt(value)\n\n    if (isNaN(milliseconds)) {\n      stat.window = null\n    } else {\n      if (/[\\d.]+s/.test(value)) {\n        milliseconds *= 1000\n      } else if (/[\\d.]+h/.test(value)) {\n        milliseconds *= 1000 * 60 * 60\n      } else {\n        milliseconds *= 1000 * 60\n      }\n\n      stat.window = milliseconds\n    }\n\n    Vue.set(state.buckets, id, stat)\n  },\n  CREATE_BUCKET(state, { id, name }) {\n    Vue.set(state.buckets, id, {\n      id,\n      name,\n      input: 'vbuy + vsell',\n      enabled: false\n    })\n  },\n  REMOVE_BUCKET(state, id) {\n    Vue.delete(state.buckets, id)\n  },\n  SET_WINDOW(state, value) {\n    let milliseconds = parseInt(value) || 0\n\n    if (/[\\d.]+s/.test(value)) {\n      milliseconds *= 1000\n    } else if (/[\\d.]+h/.test(value)) {\n      milliseconds *= 1000 * 60 * 60\n    } else {\n      milliseconds *= 1000 * 60\n    }\n\n    state.window = milliseconds\n  },\n  TOGGLE_CHART(state, value) {\n    state.enableChart = value ? true : false\n  }\n} as MutationTree<StatsPaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<StatsPaneState, StatsPaneState>\n","import { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\n\nimport Vue from 'vue'\nimport { randomString } from '@/utils/helpers'\nimport { formatMarketPrice } from '@/services/productsService'\nimport { ModulesState } from '..'\nimport { getLogShade, joinRgba, splitColorCode } from '../../utils/colors'\n\nexport interface Threshold {\n  id: string\n  amount: number\n  buyColor: string\n  sellColor: string\n  buyAudio: string\n  sellAudio: string\n  buyGif?: string\n  sellGif?: string\n  max?: boolean\n}\n\nexport type TradeTypeFilter = 'both' | 'liquidations' | 'trades'\n\nexport interface TradesPaneState {\n  _id?: string\n  liquidations: Threshold[]\n  thresholds: Threshold[]\n  audioThreshold: number\n  showThresholdsAsTable: boolean\n  tradeType: TradeTypeFilter\n  muted: boolean\n  audioPitch: number\n  audioVolume: number\n  maxRows: number\n  showLogos: boolean\n  multipliers: { [identifier: string]: number }\n  monochromeLogos: boolean\n  showTradesPairs: boolean\n  thresholdsMultipler: number\n  showTimeAgo: boolean\n  showPrice: boolean\n}\n\nconst getters = {\n  getThreshold: state => (id: string) => {\n    for (let i = 0; i < state.thresholds.length; i++) {\n      if (state.thresholds[i].id === id) {\n        return state.thresholds[i]\n      }\n    }\n\n    for (let i = 0; i < state.liquidations.length; i++) {\n      if (state.liquidations[i].id === id) {\n        return state.liquidations[i]\n      }\n    }\n  }\n} as GetterTree<TradesPaneState, ModulesState>\n\nconst state = {\n  liquidations: [\n    {\n      id: 'liquidation_threshold',\n      amount: 50000,\n      buyColor: 'rgba(236,64,122,0.5)',\n      sellColor: 'rgba(255,152,0,0.5)',\n      buyAudio:\n        \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*2,0,,,'sine')\\nplay(329.63, srqtR, srqtR*4,0.08,,,'sine')\",\n      sellAudio:\n        \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*2,0,,,'sine')\\nplay(440, srqtR, srqtR*4,0.08,,,'sine')\"\n    },\n    {\n      id: 'liquidation_significant',\n      amount: 100000,\n      buyColor: 'rgba(236,64,122,0.6)',\n      sellColor: 'rgba(255,152,0,0.7)',\n      buyAudio:\n        \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\\nplay(329.63, srqtR, srqtR*6,0.08,,,'sine')\",\n      sellAudio:\n        \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,'sine')\\nplay(440, srqtR, srqtR*6,0.08,,,'sine')\"\n    },\n    {\n      id: 'liquidation_huge',\n      amount: 200000,\n      buyGif: 'flying money',\n      sellGif: 'flying money',\n      buyColor: 'rgba(236,64,122,0.7)',\n      sellColor: 'rgba(255,152,0,0.8)',\n      buyAudio:\n        \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\\nplay(329.63, srqtR, srqtR*8,0.08,,,'sine')\",\n      sellAudio:\n        \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,'sine')\\nplay(440, srqtR, srqtR*8,0.08,,,'sine')\"\n    },\n    {\n      id: 'liquidation_rare',\n      amount: 1000000,\n      buyGif: 'explosion',\n      sellGif: 'explosion',\n      buyColor: 'rgb(156,39,176)',\n      sellColor: 'rgb(255,235,59)',\n      buyAudio:\n        \"var srqtR = Math.min(1, gain / 10)\\nplay(329.63, srqtR, 1,0,,,'sine')\\nplay(329.63, srqtR, srqtR*10,0.08,,,'sine')\",\n      sellAudio:\n        \"var srqtR = Math.min(1, gain / 10)\\nplay(440, srqtR, 1,0,,,'sine')\\nplay(440, srqtR, srqtR*10,0.08,,,'sine')\"\n    }\n  ],\n  thresholds: [\n    {\n      id: 'threshold',\n      amount: 100000,\n      buyColor: 'rgba(119, 148, 92, 0.25)',\n      sellColor: 'rgba(239, 67, 82, 0.25)',\n      buyAudio: `play(659.26, gain / 10, 0.1 + gain / 7)`,\n      sellAudio: `play(493.88, gain * 1.5 / 10, 0.1 + gain / 7)`\n    },\n    {\n      id: 'significant',\n      amount: 250000,\n      buyColor: 'rgb(100, 157, 102)',\n      sellColor: 'rgb(239, 67, 82)',\n      buyAudio: `play(659.26, 0.05 + gain / 10, 0.2 + ratio * 0.23,0,,0);\nplay(830.6, 0.05 + gain / 10, 0.2 + ratio * 0.23, 0.08,,0)`,\n      sellAudio: `play(493.88, 0.05 + gain * 1.5 / 10, 0.2 + ratio * 0.23,0,,0);\nplay(392, 0.05 + gain * 1.5 / 10, 0.2 + ratio * 0.23, 0.08,,0)`\n    },\n    {\n      id: 'huge',\n      amount: 1000000,\n      buyGif: 'cash bullish',\n      sellGif: 'cash bearish',\n      buyColor: 'rgb(59, 202, 109)',\n      sellColor: 'rgb(235, 30, 47)',\n      buyAudio: `play(659.26, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0,,0);\nplay(830.6, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0.08,,0);\nplay(987.76, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0.16,,0);\nplay(1318.52, 0.05 + gain / 10, 0.1 + ratio * 0.23, 0.24,,0)`,\n      sellAudio: `play(493.88, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0,,0);\nplay(369.99, 0.05 + gain * 1.5 / 10, 0.2, 0.08,,0);\nplay(293.66, 0.05 + gain * 1.5 / 10, 0.2, 0.16,,0);\nplay(246.94, 0.05 + gain * 1.5 / 10, 0.1 + ratio * 0.23, 0.24,,0)`\n    },\n    {\n      id: 'rare',\n      amount: 10000000,\n      buyGif: 'explosion',\n      sellGif: 'explosion',\n      buyColor: 'rgb(0, 255, 127)',\n      sellColor: 'rgb(217, 31, 28)',\n      buyAudio: `play(659.26, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0,,0);\nplay(830.6, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0.08,,0);\nplay(987.76, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0.16,,0);\nplay(1318.52, 0.05 + gain / 10, 0.1 + ratio * 0.13, 0.24,,0)`,\n      sellAudio: `play(493.88, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0,,0);\nplay(369.99, 0.05 + gain * 1.5 / 10, 0.2, 0.08,,0);\nplay(293.66, 0.05 + gain * 1.5 / 10, 0.2, 0.16,,0);\nplay(246.94, 0.05 + gain * 1.5 / 10, 0.1 + ratio * 0.13, 0.24,,0)`\n    }\n  ],\n  audioThreshold: null,\n  multipliers: {},\n  showThresholdsAsTable: true,\n  maxRows: 100,\n  muted: false,\n  audioPitch: null,\n  audioVolume: null,\n  showTradesPairs: false,\n  tradeType: 'both',\n  showLogos: true,\n  monochromeLogos: false,\n  showTimeAgo: true,\n  showPrice: true,\n  thresholdsMultipler: 1\n} as TradesPaneState\n\nconst actions = {\n  boot({ rootState, dispatch }, firstTime?: boolean) {\n    if (firstTime) {\n      dispatch('generateSwatch', {\n        buyColor: rootState.settings.buyColor,\n        sellColor: rootState.settings.sellColor\n      })\n    }\n  },\n  updateThreshold(\n    { state, commit },\n    { index, prop, value }: { index: number; prop: string; value: any }\n  ) {\n    const threshold = state.thresholds[index]\n\n    if (!threshold) {\n      throw new Error('No threshold')\n    }\n\n    let payload = {\n      index\n    } as any\n\n    if (value && typeof value === 'object') {\n      payload = { ...payload, ...value }\n    } else {\n      payload.value = value\n    }\n\n    commit('SET_THRESHOLD_' + prop, payload)\n\n    state.thresholds = JSON.parse(JSON.stringify(state.thresholds))\n  },\n  updateLiquidations(\n    { state, commit },\n    { prop, value }: { prop: string; value: any }\n  ) {\n    const threshold = state.liquidations\n\n    if (!threshold) {\n      throw new Error('No liquidation threshold')\n    }\n\n    commit('SET_LIQUIDATIONS_' + prop, value)\n  },\n  generateSwatch(\n    { state },\n    {\n      buyColor,\n      sellColor,\n      baseVariance = 0.15\n    }: { buyColor: string; sellColor: string; baseVariance: number }\n  ) {\n    const count = state.thresholds.length\n    const baseMultipler = (count / 2) * -baseVariance\n    const buyRgb = splitColorCode(buyColor)\n    const sellRgb = splitColorCode(sellColor)\n\n    for (let i = 0; i < count; i++) {\n      let buyScaled = getLogShade(buyRgb, baseMultipler + baseVariance * i)\n      if (!i) {\n        buyScaled = joinRgba([...splitColorCode(buyScaled), 0.33])\n      }\n      state.thresholds[i].buyColor = buyScaled\n\n      let sellScaled = getLogShade(sellRgb, baseMultipler + baseVariance * i)\n      if (!i) {\n        sellScaled = joinRgba([...splitColorCode(sellScaled), 0.33])\n      }\n      state.thresholds[i].sellColor = sellScaled\n    }\n\n    this.dispatch('app/showNotice', {\n      title: `Generating swatches for ${count} thresholds with ${baseVariance} variance`,\n      type: 'info'\n    })\n  }\n} as ActionTree<TradesPaneState, ModulesState>\n\nconst mutations = {\n  TOGGLE_TRADES_PAIRS(state) {\n    state.showTradesPairs = !state.showTradesPairs\n  },\n  SET_MAX_ROWS(state, value) {\n    state.maxRows = value\n  },\n  TOGGLE_LOGOS(state) {\n    if (state.monochromeLogos) {\n      state.showLogos = false\n      state.monochromeLogos = false\n    } else if (!state.showLogos) {\n      state.showLogos = true\n      state.monochromeLogos = false\n    } else {\n      state.monochromeLogos = true\n    }\n  },\n  TOGGLE_MUTED(state) {\n    state.muted = !state.muted\n\n    if (!state.muted && state.audioVolume === 0) {\n      state.audioVolume = null\n    }\n  },\n  SET_AUDIO_PITCH(state, value) {\n    if (typeof value === 'string') {\n      value = value.replace(/[^0-9-.]/g, '')\n    }\n\n    value = +value\n\n    if (!value || value === 1) {\n      state.audioPitch = null\n    } else {\n      state.audioPitch = value\n    }\n  },\n  SET_AUDIO_VOLUME(state, value) {\n    if (typeof value === 'string') {\n      value = value.replace(/[^0-9-.]/g, '')\n    }\n\n    if (isNaN(+value) || value === null) {\n      state.audioVolume = null\n    } else {\n      state.audioVolume = +value\n\n      if (state.audioVolume === 0 && !state.muted) {\n        state.muted = true\n      } else if (state.audioVolume > 0 && state.muted) {\n        state.muted = false\n      }\n    }\n  },\n  TOGGLE_MONOCHROME_LOGOS(state, value) {\n    state.monochromeLogos = value ? true : false\n  },\n  TOGGLE_TRADE_TYPE(state) {\n    const values: TradeTypeFilter[] = ['both', 'liquidations', 'trades']\n\n    const index = Math.max(0, values.indexOf(state.tradeType))\n\n    state.tradeType = values[(index + 1) % values.length]\n  },\n  TOGGLE_TIME_AGO(state) {\n    state.showTimeAgo = !state.showTimeAgo\n  },\n  TOGGLE_PRICE(state) {\n    state.showPrice = !state.showPrice\n  },\n  TOGGLE_THRESHOLDS_TABLE(state, value) {\n    state.showThresholdsAsTable = value ? true : false\n  },\n  SET_THRESHOLD_AMOUNT(state, { id, value }) {\n    const threshold = this.getters[state._id + '/getThreshold'](id)\n\n    if (threshold) {\n      if (typeof value === 'string' && /m|k$/i.test(value)) {\n        if (/m$/i.test(value)) {\n          threshold.amount = parseFloat(value) * 1000000\n        } else {\n          threshold.amount = parseFloat(value) * 1000\n        }\n      }\n      threshold.amount = +value\n    }\n  },\n  TOGGLE_THRESHOLD_MAX(state, id) {\n    const threshold = this.getters[state._id + '/getThreshold'](id)\n\n    if (threshold) {\n      Vue.set(threshold, 'max', !threshold.max)\n    }\n  },\n  SET_THRESHOLD_MULTIPLIER(\n    state,\n    { identifier, multiplier }: { identifier: string; multiplier: number }\n  ) {\n    if (multiplier === null || isNaN(multiplier) || multiplier < 0) {\n      Vue.delete(state.multipliers, identifier)\n      return\n    }\n\n    if (multiplier === 0) {\n      multiplier = 0.01\n    }\n\n    Vue.set(state.multipliers, identifier, multiplier)\n  },\n  SET_THRESHOLD_GIF(state, payload) {\n    const threshold = this.getters[state._id + '/getThreshold'](payload.id)\n\n    const key = payload.side + 'Gif'\n\n    if (threshold) {\n      if (payload.value.trim().length) {\n        threshold[key] = payload.value\n      } else {\n        payload.value = threshold.gif\n        payload.isDeleted = true\n\n        threshold[key] = null\n      }\n    }\n  },\n  SET_THRESHOLD_COLOR(state, { id, side, value }) {\n    const threshold = this.getters[state._id + '/getThreshold'](id)\n\n    if (threshold) {\n      threshold[side] = value\n    }\n  },\n  SET_THRESHOLD_AUDIO(state, { id, buyAudio, sellAudio }) {\n    const threshold = this.getters[state._id + '/getThreshold'](id)\n\n    if (threshold) {\n      threshold['buyAudio'] = buyAudio\n      threshold['sellAudio'] = sellAudio\n    }\n  },\n  ADD_THRESHOLD(state, type) {\n    const previousThreshold = state[type][state[type].length - 1]\n\n    let buyAudio = `play(659.26, ratio, ratio, 0)`\n    let sellAudio = `play(493.88, ratio, ratio, 0)`\n\n    if (previousThreshold) {\n      buyAudio = previousThreshold.buyAudio\n      sellAudio = previousThreshold.sellAudio\n    }\n\n    state[type].push({\n      id: randomString(8),\n      amount: state[type][state.thresholds.length - 1].amount * 2,\n      buyColor: 'rgb(0, 255, 0)',\n      sellColor: 'rgb(255, 0, 0)',\n      buyAudio,\n      sellAudio\n    })\n  },\n  DELETE_THRESHOLD(state, id: string) {\n    const tradesIndex = state.thresholds.indexOf(\n      state.thresholds.find(t => t.id === id)\n    )\n\n    if (tradesIndex !== -1) {\n      state.thresholds.splice(tradesIndex, 1)\n\n      return\n    }\n\n    const liquidationsIndex = state.liquidations.indexOf(\n      state.liquidations.find(t => t.id === id)\n    )\n\n    if (liquidationsIndex !== -1) {\n      state.liquidations.splice(liquidationsIndex, 1)\n\n      return\n    }\n  },\n  SET_AUDIO_THRESHOLD(state, amount: number) {\n    state.audioThreshold = amount\n  },\n  SET_THRESHOLDS_MULTIPLER(\n    state,\n    { value, market }: { value: number; market: string }\n  ) {\n    value = Math.max(value, 0.01)\n    const change =\n      (value - state.thresholdsMultipler) / state.thresholdsMultipler\n\n    state.thresholdsMultipler = value\n\n    for (const threshold of state.thresholds) {\n      threshold.amount = +formatMarketPrice(\n        threshold.amount + threshold.amount * change,\n        market\n      )\n    }\n\n    for (const threshold of state.liquidations) {\n      threshold.amount = +formatMarketPrice(\n        threshold.amount + threshold.amount * change,\n        market\n      )\n    }\n  }\n} as MutationTree<TradesPaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<TradesPaneState, ModulesState>\n","import { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\n\nexport interface PricesPaneState {\n  _id?: string\n  animateSort?: boolean\n  showPairs?: boolean\n  showVolume?: boolean\n  showVolumeDelta?: boolean\n  period?: number\n  showPrice?: boolean\n  showChange?: boolean\n  sortOrder?: 1 | -1\n  sortType?: 'price' | 'change' | 'volume' | null\n}\n\nconst getters = {} as GetterTree<PricesPaneState, PricesPaneState>\n\n// https://coolors.co/d91f1c-eb1e2f-ef4352-77945c-3bca6d-00ff7f\n\nconst state = {\n  animateSort: true,\n  showPairs: true,\n  showVolume: true,\n  showVolumeDelta: true,\n  period: 0,\n  showChange: true,\n  showPrice: true,\n  sortType: 'change',\n  sortOrder: -1\n} as PricesPaneState\n\nconst actions = {} as ActionTree<PricesPaneState, PricesPaneState>\n\nconst mutations = {\n  TOGGLE_SORT_ANIMATION(state) {\n    state.animateSort = !state.animateSort\n  },\n  TOGGLE_PAIRS(state) {\n    state.showPairs = !state.showPairs\n  },\n  TOGGLE_VOLUME(state) {\n    state.showVolume = !state.showVolume\n  },\n  TOGGLE_VOLUME_DELTA(state) {\n    state.showVolumeDelta = !state.showVolumeDelta\n  },\n  SET_PERIOD(state, value) {\n    state.period = value\n  },\n  TOGGLE_CHANGE(state) {\n    state.showChange = !state.showChange\n  },\n  TOGGLE_PRICE(state) {\n    state.showPrice = !state.showPrice\n  },\n  TOGGLE_SORT_ORDER(state) {\n    state.sortOrder = state.sortOrder > 0 ? -1 : 1\n  },\n  SET_SORT_TYPE(state, sortType) {\n    state.sortType = sortType\n  }\n} as MutationTree<PricesPaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<PricesPaneState, PricesPaneState>\n","import { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\n\nexport interface CountersPaneState {\n  _id?: string\n  granularity?: number\n  liquidationsOnly?: boolean\n  steps?: number[]\n  count?: boolean\n}\n\nconst getters = {} as GetterTree<CountersPaneState, CountersPaneState>\n\nconst state = {\n  granularity: 5000,\n  liquidationsOnly: false,\n  steps: [30000, 60000, 900000, 1800000],\n  count: false\n} as CountersPaneState\n\nconst actions = {} as ActionTree<CountersPaneState, CountersPaneState>\n\nconst mutations = {\n  REPLACE_COUNTERS(state, counters) {\n    state.steps = counters.sort((a, b) => a - b)\n  },\n  TOGGLE_COUNT(state) {\n    state.count = !state.count\n  },\n  TOGGLE_LIQUIDATIONS_ONLY(state) {\n    state.liquidationsOnly = !state.liquidationsOnly\n  }\n} as MutationTree<CountersPaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<CountersPaneState, CountersPaneState>\n","import { MutationTree, ActionTree, GetterTree, Module } from 'vuex'\nimport { ModulesState } from '..'\n\nexport interface WebsitePaneState {\n  _id?: string\n  url?: string\n  reloadTimer: number\n  interactive?: boolean\n  locked?: boolean\n}\n\nconst getters = {} as GetterTree<WebsitePaneState, ModulesState>\n\nconst state = {\n  url: null,\n  reloadTimer: 0,\n  interactive: false,\n  locked: false\n} as WebsitePaneState\n\nconst actions = {\n  async boot({ state, dispatch }) {\n    setTimeout(() => {\n      dispatch('setTitle', state.url)\n    })\n  },\n  setUrl({ dispatch, commit }, url) {\n    if (!url) {\n      return\n    }\n\n    try {\n      new URL(url)\n\n      dispatch('setTitle', url)\n\n      commit('SET_URL', url)\n    } catch (error) {\n      // invalid url\n    }\n  },\n  setTitle({ rootState, state }, url) {\n    let previousHostname = ''\n\n    try {\n      previousHostname = new URL(state.url).hostname\n    } catch (error) {\n      // no previous url\n    }\n\n    let currentHostname = ''\n\n    try {\n      currentHostname = new URL(url).hostname\n    } catch (error) {\n      // no previous url\n    }\n\n    if (\n      !rootState.panes.panes[state._id].name ||\n      rootState.panes.panes[state._id].name === previousHostname\n    ) {\n      this.commit('panes/SET_PANE_NAME', {\n        id: state._id,\n        name: currentHostname\n      })\n    }\n  }\n} as ActionTree<WebsitePaneState, ModulesState>\n\nconst mutations = {\n  SET_URL(state, url) {\n    state.url = url\n  },\n  TOGGLE_INTERACTIVE(state) {\n    state.interactive = !state.interactive\n  },\n  UNLOCK_URL(state) {\n    state.locked = false\n  },\n  SET_RELOAD_TIMER(state, value) {\n    state.reloadTimer = value\n  }\n} as MutationTree<WebsitePaneState>\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n} as Module<WebsitePaneState, ModulesState>\n","import chart from './chart'\nimport stats from './stats'\nimport trades from './trades'\nimport prices from './prices'\nimport counters from './counters'\nimport website from './website'\n\nexport default {\n  chart,\n  stats,\n  trades,\n  prices,\n  counters,\n  website,\n  'trades-lite': trades\n}\n","import panesSettings from '@/store/panesSettings'\nimport { MarketAlert, Workspace } from '@/types/types'\nimport { IDBPDatabase, IDBPTransaction } from 'idb'\nimport { AggrDB } from './workspacesService'\nimport defaultPanes from '@/store/defaultPanes.json'\nimport { Threshold, TradesPaneState } from '@/store/panesSettings/trades'\nimport { getMarketProduct, parseMarket } from './productsService'\n\nexport const databaseUpgrades = {\n  0: (db: IDBPDatabase<any>) => {\n    console.debug(`[idb] create idb stores`)\n\n    const workspacesStore = db.createObjectStore('workspaces', {\n      keyPath: 'id'\n    })\n\n    workspacesStore.createIndex('name', 'name')\n\n    const seriesStore = db.createObjectStore('series', {\n      keyPath: 'id'\n    })\n\n    seriesStore.createIndex('name', 'name')\n\n    db.createObjectStore('products', {\n      keyPath: 'exchange'\n    })\n\n    db.createObjectStore('gifs', {\n      keyPath: 'slug'\n    })\n  },\n  1: (db: IDBPDatabase<AggrDB>) => {\n    ;(db as any).deleteObjectStore('series')\n\n    const indicatorsStore = db.createObjectStore('indicators', {\n      keyPath: 'id'\n    })\n\n    indicatorsStore.createIndex('name', 'name')\n  },\n  2: (db: IDBPDatabase<AggrDB>) => {\n    db.createObjectStore('presets', {\n      keyPath: 'name'\n    })\n  },\n  3: (db: IDBPDatabase<AggrDB>) => {\n    db.createObjectStore('sounds', {\n      keyPath: 'name'\n    })\n    db.createObjectStore('colors', {\n      autoIncrement: true\n    })\n  },\n  5: async (db: IDBPDatabase<AggrDB>) => {\n    db.createObjectStore('alerts', {\n      keyPath: 'market'\n    })\n  },\n  7: async (db: IDBPDatabase<AggrDB>, tx: IDBPTransaction<AggrDB>) => {\n    const objectStore = tx.objectStore('alerts')\n    const markets = (await objectStore.getAllKeys()) as any\n\n    for (const market of markets) {\n      const [exchange, pair] = parseMarket(market)\n      const { local } = getMarketProduct(exchange, pair, true)\n\n      const record = (await objectStore.get(market)) as any\n\n      let alerts: MarketAlert[]\n\n      if (record.prices) {\n        alerts = record.prices.map(price => ({\n          price,\n          market: local,\n          active: true\n        }))\n      } else {\n        alerts = record.alerts.map(alert => ({\n          ...alert,\n          market: local\n        }))\n      }\n\n      alerts = alerts.filter(alert => alert.price >= 0)\n\n      await (objectStore as any).delete(market)\n\n      if (alerts.length) {\n        await (objectStore as any).put({\n          market: local,\n          alerts\n        })\n      }\n    }\n  }\n}\n\nexport const workspaceUpgrades = {\n  1: (workspace: Workspace) => {\n    const layout = workspace.states.panes.layout\n\n    workspace.states.panes.layouts = {\n      lg: JSON.parse(JSON.stringify(layout))\n    }\n\n    delete workspace.states.panes.layout\n\n    const normalTradesSettings = JSON.parse(\n      JSON.stringify(panesSettings.trades.state)\n    )\n    const liquidationsTradesSettings = JSON.parse(\n      JSON.stringify(defaultPanes.panes.liquidations.settings)\n    )\n\n    const upgradeThreshold = (threshold, paneId) => {\n      let buyAudio: string = null\n      let sellAudio: string = null\n      let settings: TradesPaneState\n\n      if (paneId === 'liquidations') {\n        settings = liquidationsTradesSettings\n      } else {\n        settings = normalTradesSettings\n      }\n\n      if (threshold.id === 'liquidations') {\n        buyAudio = normalTradesSettings.liquidations.buyAudio\n        sellAudio = normalTradesSettings.liquidations.sellAudio\n      } else {\n        const defaultThreshold = settings.thresholds.find(\n          t => t.id === threshold.id\n        )\n\n        if (defaultThreshold) {\n          buyAudio = defaultThreshold.buyAudio\n          sellAudio = defaultThreshold.sellAudio\n        }\n      }\n\n      if (buyAudio !== null && sellAudio !== null) {\n        threshold.buyAudio = buyAudio\n        threshold.sellAudio = sellAudio\n      } else {\n        console.log(\n          `[idb/upgrade/workspace] couldn't find default threshold audio script for threshold ${threshold.id} of pane ${paneId}`\n        )\n      }\n    }\n\n    for (const paneId in workspace.states.panes.panes) {\n      if (\n        workspace.states.panes.panes[paneId].type !== 'trades' ||\n        !workspace.states[paneId]\n      ) {\n        continue\n      }\n\n      console.log(\n        `[idb/upgrade/workspace] set default audio scripts for pane ${paneId}`\n      )\n\n      upgradeThreshold(workspace.states[paneId].liquidations, paneId)\n\n      for (const threshold of workspace.states[paneId].thresholds) {\n        upgradeThreshold(threshold, paneId)\n      }\n    }\n  },\n  2: (workspace: Workspace) => {\n    if (!workspace.states.settings) {\n      return\n    }\n\n    workspace.states.settings.audioFilters = {\n      HighPassFilter: !!workspace.states.settings.audioFilter,\n      LowPassFilter: false,\n      Compressor: !!workspace.states.settings.audioCompressor,\n      Delay: !!workspace.states.settings.audioDelay,\n      PingPongDelay: !!workspace.states.settings.audioPingPong,\n      Chorus: false\n    }\n\n    delete workspace.states.settings.audioFilter\n    delete workspace.states.settings.audioCompressor\n    delete workspace.states.settings.audioPingPong\n    delete workspace.states.settings.audioDelay\n  },\n  3: (workspace: Workspace) => {\n    // remove alternative layouts, keep only the one fitting current screen size\n    const breakpointsWidth = { xl: 1400, lg: 1024, md: 768, sm: 480, xs: 0 }\n    const breakpointsCols = { xl: 32, lg: 24, md: 16, sm: 12, xs: 8 }\n    const layouts = workspace.states.panes.layouts\n    const breakpoints = Object.keys(layouts).reduce((cols, breakpoint) => {\n      cols[breakpoint] = breakpointsWidth[breakpoint]\n      return cols\n    }, {})\n\n    // sort by layout size\n    const keys = Object.keys(breakpoints).sort((a, b) => {\n      return breakpointsCols[b] - breakpointsCols[a]\n    })\n\n    // ensure smallest is level 0 layout\n    breakpoints[keys[keys.length - 1]] = 0\n\n    const width = window.innerWidth\n\n    let currentBreakpoint\n\n    for (currentBreakpoint of keys) {\n      if (width > breakpoints[currentBreakpoint]) {\n        break\n      }\n    }\n\n    const currentLayout = workspace.states.panes.layouts[currentBreakpoint]\n\n    if (currentBreakpoint !== 'lg') {\n      const cols = breakpointsCols[currentBreakpoint]\n      const coeficient = breakpointsCols.lg / cols\n\n      for (const pane of currentLayout) {\n        pane.x = Math.floor(pane.x * coeficient)\n        pane.y = Math.floor(pane.y * coeficient)\n        pane.w = Math.floor(pane.w * coeficient)\n        pane.h = Math.floor(pane.h * coeficient)\n      }\n    }\n\n    workspace.states.panes.layout = currentLayout\n    delete workspace.states.panes.layouts\n\n    for (const paneId in workspace.states.panes.panes) {\n      if (\n        workspace.states.panes.panes[paneId].type !== 'chart' ||\n        !workspace.states[paneId]\n      ) {\n        continue\n      }\n\n      let scaleMargins = {\n        top: 0.1,\n        bottom: 0.2\n      }\n\n      if (workspace.states[paneId].indicators) {\n        const rightIndicatorId = Object.keys(\n          workspace.states[paneId].indicators\n        ).find(id => {\n          return (\n            workspace.states[paneId].indicators[id].options &&\n            workspace.states[paneId].indicators[id].options.scaleMargins &&\n            workspace.states[paneId].indicators[id].options.priceScaleId ===\n              'right'\n          )\n        }) as string\n\n        if (rightIndicatorId) {\n          scaleMargins =\n            workspace.states[paneId].indicators[rightIndicatorId].options\n              .scaleMargins\n        }\n      }\n\n      workspace.states[paneId].priceScales = {\n        right: {\n          mode: 0,\n          scaleMargins\n        }\n      }\n    }\n  },\n  4: (workspace: Workspace) => {\n    for (const paneId in workspace.states.panes.panes) {\n      if (\n        workspace.states.panes.panes[paneId].type !== 'trades' ||\n        !workspace.states[paneId]\n      ) {\n        continue\n      }\n\n      const state = workspace.states[paneId] as TradesPaneState\n\n      let liquidationThreshold: Threshold = {\n        id: 'liquidation_threshold',\n        amount: 10000,\n        buyColor: 'rgba(236,64,122,0.5)',\n        sellColor: 'rgba(255,152,0,0.5)',\n        buyAudio:\n          \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*2,0,,,'sine')\\nplay(329.63, srqtR, srqtR*4,0.08,,,'sine')\",\n        sellAudio:\n          \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*2,0,,,'sine')\\nplay(440, srqtR, srqtR*4,0.08,,,'sine')\"\n      }\n\n      if (\n        workspace.states[paneId].liquidation &&\n        workspace.states[paneId].liquidation.amount < 25000\n      ) {\n        liquidationThreshold = workspace.states[paneId].liquidation\n        liquidationThreshold.id = 'liquidation_threshold'\n\n        if (workspace.states[paneId].liquidation.gif) {\n          liquidationThreshold.buyGif = workspace.states[paneId].liquidation.gif\n          liquidationThreshold.sellGif =\n            workspace.states[paneId].liquidation.gif\n          delete (liquidationThreshold as any).gif\n        }\n      }\n\n      state.liquidations = [\n        liquidationThreshold,\n        {\n          id: 'liquidation_significant',\n          amount: 25000,\n          buyColor: 'rgba(236,64,122,0.6)',\n          sellColor: 'rgba(255,152,0,0.7)',\n          buyAudio:\n            \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\\nplay(329.63, srqtR, srqtR*6,0.08,,,'sine')\",\n          sellAudio:\n            \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,'sine')\\nplay(440, srqtR, srqtR*6,0.08,,,'sine')\"\n        },\n        {\n          id: 'liquidation_huge',\n          amount: 100000,\n          buyGif: 'rekt',\n          sellGif: 'rekt',\n          buyColor: 'rgba(236,64,122,0.7)',\n          sellColor: 'rgba(255,152,0,0.8)',\n          buyAudio:\n            \"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\\nplay(329.63, srqtR, srqtR*8,0.08,,,'sine')\",\n          sellAudio:\n            \"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,'sine')\\nplay(440, srqtR, srqtR*8,0.08,,,'sine')\"\n        },\n        {\n          id: 'liquidation_rare',\n          amount: 1000000,\n          buyGif: 'explosion',\n          sellGif: 'explosion',\n          buyColor: 'rgb(156,39,176)',\n          sellColor: 'rgb(255,235,59)',\n          buyAudio:\n            \"var srqtR = Math.min(1, gain / 10)\\nplay(329.63, srqtR, 1,0,,,'sine')\\nplay(329.63, srqtR, srqtR*10,0.08,,,'sine')\",\n          sellAudio:\n            \"var srqtR = Math.min(1, gain / 10)\\nplay(440, srqtR, 1,0,,,'sine')\\nplay(440, srqtR, srqtR*10,0.08,,,'sine')\"\n        }\n      ]\n\n      for (let i = 0; i < state.thresholds.length; i++) {\n        if (!(state.thresholds[i] as any).gif) {\n          continue\n        }\n\n        state.thresholds[i].buyGif = (state.thresholds[i] as any).gif\n        state.thresholds[i].sellGif = (state.thresholds[i] as any).gif\n        delete (state.thresholds[i] as any).gif\n      }\n    }\n  },\n  5: (workspace: Workspace) => {\n    for (const paneId in workspace.states.panes.panes) {\n      const pane = workspace.states.panes.panes[paneId]\n      pane.zoom = Math.ceil(pane.zoom / 0.0625) * 0.0625\n    }\n  }\n}\n","import defaultIndicators from '@/store/defaultIndicators.json'\nimport defaultPresets from '@/store/defaultPresets.json'\nimport defaultPanes from '@/store/defaultPanes.json'\nimport store, { boot } from '@/store'\nimport { IndicatorSettings } from '@/store/panesSettings/chart'\nimport {\n  GifsStorage,\n  ImportedSound,\n  MarketAlerts,\n  Preset,\n  PresetType,\n  ProductsStorage,\n  Workspace\n} from '@/types/types'\nimport {\n  downloadAnything,\n  parseVersion,\n  randomString,\n  slugify,\n  uniqueName\n} from '@/utils/helpers'\nimport { openDB, DBSchema, IDBPDatabase, deleteDB } from 'idb'\nimport { databaseUpgrades, workspaceUpgrades } from './migrations'\nimport { PanesState } from '@/store/panes'\nimport alertService from './alertService'\nimport dialogService from './dialogService'\nimport { stripStable } from './productsService'\n\nexport interface AggrDB extends DBSchema {\n  products: {\n    value: ProductsStorage\n    key: string\n  }\n  gifs: {\n    value: GifsStorage\n    key: string\n  }\n  workspaces: {\n    value: Workspace\n    key: string\n    indexes: { name: string }\n  }\n  indicators: {\n    value: IndicatorSettings\n    key: string\n    indexes: { name: string }\n  }\n  presets: {\n    value: Preset\n    key: string\n  }\n  sounds: {\n    value: ImportedSound\n    key: string\n  }\n  colors: {\n    value: string\n    key: string\n  }\n  alerts: {\n    value: MarketAlerts\n    key: string\n  }\n}\n\nclass WorkspacesService {\n  db: IDBPDatabase<AggrDB>\n  workspace: Workspace\n  urlStrategy = 'history'\n  previousAppVersion: any\n  latestAppVersion: any\n  latestDatabaseVersion: any\n  latestWorkspaceVersion: any\n  pairsFromURL: string[]\n  defaultInserted = false\n\n  constructor() {\n    if (/github\\.io/.test(window.location.hostname)) {\n      this.urlStrategy = 'hash'\n    }\n\n    this.latestDatabaseVersion = Math.max.apply(\n      null,\n      Object.keys(databaseUpgrades)\n    )\n    this.latestWorkspaceVersion = Math.max.apply(\n      null,\n      Object.keys(workspaceUpgrades)\n    )\n    this.previousAppVersion = parseVersion(\n      localStorage.getItem('version') || '-1'\n    )\n    this.latestAppVersion = parseVersion(process.env.VUE_APP_VERSION)\n  }\n\n  async initialize() {\n    this.db = await this.createDatabase()\n\n    if (!this.defaultInserted) {\n      // add default presets and indicators post database creation\n      setTimeout(() => {\n        this.insertDefault(this.db)\n      }, 3000)\n    }\n\n    alertService.syncTriggeredAlerts()\n\n    const workspace = await this.getCurrentWorkspace()\n\n    this.setCurrentWorkspace(workspace)\n  }\n\n  async createDatabase() {\n    console.info(\n      `openDB 'aggr' (latest database v${this.latestDatabaseVersion} workspace v${this.latestWorkspaceVersion})`\n    )\n\n    let promiseOfUpgrade: Promise<void>\n\n    return new Promise<IDBPDatabase<AggrDB>>(resolve => {\n      openDB<AggrDB>('aggr', this.latestDatabaseVersion, {\n        upgrade: (db, oldVersion, newVersion, tx) => {\n          console.debug(`[idb] upgrade received`, oldVersion, '->', newVersion)\n\n          promiseOfUpgrade = new Promise(resolve => {\n            tx.oncomplete = async () => {\n              console.debug(`[idb] upgrade completed`)\n\n              await this.insertDefault(db)\n              resolve()\n            }\n            tx.onerror = async error => {\n              console.error(`[idb] upgrade error`, error)\n              resolve()\n            }\n          })\n\n          for (\n            let i = oldVersion ? oldVersion + 1 : oldVersion;\n            i <= newVersion;\n            i++\n          ) {\n            console.debug(`[idb] migrating v${i}`)\n\n            if (typeof databaseUpgrades[i] === 'function') {\n              databaseUpgrades[i](db, tx)\n            }\n          }\n        },\n        blocked() {\n          alert(\n            'Aggr is trying to upgrade.\\nClose any other window with aggr open in order to allow it to upgrade.'\n          )\n          console.log(`[idb] blocked received`)\n          // …\n        },\n        blocking() {\n          console.log(`[idb] blocking received`)\n          // …\n        },\n        terminated() {\n          alert('Browser abnormally terminated the connection with aggr db.')\n          console.log(`[idb] terminated received`)\n          // …\n        }\n      })\n        .then(db => {\n          if (promiseOfUpgrade) {\n            return promiseOfUpgrade.then(() => resolve(db))\n          }\n\n          return resolve(db)\n        })\n        .catch(err => {\n          console.log(err)\n          alert(\n            err.message +\n              '\\n\\nEither reset the browser data on this site or contact the devs on the github :\\nhttps://github.com/Tucsky/aggr/issues/new'\n          )\n        })\n    })\n  }\n\n  upgradeWorkspace(workspace: Workspace) {\n    if (typeof workspace.version === 'undefined') {\n      workspace.version = 0\n    }\n\n    while (workspace.version < this.latestWorkspaceVersion) {\n      console.log(\n        `[workspace] upgrade workspace ${workspace.id} (${\n          workspace.version\n        } -> ${workspace.version + 1})`\n      )\n\n      workspace.version++\n\n      if (typeof workspaceUpgrades[workspace.version] === 'function') {\n        workspaceUpgrades[workspace.version](workspace)\n      }\n    }\n  }\n\n  async insertDefault(db: IDBPDatabase<AggrDB>) {\n    this.defaultInserted = true\n\n    await this.insertDefaultIndicators(db)\n    await this.insertDefaultPresets(db)\n\n    localStorage.setItem('version', process.env.VUE_APP_VERSION)\n  }\n\n  async insertDefaultIndicators(db: IDBPDatabase<AggrDB>) {\n    const now = Date.now()\n    const tx = db.transaction('indicators', 'readwrite')\n\n    const existing = await tx.store.getAllKeys()\n    let added = 0\n\n    for (const id in defaultIndicators) {\n      const indicator: IndicatorSettings = defaultIndicators[id]\n\n      if (\n        parseVersion(indicator.version) <= this.previousAppVersion ||\n        existing.indexOf(id) !== -1\n      ) {\n        continue\n      }\n\n      console.log(`[idb/defaultIndicators] insert default indicator ${id}`)\n\n      try {\n        await tx.store.add({\n          ...indicator,\n          id,\n          createdAt: now,\n          updatedAt: null\n        })\n      } catch (error) {\n        console.error(error)\n        throw error\n      }\n\n      added++\n    }\n\n    if (added) {\n      console.debug(`[idb/defaultIndicators] ${added} indicators added`)\n    }\n\n    await tx.done\n  }\n\n  async insertDefaultPresets(db: IDBPDatabase<AggrDB>) {\n    const tx = db.transaction('presets', 'readwrite')\n\n    const existing = await tx.store.getAllKeys()\n    let added = 0\n\n    for (const preset of defaultPresets as Preset[]) {\n      if (\n        parseVersion(preset.version) < this.previousAppVersion ||\n        existing.indexOf(preset.name) !== -1\n      ) {\n        continue\n      }\n\n      console.log(`[idb/defaultPresets] insert default preset ${preset.name}`)\n\n      await tx.store.add(preset)\n\n      added++\n    }\n\n    if (added) {\n      console.debug(`[idb/defaultPresets] ${added} presets added`)\n    }\n\n    await tx.done\n  }\n\n  /**\n   * Use url params or local storage to retrieve current workspace\n   * If markets are passed in the url, mutate the workspace with new markets before return\n   * @returns {Workspace} workspace ready to be set on\n   */\n  async getCurrentWorkspace() {\n    const lastWorkspaceId = localStorage.getItem('workspace')\n    let urlWorkspaceId: string\n    let urlPairs: string\n    let workspace: Workspace\n\n    if (this.urlStrategy === 'hash') {\n      urlWorkspaceId = location.hash.substring(1)\n    } else {\n      ;[, urlWorkspaceId, urlPairs] = decodeURIComponent(\n        location.pathname\n      ).split('/')\n    }\n\n    if (urlWorkspaceId) {\n      // try get workspace from id in the url\n      workspace = await this.getWorkspace(urlWorkspaceId)\n    }\n\n    if (!workspace && lastWorkspaceId) {\n      // try get workspace from id in the localStorage\n      workspace = await this.getWorkspace(lastWorkspaceId)\n    }\n\n    if (!workspace) {\n      // create workspace, name it from url (or generate one)\n      workspace = await this.createWorkspace(urlWorkspaceId)\n\n      if (!urlPairs && urlWorkspaceId) {\n        // workspace is new and user passed an id in the url, maybe this id is a pair\n        urlPairs = urlWorkspaceId\n      }\n    } else if (!urlPairs && urlWorkspaceId && urlWorkspaceId !== workspace.id) {\n      // workspace existed but id in the url does not match with it, maybe that's a pair\n      urlPairs = urlWorkspaceId\n    }\n\n    if (urlPairs && urlPairs.trim().length > 4) {\n      this.pairsFromURL = urlPairs\n        .split(/\\+|,/)\n        .map(pair => stripStable(pair.toUpperCase()))\n    }\n\n    return workspace\n  }\n\n  async setCurrentWorkspace(workspace: Workspace) {\n    let previousWorkspaceId\n\n    if (this.workspace) {\n      previousWorkspaceId = this.workspace.id\n\n      window.location.href = window.location.href.replace(\n        previousWorkspaceId,\n        workspace.id\n      )\n\n      if (this.urlStrategy === 'hash') {\n        window.location.reload()\n      }\n\n      return\n    }\n\n    this.upgradeWorkspace(workspace)\n\n    this.workspace = workspace\n\n    if (this.urlStrategy === 'hash') {\n      location.hash = this.workspace.id\n    } else {\n      window.history.replaceState('Object', 'Title', '/' + this.workspace.id)\n    }\n\n    localStorage.setItem('workspace', this.workspace.id)\n\n    await boot(workspace, this.pairsFromURL)\n\n    return workspace\n  }\n\n  async addAndSetWorkspace(workspace) {\n    await this.setCurrentWorkspace(await this.addWorkspace(workspace))\n\n    this.getWorkspaces()\n  }\n\n  async saveState(stateId, state: any) {\n    if (!this.workspace) {\n      throw new Error(`There is no current workspace`)\n    }\n\n    state = this.cleanState(state)\n\n    this.workspace.states[stateId] = state\n\n    return this.saveWorkspace(this.workspace)\n  }\n\n  cleanState(state) {\n    state = JSON.parse(JSON.stringify(state))\n\n    for (const prop in state) {\n      if (prop[0] === '_' && prop !== '_id') {\n        delete state[prop]\n      }\n    }\n\n    return state\n  }\n\n  async downloadWorkspace(id?: string | Workspace) {\n    const workspace = await this.getWorkspace(id)\n\n    if (!workspace) {\n      return\n    }\n\n    if (workspace.states.panes) {\n      delete (workspace.states.panes as PanesState).marketsListeners\n    }\n\n    downloadAnything(workspace, workspace.id + '_' + slugify(workspace.name))\n  }\n\n  async getState(stateId: string) {\n    if (!this.workspace) {\n      throw new Error(`There is no current workspace`)\n    }\n\n    if (this.workspace.states[stateId]) {\n      console.debug(`[workspaces] get state ${stateId}`)\n\n      return this.workspace.states[stateId]\n    }\n\n    console.debug(\n      `[workspaces] couldn't retrieve workspace's state \"${stateId}\" (unknown state)`\n    )\n\n    return null\n  }\n\n  async removeState(stateId: string) {\n    if (!this.workspace) {\n      throw new Error(`There is no current workspace`)\n    }\n\n    console.debug(`[workspaces] remove state ${stateId}`)\n\n    delete this.workspace.states[stateId]\n\n    if (this.workspace.states[stateId]) {\n      delete this.workspace.states[stateId]\n    }\n\n    return this.saveWorkspace(this.workspace)\n  }\n\n  async addWorkspace(workspace: Workspace) {\n    const timestamp = Date.now()\n\n    await this.makeUniqueWorkspace(workspace)\n\n    await this.db.add('workspaces', {\n      ...workspace,\n      createdAt: timestamp,\n      updatedAt: null\n    })\n\n    return this.getWorkspace(workspace.id)\n  }\n\n  async makeUniqueWorkspace(workspace: Workspace) {\n    const workspaces = await this.getWorkspaces()\n\n    workspace.name = uniqueName(\n      workspace.name || randomString(4),\n      workspaces.map(w => w.name)\n    )\n\n    workspace.id = uniqueName(\n      slugify(workspace.name),\n      workspaces.map(w => w.id),\n      true,\n      'copy 1'\n    )\n  }\n\n  async getWorkspace(id?: string | Workspace): Promise<Workspace> {\n    let workspace\n\n    if (!id || (this.workspace && id === this.workspace.id)) {\n      workspace = this.workspace\n    } else if (typeof id === 'string') {\n      workspace = await this.db.get('workspaces', id)\n    } else if (typeof id === 'object') {\n      workspace = id\n    }\n\n    if (!workspace) {\n      return\n    }\n\n    return workspace\n  }\n\n  async createWorkspace(name) {\n    const timestamp = Date.now()\n\n    const panes = JSON.parse(JSON.stringify(defaultPanes))\n\n    const workspace: Workspace = {\n      version: this.latestWorkspaceVersion,\n      createdAt: timestamp,\n      updatedAt: null,\n      name: name,\n      id: null,\n      states: {\n        panes\n      }\n    }\n\n    await this.makeUniqueWorkspace(workspace)\n\n    console.debug(\n      `[workspaces] create new workspace ${workspace.name} (${workspace.id})`\n    )\n\n    await this.db.add('workspaces', workspace)\n\n    return await this.getWorkspace(workspace.id)\n  }\n\n  async duplicateWorkspace(id?: string | Workspace) {\n    const workspace = await this.getWorkspace(id)\n\n    if (!workspace) {\n      return\n    }\n\n    const timestamp = Date.now()\n\n    const workspaceCopy: Workspace = JSON.parse(JSON.stringify(workspace))\n\n    workspaceCopy.createdAt = timestamp\n    workspaceCopy.updatedAt = null\n\n    await this.makeUniqueWorkspace(workspaceCopy)\n\n    console.debug(\n      `[workspaces] copy current workspace into ${workspaceCopy.name} (${workspaceCopy.id})`\n    )\n\n    await this.db.add('workspaces', workspaceCopy)\n\n    return await this.setCurrentWorkspace(\n      await this.getWorkspace(workspaceCopy.id)\n    )\n  }\n\n  getWorkspaces() {\n    return this.db.getAllFromIndex('workspaces', 'name')\n  }\n\n  async renameWorkspace(workspace: Workspace, name: string) {\n    await this.removeWorkspace(workspace.id)\n\n    workspace.name = name\n\n    this.makeUniqueWorkspace(workspace)\n\n    return this.db.add('workspaces', workspace)\n  }\n\n  async saveWorkspace(workspace: Workspace) {\n    workspace.updatedAt = Date.now()\n\n    return this.db.put('workspaces', JSON.parse(JSON.stringify(workspace)))\n  }\n\n  removeWorkspace(id: string) {\n    return this.db.delete('workspaces', id)\n  }\n\n  saveProducts(storage: ProductsStorage) {\n    return this.db.put('products', storage)\n  }\n\n  getProducts(exchangeId: string) {\n    return this.db.get('products', exchangeId)\n  }\n\n  deleteProducts(exchangeId: string) {\n    return this.db.delete('products', exchangeId)\n  }\n\n  saveGifs(storage: GifsStorage) {\n    return this.db.put('gifs', storage)\n  }\n\n  getGifs(slug: string) {\n    return this.db.get('gifs', slug)\n  }\n\n  getGifsKeywords() {\n    return this.db.getAllKeys('gifs')\n  }\n\n  deleteGifs(slug: string) {\n    return this.db.delete('gifs', slug)\n  }\n\n  async saveIndicator(indicator: IndicatorSettings) {\n    const now = Date.now()\n\n    if (indicator.createdAt) {\n      indicator.updatedAt = now\n    } else {\n      indicator.createdAt = now\n    }\n\n    store.dispatch('app/showNotice', {\n      type: 'info',\n      title: `Saved indicator ${indicator.id}`\n    })\n\n    return this.db.put('indicators', indicator)\n  }\n\n  async incrementIndicatorUsage(id: string): Promise<string> {\n    const indicator = await this.getIndicator(id)\n\n    if (!indicator) {\n      return\n    }\n\n    if (!indicator.uses) {\n      indicator.uses = 0\n    }\n\n    indicator.uses++\n\n    return this.saveIndicator(indicator)\n  }\n\n  getIndicator(id: string): Promise<IndicatorSettings> {\n    return this.db.get('indicators', id)\n  }\n\n  getIndicators(): Promise<IndicatorSettings[]> {\n    return this.db.getAllFromIndex('indicators', 'name')\n  }\n\n  getIndicatorsIds() {\n    return this.db.getAllKeys('indicators')\n  }\n\n  deleteIndicator(id: string) {\n    return this.db.delete('indicators', id)\n  }\n\n  async savePreset(preset: Preset, type?: string, confirmOverride = true) {\n    if (type) {\n      // ex indicator:price\n\n      const inputType = preset.type.split(':')[0] as PresetType\n      const targetType = type.split(':')[0]\n\n      if (targetType !== inputType) {\n        throw new Error(`Preset type ${inputType} is not ${targetType} type`)\n      }\n\n      preset.type = targetType\n      preset.name = type + ':' + preset.name.split(':').pop()\n    }\n\n    if (\n      confirmOverride &&\n      (await this.getPreset(preset.name)) &&\n      !(await dialogService.confirm({\n        message: `This preset \"${preset.name}\" already exists.`,\n        ok: 'Continue anyway',\n        cancel: 'Cancel'\n      }))\n    ) {\n      throw new Error(`Save preset : aborted`)\n    }\n\n    return this.db.put('presets', preset)\n  }\n\n  async getPreset(id: string): Promise<Preset> {\n    return this.db.get('presets', id)\n  }\n\n  getPresetsKeysByType(type: PresetType) {\n    return this.db.getAllKeys(\n      'presets',\n      IDBKeyRange.bound(type, type + '|', true, true)\n    )\n  }\n\n  removePreset(id) {\n    return this.db.delete('presets', id)\n  }\n\n  saveSound(sound: ImportedSound) {\n    return this.db.put('sounds', sound)\n  }\n\n  async getSound(id: string): Promise<ImportedSound> {\n    return this.db.get('sounds', id)\n  }\n\n  removeSound(id) {\n    return this.db.delete('sounds', id)\n  }\n\n  saveColor(color: string) {\n    return this.db.put('colors', color)\n  }\n\n  async getColors(): Promise<string[]> {\n    return this.db.getAll('colors')\n  }\n\n  removeColor(color: string) {\n    return this.db.delete('colors', color)\n  }\n\n  async getAlerts(market: string) {\n    const marketAlerts = await this.db.get('alerts', market)\n\n    if (marketAlerts) {\n      return marketAlerts.alerts\n    }\n\n    return []\n  }\n\n  saveAlerts(marketAlerts: MarketAlerts) {\n    if (!marketAlerts.alerts.length) {\n      return this.db.delete('alerts', marketAlerts.market)\n    }\n\n    return this.db.put('alerts', marketAlerts)\n  }\n\n  async reset() {\n    if (this.db) {\n      this.db.close()\n      this.db = null\n      this.workspace = null\n    }\n\n    await deleteDB('aggr')\n\n    localStorage.removeItem('workspace')\n    localStorage.removeItem('version')\n  }\n\n  async exportDatabase() {\n    const { Dexie } = (await import('dexie')) as any\n    const { exportDB } = await import('dexie-export-import')\n\n    const db = await new Dexie('aggr').open()\n    const blob = await exportDB(db, {\n      filter: tableName => {\n        if (tableName === 'products' || tableName === 'gifs') {\n          return false\n        }\n\n        return true\n      }\n    })\n\n    const workspaces = (await this.getWorkspaces())\n      .sort((a, b) => b.updatedAt - a.updatedAt)\n      .map(a => a.id)\n\n    downloadAnything(blob, 'aggr-' + workspaces.join('-'))\n  }\n}\n\nexport default new WorkspacesService()\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=style&index=0&id=391e405b&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.isBooted)?_c('div',{class:{\n    '-loading': _vm.isLoading,\n    '-no-animations': _vm.disableAnimations,\n    '-auto-hide-headers': _vm.autoHideHeaders,\n    '-light': _vm.theme === 'light'\n  },attrs:{\"id\":\"app\",\"data-prefered-sizing-currency\":_vm.preferedSizingCurrency,\"data-base\":_vm.baseCurrency,\"data-base-symbol\":_vm.baseCurrencySymbol,\"data-quote\":_vm.quoteCurrency,\"data-quote-symbol\":_vm.quoteCurrencySymbol}},[_c('Notices'),_c('div',{staticClass:\"app__wrapper\"},[_c('Menu'),_c('div',{staticClass:\"app__layout\"},[_c('Panes')],1)],1)],1):_c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"app-loader d-flex -column\"},[(_vm.showStuck)?_c('div',{staticClass:\"px8 py8\"},[_vm._v(\" 💡 Stuck here ? \"),_c('button',{staticClass:\"btn -text\",on:{\"click\":_vm.resetAndReload}},[_vm._v(\" reset everything \")])]):_vm._e(),_vm._m(0)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"lds-spinner -center\"},[_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div')])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('transition-height',{staticClass:\"notices\",attrs:{\"name\":_vm.transitionGroupName,\"tag\":\"div\"}},_vm._l((_vm.notices),function(notice){return _c('div',{key:notice.id,staticClass:\"notice\",class:'-' + notice.type},[_c('div',{staticClass:\"notice__wrapper\",on:{\"click\":function($event){return _vm.$store.dispatch('app/hideNotice', notice.id)}}},[(notice.icon)?_c('i',{staticClass:\"notice__icon\",class:notice.icon}):_vm._e(),(!notice.html)?_c('div',{staticClass:\"notice__title\",domProps:{\"textContent\":_vm._s(notice.title)}}):_c('div',{staticClass:\"notice__title\",domProps:{\"innerHTML\":_vm._s(notice.title)}})])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Notice } from '@/store/app'\nimport { Component, Vue } from 'vue-property-decorator'\nimport TransitionHeight from './TransitionHeight.vue'\n\n@Component({\n  components: { TransitionHeight },\n  name: 'Notices'\n})\nexport default class extends Vue {\n  get notices(): Notice[] {\n    return this.$store.state.app.notices\n  }\n\n  get disableAnimations() {\n    return this.$store.state.settings.disableAnimations\n  }\n\n  get transitionGroupName() {\n    if (!this.disableAnimations) {\n      return 'slide-notice'\n    } else {\n      return null\n    }\n  }\n\n  onButtonClick(notice) {\n    let hide = true\n\n    if (typeof notice.button.click === 'function') {\n      hide = notice.button.click()\n    }\n\n    hide !== false && this.$store.dispatch('app/hideNotice', notice.id)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notices.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notices.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Notices.vue?vue&type=template&id=639548e0&\"\nimport script from \"./Notices.vue?vue&type=script&lang=ts&\"\nexport * from \"./Notices.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"menu\",class:{ '-open': _vm.open },attrs:{\"id\":\"menu\"}},[_c('button',{staticClass:\"menu__button btn\",on:{\"click\":function($event){return _vm.$refs.menuDropdown.toggle($event.currentTarget)}}},[_c('i',{staticClass:\"icon-menu\"})]),_c('dropdown',{ref:\"menuDropdown\"},[_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$store.dispatch('app/showSearch', null)}}},[_c('span',{staticClass:\"mr4\"},[_vm._v(\"Search\")]),_c('i',{staticClass:\"icon-search\"})]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.panesDropdown.toggle($event.currentTarget)}}},[_c('i',{staticClass:\"icon-dashboard -center mr8\"}),_c('span',{staticClass:\"mr4\"},[_vm._v(\"Pane\")]),_c('i',{staticClass:\"icon-plus mlauto\"})]),_c('dropdown',{ref:\"panesDropdown\",nativeOn:{\"mousedown\":function($event){$event.stopPropagation();},\"touchstart\":function($event){$event.stopPropagation();}}},[_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('chart')}}},[_c('div',[_c('div',[_vm._v(\"Chart\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Live Chart\")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('trades')}}},[_c('div',[_c('div',[_vm._v(\"Trades\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Legacy trades feed\")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('trades-lite')}}},[_c('div',[_c('div',[_vm._v(\"Trades \"),_c('span',[_vm._v(\"LITE ⚡️\")])]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\" Minimal but faster \")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('prices')}}},[_c('div',[_c('div',[_vm._v(\"Markets\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Price change & volume\")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('website')}}},[_c('div',[_c('div',[_vm._v(\"Website\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Embed website\")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('stats')}}},[_c('div',[_c('div',[_vm._v(\"Stats\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Custom rolling metrics\")])]),_c('i',{staticClass:\"icon-plus\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",on:{\"click\":function($event){return _vm.addPane('counters')}}},[_c('div',[_c('div',[_vm._v(\"Counters\")]),_c('div',{staticClass:\"dropdown-item__subtitle\"},[_vm._v(\"Buys/sells by intervals\")])]),_c('i',{staticClass:\"icon-plus\"})])]),_c('dropdown',_vm._g({ref:\"volumeSlider\",staticClass:\"volume-slider\",attrs:{\"interactive\":\"\",\"no-scroll\":\"\",\"transparent\":\"\",\"on-sides\":\"\"},nativeOn:{\"mousedown\":function($event){$event.stopPropagation();},\"touchstart\":function($event){$event.stopPropagation();},\"mouseleave\":function($event){return _vm.volumeSliderTriggerEvents.mouseleave.apply(null, arguments)}},model:{value:(_vm.volumeSliderOpened),callback:function ($$v) {_vm.volumeSliderOpened=$$v},expression:\"volumeSliderOpened\"}},_vm.volumeSliderEvents),[_c('slider',{staticStyle:{\"width\":\"100px\"},attrs:{\"min\":0,\"max\":3,\"step\":0.01,\"label\":true,\"value\":_vm.audioVolume,\"log\":\"\"},on:{\"input\":function($event){return _vm.$store.dispatch('settings/setAudioVolume', $event)},\"reset\":function($event){return _vm.$store.dispatch('settings/setAudioVolume', 1)}},scopedSlots:_vm._u([{key:\"tooltip\",fn:function(){return [_vm._v(\" \"+_vm._s(+(_vm.audioVolume * 100).toFixed(2))+\"% \")]},proxy:true}])})],1),_c('button',_vm._g({ref:\"volumeSliderTrigger\",staticClass:\"dropdown-item dropdown-item--space-between\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleAudio}},_vm.volumeSliderTriggerEvents),[_c('span',{staticClass:\"mr4\"},[_vm._v(\"Audio\")]),(!_vm.useAudio)?_c('i',{staticClass:\"icon-volume-off\"}):_c('i',{staticClass:\"icon-volume-medium\",class:{ 'icon-volume-high': _vm.audioVolume > 1 }})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleFullscreen}},[_c('span',{staticClass:\"mr4\",domProps:{\"textContent\":_vm._s(_vm.isFullscreen ? 'Exit' : 'Go Fullscreen')}}),_c('i',{staticClass:\"icon-enlarge\"})]),_c('button',{staticClass:\"dropdown-item dropdown-item--space-between\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.showSettings}},[_c('span',{staticClass:\"mr4\"},[_vm._v(\"Settings\")]),_c('i',{staticClass:\"icon-cog\"})])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Dialog',{staticClass:\"-sticky-footer\",attrs:{\"contentClass\":\"settings\"},on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"Settings\")]),(_vm.hits)?_c('div',{staticClass:\"subtitle\"},[_c('i',{staticClass:\"icon-bolt\"}),_vm._v(\" \"),_c('code',{domProps:{\"textContent\":_vm._s(_vm.hits)}}),_vm._v(\" messages /s \")]):_vm._e()]),_c('div',{staticClass:\"column -center\"})]},proxy:true}])},[(_vm.currentWorkspace)?_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('workspaces') > -1)?_c('div',[_c('div',{staticClass:\"column\"},[_c('button',{staticClass:\"btn -blue -large -cases flex-grow-1 column text-ellipsis\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggleWorkspaceDropdown($event, _vm.currentWorkspace.id)}}},[_c('i',{staticClass:\"icon-dashboard -center mr16\"}),_c('div',{staticClass:\"-fill text-left text-ellipsis\"},[_c('div',{staticClass:\"text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.currentWorkspace.name)+\" \")]),_c('small',{staticClass:\"text-muted\"},[_vm._v(\" created \"+_vm._s(_vm.currentWorkspace.createdAt)+\" ago \")])]),_c('i',{staticClass:\"icon-cog\"})]),_c('dropdown',{model:{value:(_vm.workspaceDropdownTrigger),callback:function ($$v) {_vm.workspaceDropdownTrigger=$$v},expression:\"workspaceDropdownTrigger\"}},[_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.openWorkspace(_vm.workspaceDropdownId, true)}}},[_c('i',{staticClass:\"icon-external-link-square-alt\"}),_c('span',[_vm._v(\"Open in a new tab\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.renameWorkspace(_vm.workspaceDropdownId)}}},[_c('i',{staticClass:\"icon-edit\"}),_c('span',[_vm._v(\"Rename\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.duplicateWorkspace(_vm.workspaceDropdownId)}}},[_c('i',{staticClass:\"icon-copy-paste\"}),_c('span',[_vm._v(\"Duplicate\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.exportWorkspace(_vm.workspaceDropdownId)}}},[_c('i',{staticClass:\"icon-download\"}),_c('span',[_vm._v(\"Download\")])]),_c('div',{staticClass:\"dropdown-divider\"}),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeWorkspace(_vm.workspaceDropdownId)}}},[_c('i',{staticClass:\"icon-cross\"}),_c('span',[_vm._v(\"Remove workspace\")])])]),_c('button',{staticClass:\"btn -text -large -cases ml8\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$refs.createWorkspaceDropdown.toggle($event.currentTarget)}}},[_c('i',{staticClass:\"icon-plus mr4\"}),_c('span',[_vm._v(\"New\")])]),_c('dropdown',{ref:\"createWorkspaceDropdown\"},[_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.uploadWorkspace}},[_c('i',{staticClass:\"icon-upload\"}),_c('span',[_vm._v(\"Upload template file\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.createBlankWorkspace}},[_c('i',{staticClass:\"icon-plus\"}),_c('span',[_vm._v(\"Create blank template\")])])])],1),(_vm.workspaces.length)?_c('table',{staticClass:\"table mt8\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Name\")]),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\"Updated at\")]),_c('th')])]),_c('tbody',_vm._l((_vm.workspaces),function(workspace){return _c('tr',{key:workspace.id,staticClass:\"option -action\",on:{\"click\":function($event){return _vm.openWorkspace(workspace.id)}}},[_c('td',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ boundary: 'window', placement: 'left' }),expression:\"{ boundary: 'window', placement: 'left' }\"}],staticClass:\"table-input table-ellipsis text-nowrap\",class:[workspace.id === _vm.currentWorkspace.id && 'text-bold'],attrs:{\"title\":`${workspace.name}, created ${_vm.ago(workspace.createdAt)} ago`},domProps:{\"textContent\":_vm._s(workspace.name)}}),_c('td',{staticClass:\"table-input table-min\"},[_vm._v(\" \"+_vm._s(_vm.ago(workspace.updatedAt))+\" ago \")]),_c('td',{staticClass:\"table-action -hover\"},[_c('button',{staticClass:\"btn -text -small\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleWorkspaceDropdown($event, workspace.id)}}},[_c('i',{staticClass:\"icon-more\"})])])])}),0)]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'workspaces')}}},[_vm._v(\" Workspaces \"),_c('small',[_vm._v(\"templates\")]),_c('i',{staticClass:\"icon-up-thin\"})])]):_vm._e(),_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('list') > -1)?_c('div',{staticClass:\"settings-trades\"},[_c('div',{staticClass:\"form-group column mb8\"},[_c('label',{staticClass:\"checkbox-control -aggr -auto flex-grow-1\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('settings/TOGGLE_AGGREGATION')}}}),_c('div',{attrs:{\"on\":_vm.aggregationLength + 'ms',\"off\":\"No aggregation\"}}),(_vm.aggregationLength)?_c('span',[_vm._v(_vm._s(_vm.aggregationLength)+\"ms aggregation\")]):_c('span',[_vm._v(\"No aggregation\")])])]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'left' }),expression:\"{ placement: 'left' }\"}],staticClass:\"checkbox-control -slippage\",attrs:{\"title\":_vm.calculateSlippage === 'price'\n              ? 'Show slippage in $'\n              : _vm.calculateSlippage === 'bps'\n              ? 'Show slippage in basis point (bps)'\n              : 'Slippage disabled'}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.calculateSlippage},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_SLIPPAGE')}}}),_c('div'),(_vm.calculateSlippage === 'price')?_c('span',[_vm._v(\" Calculate slippage in price change (\"),_c('i',{staticClass:\"icon-dollar\"}),_vm._v(\") \")]):_vm._e(),(_vm.calculateSlippage === 'bps')?_c('span',[_vm._v(\" Calculate slippage in bps \"),_c('i',{staticClass:\"icon-bps\"})]):_vm._e(),(!_vm.calculateSlippage)?_c('span',[_vm._v(\"Do not show slippage\")]):_vm._e()])]),_c('div',{staticClass:\"form-group\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'left' }),expression:\"{ placement: 'left' }\"}],staticClass:\"checkbox-control checkbox-control-input -auto\",attrs:{\"title\":\"Size display preference\"}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.preferQuoteCurrencySize},on:{\"change\":function($event){return _vm.$store.commit(\n                'settings/SET_QUOTE_AS_PREFERED_CURRENCY',\n                $event.target.checked\n              )}}}),_c('span',[_vm._v(\"Size in\")]),_c('div',{attrs:{\"on\":\"quote currency\",\"off\":\"base currency\"}}),_c('span',[_vm._v(\"(\"),_c('i',{class:_vm.preferQuoteCurrencySize ? 'icon-quote' : 'icon-base'}),_vm._v(\")\")])])])]):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'list')}}},[_vm._v(\" Trades \"),_c('small',[_vm._v(\"aggregation, slippage, currency\")]),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('audio') > -1)?_c('audio-settings'):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'audio')}}},[_vm._v(\" Audio \"),_c('small',[_vm._v(\"main volume\")]),_c('i',{staticClass:\"icon-up-thin\"})])],1),_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('colors') > -1)?_c('div',{staticClass:\"settings-chart\"},[_c('div',{staticClass:\"form-group column mb8\"},[_c('color-picker-control',{attrs:{\"value\":_vm.backgroundColor,\"label\":\"Background color\"},on:{\"input\":function($event){return _vm.$store.dispatch('settings/setColor', {\n              type: 'BACKGROUND',\n              value: $event\n            })}}}),_c('label',{staticClass:\"-fill -center ml8\"},[_vm._v(\"Background color\")])],1),_c('div',{staticClass:\"form-group column mb8\"},[_c('color-picker-control',{attrs:{\"value\":_vm.textColor,\"label\":\"App text color\"},on:{\"input\":function($event){return _vm.$store.dispatch('settings/setColor', {\n              type: 'TEXT',\n              value: $event\n            })}}}),_c('label',{staticClass:\"-fill -center ml8\",attrs:{\"for\":\"\"}},[_vm._v(\"Text color \"),_c('a',[(_vm.textColor)?_c('i',{staticClass:\"icon-cross text-small\",on:{\"click\":function($event){return _vm.$store.dispatch('settings/setColor', {\n                  type: 'TEXT',\n                  value: null\n                })}}}):_vm._e()])])],1),_c('div',{staticClass:\"form-group column mb8\"},[_c('color-picker-control',{attrs:{\"value\":_vm.buyColor,\"label\":\"Buy color\"},on:{\"close\":_vm.regenerateSwatch,\"input\":function($event){return _vm.$store.dispatch('settings/setColor', {\n              type: 'BUY',\n              value: $event\n            })}}}),_c('label',{staticClass:\"-fill -center ml8\"},[_vm._v(\"Buy color\")])],1),_c('div',{staticClass:\"form-group column mb8\"},[_c('color-picker-control',{attrs:{\"value\":_vm.sellColor,\"label\":\"Sell color\"},on:{\"close\":_vm.regenerateSwatch,\"input\":function($event){return _vm.$store.dispatch('settings/setColor', {\n              type: 'SELL',\n              value: $event\n            })}}}),_c('label',{staticClass:\"-fill -center ml8\"},[_vm._v(\"Sell color\")])],1)]):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'colors')}}},[_vm._v(\" Colors \"),_c('small',[_vm._v(\"background, buy/sell color\")]),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('exchanges') > -1)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"settings-exchanges\"},_vm._l((_vm.exchanges),function(exchangeId){return _c('Exchange',{key:exchangeId,attrs:{\"id\":exchangeId}})}),1)]):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'exchanges')}}},[_vm._v(\" Exchanges \"),_c('small',[_vm._v(\"enable/disable exchange globally\")]),_c('i',{staticClass:\"icon-up-thin\"})])]),_c('section',{staticClass:\"section\"},[(_vm.settings.indexOf('other') > -1)?_c('other-settings'):_vm._e(),_c('div',{staticClass:\"section__title\",on:{\"click\":function($event){return _vm.$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'other')}}},[_vm._v(\" Other \"),_c('i',{staticClass:\"icon-up-thin\"})])],1),_c('footer',{staticClass:\"section mt16 settings__footer\"},[_c('div',{staticClass:\"form-group\"},[(_vm.version)?_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"-grow\"},[_c('button',{staticClass:\"btn -text pl0\"},[_vm._v(\" v\"+_vm._s(_vm.version)+\" \"),_c('sup',{staticClass:\"version-date\"},[_vm._v(_vm._s(_vm.buildDate))])])]),_c('a',{staticClass:\"btn -text\",attrs:{\"href\":\"https://github.com/Tucsky/aggr\",\"target\":\"_blank\"}},[_vm._v(\"github\")]),_c('i',{staticClass:\"pipe -center\"},[_vm._v(\"|\")]),_c('span',[_c('dono-dropdown',{staticClass:\"-top -text-left\"})],1),_c('i',{staticClass:\"pipe -center\"},[_vm._v(\"|\")]),_c('span',[_c('button',{staticClass:\"btn -text -arrow\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$refs.databaseDropdown.toggle($event.currentTarget)}}},[_vm._v(\" Reset \")]),_c('dropdown',{ref:\"databaseDropdown\"},[_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.reset}},[_c('i',{staticClass:\"icon-warning\"}),_c('span',[_vm._v(\"Reset to default\")])]),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.exportDatabase}},[_c('i',{staticClass:\"icon-upload\"}),_c('span',[_vm._v(\"Export database\")])])])],1)]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"settings-exchange\",class:{\n    '-active': _vm.active,\n    '-enabled': !_vm.settings.disabled,\n    '-expanded': _vm.expanded\n  }},[_c('div',{staticClass:\"settings-exchange__header\",on:{\"click\":_vm.toggleExchange}},[_c('div',{staticClass:\"settings-exchange__name\"},[_c('span',[_vm._v(_vm._s(_vm.name))])]),_c('div',{staticClass:\"settings-exchange__controls\"},[_c('button',{staticClass:\"settings-exchange__more\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.expanded = !_vm.expanded}}},[_c('i',{staticClass:\"icon-down-thin\"})])])]),(_vm.expanded)?_c('div',{staticClass:\"settings-exchange__detail\"},[(_vm.markets.length)?_c('div',{staticClass:\"form-group\"},[_c('small',{staticClass:\"mb4 d-block\"},[_vm._v(\"Connections\")]),_c('div',_vm._l((_vm.markets),function(market){return _c('div',{key:market.id,staticClass:\"d-flex\"},[_c('div',{staticClass:\"-fill -center\"},[_vm._v(_vm._s(market.id))])])}),0)]):_vm._e()]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator'\nimport Slider from '@/components/framework/picker/Slider.vue'\nimport aggregatorService from '@/services/aggregatorService'\nimport { formatAmount } from '@/services/productsService'\n\n@Component({\n  name: 'Exchange',\n  components: {\n    Slider\n  },\n  props: ['id']\n})\nexport default class extends Vue {\n  id: string\n  expanded = false\n  prices: { [identifier: string]: number } = {}\n\n  mounted() {\n    aggregatorService.on('prices', this.updateMarketsPrices)\n  }\n\n  beforeDestroy() {\n    aggregatorService.off('prices', this.updateMarketsPrices)\n  }\n\n  updateMarketsPrices(prices) {\n    this.prices = prices\n  }\n\n  get name() {\n    return this.id.replace(/[\\W_]+/g, ' ')\n  }\n\n  get settings() {\n    return this.$store.state.exchanges[this.id]\n  }\n\n  get markets() {\n    return (Object as any)\n      .values(this.$store.state.panes.marketsListeners)\n      .filter(a => a.exchange === this.id)\n  }\n\n  get active() {\n    return this.markets.length\n  }\n\n  async toggleExchange() {\n    await this.$store.dispatch('exchanges/toggleExchange', this.id)\n  }\n\n  formatAmount(amount) {\n    return formatAmount(amount)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exchange.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exchange.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Exchange.vue?vue&type=template&id=6ae41fdb&\"\nimport script from \"./Exchange.vue?vue&type=script&lang=ts&\"\nexport * from \"./Exchange.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Exchange.vue?vue&type=style&index=0&id=6ae41fdb&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('dropdown-button',{staticClass:\"-text -arrow\",attrs:{\"options\":_vm.donationMenu,\"placeholder\":_vm.label},on:{\"input\":_vm.onSelect},scopedSlots:_vm._u([{key:\"option\",fn:function({ value }){return [_c('i',{staticClass:\"-fill\",class:'icon-' + value.icon}),_c('span',{staticClass:\"ml4\"},[_vm._v(_vm._s(value.label))])]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator'\nimport DropdownButton from '@/components/framework/DropdownButton.vue'\n\n@Component({\n  components: {\n    DropdownButton\n  },\n  props: {\n    label: {\n      default: 'donate'\n    }\n  }\n})\nexport default class extends Vue {\n  donationMenu = [\n    {\n      label: 'with Bitcoin',\n      icon: 'bitcoin',\n      click: () => window.open('bitcoin:3PK1bBK8sG3zAjPBPD7g3PL14Ndux3zWEz')\n    },\n    {\n      label: 'with Monero',\n      icon: 'xmr',\n      click: () =>\n        window.open(\n          'monero:48NJj3RJDo33zMLaudQDdM8G6MfPrQbpeZU2YnRN2Ep6hbKyYRrS2ZSdiAKpkUXBcjD2pKiPqXtQmSZjZM7fC6YT6CMmoX6'\n        )\n    },\n    {\n      label: 'with other coin',\n      icon: 'COINBASE',\n      click: () =>\n        window.open(\n          'https://commerce.coinbase.com/checkout/c58bd003-5e47-4cfb-ae25-5292f0a0e1e8'\n        )\n    }\n  ]\n\n  onSelect(option) {\n    if (typeof option.click === 'function') {\n      option.click()\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonoDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonoDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DonoDropdown.vue?vue&type=template&id=005a9fdb&\"\nimport script from \"./DonoDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./DonoDropdown.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"settings-audio\",class:{ active: _vm.useAudio }},[_c('div',{staticClass:\"-fill\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"form-group -tight\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'bottom' }),expression:\"{ placement: 'bottom' }\"}],staticClass:\"checkbox-control checkbox-control-input flex-right\",attrs:{\"title\":\"Enable audio\"}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useAudio},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_AUDIO', $event.target.checked)}}}),_c('div')])]),_c('div',{staticClass:\"form-group -fill -center\"},[_c('slider',{attrs:{\"min\":0,\"max\":3,\"step\":0.01,\"label\":true,\"value\":_vm.audioVolume,\"log\":\"\"},on:{\"input\":function($event){return _vm.$store.dispatch('settings/setAudioVolume', $event)},\"reset\":function($event){return _vm.$store.dispatch('settings/setAudioVolume', 1)}}})],1)]),(_vm.useAudio)?_c('div',{staticClass:\"mt8\"},_vm._l((_vm.filters),function(filter){return _c('div',{key:filter,staticClass:\"btn -text px0\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"checkbox-control checkbox-control-input -auto\",attrs:{\"title\":_vm.filtersDescriptions[filter]}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.$store.state.settings.audioFilters[filter]},on:{\"change\":function($event){return _vm.$store.commit('settings/SET_AUDIO_FILTER', {\n                id: filter,\n                value: $event.target.checked\n              })}}}),_c('div',{attrs:{\"on\":filter,\"off\":filter}})])])}),0):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport audioService from '@/services/audioService'\nimport { Component, Vue } from 'vue-property-decorator'\nimport Slider from '../framework/picker/Slider.vue'\n\n@Component({\n  components: { Slider },\n  name: 'AudioSettings'\n})\nexport default class extends Vue {\n  filters: string[] = []\n  filtersDescriptions = {\n    HighPassFilter:\n      'High-Pass Filter passes frequencies above its cutoff frequency and attenuates frequencies below its cutoff frequency',\n    LowPassFilter:\n      'Low-Pass Filter passes frequencies below its cutoff frequency and attenuates frequencies above its cutoff frequency. This effect can therefore be used to reduce high pitched noise',\n    Compressor:\n      'A compressor has the ability to reduce the difference in order for the quiet notes to be louder and the peak notes to be quieter',\n    Delay:\n      'A delay effect is similar to an echo, in that the sound is repeated one or more times after the original sound',\n    PingPongDelay:\n      'Ping Pong Delay is a time-sensitive delay that pans the delay to the left and right speakers one after the other',\n    Chorus:\n      'An equal mix of the wet and dry signal is used with the wet signal being delayed and pitch modulated'\n  }\n\n  get useAudio() {\n    return this.$store.state.settings.useAudio\n  }\n\n  get audioVolume() {\n    return this.$store.state.settings.audioVolume\n  }\n\n  created() {\n    this.filters = Object.keys(audioService.filtersOptions)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AudioSettings.vue?vue&type=template&id=75ae916c&scoped=true&\"\nimport script from \"./AudioSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./AudioSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AudioSettings.vue?vue&type=style&index=0&id=75ae916c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75ae916c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"form-group mb8\"},[_c('label',{staticClass:\"checkbox-control\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.autoHideHeaders},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_AUTO_HIDE_HEADERS')}}}),_c('div'),_c('span',[_vm._v(\"Auto hide headers\")])])]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',{staticClass:\"checkbox-control -animations\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.animationsEnabled},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_ANIMATIONS')}}}),_c('div'),_c('span',[_vm._v(\" \"+_vm._s(_vm.animationsEnabled ? 'UI animations are enabled ✨' : 'UI animations are disabled 🚀')+\" \")])])]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',{staticClass:\"checkbox-control -animations\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.locked},on:{\"change\":function($event){return _vm.$store.commit('panes/TOGGLE_LAYOUT')}}}),_c('div'),_c('span',[_vm._v(\" \"+_vm._s(_vm.locked ? 'Layout is locked 🔒' : 'Layout is unlocked')+\" \")])])]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',{staticClass:\"checkbox-control -animations\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.normalizeWatermarks},on:{\"change\":function($event){return _vm.$store.commit('settings/TOGGLE_NORMAMIZE_WATERMARKS')}}}),_c('div'),_c('span',[_vm._v(\"Simple watermarks\")])])]),_c('div',{staticClass:\"form-group mb8\"},[_c('label',{staticClass:\"checkbox-control flex-left\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":!!_vm.timezoneOffset},on:{\"change\":function($event){_vm.$store.commit(\n            'settings/SET_TIMEZONE_OFFSET',\n            !_vm.timezoneOffset ? new Date().getTimezoneOffset() * 60000 * -1 : 0\n          )}}}),_c('div'),_c('span',[_vm._v(\"Use local time for charts\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  name: 'OtherSettings'\n})\nexport default class extends Vue {\n  responsiveEnabled: boolean = null\n\n  get animationsEnabled() {\n    return !this.$store.state.settings.disableAnimations\n  }\n\n  get autoHideHeaders() {\n    return this.$store.state.settings.autoHideHeaders\n  }\n\n  get locked() {\n    return this.$store.state.panes.locked\n  }\n\n  get normalizeWatermarks() {\n    return this.$store.state.settings.normalizeWatermarks\n  }\n\n  get timezoneOffset() {\n    return this.$store.state.settings.timezoneOffset\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OtherSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OtherSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OtherSettings.vue?vue&type=template&id=18814f4c&\"\nimport script from \"./OtherSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./OtherSettings.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <Dialog @clickOutside=\"close\" class=\"-sticky-footer\" contentClass=\"settings\">\n    <template v-slot:header\n      ><div>\n        <div class=\"title\">Settings</div>\n        <div class=\"subtitle\" v-if=\"hits\">\n          <i class=\"icon-bolt\"></i> <code v-text=\"hits\"></code> messages /s\n        </div>\n      </div>\n      <div class=\"column -center\"></div>\n    </template>\n    <section class=\"section\" v-if=\"currentWorkspace\">\n      <div v-if=\"settings.indexOf('workspaces') > -1\">\n        <div class=\"column\">\n          <button\n            type=\"button\"\n            class=\"btn -blue -large -cases flex-grow-1 column text-ellipsis\"\n            @click=\"toggleWorkspaceDropdown($event, currentWorkspace.id)\"\n          >\n            <i class=\"icon-dashboard -center mr16\"></i>\n\n            <div class=\"-fill text-left text-ellipsis\">\n              <div class=\"text-ellipsis\">\n                {{ currentWorkspace.name }}\n              </div>\n              <small class=\"text-muted\">\n                created {{ currentWorkspace.createdAt }} ago\n              </small>\n            </div>\n            <i class=\"icon-cog\"></i>\n          </button>\n          <dropdown v-model=\"workspaceDropdownTrigger\">\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"openWorkspace(workspaceDropdownId, true)\"\n            >\n              <i class=\"icon-external-link-square-alt\"></i>\n              <span>Open in a new tab</span>\n            </button>\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"renameWorkspace(workspaceDropdownId)\"\n            >\n              <i class=\"icon-edit\"></i>\n              <span>Rename</span>\n            </button>\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"duplicateWorkspace(workspaceDropdownId)\"\n            >\n              <i class=\"icon-copy-paste\"></i>\n              <span>Duplicate</span>\n            </button>\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"exportWorkspace(workspaceDropdownId)\"\n            >\n              <i class=\"icon-download\"></i>\n              <span>Download</span>\n            </button>\n            <div class=\"dropdown-divider\"></div>\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"removeWorkspace(workspaceDropdownId)\"\n            >\n              <i class=\"icon-cross\"></i>\n              <span>Remove workspace</span>\n            </button>\n          </dropdown>\n          <button\n            type=\"button\"\n            class=\"btn -text -large  -cases ml8\"\n            @click=\"$refs.createWorkspaceDropdown.toggle($event.currentTarget)\"\n          >\n            <i class=\"icon-plus mr4\"></i>\n            <span>New</span>\n          </button>\n\n          <dropdown ref=\"createWorkspaceDropdown\">\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"uploadWorkspace\"\n            >\n              <i class=\"icon-upload\"></i>\n              <span>Upload template file</span>\n            </button>\n            <button\n              type=\"button\"\n              class=\"dropdown-item\"\n              @click=\"createBlankWorkspace\"\n            >\n              <i class=\"icon-plus\"></i>\n              <span>Create blank template</span>\n            </button>\n          </dropdown>\n        </div>\n        <table v-if=\"workspaces.length\" class=\"table mt8\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th class=\"text-nowrap\">Updated at</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              v-for=\"workspace of workspaces\"\n              :key=\"workspace.id\"\n              class=\"option -action\"\n              @click=\"openWorkspace(workspace.id)\"\n            >\n              <td\n                class=\"table-input table-ellipsis text-nowrap\"\n                :class=\"[workspace.id === currentWorkspace.id && 'text-bold']\"\n                v-text=\"workspace.name\"\n                :title=\"\n                  `${workspace.name}, created ${ago(workspace.createdAt)} ago`\n                \"\n                v-tippy=\"{ boundary: 'window', placement: 'left' }\"\n              ></td>\n              <td class=\"table-input table-min\">\n                {{ ago(workspace.updatedAt) }} ago\n              </td>\n              <td class=\"table-action -hover\">\n                <button\n                  class=\"btn -text -small\"\n                  @click.stop=\"toggleWorkspaceDropdown($event, workspace.id)\"\n                >\n                  <i class=\"icon-more\"></i>\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'workspaces')\"\n      >\n        Workspaces\n        <small>templates</small>\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div v-if=\"settings.indexOf('list') > -1\" class=\"settings-trades\">\n        <div class=\"form-group column mb8\">\n          <label class=\"checkbox-control -aggr -auto flex-grow-1\">\n            <input\n              type=\"checkbox\"\n              class=\"form-control\"\n              :checked=\"true\"\n              @click.prevent=\"$store.commit('settings/TOGGLE_AGGREGATION')\"\n            />\n            <div :on=\"aggregationLength + 'ms'\" off=\"No aggregation\"></div>\n            <span v-if=\"aggregationLength\"\n              >{{ aggregationLength }}ms aggregation</span\n            >\n            <span v-else>No aggregation</span>\n          </label>\n        </div>\n\n        <div class=\"form-group mb8\">\n          <label\n            class=\"checkbox-control -slippage\"\n            :title=\"\n              calculateSlippage === 'price'\n                ? 'Show slippage in $'\n                : calculateSlippage === 'bps'\n                ? 'Show slippage in basis point (bps)'\n                : 'Slippage disabled'\n            \"\n            v-tippy=\"{ placement: 'left' }\"\n          >\n            <input\n              type=\"checkbox\"\n              class=\"form-control\"\n              :checked=\"calculateSlippage\"\n              @change=\"$store.commit('settings/TOGGLE_SLIPPAGE')\"\n            />\n            <div></div>\n            <span v-if=\"calculateSlippage === 'price'\">\n              Calculate slippage in price change (<i class=\"icon-dollar\"></i>)\n            </span>\n            <span v-if=\"calculateSlippage === 'bps'\">\n              Calculate slippage in bps <i class=\"icon-bps\"></i>\n            </span>\n            <span v-if=\"!calculateSlippage\">Do not show slippage</span>\n          </label>\n        </div>\n\n        <div class=\"form-group\">\n          <label\n            class=\"checkbox-control checkbox-control-input -auto\"\n            v-tippy=\"{ placement: 'left' }\"\n            title=\"Size display preference\"\n          >\n            <input\n              type=\"checkbox\"\n              class=\"form-control\"\n              :checked=\"preferQuoteCurrencySize\"\n              @change=\"\n                $store.commit(\n                  'settings/SET_QUOTE_AS_PREFERED_CURRENCY',\n                  $event.target.checked\n                )\n              \"\n            />\n            <span>Size in</span>\n            <div on=\"quote currency\" off=\"base currency\"></div>\n            <span\n              >(<i\n                :class=\"preferQuoteCurrencySize ? 'icon-quote' : 'icon-base'\"\n              ></i\n              >)</span\n            >\n          </label>\n        </div>\n      </div>\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'list')\"\n      >\n        Trades\n        <small>aggregation, slippage, currency</small>\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <audio-settings v-if=\"settings.indexOf('audio') > -1\"></audio-settings>\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'audio')\"\n      >\n        Audio\n        <small>main volume</small>\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div v-if=\"settings.indexOf('colors') > -1\" class=\"settings-chart\">\n        <div class=\"form-group column mb8\">\n          <color-picker-control\n            :value=\"backgroundColor\"\n            label=\"Background color\"\n            @input=\"\n              $store.dispatch('settings/setColor', {\n                type: 'BACKGROUND',\n                value: $event\n              })\n            \"\n          ></color-picker-control>\n          <label class=\"-fill -center ml8\">Background color</label>\n        </div>\n        <div class=\"form-group column mb8\">\n          <color-picker-control\n            :value=\"textColor\"\n            label=\"App text color\"\n            @input=\"\n              $store.dispatch('settings/setColor', {\n                type: 'TEXT',\n                value: $event\n              })\n            \"\n          ></color-picker-control>\n          <label for=\"\" class=\"-fill -center ml8\"\n            >Text color\n            <a\n              ><i\n                class=\"icon-cross text-small\"\n                v-if=\"textColor\"\n                @click=\"\n                  $store.dispatch('settings/setColor', {\n                    type: 'TEXT',\n                    value: null\n                  })\n                \"\n              ></i></a\n          ></label>\n        </div>\n        <div class=\"form-group column mb8\">\n          <color-picker-control\n            :value=\"buyColor\"\n            label=\"Buy color\"\n            @close=\"regenerateSwatch\"\n            @input=\"\n              $store.dispatch('settings/setColor', {\n                type: 'BUY',\n                value: $event\n              })\n            \"\n          ></color-picker-control>\n          <label class=\"-fill -center ml8\">Buy color</label>\n        </div>\n        <div class=\"form-group column mb8\">\n          <color-picker-control\n            :value=\"sellColor\"\n            label=\"Sell color\"\n            @close=\"regenerateSwatch\"\n            @input=\"\n              $store.dispatch('settings/setColor', {\n                type: 'SELL',\n                value: $event\n              })\n            \"\n          ></color-picker-control>\n          <label class=\"-fill -center ml8\">Sell color</label>\n        </div>\n      </div>\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'colors')\"\n      >\n        Colors\n        <small>background, buy/sell color</small>\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div class=\"form-group\" v-if=\"settings.indexOf('exchanges') > -1\">\n        <div class=\"settings-exchanges\">\n          <Exchange\n            v-for=\"exchangeId of exchanges\"\n            :key=\"exchangeId\"\n            :id=\"exchangeId\"\n          />\n        </div>\n      </div>\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'exchanges')\"\n      >\n        Exchanges\n        <small>enable/disable exchange globally</small>\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <other-settings v-if=\"settings.indexOf('other') > -1\"></other-settings>\n      <div\n        class=\"section__title\"\n        @click=\"$store.commit('settings/TOGGLE_SETTINGS_PANEL', 'other')\"\n      >\n        Other\n        <i class=\"icon-up-thin\"></i>\n      </div>\n    </section>\n\n    <footer class=\"section mt16 settings__footer\">\n      <div class=\"form-group\">\n        <div v-if=\"version\" class=\"column\">\n          <div class=\"-grow\">\n            <button class=\"btn -text pl0\">\n              v{{ version }} <sup class=\"version-date\">{{ buildDate }}</sup>\n            </button>\n          </div>\n          <a\n            class=\"btn -text\"\n            href=\"https://github.com/Tucsky/aggr\"\n            target=\"_blank\"\n            >github</a\n          >\n          <i class=\"pipe -center\">|</i>\n          <span>\n            <dono-dropdown class=\"-top -text-left\" />\n          </span>\n          <i class=\"pipe -center\">|</i>\n          <span>\n            <button\n              type=\"button\"\n              class=\"btn -text -arrow\"\n              @click=\"$refs.databaseDropdown.toggle($event.currentTarget)\"\n            >\n              Reset\n            </button>\n            <dropdown ref=\"databaseDropdown\">\n              <button type=\"button\" class=\"dropdown-item\" @click=\"reset\">\n                <i class=\"icon-warning\"></i>\n                <span>Reset to default</span>\n              </button>\n              <button\n                type=\"button\"\n                class=\"dropdown-item\"\n                @click=\"exportDatabase\"\n              >\n                <i class=\"icon-upload\"></i>\n                <span>Export database</span>\n              </button>\n            </dropdown>\n          </span>\n        </div>\n      </div>\n    </footer>\n  </Dialog>\n</template>\n\n<script>\nimport { ago, browseFile } from '../../utils/helpers'\n\nimport Dialog from '@/components/framework/Dialog.vue'\nimport Exchange from './Exchange.vue'\nimport DonoDropdown from './DonoDropdown.vue'\nimport dialogService from '../../services/dialogService'\nimport AudioSettings from './AudioSettings.vue'\nimport OtherSettings from './OtherSettings.vue'\nimport ColorPickerControl from '../framework/picker/ColorPickerControl.vue'\n\nimport importService from '@/services/importService'\nimport workspacesService from '@/services/workspacesService'\nimport aggregatorService from '@/services/aggregatorService'\nimport { APPLICATION_START_TIME } from '@/utils/constants'\n\nimport DialogMixin from '@/mixins/dialogMixin'\n\nexport default {\n  mixins: [DialogMixin],\n  components: {\n    Dialog,\n    Exchange,\n    AudioSettings,\n    OtherSettings,\n    DonoDropdown,\n    ColorPickerControl\n  },\n  data() {\n    return {\n      currentWorkspace: null,\n      workspaces: [],\n      hits: null,\n      workspaceDropdownId: null,\n      workspaceDropdownTrigger: null\n    }\n  },\n  computed: {\n    exchanges() {\n      return this.$store.getters['exchanges/getExchanges']\n    },\n\n    version() {\n      return this.$store.state.app.version\n    },\n\n    buildDate() {\n      return this.$store.state.app.buildDate\n    },\n\n    settings() {\n      return this.$store.state.settings.settings\n    },\n\n    backgroundColor() {\n      return this.$store.state.settings.backgroundColor\n    },\n\n    textColor() {\n      return this.$store.state.settings.textColor\n    },\n\n    buyColor() {\n      return this.$store.state.settings.buyColor\n    },\n\n    sellColor() {\n      return this.$store.state.settings.sellColor\n    },\n\n    aggregationLength() {\n      return this.$store.state.settings.aggregationLength\n    },\n\n    preferQuoteCurrencySize() {\n      return this.$store.state.settings.preferQuoteCurrencySize\n    },\n\n    calculateSlippage() {\n      return this.$store.state.settings.calculateSlippage\n    }\n  },\n\n  async created() {\n    await this.getWorkspaces()\n\n    if (process.env.NODE_ENV !== 'production') {\n      this.getHits()\n    }\n  },\n\n  beforeDestroy() {\n    if (this._hitsTimeout) {\n      clearTimeout(this._hitsTimeout)\n    }\n  },\n\n  methods: {\n    getHits() {\n      if (this.hits === null) {\n        this.hits = '...'\n      }\n\n      this._hitsTimeout = setTimeout(async () => {\n        const hits = await aggregatorService.dispatchAsync({ op: 'getHits' })\n        const elapsed = Date.now() - APPLICATION_START_TIME\n        this.hits = (hits / (elapsed / 1000)).toFixed()\n\n        this.getHits()\n      }, 1000)\n    },\n\n    async getWorkspaces() {\n      const workspaces = await workspacesService.getWorkspaces()\n      this.workspaces = workspaces\n      const workspace = workspacesService.workspace\n\n      this.currentWorkspace = {\n        name: workspace.name,\n        id: workspace.id,\n        updatedAt: ago(workspace.updatedAt),\n        createdAt: ago(workspace.createdAt),\n        states: null\n      }\n    },\n\n    openWorkspace(id, newWindow = false) {\n      const url = window.location.href.replace(this.currentWorkspace.id, id)\n\n      if (newWindow) {\n        window.open(url)\n      } else {\n        window.location.href = url\n      }\n    },\n\n    async removeWorkspace(id = this.workspaceDropdownId) {\n      const workspace = await workspacesService.getWorkspace(id)\n\n      const isCurrent =\n        this.currentWorkspace && this.currentWorkspace.id === workspace.id\n\n      if (isCurrent) {\n        await this.close()\n      }\n\n      if (\n        !(await dialogService.confirm(\n          `Delete ${isCurrent ? 'current workspace' : 'workspace'} ${\n            workspace.name\n          } ?`\n        ))\n      ) {\n        return\n      }\n\n      await workspacesService.removeWorkspace(workspace.id)\n\n      if (isCurrent) {\n        let nextWorkspace = this.workspaces.find(w => w.id !== workspace.id)\n\n        if (!nextWorkspace) {\n          nextWorkspace = await workspacesService.createWorkspace()\n        }\n\n        await workspacesService.setCurrentWorkspace(nextWorkspace)\n      }\n\n      if (!isCurrent) {\n        return this.getWorkspaces()\n      }\n    },\n\n    async exportWorkspace(id = this.workspaceDropdownId) {\n      workspacesService.downloadWorkspace(id)\n    },\n\n    async duplicateWorkspace(id = this.workspaceDropdownId) {\n      workspacesService.duplicateWorkspace(id)\n    },\n\n    async createBlankWorkspace() {\n      const randomName = await fetch(\n        'https://random-word-api.herokuapp.com/word?number=2'\n      )\n        .then(response => response.json())\n        .then(words =>\n          words.map(word => word[0].toUpperCase() + word.slice(1)).join('')\n        )\n\n      const name = await dialogService.prompt({\n        label: 'Name',\n        input: randomName,\n        action: 'Name the template',\n        placeholder: 'Name (or leave empty)',\n        submitLabel: 'Create'\n      })\n\n      if (typeof name !== 'string') {\n        return\n      }\n\n      await this.close()\n      const workspace = await workspacesService.createWorkspace(name)\n\n      await workspacesService.setCurrentWorkspace(workspace)\n    },\n\n    async uploadWorkspace() {\n      try {\n        const file = await browseFile()\n\n        if (!file) {\n          return\n        }\n\n        await importService.importWorkspace(file)\n      } catch (error) {\n        this.$store.dispatch('app/showNotice', {\n          title: error.message,\n          type: 'error',\n          timeout: 60000\n        })\n      }\n    },\n\n    async renameWorkspace(id = this.workspaceDropdownId) {\n      const workspace = await workspacesService.getWorkspace(id)\n\n      const name = await dialogService.prompt({\n        action: 'Rename',\n        input: workspace.name\n      })\n\n      if (name) {\n        await workspacesService.renameWorkspace(workspace, name)\n\n        await this.getWorkspaces()\n      }\n    },\n\n    async exportDatabase() {\n      return workspacesService.exportDatabase()\n    },\n\n    async reset() {\n      const sounds = await workspacesService.db.getAllKeys('sounds')\n      const indicators = await workspacesService.db.getAllKeys('indicators')\n      const presets = await workspacesService.db.getAllKeys('presets')\n      const alerts = await workspacesService.db.getAllKeys('alerts')\n\n      const content = []\n\n      if (this.workspaces.length) {\n        content.push(['workspace', this.workspaces.length])\n      }\n\n      if (indicators.length) {\n        content.push(['indicator', indicators.length])\n      }\n\n      if (sounds.length) {\n        content.push(['sound', sounds.length])\n      }\n\n      if (presets.length) {\n        content.push(['preset', presets.length])\n      }\n\n      if (alerts.length) {\n        content.push(['alert', alerts.length])\n      }\n\n      if (\n        await dialogService.confirm({\n          title: 'Reset everything ?',\n          html: true,\n          ok: 'Reset & reload',\n          message: `Everything will be removed${\n            content.length\n              ? ' including : \\n\\t - ' +\n                content\n                  .map(\n                    ([thing, count]) =>\n                      count + ' ' + thing + (count > 1 ? 's' : '')\n                  )\n                  .join('\\n\\t - ') +\n                '\\n\\n...and everything else!'\n              : '.'\n          }`\n        })\n      ) {\n        await workspacesService.reset()\n\n        window.location.reload()\n      }\n    },\n\n    ago(timestamp) {\n      return ago(timestamp)\n    },\n\n    toggleWorkspaceDropdown(event, workspaceId) {\n      if (this.workspaceDropdownTrigger) {\n        this.workspaceDropdownTrigger = null\n      } else {\n        this.workspaceDropdownTrigger = event.currentTarget\n        this.workspaceDropdownId = workspaceId\n      }\n    },\n\n    async regenerateSwatch(colorDidChanged) {\n      if (!colorDidChanged) {\n        return\n      }\n\n      if (await dialogService.confirm(`Generate thresholds colors ?`)) {\n        const buyColor = this.$store.state.settings.buyColor\n        const sellColor = this.$store.state.settings.sellColor\n\n        for (const paneId in this.$store.state.panes.panes) {\n          if (/^trades/.test(this.$store.state.panes.panes[paneId].type)) {\n            this.$store.dispatch(`${paneId}/generateSwatch`, {\n              buyColor,\n              sellColor,\n              baseVariance: 0.25\n            })\n\n            this.$store.state[paneId].thresholds = JSON.parse(\n              JSON.stringify(this.$store.state[paneId].thresholds)\n            )\n          }\n        }\n\n        this.$store.commit(\n          `settings/SET_BACKGROUND_COLOR`,\n          this.$store.state.settings.backgroundColor\n        )\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.settings {\n  width: 360px;\n}\n\n.settings__footer {\n  margin-top: auto;\n\n  .version-date {\n    opacity: 0.75;\n    line-height: 1;\n    position: relative;\n    top: -0.5em;\n    left: 0.25em;\n  }\n\n  .pipe {\n    opacity: 0.5;\n    line-height: 1;\n  }\n\n  .btn {\n    background: 0 !important;\n  }\n}\n\n.settings-audio {\n  align-items: center;\n\n  label {\n    margin: 0;\n  }\n\n  input[type='range'] {\n    width: 100%;\n    margin: 0;\n  }\n}\n\n.settings-exchanges {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n}\n\n.settings-chart {\n  &__sub-settings {\n    margin-left: 2.4em;\n    margin-bottom: 0.5em;\n\n    > div {\n      + div {\n        margin-top: 0.75em;\n      }\n    }\n\n    > div + div {\n      margin-top: 0.75em;\n    }\n\n    input[type='range'] {\n      font-size: 0.5em;\n      vertical-align: middle;\n    }\n  }\n}\n\n#app.-light {\n  .section__title {\n    opacity: 1;\n  }\n\n  .form-group {\n    .checkbox-control {\n      opacity: 1;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SettingsDialog.vue?vue&type=template&id=0fa804ec&\"\nimport script from \"./SettingsDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./SettingsDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SettingsDialog.vue?vue&type=style&index=0&id=0fa804ec&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport dialogService from '@/services/dialogService'\nimport { PaneType } from '@/store/panes'\nimport { Component, Vue } from 'vue-property-decorator'\nimport { isTouchSupported } from '../utils/touchevent'\nimport Slider from './framework/picker/Slider.vue'\nimport SettingsDialog from './settings/SettingsDialog.vue'\n\n@Component({\n  name: 'Menu',\n  components: {\n    Slider\n  }\n})\nexport default class extends Vue {\n  volumeSliderOpened = false\n  isFullscreen = false\n  open = false\n\n  $refs!: {\n    volumeSlider: any\n    volumeSliderTrigger: HTMLElement\n  }\n\n  get useAudio() {\n    return this.$store.state.settings.useAudio\n  }\n\n  get audioVolume() {\n    return this.$store.state.settings.audioVolume\n  }\n\n  get volumeSliderEvents() {\n    if (!this.volumeSliderOpened) {\n      return null\n    }\n\n    return {\n      [isTouchSupported() ? 'touchstart' : 'mousedown']: event => {\n        event.stopPropagation()\n      },\n      mouseleave: event => {\n        if (\n          event.toElement === this.$refs.volumeSliderTrigger ||\n          this.$refs.volumeSliderTrigger.contains(event.toElement)\n        ) {\n          return\n        }\n\n        this.volumeSliderOpened = null\n      }\n    }\n  }\n\n  get volumeSliderTriggerEvents() {\n    if (this.volumeSliderOpened) {\n      return {\n        mouseleave: event => {\n          if (\n            event.toElement === this.$refs.volumeSlider.$el ||\n            this.$refs.volumeSlider.$el.contains(event.toElement)\n          ) {\n            return\n          }\n\n          this.volumeSliderOpened = null\n        }\n      }\n    } else {\n      return {\n        mouseenter: event => {\n          this.volumeSliderOpened = event.currentTarget\n        }\n      }\n    }\n  }\n\n  showSettings() {\n    dialogService.open(SettingsDialog)\n  }\n\n  toggleFullscreen() {\n    let element = document.body\n\n    if (event instanceof HTMLElement) {\n      element = event\n    }\n\n    ;(element as any).requestFullScreen =\n      (element as any).requestFullScreen ||\n      (element as any).webkitRequestFullScreen ||\n      (element as any).mozRequestFullScreen ||\n      function() {\n        return false\n      }\n    ;(document as any).cancelFullScreen =\n      (document as any).cancelFullScreen ||\n      (document as any).webkitCancelFullScreen ||\n      (document as any).mozCancelFullScreen ||\n      function() {\n        return false\n      }\n\n    if (this.isFullscreen) {\n      ;(document as any).cancelFullScreen()\n      this.isFullscreen = false\n    } else {\n      ;(element as any).requestFullScreen()\n      this.isFullscreen = true\n    }\n  }\n\n  toggleMenu() {\n    this.open = !this.open\n\n    if (this.open) {\n      this.isFullscreen =\n        (document as any).webkitIsFullScreen || (document as any).mozFullScreen\n          ? true\n          : false\n    }\n  }\n\n  addPane(type: PaneType) {\n    this.$store.dispatch('panes/addPane', { type })\n  }\n\n  toggleAudio() {\n    this.$store.commit('settings/TOGGLE_AUDIO', !this.useAudio)\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=22df1b6a&\"\nimport script from \"./Menu.vue?vue&type=script&lang=ts&\"\nexport * from \"./Menu.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=22df1b6a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('grid-layout',{ref:\"grid\",attrs:{\"layout\":_vm.layout,\"col-num\":_vm.cols,\"row-height\":_vm.rowHeight,\"margin\":[0, 0],\"is-resizable\":_vm.unlocked,\"is-draggable\":_vm.unlocked,\"vertical-compact\":true,\"use-css-transforms\":true,\"use-style-cursor\":false},on:{\"layout-ready\":function($event){_vm.layoutReady = true},\"layout-updated\":_vm.onLayoutUpdated}},_vm._l((_vm.layout),function(gridItem){return _c('grid-item',{key:gridItem.i,attrs:{\"type\":gridItem.type,\"drag-allow-from\":\".pane-header\",\"drag-ignore-from\":\"a, button, .-no-grab\",\"x\":gridItem.x,\"y\":gridItem.y,\"w\":gridItem.w,\"h\":gridItem.h,\"i\":gridItem.i},on:{\"container-resized\":_vm.onContainerResized,\"resized\":_vm.onItemResized}},[(_vm.layoutReady)?_c(gridItem.type,{ref:\"panes\",refInFor:true,tag:\"component\",staticClass:\"pane\",attrs:{\"paneId\":gridItem.i}}):_vm._e()],1)}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\nimport Component from 'vue-class-component'\n\nimport VueGridLayout from 'vue-grid-layout'\nimport PaneMixin from '@/mixins/paneMixin'\n\nimport { GRID_COLS } from '@/utils/constants'\nimport { GridItem } from '@/store/panes'\n\n@Component({\n  components: {\n    GridLayout: VueGridLayout.GridLayout,\n    GridItem: VueGridLayout.GridItem,\n    Chart: () => import('@/components/chart/Chart.vue'),\n    Trades: () => import('@/components/trades/Trades.vue'),\n    Stats: () => import('@/components/stats/Stats.vue'),\n    Counters: () => import('@/components/counters/Counters.vue'),\n    Prices: () => import('@/components/prices/Prices.vue'),\n    Website: () => import('@/components/website/Website.vue'),\n    TradesLite: () => import('@/components/trades/TradesLite.vue')\n  }\n})\nexport default class extends Vue {\n  draggable = true\n  resizable = true\n  rowHeight = 80\n  cols = null\n  breakpoint = null\n  layoutReady = false\n\n  private _resizeTimeout: number\n  private _maximizedPaneId\n\n  $refs!: {\n    panes: PaneMixin[]\n    grid: VueGridLayout.GridLayout\n  }\n\n  protected get panes() {\n    return this.$store.state.panes.panes\n  }\n\n  protected get unlocked() {\n    return !this.$store.state.panes.locked\n  }\n\n  protected get layout() {\n    return this.$store.state.panes.layout\n  }\n\n  created() {\n    this.cols = GRID_COLS\n\n    this.updateRowHeight()\n  }\n\n  mounted() {\n    window.addEventListener('resize', this.updateRowHeight)\n  }\n\n  beforeDestroy() {\n    window.addEventListener('resize', this.updateRowHeight)\n  }\n\n  resizeMaximizedPane() {\n    let maximizedItem: HTMLElement\n\n    if (!this._maximizedPaneId) {\n      maximizedItem = document.getElementsByClassName(\n        '-maximized'\n      )[0] as HTMLElement\n    } else {\n      maximizedItem = document.getElementById(this._maximizedPaneId)\n        .parentElement\n    }\n\n    this.$nextTick(() => {\n      if (maximizedItem) {\n        const maximizedPaneId = maximizedItem.children[0].id\n        let width\n        let height\n\n        if (!this._maximizedPaneId) {\n          width = maximizedItem.clientWidth\n          height = maximizedItem.clientHeight\n          this._maximizedPaneId = maximizedPaneId\n        } else {\n          width = parseFloat(maximizedItem.style.width)\n          height = parseFloat(maximizedItem.style.height)\n          this._maximizedPaneId = null\n        }\n        this.resizePane(maximizedPaneId, height, width)\n      }\n    })\n  }\n\n  resizePane(id, height, width) {\n    if (!this.$refs.panes) {\n      return\n    }\n\n    const pane: PaneMixin = this.$refs.panes.find(pane => pane.paneId === id)\n\n    if (!pane) {\n      return\n    }\n\n    if (typeof pane.onResize === 'function') {\n      pane.$nextTick(() => {\n        pane.onResize(width, height)\n      })\n    }\n  }\n\n  onItemResized(id, h, w, hPx, wPx) {\n    this.resizePane(id, +hPx, +wPx)\n    this.$store.commit('panes/UPDATE_LAYOUT', this.layout)\n  }\n\n  updateItem(id) {\n    const item = this.layout.find(item => item.i === id)\n    this.$store.commit('panes/UPDATE_ITEM', item)\n  }\n  onLayoutUpdated(gridItems: GridItem[]) {\n    this.$store.commit('panes/UPDATE_LAYOUT', gridItems)\n  }\n\n  onContainerResized(id, h, w, hPx, wPx) {\n    this.resizePane(id, +hPx, +wPx)\n  }\n\n  updateRowHeight(event?: Event) {\n    if (event && !event.isTrusted) {\n      this.resizeMaximizedPane()\n      return\n    }\n\n    if (this._resizeTimeout) {\n      clearTimeout(this._resizeTimeout)\n    }\n\n    if (event) {\n      this._resizeTimeout = window.setTimeout(\n        this.updateRowHeight.bind(this),\n        200\n      )\n    } else {\n      this._resizeTimeout = null\n\n      this.rowHeight = window.innerHeight / this.cols\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Panes.vue?vue&type=template&id=6aac1288&\"\nimport script from \"./Panes.vue?vue&type=script&lang=ts&\"\nexport * from \"./Panes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { Component, Vue } from 'vue-property-decorator'\n\nimport aggregatorService from './services/aggregatorService'\n\nimport Notices from '@/components/framework/Notices.vue'\nimport Menu from '@/components/Menu.vue'\n\nimport Panes from '@/components/panes/Panes.vue'\n\nimport upFavicon from '@/assets/up.png'\nimport downFavicon from '@/assets/down.png'\n\nimport { Notice } from '@/store/app'\n\nimport workspacesService from '@/services/workspacesService'\nimport { formatMarketPrice } from '@/services/productsService'\nimport dialogService from '@/services/dialogService'\nimport importService from '@/services/importService'\n\n@Component({\n  name: 'App',\n  components: {\n    Menu,\n    Notices,\n    Panes\n  },\n  watch: {\n    '$store.state.panes.marketsListeners': function(\n      newMarkets,\n      previousMarkets\n    ) {\n      if (newMarkets !== previousMarkets) {\n        this.refreshMainMarkets(newMarkets)\n      }\n    }\n  }\n})\nexport default class extends Vue {\n  price: string = null\n  showStuck = false\n\n  private _mainMarkets: string[]\n  private _faviconElement: HTMLLinkElement\n  private _stuckTimeout: number\n  private _mainPair: string\n\n  get showSearch() {\n    return this.$store.state.app.showSearch\n  }\n\n  get isBooted() {\n    const isBooted = this.$store.state.app && this.$store.state.app.isBooted\n\n    clearTimeout(this._stuckTimeout)\n\n    if (!isBooted) {\n      this.showStuck = false\n      this._stuckTimeout = setTimeout(() => {\n        this.showStuck = true\n      }, 15000)\n    }\n\n    return isBooted\n  }\n\n  get isLoading() {\n    return this.$store.state.app.isLoading\n  }\n\n  get theme() {\n    return this.$store.state.settings.theme\n  }\n\n  get autoHideHeaders() {\n    return this.$store.state.settings.autoHideHeaders\n  }\n\n  get preferedSizingCurrency() {\n    return this.$store.state.settings.preferQuoteCurrencySize ? 'quote' : 'base'\n  }\n\n  get baseCurrency() {\n    return this.$store.state.app.baseCurrency\n  }\n\n  get baseCurrencySymbol() {\n    return this.$store.state.app.baseCurrencySymbol\n  }\n\n  get quoteCurrency() {\n    return this.$store.state.app.quoteCurrency\n  }\n\n  get quoteCurrencySymbol() {\n    return this.$store.state.app.quoteCurrencySymbol\n  }\n\n  get disableAnimations() {\n    return this.$store.state.settings.disableAnimations\n  }\n\n  mounted() {\n    this.bindDropFile()\n    aggregatorService.on('notice', (notice: Notice) => {\n      this.$store.dispatch('app/showNotice', notice)\n    })\n    aggregatorService.on('prices', this.updatePrice)\n\n    document.addEventListener('keydown', this.onDocumentKeyPress)\n    window.addEventListener('blur', this.onBlur)\n  }\n\n  beforeDestroy() {\n    this.unbindDropFile()\n    this.stopUpdatingPrice()\n  }\n\n  updatePrice(marketsPrices) {\n    let price = 0\n    let count = 0\n\n    for (const marketKey of this._mainMarkets) {\n      if (\n        !marketsPrices[marketKey] ||\n        marketsPrices[marketKey].price === null\n      ) {\n        continue\n      }\n      price += marketsPrices[marketKey].price\n      count++\n    }\n\n    if (count) {\n      price = price / count\n\n      if (this.price !== null) {\n        if (price > +this.price) {\n          this.updateFavicon('up')\n        } else if (price < +this.price) {\n          this.updateFavicon('down')\n        }\n      }\n\n      this.price = formatMarketPrice(price, this._mainMarkets[0])\n\n      window.document.title = this._mainPair + ' ' + this.price\n    } else {\n      this.price = null\n      this.updateFavicon('neutral')\n\n      window.document.title = this._mainPair ? this._mainPair : 'AGGR'\n    }\n  }\n\n  stopUpdatingPrice() {\n    aggregatorService.off('prices', this.updatePrice)\n    this.price = null\n  }\n\n  updateFavicon(direction: 'up' | 'down' | 'neutral') {\n    if (!this._faviconElement) {\n      this._faviconElement = document.createElement('link')\n      this._faviconElement.id = 'favicon'\n      this._faviconElement.rel = 'shortcut icon'\n\n      document.head.appendChild(this._faviconElement)\n    }\n\n    if (direction === 'up') {\n      this._faviconElement.href = upFavicon\n    } else {\n      this._faviconElement.href = downFavicon\n    }\n  }\n\n  onDocumentKeyPress(event: KeyboardEvent) {\n    if (!this.isBooted) {\n      return\n    }\n\n    const activeElement = document.activeElement as HTMLElement\n\n    if (event.keyCode === 27) {\n      this.$store.dispatch('app/hideSearch')\n      return\n    }\n\n    if (\n      this.$store.state.app.showSearch ||\n      event.metaKey ||\n      event.ctrlKey ||\n      event.altKey ||\n      activeElement.tagName === 'INPUT' ||\n      activeElement.tagName === 'TEXTAREA' ||\n      activeElement.tagName === 'SELECT' ||\n      activeElement.isContentEditable\n    ) {\n      return\n    }\n\n    event = event || (window.event as any)\n\n    if (/^[a-z]$/i.test(event.key)) {\n      this.$store.dispatch('app/showSearch')\n    } else if (/^[0-9]$/i.test(event.key)) {\n      this.$store.dispatch('app/showTimeframe')\n    }\n  }\n\n  onBlur() {\n    this.$store.commit('app/SET_FOCUSED_PANE', null)\n  }\n\n  async resetAndReload() {\n    const response = await dialogService.confirm({\n      title: 'Reset app',\n      message: 'Are you sure ?',\n      ok: 'Reset settings',\n      cancel: workspacesService.workspace\n        ? 'Download workspace ' + workspacesService.workspace.id\n        : 'Cancel'\n    })\n\n    if (response === true) {\n      await workspacesService.reset()\n      window.location.reload()\n    } else if (response === false && workspacesService.workspace) {\n      workspacesService.downloadWorkspace()\n    }\n  }\n\n  bindDropFile() {\n    document.body.addEventListener('drop', this.handleDrop)\n    document.body.addEventListener('dragover', this.handleDrop)\n  }\n\n  unbindDropFile() {\n    document.body.removeEventListener('drop', this.handleDrop)\n    document.body.removeEventListener('dragover', this.handleDrop)\n  }\n  async handleDrop(event) {\n    event.preventDefault()\n\n    if (event.type !== 'drop') {\n      return false\n    }\n\n    if (!event.dataTransfer.files || !event.dataTransfer.files.length) {\n      return\n    }\n\n    for (const file of event.dataTransfer.files) {\n      try {\n        await importService.importAnything(file)\n      } catch (error) {\n        this.$store.dispatch('app/showNotice', {\n          title: error.message,\n          type: 'error',\n          timeout: 60000\n        })\n      }\n    }\n  }\n  refreshMainMarkets(markets) {\n    const marketsByNormalizedPair = {}\n    for (const id in markets) {\n      const pair = markets[id].local\n      if (!marketsByNormalizedPair[pair]) {\n        marketsByNormalizedPair[pair] = 0\n      }\n\n      marketsByNormalizedPair[pair] += markets[id].listeners\n    }\n\n    this._mainPair = Object.keys(marketsByNormalizedPair).sort(\n      (a, b) => marketsByNormalizedPair[b] - marketsByNormalizedPair[a]\n    )[0]\n\n    this._mainMarkets = Object.keys(markets)\n      .filter(id => markets[id].local === this._mainPair)\n      .map(id => markets[id].exchange + ':' + markets[id].pair)\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=54ad4f6e&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{attrs:{\"contenteditable\":_vm.editable !== false,\"disabled\":_vm.editable === false},on:{\"keydown\":_vm.onKeyDown,\"input\":function($event){_vm.changed = true},\"focus\":_vm.onFocus,\"blur\":_vm.onBlur,\"wheel\":_vm.onWheel}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue, Watch } from 'vue-property-decorator'\nimport { countDecimals } from '@/services/productsService'\n\n@Component({\n  name: 'Editable',\n  props: ['value', 'step', 'min', 'max', 'editable', 'disabled']\n})\nexport default class extends Vue {\n  private value: string\n  private min: number\n  private max: number\n  private disabled: boolean\n  private changed = false\n  private position: number\n\n  private _incrementSelectionTimeout: number\n  private _emitTimeout: number\n\n  mounted() {\n    const el = this.$el as HTMLElement\n\n    el.innerText = this.value\n  }\n\n  @Watch('value')\n  onValueChange() {\n    if ((this.$el as HTMLElement).innerText !== this.value) {\n      ;(this.$el as HTMLElement).innerText = this.value\n    }\n  }\n\n  getCaretPosition() {\n    let caretPos = 0\n    let sel\n    let range\n\n    if (window.getSelection) {\n      sel = window.getSelection()\n      if (sel.rangeCount) {\n        range = sel.getRangeAt(0)\n        if (range.commonAncestorContainer.parentNode == this.$el) {\n          caretPos = range.endOffset\n        }\n      }\n    }\n\n    return caretPos\n  }\n\n  onBlur(event) {\n    if (event.which === 13 && !isNaN(event.target.innerText)) {\n      event.preventDefault()\n      return\n    }\n\n    if (this.changed) {\n      event.target.innerHTML = event.target.innerText\n      this.$emit('input', event.target.innerText)\n    }\n\n    if (window.getSelection) {\n      window.getSelection().removeAllRanges()\n    } else if ((document as any).selection) {\n      ;(document as any).selection.empty()\n    }\n  }\n\n  onKeyDown(event) {\n    if (this.disabled || event.which === 13) {\n      event.preventDefault()\n      ;(this.$el as HTMLInputElement).blur()\n\n      event.target.innerText = this.value\n\n      return\n    }\n\n    if (event.which === 38 || event.which === 40) {\n      this.increment((event.which === 40 ? 1 : -1) * (event.shiftKey ? 10 : 1))\n    }\n  }\n\n  onFocus() {\n    this.changed = false\n  }\n\n  increment(direction: number) {\n    const parts = (this.$el as HTMLElement).innerText.trim().split(',')\n\n    let text\n    let partIndex\n    let count = 0\n    let position\n\n    if (parts.length > 0) {\n      if (this._incrementSelectionTimeout) {\n        clearTimeout(this._incrementSelectionTimeout)\n      }\n\n      if (this.position) {\n        position = this.position\n      } else {\n        position = this.getCaretPosition()\n      }\n\n      for (let i = 0; i < parts.length; i++) {\n        const part = parts[i]\n        if (position >= count && position <= count + part.length) {\n          text = part.replace(/[^0-9-.]/g, '')\n          partIndex = i\n          break\n        }\n\n        count += part.length + 1\n      }\n    } else {\n      text = parts[0]\n    }\n\n    if (isNaN(text as any)) {\n      return\n    }\n\n    const max = typeof this.max === 'undefined' ? Infinity : this.max\n    const min = typeof this.min === 'undefined' ? -Infinity : this.min\n    const precision = countDecimals(text)\n    const step = 1 / Math.pow(10, precision)\n    const change = step * direction * -1\n\n    text = Math.max(min, Math.min(max, +text + change)).toFixed(precision)\n\n    if (parts.length > 1) {\n      this.position = position\n\n      parts[partIndex] = text\n      text = parts.join(',')\n\n      this._incrementSelectionTimeout = setTimeout(() => {\n        this._incrementSelectionTimeout = null\n\n        let sel\n\n        if ((document as any).selection) {\n          sel = (document as any).selection.createRange()\n          sel.moveStart('character', position)\n          sel.select()\n        } else {\n          sel = window.getSelection()\n          sel.collapse(this.$el.lastChild, position)\n        }\n\n        this.position = null\n      }, 100)\n    }\n\n    ;(this.$el as any).innerText = text\n\n    if (this._emitTimeout) {\n      clearTimeout(this._emitTimeout)\n    }\n    this._emitTimeout = setTimeout(() => {\n      this._emitTimeout = null\n      this.$emit('input', text)\n    }, 50)\n  }\n\n  onWheel(event) {\n    const focusedElement = document.activeElement as HTMLElement\n\n    if (focusedElement !== event.target || !focusedElement.isContentEditable) {\n      return\n    }\n\n    event.preventDefault()\n\n    this.increment(Math.sign(event.deltaY) * (event.shiftKey ? 10 : 1))\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Editable.vue?vue&type=template&id=e18f6132&\"\nimport script from \"./Editable.vue?vue&type=script&lang=ts&\"\nexport * from \"./Editable.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('transition',{attrs:{\"name\":\"dropdown\"},on:{\"enter\":_vm.onEnterStart}},[(_vm.triggerElement)?_c('div',{staticClass:\"dropdown hide-scrollbar\",class:[\n      _vm.noScroll && 'dropdown--no-scroll',\n      _vm.transparent && 'dropdown--transparent'\n    ],style:({ top: _vm.top + 'px', left: _vm.left + 'px' }),on:{\"click\":function($event){$event.stopPropagation();!_vm.interactive && _vm.toggle(null, true)}}},[_vm._t(\"default\")],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { isTouchSupported } from '@/utils/touchevent'\n\nexport default {\n  name: 'Dropdown',\n  props: {\n    value: {\n      required: false,\n      default: null\n    },\n    margin: {\n      type: Number,\n      required: false,\n      default: 16\n    },\n    interactive: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    noScroll: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    onSides: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    transparent: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  watch: {\n    /**\n     * v-model (which contain the triggerElement) was updated from parent component\n     */\n    value(triggerElement) {\n      this.toggle(triggerElement)\n    }\n  },\n  data: () => ({\n    triggerElement: null,\n    top: null,\n    left: null\n  }),\n  beforeDestroy() {\n    this.toggle(null, true)\n\n    if (this.$el instanceof HTMLElement) {\n      document.getElementById('app').removeChild(this.$el)\n    }\n  },\n  methods: {\n    /**\n     * Open the dropdown\n     */\n    async open(nextTriggerElement: HTMLElement) {\n      nextTriggerElement.classList.add('dropdown-trigger')\n\n      document.getElementById('app').appendChild(this.$el)\n\n      if (this.$el instanceof HTMLElement) {\n        this.fitScreen()\n      }\n\n      this.bindResize()\n\n      await this.$nextTick()\n\n      this.bindClickOutside()\n    },\n\n    /**\n     * Closes the dropdown\n     */\n    close() {\n      if (!this.triggerElement) {\n        return\n      }\n\n      if (this.triggerElement.classList) {\n        this.triggerElement.classList.remove('dropdown-trigger')\n      }\n\n      this.unbindResize()\n      this.unbindClickOutside()\n    },\n\n    /**\n     * Enter animation started\n     */\n    async onEnterStart() {\n      await this.$nextTick()\n\n      this.fitScreen()\n\n      const button = this.$el.querySelector('button')\n\n      if (button) {\n        button.focus()\n      }\n    },\n\n    /**\n     * Close if was open then open if given a trigger element\n     * @param {HTMLElement} triggerElement element that triggered the dropdown\n     * @param {boolean} emit mutate v-model with the new triggerElement if true\n     */\n    toggle(triggerElement: HTMLElement, emit = false) {\n      const nextTriggerElement =\n        triggerElement && triggerElement !== this.triggerElement\n          ? triggerElement\n          : null\n\n      if (this.triggerElement) {\n        this.close()\n      }\n\n      this.triggerElement = nextTriggerElement\n\n      if (nextTriggerElement && nextTriggerElement.classList) {\n        this.open(nextTriggerElement)\n      }\n\n      if (emit) {\n        this.$emit('input', this.triggerElement)\n      }\n    },\n\n    /**\n     * Align the dropdown below or above of trigger element\n     */\n    fitScreen() {\n      const triggerElement = this.triggerElement as HTMLElement\n      if (!triggerElement || !triggerElement.getBoundingClientRect) {\n        return\n      }\n\n      const dropdownElement = this.$el as HTMLElement\n      if (!dropdownElement || !dropdownElement.getBoundingClientRect) {\n        return\n      }\n\n      /*const fontSize = getComputedStyle(triggerElement).fontSize\n      this.$el.style.fontSize = fontSize*/\n      dropdownElement.offsetHeight\n\n      const viewportWidth = window.innerWidth\n      const viewportHeight = window.innerHeight\n      const triggerElementRect = triggerElement.getBoundingClientRect()\n      const dropdownElementRect = dropdownElement.getBoundingClientRect()\n      const dropdownElementWidth = dropdownElementRect.width\n\n      let optimalLeft\n\n      if (this.onSides) {\n        // show show the dropdown above the trigger if the later is lower than viewport mid\n        const triggerIsBeyondViewportMiddle =\n          triggerElementRect.left > viewportWidth / 2\n\n        if (triggerIsBeyondViewportMiddle) {\n          optimalLeft =\n            triggerElementRect.left - dropdownElementWidth - this.margin\n        } else {\n          optimalLeft =\n            triggerElementRect.left + triggerElementRect.width + this.margin\n        }\n      } else {\n        optimalLeft = viewportWidth - dropdownElementWidth - this.margin * 2\n      }\n\n      // align the dropdown on the trigger center while avoiding going beyond the viewport\n      this.left = Math.max(\n        this.margin,\n        Math.min(\n          triggerElementRect.left +\n            triggerElementRect.width / 2 -\n            dropdownElementWidth / 2,\n          optimalLeft\n        )\n      )\n\n      const maxHeight = triggerElementRect.top - this.margin * 2\n      dropdownElement.style.maxHeight = maxHeight + 'px'\n\n      const dropdownElementHeight = Math.min(\n        maxHeight,\n        dropdownElement.scrollHeight\n      )\n\n      if (this.onSides) {\n        this.top =\n          triggerElementRect.top +\n          triggerElementRect.height / 2 -\n          dropdownElementHeight / 2\n      } else {\n        // show show the dropdown above the trigger if the later is lower than viewport mid\n        const triggerIsLowerThanViewportMiddle =\n          triggerElementRect.top > viewportHeight / 2\n\n        if (triggerIsLowerThanViewportMiddle) {\n          // top = trigger top - (dropdownHeight + margin)\n          this.top =\n            triggerElementRect.top - (dropdownElementHeight + this.margin)\n        } else {\n          dropdownElement.style.maxHeight =\n            viewportHeight -\n            triggerElementRect.top -\n            triggerElementRect.height -\n            this.margin * 2 +\n            'px'\n\n          // top = trigger top + it's height + margin\n          this.top =\n            triggerElementRect.top + triggerElementRect.height + this.margin\n        }\n      }\n    },\n\n    bindResize() {\n      if (this._resizeHandler) {\n        return\n      }\n\n      this._resizeHandler = this.onResize.bind(this)\n      window.addEventListener('resize', this._resizeHandler)\n    },\n    onResize() {\n      if (this._resizeTimeout) {\n        clearTimeout(this._resizeTimeout)\n      }\n\n      this._resizeTimeout = setTimeout(() => {\n        this.fitScreen(true)\n\n        this._resizeTimeout = null\n      }, 500)\n    },\n    unbindResize() {\n      if (!this._resizeHandler) {\n        return\n      }\n\n      window.removeEventListener('resize', this._resizeHandler)\n      this._resizeHandler = null\n    },\n    bindClickOutside() {\n      if (this.clickOutsideHandler) {\n        return\n      }\n\n      this.clickOutsideHandler = event => {\n        if (\n          !this.$el.contains(event.target) &&\n          !this.triggerElement.contains(event.target) &&\n          this.triggerElement !== event.target\n        ) {\n          this.toggle(null, true)\n        }\n      }\n\n      document.addEventListener(\n        isTouchSupported() ? 'touchstart' : 'mousedown',\n        this.clickOutsideHandler\n      )\n    },\n    unbindClickOutside() {\n      if (!this.clickOutsideHandler) {\n        return\n      }\n\n      document.removeEventListener(\n        isTouchSupported() ? 'touchstart' : 'mousedown',\n        this.clickOutsideHandler\n      )\n\n      this.clickOutsideHandler = null\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Dropdown.vue?vue&type=template&id=391e405b&scoped=true&\"\nimport script from \"./Dropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./Dropdown.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Dropdown.vue?vue&type=style&index=0&id=391e405b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"391e405b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"btn -green -arrow mrauto\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleDropdown}},[_vm._v(\" Presets \"),_c('dropdown',{on:{\"input\":function($event){$event ? _vm.bindPaste : _vm.unbindPaste}},model:{value:(_vm.dropdownTrigger),callback:function ($$v) {_vm.dropdownTrigger=$$v},expression:\"dropdownTrigger\"}},[_c('div',{staticClass:\"d-flex btn-group\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"btn -green\",on:{\"click\":function($event){return _vm.savePreset()}}},[_c('i',{staticClass:\"icon-plus mr8\"}),_c('small',[_vm._v(\"new\")])]),_c('div',{staticClass:\"btn -blue -file\"},[_c('i',{staticClass:\"icon-upload mr8\"}),_c('small',[_vm._v(\"import\")]),_c('input',{attrs:{\"type\":\"file\",\"title\":\"Browse\"},on:{\"change\":_vm.handleFile}})]),_c('div',{staticClass:\"-fill\"}),_c('div',{staticClass:\"btn -red flex-grow-1 flex-right\",on:{\"click\":_vm.applyDefault}},[_c('i',{staticClass:\"icon-eraser mr8\"}),_c('small',[_vm._v(\"Reset\")])])]),_vm._l((_vm.presets),function(preset){return _c('div',{key:preset.id,staticClass:\"dropdown-item\",on:{\"click\":function($event){return _vm.selectPreset(preset.id)}}},[_c('span',{staticClass:\"mr8\"},[_vm._v(_vm._s(preset.label))]),_c('button',{staticClass:\"dropdown-option__action btn -small mlauto -text\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openPreset(preset.id, preset.label)}}},[_c('i',{staticClass:\"icon-edit\"})]),_c('button',{staticClass:\"dropdown-option__action btn -small ml4 -text\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deletePreset(preset)}}},[_c('i',{staticClass:\"icon-trash\"})])])})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Dialog',{on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',[_c('div',{staticClass:\"title\"},[_c('div',{domProps:{\"textContent\":_vm._s(_vm.meta.name)},on:{\"dblclick\":_vm.renamePreset}})]),_c('div',{staticClass:\"subtitle\",domProps:{\"textContent\":_vm._s(_vm.meta.type)}})])]},proxy:true}])},[(this.preset.createdAt || this.preset.updatedAt)?_c('div',{staticClass:\"d-flex flex-middle mb8\"},[_c('i',{staticClass:\"icon-info mr16\"}),(this.preset.createdAt)?_c('div',{staticClass:\"mr16\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Created at\")]),_c('div',[_vm._v(_vm._s(_vm.createdAt)+\" ago\")])]):_vm._e(),(this.preset.updatedAt)?_c('div',[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Updated at\")]),_c('div',[_vm._v(_vm._s(_vm.updatedAt)+\" ago\")])]):_vm._e()]):_vm._e(),_c('p',{staticClass:\"mt0\"},[_vm._v(\" What's included : \"),_c('button',{staticClass:\"btn -text\",attrs:{\"type\":\"button\"},domProps:{\"textContent\":_vm._s(_vm.showDetails ? 'hide' : 'show')},on:{\"click\":function($event){_vm.showDetails = !_vm.showDetails}}})]),(_vm.showDetails)?_c('ul',_vm._l((_vm.dataProperties),function(prop){return _c('li',{key:prop},[_c('code',{domProps:{\"textContent\":_vm._s(prop)}})])}),0):_vm._e(),_c('footer',[_c('button',{staticClass:\"btn -text -arrow\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$refs.presetDropdown.toggle($event.currentTarget)}}},[_c('i',{staticClass:\"icon-cog mr4\"}),_vm._v(\" Manage \")]),_c('dropdown',{ref:\"presetDropdown\"},[_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.downloadPreset}},[_c('i',{staticClass:\"icon-download\"}),_c('span',[_vm._v(\"Download\")])]),_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"dropdown-item\",attrs:{\"type\":\"button\",\"title\":\"Replace with current settings\"},on:{\"click\":_vm.replacePreset}},[_c('i',{staticClass:\"icon-refresh\"}),_c('span',[_vm._v(\"Replace\")])]),_c('div',{staticClass:\"dropdown-divider\"}),_c('button',{staticClass:\"dropdown-item\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.deletePreset}},[_c('i',{staticClass:\"icon-trash\"}),_c('span',[_vm._v(\"Delete\")])])]),_c('button',{staticClass:\"btn -text -large mlauto\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.copyPreset}},[_c('i',{staticClass:\"icon-copy-paste mr4\"}),_vm._v(\" Copy \")]),_c('button',{staticClass:\"btn -blue -large ml16\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.replacePreset}},[_c('i',{staticClass:\"icon-check mr4\"}),_vm._v(\" Set \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Dialog @clickOutside=\"close\">\n    <template v-slot:header>\n      <div>\n        <div class=\"title\">\n          <div @dblclick=\"renamePreset\" v-text=\"meta.name\"></div>\n        </div>\n        <div class=\"subtitle\" v-text=\"meta.type\"></div>\n      </div>\n    </template>\n\n    <div\n      class=\"d-flex flex-middle mb8\"\n      v-if=\"this.preset.createdAt || this.preset.updatedAt\"\n    >\n      <i class=\"icon-info mr16\"></i>\n      <div class=\"mr16\" v-if=\"this.preset.createdAt\">\n        <small class=\"text-muted\">Created at</small>\n        <div>{{ createdAt }} ago</div>\n      </div>\n      <div v-if=\"this.preset.updatedAt\">\n        <small class=\"text-muted\">Updated at</small>\n        <div>{{ updatedAt }} ago</div>\n      </div>\n    </div>\n\n    <p class=\"mt0\">\n      What's included :\n      <button\n        type=\"button\"\n        class=\"btn -text\"\n        v-text=\"showDetails ? 'hide' : 'show'\"\n        @click=\"showDetails = !showDetails\"\n      ></button>\n    </p>\n\n    <ul v-if=\"showDetails\">\n      <li v-for=\"prop of dataProperties\" :key=\"prop\">\n        <code v-text=\"prop\"></code>\n      </li>\n    </ul>\n\n    <footer>\n      <button\n        type=\"button\"\n        class=\"btn -text -arrow\"\n        @click=\"$refs.presetDropdown.toggle($event.currentTarget)\"\n      >\n        <i class=\"icon-cog mr4\"></i>\n        Manage\n      </button>\n      <dropdown ref=\"presetDropdown\">\n        <button type=\"button\" class=\"dropdown-item\" @click=\"downloadPreset\">\n          <i class=\"icon-download\"></i>\n          <span>Download</span>\n        </button>\n        <button\n          type=\"button\"\n          class=\"dropdown-item\"\n          v-tippy\n          title=\"Replace with current settings\"\n          @click=\"replacePreset\"\n        >\n          <i class=\"icon-refresh\"></i>\n          <span>Replace</span>\n        </button>\n        <div class=\"dropdown-divider\"></div>\n        <button type=\"button\" class=\"dropdown-item\" @click=\"deletePreset\">\n          <i class=\"icon-trash\"></i>\n          <span>Delete</span>\n        </button>\n      </dropdown>\n      <button type=\"button\" class=\"btn -text -large mlauto\" @click=\"copyPreset\">\n        <i class=\"icon-copy-paste mr4\"></i> Copy\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn -blue -large ml16\"\n        @click=\"replacePreset\"\n      >\n        <i class=\"icon-check mr4\"></i> Set\n      </button>\n    </footer>\n  </Dialog>\n</template>\n\n<script>\nimport DialogMixin from '@/mixins/dialogMixin'\nimport workspacesService from '@/services/workspacesService'\nimport {\n  downloadAnything,\n  slugify,\n  ago,\n  copyTextToClipboard\n} from '@/utils/helpers'\nimport dialogService from '@/services/dialogService'\n\nexport default {\n  mixins: [DialogMixin],\n  props: {\n    preset: {\n      required: true\n    }\n  },\n  data() {\n    return {\n      menu: [\n        {\n          icon: 'swap',\n          label: 'Override',\n          click: this.replacePreset\n        },\n        {\n          icon: 'external-link-square-alt',\n          label: 'Export',\n          click: this.downloadPreset\n        },\n        {\n          icon: 'trash',\n          label: 'Delete',\n          click: this.deletePreset\n        }\n      ],\n      dataProperties: [],\n      createdAt: 'N/A',\n      updatedAt: 'N/A',\n      showDetails: false\n    }\n  },\n  computed: {\n    meta() {\n      const [, type, cat, name] = this.preset.name.match(\n        /^([a-z-]+):?([a-z-]+)?:(.*)/\n      )\n\n      return {\n        type,\n        cat,\n        name\n      }\n    }\n  },\n  created() {\n    this.retrieveDataProperties(this.preset.data)\n\n    if (this.preset.updatedAt) {\n      this.updatedAt = ago(this.preset.updatedAt)\n    }\n\n    if (this.preset.createdAt) {\n      this.createdAt = ago(this.preset.createdAt)\n    }\n  },\n  methods: {\n    async deletePreset() {\n      await workspacesService.removePreset(this.preset.name)\n\n      this.close()\n    },\n    downloadPreset() {\n      downloadAnything(this.preset, slugify(this.preset.name))\n    },\n    retrieveDataProperties(obj) {\n      for (const prop in obj) {\n        if (obj[prop] && typeof obj[prop] === 'object') {\n          this.retrieveDataProperties(obj[prop])\n        } else if (isNaN(prop) && this.dataProperties.indexOf(prop) === -1) {\n          this.dataProperties.push(prop)\n        }\n      }\n    },\n    replacePreset() {\n      this.close('replace')\n    },\n    async copyPreset() {\n      await copyTextToClipboard(JSON.stringify(this.preset))\n\n      this.$store.dispatch('app/showNotice', {\n        id: 'preset-clipboard',\n        title: `Copied preset ${this.preset.name} to clipboard`\n      })\n    },\n    async renamePreset() {\n      const name = await dialogService.prompt({\n        action: 'Rename',\n        input: this.name\n      })\n\n      if (name && name !== this.meta.name) {\n        await workspacesService.removePreset(this.preset.name)\n\n        this.preset.name =\n          this.meta.type +\n          ':' +\n          (this.meta.cat ? this.meta.cat + ':' : '') +\n          name\n\n        await workspacesService.savePreset(this.preset)\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PresetDialog.vue?vue&type=template&id=827c1e32&\"\nimport script from \"./PresetDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./PresetDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport dialogService from '@/services/dialogService'\nimport workspacesService from '@/services/workspacesService'\nimport importService from '@/services/importService'\nimport { Preset, PresetType } from '@/types/types'\nimport { Component, Vue } from 'vue-property-decorator'\nimport PresetDialog from '../settings/PresetDialog.vue'\n\n@Component({\n  props: {\n    type: {\n      required: true\n    },\n    adapter: {\n      required: true\n    },\n    label: {\n      default: 'Presets'\n    }\n  }\n})\nexport default class extends Vue {\n  type: PresetType\n  adapter: Function\n  dropdownTrigger = null\n  presets = []\n\n  private _pasteHandler: (event: Event) => void\n\n  created() {\n    this.getPresets()\n  }\n\n  beforeDestroy() {\n    this.unbindPaste()\n  }\n\n  toggleDropdown(event) {\n    if (!this.dropdownTrigger) {\n      this.dropdownTrigger = event.currentTarget\n    } else {\n      this.dropdownTrigger = null\n    }\n  }\n\n  async getPresets() {\n    this.presets.splice(1, this.presets.length)\n\n    const keys = (await workspacesService.getPresetsKeysByType(\n      this.type\n    )) as string[]\n\n    this.presets = keys.map(key => ({\n      id: key,\n      label: key.split(':').pop()\n    }))\n  }\n\n  async selectPreset(key) {\n    const preset = await workspacesService.getPreset(key)\n\n    this.applyPreset(preset)\n  }\n\n  async openPreset(id: string, name: string) {\n    const preset = await workspacesService.getPreset(id)\n\n    const postClose = await dialogService.openAsPromise(PresetDialog, {\n      preset\n    })\n\n    if (postClose === 'replace') {\n      this.savePreset(name)\n    } else if (postClose === 'set') {\n      this.applyPreset(preset)\n    }\n\n    this.getPresets()\n  }\n\n  async savePreset(name?: string) {\n    const isOverride = !!name\n\n    if (!name || typeof name !== 'string') {\n      name = await dialogService.prompt('Enter a name')\n    } else if (\n      !(await dialogService.confirm(\n        `Override preset ${name} with current settings ?`\n      ))\n    ) {\n      return\n    }\n\n    if (!name) {\n      return\n    }\n\n    const data = await this.adapter()\n\n    if (!data) {\n      this.$store.dispatch('app/showNotice', {\n        type: 'error',\n        title: isOverride\n          ? `Canceled preset override`\n          : `Canceled preset creation`\n      })\n\n      return\n    }\n\n    if (data._id) {\n      delete data._id\n    }\n\n    name = this.type + ':' + name\n\n    const now = Date.now()\n    const original = await workspacesService.getPreset(name)\n\n    await workspacesService.savePreset(\n      {\n        name,\n        type: this.type,\n        data,\n        createdAt: original ? original.createdAt : now,\n        updatedAt: original ? now : null\n      },\n      this.type\n    )\n\n    await this.getPresets()\n  }\n\n  async applyDefault() {\n    if (\n      await dialogService.confirm(\n        'Reset ' + this.type + ' to default settings ?'\n      )\n    ) {\n      this.$emit('apply')\n    }\n  }\n\n  async applyPreset(preset: Preset) {\n    this.$emit('apply', preset.data)\n  }\n\n  async handleFile(event: Event) {\n    const file = (event.target as HTMLInputElement).files[0]\n\n    if (!file) {\n      return\n    }\n\n    try {\n      if (await importService.importPreset(file, this.type)) {\n        await this.getPresets()\n      }\n    } catch (error) {\n      this.$store.dispatch('app/showNotice', {\n        title: error.message,\n        type: 'error'\n      })\n    }\n  }\n\n  async deletePreset(preset) {\n    if (await dialogService.confirm('Remove preset \"' + preset.label + '\" ?')) {\n      await workspacesService.removePreset(preset.id)\n      await this.getPresets()\n    }\n  }\n\n  bindPaste() {\n    if (this._pasteHandler) {\n      return\n    }\n\n    this._pasteHandler = this.onPaste.bind(this)\n    document.addEventListener('paste', this._pasteHandler)\n  }\n\n  unbindPaste() {\n    if (!this._pasteHandler) {\n      return\n    }\n\n    document.removeEventListener('paste', this._pasteHandler)\n    this._pasteHandler = null\n  }\n\n  async onPaste(event) {\n    if (document.activeElement) {\n      if (\n        document.activeElement.tagName === 'INPUT' ||\n        document.activeElement.tagName === 'TEXTAREA'\n      ) {\n        return\n      }\n    }\n\n    try {\n      const preset = JSON.parse(event.clipboardData.getData('text/plain'))\n\n      if (!preset.name || !preset.type || !preset.data) {\n        throw new Error('missing name or type or data property')\n      }\n\n      const now = +new Date()\n\n      await workspacesService.savePreset(\n        {\n          name: preset.name,\n          type: preset.type,\n          data: preset.data,\n          createdAt: now,\n          updatedAt: null\n        },\n        this.type\n      )\n\n      await this.getPresets()\n    } catch (error) {\n      this.$store.dispatch('app/showNotice', {\n        type: 'error',\n        title: `Unable to parse preset (paste error)\\n${error.message}`\n      })\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Presets.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Presets.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Presets.vue?vue&type=template&id=4361515a&\"\nimport script from \"./Presets.vue?vue&type=script&lang=ts&\"\nexport * from \"./Presets.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  bind(el) {\n    // When the component of the element gets activated\n    setTimeout(() => {\n      el.focus()\n\n      if (el.tagName === 'INPUT') {\n        el.setSelectionRange(0, el.value.length)\n      }\n    })\n  }\n}\n","import Vue from 'vue'\nimport App from './App.vue'\nimport VueTippy, { TippyComponent } from 'vue-tippy'\nimport './assets/sass/app.scss'\nimport store from './store'\n\nimport Editable from '@/components/framework/Editable.vue'\nimport Dropdown from '@/components/framework/Dropdown.vue'\nimport Presets from '@/components/framework/Presets.vue'\nimport autofocus from '@/directives/autofocusDirective'\n\nimport runtime from 'serviceworker-webpack-plugin/lib/runtime'\n\nif ('serviceWorker' in navigator) {\n  runtime.register()\n}\n\nVue.use(VueTippy, {\n  maxWidth: '200px',\n  duration: 0,\n  arrow: true,\n  animation: 'none',\n  delay: [200, 0],\n  animateFill: false,\n  theme: 'dark'\n})\n\nVue.component('tippy', TippyComponent)\nVue.component('dropdown', Dropdown)\nVue.component('editable', Editable)\nVue.component('presets', Presets)\nVue.directive('autofocus', autofocus)\n\nnew Vue({\n  el: '#app',\n  store,\n  render: h => h(App)\n})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioSettings.vue?vue&type=style&index=0&id=75ae916c&prod&lang=scss&scoped=true&\"","import store from '../store/index'\nimport { Module } from 'vuex'\nimport merge from 'lodash.merge'\nimport { Pane } from '@/store/panes'\nimport panesSettings from '@/store/panesSettings'\nimport workspacesService from '@/services/workspacesService'\n\nconst persistModulesTimers = {}\n\nexport async function syncState(state): Promise<any> {\n  if (typeof state._id === 'undefined') {\n    // unsupported module?\n    return\n  }\n\n  if (typeof persistModulesTimers[state._id] === 'number') {\n    clearTimeout(persistModulesTimers[state._id])\n    delete persistModulesTimers[state._id]\n  }\n\n  console.debug(`[store] saving state ${state._id}`)\n\n  await workspacesService.saveState(state._id, state)\n}\n\nexport function scheduleSync(state): Promise<void> {\n  if (typeof state._id === 'undefined') {\n    // unsupported module?\n    return\n  }\n\n  if (typeof persistModulesTimers[state._id] === 'number') {\n    clearTimeout(persistModulesTimers[state._id])\n  }\n\n  return new Promise<void>(resolve => {\n    persistModulesTimers[state._id] = setTimeout(async () => {\n      await syncState(state)\n\n      resolve()\n    }, 500)\n  })\n}\n\nexport async function mergeStoredState(state: any) {\n  try {\n    const storedState = await workspacesService.getState(state._id)\n\n    if (storedState) {\n      return Object.assign({}, state, storedState)\n    }\n  } catch (error) {\n    console.error(\n      `[store] error retrieving stored state for module ${state._id}`,\n      error\n    )\n    workspacesService.removeState(state._id)\n  }\n\n  return state\n}\n\n/**\n * Prepare pane state if needed\n * Not all panes type have a boot method\n * @param paneId\n */\nexport async function bootPane(paneId, firstTime = false) {\n  console.info(`booting pane ${paneId}`)\n  if ((store as any)._actions[paneId + '/boot']) {\n    try {\n      await store.dispatch(paneId + '/boot', firstTime)\n    } catch (error) {\n      console.error(error)\n    }\n  }\n}\n\nexport async function registerModule(\n  id,\n  module: Module<any, any>,\n  boot?: boolean,\n  pane?: Pane\n) {\n  console.debug(`[store] registering module ${id}`)\n\n  if (pane) {\n    // module is a pane\n    module = {\n      ...panesSettings[pane.type],\n      state: JSON.parse(JSON.stringify(panesSettings[pane.type].state))\n    }\n\n    module.state._id = id\n\n    console.debug(`[store] module created using pane's type \"${pane.type}\"`)\n\n    if (typeof pane.settings === 'object') {\n      if (pane.settings._id) {\n        delete pane.settings._id\n      }\n\n      merge(module.state, pane.settings)\n    }\n  } else {\n    module = { ...module, state: JSON.parse(JSON.stringify(module.state)) }\n  }\n\n  if (typeof module.state._id !== 'undefined') {\n    console.debug(`[store] get stored state for module ${id}`)\n    module.state = await mergeStoredState(module.state)\n  }\n\n  store.registerModule(id, module)\n\n  if (boot && pane) {\n    await bootPane(id, true)\n  }\n\n  if (store.state.app.isBooted) {\n    syncState(module.state)\n  }\n}\n\nexport function waitForStateMutation(getter): Promise<any> {\n  return new Promise(resolve => {\n    const unsubscribe = store.watch(getter, value => {\n      resolve(value)\n      unsubscribe()\n    })\n  })\n}\n\nexport function dumpSettings(): { [id: string]: any } {\n  return JSON.parse(\n    JSON.stringify(\n      Object.keys(store.state).reduce((states, id) => {\n        if (store.state[id]._id) {\n          states[id] = store.state[id]\n        }\n\n        return states\n      }, {})\n    )\n  )\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Dialog',{on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"title\"},[_vm._v(\"Import settings\")])]},proxy:true}])},[_c('div',{staticClass:\"form-group mb16\"},[_c('label',[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.workspace.name),expression:\"workspace.name\"}],staticClass:\"form-control w-100\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.workspace.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.workspace, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"d-flex flex-middle\"},[_c('i',{staticClass:\"icon-info mr16\"}),_c('div',{staticClass:\"mr16\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Version\")]),_c('div',[_vm._v(\"v\"+_vm._s(_vm.workspace.version || 0))])]),_c('div',{staticClass:\"mr16\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Created at\")]),_c('div',[_vm._v(_vm._s(_vm.createdAt)+\" ago\")])]),_c('div',[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Updated at\")]),_c('div',[_vm._v(_vm._s(_vm.updatedAt)+\" ago\")])])]),(_vm.panes.length)?_c('div',{staticClass:\"form-group mt16\"},[_c('label',[_vm._v(\"Panels\")]),_vm._l((_vm.panes),function(pane){return _c('div',{key:pane.id,staticClass:\"column flex-middle\"},[_c('i',{staticClass:\"icon-plus mr8 -small\"}),_c('span',[_vm._v(_vm._s(pane.type.toUpperCase()))]),_c('small',{staticClass:\"ml4\"},[_c('code',[_vm._v(_vm._s(pane.id))])])])})],2):_vm._e(),(_vm.panes.length)?_c('div',{staticClass:\"form-group mt16\"},[_c('label',[_vm._v(\"Markets\")]),_vm._l((_vm.markets),function(market,index){return _c('button',{key:index,staticClass:\"btn -small mr4 mb4\",attrs:{\"type\":\"button\",\"disabled\":\"\"}},[_vm._v(\" \"+_vm._s(market)+\" \")])})],2):_vm._e(),_c('footer',[_c('a',{staticClass:\"btn -text mr8\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.close(false)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn -large -green\",on:{\"click\":function($event){return _vm.close(_vm.workspace)}}},[_vm._v(\" IMPORT \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Dialog from '@/components/framework/Dialog.vue'\nimport DialogMixin from '@/mixins/dialogMixin'\nimport { Workspace } from '@/types/types'\nimport { ago } from '@/utils/helpers'\n\nexport default {\n  props: {\n    workspace: {\n      required: true,\n      type: Object as () => Workspace\n    }\n  },\n  mixins: [DialogMixin],\n  computed: {\n    createdAt() {\n      return ago(this.workspace.createdAt)\n    },\n    updatedAt() {\n      return ago(this.workspace.updatedAt)\n    },\n    panes() {\n      if (this.workspace.states.panes && this.workspace.states.panes.panes) {\n        return Object.keys(this.workspace.states.panes.panes).map(id => ({\n          id,\n          name: this.workspace.states.panes.panes[id].name,\n          type: this.workspace.states.panes.panes[id].type,\n          markets: this.workspace.states.panes.panes[id].markets\n        }))\n      }\n\n      return []\n    },\n    markets() {\n      return this.panes.reduce((markets, pane) => {\n        for (const market of pane.markets) {\n          if (markets.indexOf(market) === -1) {\n            markets.push(market)\n          }\n        }\n\n        return markets\n      }, [])\n    }\n  },\n  components: {\n    Dialog\n  },\n  data: () => ({}),\n  methods: {}\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportConfirmation.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportConfirmation.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImportConfirmation.vue?vue&type=template&id=6edb728b&\"\nimport script from \"./ImportConfirmation.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImportConfirmation.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Preset } from '@/types/types'\nimport dialogService from './dialogService'\nimport workspacesService from './workspacesService'\nimport SettingsImportConfirmation from '../components/settings/ImportConfirmation.vue'\nimport store from '@/store'\nimport { slugify, uniqueName } from '../utils/helpers'\nimport { IndicatorSettings } from '../store/panesSettings/chart'\n\nclass ImportService {\n  getJSON(file: File) {\n    return new Promise<any>((resolve, reject) => {\n      const reader = new FileReader()\n\n      reader.onload = event => {\n        try {\n          const json = JSON.parse(event.target.result as string)\n\n          resolve(json)\n        } catch (error) {\n          reject(error)\n        }\n      }\n\n      reader.readAsText(file)\n    }).catch(() => {\n      throw new Error('Unable to read file')\n    })\n  }\n\n  async importSound(file: File) {\n    if (file.type.indexOf('audio') !== 0) {\n      throw new Error('File must be audio file')\n    }\n\n    let uploadedSound = await workspacesService.getSound(file.name)\n\n    if (uploadedSound) {\n      return\n    }\n\n    uploadedSound = {\n      name: file.name,\n      data: new Blob([file], { type: file.type })\n    }\n\n    await workspacesService.saveSound(uploadedSound)\n\n    store.dispatch('app/showNotice', {\n      title: `Successfully imported sound ${file.name}`,\n      type: 'info'\n    })\n\n    return uploadedSound\n  }\n\n  async importPreset(file: File, presetType?: string) {\n    const preset: Preset = await this.getJSON(file)\n\n    if (!preset.data) {\n      throw new Error('Preset is empty')\n    }\n\n    await workspacesService.savePreset(preset, presetType)\n\n    store.dispatch('app/showNotice', {\n      title: `Successfully imported preset ${preset.name}`,\n      type: 'info'\n    })\n\n    return preset\n  }\n\n  async importWorkspace(file: File) {\n    const workspace = await this.getJSON(file)\n\n    if (!workspace.id || !workspace.name || !workspace.states) {\n      throw new Error('Unrecognized workspace file')\n    }\n\n    if (Object.keys(workspace.states).length === 0) {\n      throw new Error('Workspace seems empty')\n    }\n\n    for (const paneId in workspace.states) {\n      const pane = workspace.states[paneId]\n\n      if (pane.type === 'website') {\n        pane.locked = true\n      }\n    }\n\n    if (\n      (await workspacesService.getWorkspace(workspace.id)) &&\n      !(await dialogService.confirm({\n        message: `Workspace \"${workspace.id}\" already exists`,\n        ok: 'Import anyway',\n        cancel: 'Annuler'\n      }))\n    ) {\n      return\n    }\n\n    if (\n      await dialogService.openAsPromise(SettingsImportConfirmation, {\n        workspace\n      })\n    ) {\n      await workspacesService.addAndSetWorkspace(workspace)\n\n      store.dispatch('app/showNotice', {\n        title: `Successfully imported workspace ${workspace.name}`,\n        type: 'info'\n      })\n\n      return workspace\n    }\n\n    return null\n  }\n\n  async importIndicator(json) {\n    let chartPaneId\n\n    if (\n      store.state.app.focusedPaneId &&\n      store.state.panes.panes[store.state.app.focusedPaneId].type === 'chart'\n    ) {\n      chartPaneId = store.state.app.focusedPaneId\n    } else {\n      for (const id in store.state.panes.panes) {\n        if (store.state.panes.panes[id].type === 'chart') {\n          chartPaneId = id\n          break\n        }\n      }\n    }\n\n    if (!chartPaneId) {\n      throw new Error('No chart found')\n    }\n\n    const ids = await workspacesService.getIndicatorsIds()\n    const name = json.name\n      .split(':')\n      .slice(1)\n      .join(':')\n\n    const id = uniqueName(slugify(name), ids)\n\n    const indicator: IndicatorSettings = {\n      id: id,\n      name: name,\n      script: json.data.script || '',\n      options: json.data.options || {},\n      description: json.data.description || null,\n      unsavedChanges: true\n    }\n\n    store.dispatch(chartPaneId + '/addIndicator', indicator)\n\n    dialogService.openIndicator(chartPaneId, indicator.id)\n  }\n\n  async importAnything(file: File) {\n    if (file.type === 'application/json' || file.type === 'text/plain') {\n      const json = await this.getJSON(file)\n\n      if (json.formatName) {\n        await this.importDatabase(file)\n      } else if (json.type && json.data) {\n        if (json.type === 'indicator' && json.name.split(':').length < 3) {\n          this.importIndicator(json)\n        } else {\n          await this.importPreset(file)\n        }\n      } else {\n        await this.importWorkspace(file)\n      }\n    } else if (/^audio\\//.test(file.type)) {\n      await this.importSound(file)\n    }\n  }\n\n  async importDatabase(file) {\n    if (\n      !(await dialogService.confirm({\n        message: `This action will override ALL your aggr data.`,\n        ok: 'Yes override please',\n        cancel: 'Cancel'\n      })) ||\n      !(await dialogService.confirm({\n        message: `Are you sure ?`,\n        ok: 'Proceed with import',\n        cancel: 'Cancel'\n      }))\n    ) {\n      return\n    }\n\n    ;(await import('dexie')) as any\n    const { importDB } = await import('dexie-export-import')\n\n    const currentWorkspaceId = workspacesService.workspace.id\n\n    await workspacesService.reset()\n\n    let id\n\n    const match = file.name.match(/aggr-(\\w{4})/)\n\n    if (match && match[1]) {\n      id = match[1]\n    }\n\n    await importDB(file)\n\n    setTimeout(() => {\n      if (id) {\n        localStorage.setItem('workspace', id)\n        window.location.href = window.location.href.replace(\n          currentWorkspaceId,\n          ''\n        )\n      } else {\n        window.location.reload()\n      }\n    }, 250)\n  }\n}\n\nexport default new ImportService()\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carousel.vue?vue&type=style&index=0&id=3742e45a&prod&lang=scss&scoped=true&\"","import { getApiUrl, handleFetchError } from '@/utils/helpers'\nimport aggregatorService from './aggregatorService'\nimport workspacesService from './workspacesService'\n\nclass AlertService {\n  private publicVapidKey = process.env.VUE_APP_PUBLIC_VAPID_KEY\n  private pushSubscription: PushSubscription\n  private url: string\n\n  private _promiseOfSync: Promise<void>\n\n  constructor() {\n    this.url = getApiUrl('alert')\n  }\n\n  urlBase64ToUint8Array(base64String) {\n    const padding = '='.repeat((4 - (base64String.length % 4)) % 4)\n    const base64 = (base64String + padding)\n      .replace(/-/g, '+')\n      .replace(/_/g, '/')\n\n    const rawData = window.atob(base64)\n    const outputArray = new Uint8Array(rawData.length)\n\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i)\n    }\n    return outputArray\n  }\n\n  /**\n   * Query database alerts for given markets\n   * Wait for sync to complete before query\n   * @param market\n   * @returns\n   */\n  async getAlerts(market) {\n    if (this._promiseOfSync) {\n      await this._promiseOfSync\n    }\n\n    return workspacesService.getAlerts(market)\n  }\n\n  /**\n   * Update alerts triggered status using pending notifications\n   */\n  async syncTriggeredAlerts() {\n    this._promiseOfSync = new Promise<void>(resolve => {\n      // recover recent triggers\n      navigator.serviceWorker.ready.then(async registration => {\n        await this.markAlertsAsTriggered(\n          (await registration.getNotifications()).map(notification => ({\n            price: notification.data.price,\n            market: notification.data.market\n          }))\n        )\n\n        resolve()\n      })\n    }).then(() => {\n      // subscribe to triggers\n      navigator.serviceWorker.addEventListener('message', event => {\n        this.markAlertsAsTriggered([event.data])\n\n        aggregatorService.emit('alert', event.data)\n      })\n    })\n  }\n\n  async markAlertsAsTriggered(alerts: { price: number; market: string }[]) {\n    const markets = alerts.reduce((acc, { price, market }) => {\n      if (!market || typeof price !== 'number') {\n        return acc\n      }\n\n      if (!acc[market]) {\n        acc[market] = []\n      }\n\n      acc[market].push(price)\n\n      return acc\n    }, {})\n\n    for (const market in markets) {\n      const alerts = await workspacesService.getAlerts(market)\n\n      if (!alerts.length) {\n        continue\n      }\n\n      for (const price of markets[market]) {\n        const alert = alerts.find(a => a.price === price)\n\n        if (alert) {\n          alert.triggered = true\n        }\n      }\n\n      await workspacesService.saveAlerts({\n        market,\n        alerts\n      })\n    }\n  }\n\n  async getPushSubscription() {\n    if (!this.publicVapidKey) {\n      return\n    }\n\n    if (this.pushSubscription) {\n      return this.pushSubscription\n    }\n\n    if ('serviceWorker' in navigator) {\n      const register = await navigator.serviceWorker.getRegistration('sw.js')\n\n      this.pushSubscription = JSON.parse(\n        JSON.stringify(\n          await register.pushManager.subscribe({\n            userVisibleOnly: true,\n            applicationServerKey: this.urlBase64ToUint8Array(\n              this.publicVapidKey\n            )\n          })\n        )\n      )\n    }\n\n    return this.pushSubscription\n  }\n\n  subscribe(market: string, price: number) {\n    return this.toggleAlert(market, price)\n  }\n\n  unsubscribe(market: string, price: number) {\n    return this.toggleAlert(market, price, true)\n  }\n\n  modify(market: string, price: number, newPrice: number) {\n    return this.moveAlert(market, price, newPrice)\n  }\n\n  getPrice(market): Promise<number> {\n    return new Promise(resolve => {\n      aggregatorService.once('prices', marketsStats => {\n        const stats = marketsStats[market]\n\n        if (!stats) {\n          return resolve(null)\n        }\n\n        resolve(marketsStats[market].price)\n      })\n    })\n  }\n\n  async validateAlert(market: string, price: number) {\n    const marketPrice = await this.getPrice(market)\n\n    if (marketPrice) {\n      const percentChangeToAlert = (price / marketPrice - 1) * 100\n\n      if (\n        price < 0 ||\n        percentChangeToAlert > 100 ||\n        percentChangeToAlert < -50\n      ) {\n        console.error(\n          `[alert] price ${price} is too far from market price (${marketPrice})`\n        )\n        return false\n      }\n    }\n\n    return true\n  }\n\n  async toggleAlert(\n    market: string,\n    price: number,\n    unsubscribe?: boolean\n  ): Promise<boolean> {\n    const subscription = await this.getPushSubscription()\n\n    if (!subscription) {\n      return\n    }\n\n    if (!(await this.validateAlert(market, price))) {\n      return\n    }\n\n    const origin = location.href.replace(/#.*/, '')\n\n    return fetch(this.url, {\n      method: 'POST',\n      body: JSON.stringify({\n        ...subscription,\n        origin,\n        market,\n        price,\n        unsubscribe\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(response => response.json())\n      .then(json => {\n        if (json.error) {\n          throw new Error(json.error)\n        }\n\n        return true\n      })\n      .catch(err => {\n        handleFetchError(err)\n\n        return false\n      })\n  }\n\n  async moveAlert(\n    market: string,\n    price: number,\n    newPrice: number\n  ): Promise<boolean> {\n    const subscription = await this.getPushSubscription()\n\n    if (!subscription) {\n      return\n    }\n\n    if (!(await this.validateAlert(market, newPrice))) {\n      return\n    }\n\n    const origin = location.href\n\n    return fetch(this.url, {\n      method: 'POST',\n      body: JSON.stringify({\n        ...subscription,\n        origin,\n        market,\n        price,\n        newPrice\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(response => response.json())\n      .then(json => {\n        if (json.error) {\n          throw new Error(json.error)\n        }\n\n        return true\n      })\n      .catch(err => {\n        handleFetchError(err)\n\n        return false\n      })\n  }\n}\n\nexport default new AlertService()\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDialog.vue?vue&type=style&index=0&id=0fa804ec&prod&lang=scss&\"","export const PALETTE = [\n  '#ffffff',\n  '#D1D4DC',\n  '#B2B5BE',\n  '#9598A1',\n  '#787B86',\n  '#5D606B',\n  '#434651',\n  '#2A2E39',\n  '#131722',\n  '#000000',\n  '#F23645',\n  '#FF9800',\n  '#ffeb3b',\n  '#4caf50',\n  '#089981',\n  '#00bcd4',\n  '#2962FF',\n  '#673ab7',\n  '#9c27b0',\n  '#e91e63',\n  '#FCCBCD',\n  '#FFE0B2',\n  '#FFF9C4',\n  '#C8E6C9',\n  '#ACE5DC',\n  '#B2EBF2',\n  '#BBD9FB',\n  '#D1C4E9',\n  '#E1BEE7',\n  '#F8BBD0',\n  '#FAA1A4',\n  '#FFCC80',\n  '#FFF59D',\n  '#A5D6A7',\n  '#70CCBD',\n  '#80DEEA',\n  '#90BFF9',\n  '#B39DDB',\n  '#CE93D8',\n  '#f48fb1',\n  '#F77C80',\n  '#ffb74d',\n  '#FFF176',\n  '#81c784',\n  '#42BDA8',\n  '#4dd0e1',\n  '#5B9CF6',\n  '#9575cd',\n  '#ba68c8',\n  '#f06292',\n  '#F7525F',\n  '#FFA726',\n  '#ffee58',\n  '#66BB6A',\n  '#22AB94',\n  '#26c6da',\n  '#3179F5',\n  '#7e57c2',\n  '#ab47bc',\n  '#ec407a',\n  '#B22833',\n  '#F57C00',\n  '#fbc02d',\n  '#388e3c',\n  '#056656',\n  '#0097A7',\n  '#1848CC',\n  '#512da8',\n  '#7b1fa2',\n  '#C2185B',\n  '#801922',\n  '#e65100',\n  '#F57F17',\n  '#1B5E20',\n  '#00332A',\n  '#006064',\n  '#0C3299',\n  '#311B92',\n  '#4A148C',\n  '#880E4F'\n]\n\nexport function getColor(except = []) {\n  let color\n\n  while (!color || except.indexOf(color) !== -1) {\n    color = PALETTE[Math.floor(Math.random() * PALETTE.length)]\n  }\n\n  return color\n}\n\nexport function getColorByWeight(a, b, weight) {\n  if (weight > 1) {\n    return b\n  }\n\n  const p = weight\n  const w = p * 2 - 1\n  const w1 = (w / 1 + 1) / 2\n  const w2 = 1 - w1\n  const rgb = [\n    Math.round(b[0] * w1 + a[0] * w2),\n    Math.round(b[1] * w1 + a[1] * w2),\n    Math.round(b[2] * w1 + a[2] * w2)\n  ]\n  return rgb\n}\n\nexport function rgbaToRgb(color, backgroundColor) {\n  const alpha = 1 - color[3]\n\n  color[0] = Math.round(\n    (color[3] * (color[0] / 255) + alpha * (backgroundColor[0] / 255)) * 255\n  )\n  color[1] = Math.round(\n    (color[3] * (color[1] / 255) + alpha * (backgroundColor[1] / 255)) * 255\n  )\n  color[2] = Math.round(\n    (color[3] * (color[2] / 255) + alpha * (backgroundColor[2] / 255)) * 255\n  )\n  color.splice(3, 1)\n\n  return color\n}\n\nexport function rgbToHex(rgb) {\n  return (\n    '#' +\n    ((1 << 24) + (rgb[0] << 16) + (rgb[1] << 8) + rgb[2]).toString(16).slice(1)\n  )\n}\n\nexport function hexToRgb(hex) {\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i\n  hex = hex.replace(shorthandRegex, function(m, r, g, b) {\n    return r + r + g + g + b + b\n  })\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})?$/i.exec(\n    hex\n  )\n  return result\n    ? [\n        parseInt(result[1], 16),\n        parseInt(result[2], 16),\n        parseInt(result[3], 16),\n        parseInt(result[4], 16) || 1\n      ]\n    : null\n}\n\nexport function getColorLuminance(color, backgroundColor?: number[]) {\n  if (typeof color[3] !== 'undefined' && backgroundColor) {\n    color = rgbaToRgb(color, backgroundColor)\n  }\n\n  return (\n    (0.2126 * color[0] + 0.7152 * color[1] + 0.0722 * color[2] - 127.5) / 127.5\n  )\n}\n\nconst colorsByName = {}\n\nexport function getColorByName(name) {\n  if (colorsByName[name]) {\n    return colorsByName[name].slice()\n  }\n\n  const canvas = document.createElement('canvas')\n  canvas.width = canvas.height = 1\n  const ctx = canvas.getContext('2d')\n\n  ctx.clearRect(0, 0, 1, 1)\n  ctx.fillStyle = '#000'\n  ctx.fillStyle = name\n  ctx.fillRect(0, 0, 1, 1)\n\n  const color = ctx.getImageData(0, 0, 1, 1).data\n\n  colorsByName[name] = [color[0], color[1], color[2], color[3] / 255]\n\n  return colorsByName[name]\n}\n\nexport function splitColorCode(string, backgroundColor?: number[]) {\n  if (string[0] === '#') {\n    return hexToRgb(string)\n  } else if (!/^rgb/.test(string) && /^[a-z]+$/i.test(string)) {\n    return getColorByName(string)\n  }\n\n  let match\n  let color\n  try {\n    match = string.match(\n      /rgba?\\((\\d+)[\\s,]*(\\d+)[\\s,]*(\\d+)(?:[\\s,]*([\\d.]+))?\\)/\n    )\n\n    if (!match) {\n      throw new Error()\n    }\n\n    color = [+match[1], +match[2], +match[3]]\n  } catch (error) {\n    console.error(error)\n\n    color = [0, 0, 0]\n  }\n\n  if (match && typeof match[4] !== 'undefined') {\n    color.push(+match[4])\n\n    if (backgroundColor) {\n      color = rgbaToRgb(color, backgroundColor)\n    }\n  }\n\n  return color\n}\n\nexport function joinRgba(color) {\n  const [a, b, c, d] = color\n\n  return (\n    'rgb' + (d ? 'a(' : '(') + a + ',' + b + ',' + c + (d ? ',' + d + ')' : ')')\n  )\n}\n\nexport function getAppBackgroundColor() {\n  const color = getComputedStyle(document.getElementById('app')).backgroundColor\n\n  let output: number[]\n\n  if (color.indexOf('#') !== -1) {\n    output = hexToRgb(color)\n  } else {\n    output = splitColorCode(color)\n  }\n\n  return output\n}\n\nexport function getLogShade(color: [number, number, number], percent: number) {\n  // const sourcergba = joinRgba(color)\n  const luminance = getColorLuminance(color)\n\n  let adjustedPercent = percent\n\n  if (luminance < 0 && luminance > -0.9) {\n    adjustedPercent *= 1 - Math.abs(luminance)\n  }\n\n  /*console.log(\n    `%c [getLogShade] ${sourcergba} ×${adjustedPercent}${\n      adjustedPercent !== percent ? ` (ajusted from ${percent})` : ''\n    } (lum: ${luminance})`,\n    `background: ${sourcergba};`\n  )*/\n\n  adjustedPercent = Math.max(-1, Math.min(1, adjustedPercent))\n  const P = adjustedPercent < 0\n  const t = P ? 0 : adjustedPercent * 255 ** 2\n  const p = P ? 1 + adjustedPercent : 1 - adjustedPercent\n\n  const result =\n    'rgb(' +\n    Math.round((p * color[0] ** 2 + t) ** 0.5) +\n    ',' +\n    Math.round((p * color[1] ** 2 + t) ** 0.5) +\n    ',' +\n    Math.round((p * color[2] ** 2 + t) ** 0.5) +\n    ')'\n\n  // console.log(`%c \\t -> ${result}`, `background: ${result};`)\n\n  return result\n}\nexport function rgbToHsl([r, g, b]) {\n  r /= 255\n  g /= 255\n  b /= 255\n  const max = Math.max(r, g, b),\n    min = Math.min(r, g, b)\n  let h: number\n  let s: number\n  const l = (max + min) / 2\n\n  if (max == min) {\n    h = s = 0 // achromatic\n  } else {\n    const d = max - min\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min)\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0)\n        break\n      case g:\n        h = (b - r) / d + 2\n        break\n      case b:\n        h = (r - g) / d + 4\n        break\n    }\n    h /= 6\n  }\n\n  return [h, s, l]\n}\n\nfunction hslToRgb([h, s, l]) {\n  let r: number\n  let g: number\n  let b: number\n\n  if (s == 0) {\n    r = g = b = l // achromatic\n  } else {\n    // eslint-disable-next-line no-inner-declarations\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1\n      if (t > 1) t -= 1\n      if (t < 1 / 6) return p + (q - p) * 6 * t\n      if (t < 1 / 2) return q\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\n      return p\n    }\n\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s\n    const p = 2 * l - q\n    r = hue2rgb(p, q, h + 1 / 3)\n    g = hue2rgb(p, q, h)\n    b = hue2rgb(p, q, h - 1 / 3)\n  }\n\n  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)]\n}\n\nexport function increaseBrightness(color, percent) {\n  const HSL = rgbToHsl(color)\n  const [r, g, b] = hslToRgb([HSL[0], HSL[1], HSL[2] + HSL[2] * (percent / 100)]) // prettier-ignore\n  return [r, g, b]\n}\n\nexport function getTextColor(backgroundColor, strength = 0.4) {\n  const luminance = getColorLuminance(backgroundColor)\n\n  if (luminance < -0.95) {\n    backgroundColor = [255, 255, 255]\n  }\n\n  const hsl = rgbToHsl(backgroundColor)\n\n  const inverse = luminance > 0.33\n  const luminanceFactor = Math.log(1 + (1 - Math.abs(luminance))) / 2\n  const strengthLog =\n    Math.log(1 + strength + luminanceFactor) * (inverse ? -1.25 : 1)\n  const saturation = Math.min(1, hsl[1] + strengthLog)\n\n  const lightness = Math.max(0.01, Math.min(0.99, hsl[2] + strengthLog))\n\n  const rgb = hslToRgb([hsl[0], saturation, lightness])\n  /* const luminanceIndexedTo1 = (luminance + 1) / 2\n  console.log(\n    `%c [getTextColor] bg:${joinRgba(\n      backgroundColor\n    )} input : ${strength.toFixed(2)} (log : ${strengthLog.toFixed(\n      2\n    )}) : ${luminance.toFixed(2)} luminance (${luminanceIndexedTo1.toFixed(\n      2\n    )} indexed, ${luminanceFactor.toFixed(2)} factor) | ${lightness.toFixed(\n      2\n    )} lightness (was ${hsl[2]}) | ${saturation.toFixed(\n      2\n    )} saturation (was ${hsl[1].toFixed(2)})`,\n    `background: ${joinRgba(backgroundColor)};color:${joinRgba(rgb)}`\n  )*/\n  return rgb\n}\n\nexport function getLinearShare(\n  color: [number, number, number],\n  strength: number,\n  inverse?: boolean\n) {\n  if (typeof inverse === 'undefined') {\n    inverse = strength < 0\n  }\n\n  const hsl = rgbToHsl(color)\n  const luminance = getColorLuminance(color)\n  const luminanceIndexedTo1 = (luminance + 1) / 2\n  const luminanceWithMinimum = 0.1 - Math.max(0.05, luminanceIndexedTo1) * 0.1\n  const luminanceLog = Math.log(1 + luminanceWithMinimum)\n  strength = strength + luminanceLog * (inverse ? -1 : 1)\n\n  const saturation = Math.min(1, hsl[1] * (1 + strength))\n\n  const lightness = Math.max(0.01, Math.min(0.99, hsl[2] + strength))\n\n  return hslToRgb([hsl[0], saturation, lightness])\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(_vm.name ? (_vm.single ? 'transition' : 'transition-group') : 'div',{tag:\"component\",attrs:{\"name\":_vm.name,\"tag\":_vm.tag},on:{\"beforeEnter\":_vm.beforeEnter,\"enter\":_vm.enter,\"afterEnter\":_vm.afterEnter,\"beforeLeave\":_vm.beforeLeave,\"leave\":_vm.leave}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  name: 'Transitionheight',\n  props: {\n    name: {\n      type: String,\n      required: false,\n      default: null\n    },\n    single: {\n      type: Boolean,\n      required: false\n    },\n    tag: {\n      type: String,\n      required: false,\n      default: null\n    }\n  }\n})\nexport default class extends Vue {\n  mounted() {\n    this.$nextTick(() => {\n      const element = this.$el as HTMLElement\n\n      if (element instanceof Element) {\n        element.dataset.height = this.getChildrenHeight(element)\n      }\n    })\n  }\n\n  private getChildrenHeight(element: HTMLElement): string {\n    const children = element.children[0] as HTMLElement\n\n    if (!children) {\n      return 0 + 'px'\n    }\n\n    let height = children.offsetHeight\n\n    const styles = window.getComputedStyle(children)\n    height += parseInt(styles.getPropertyValue('margin-top'))\n    height += parseInt(styles.getPropertyValue('margin-bottom'))\n\n    return height + 'px'\n  }\n\n  beforeEnter(element) {\n    element.style.height = '0px'\n  }\n\n  enter(element) {\n    const height = this.getChildrenHeight(element)\n    element.dataset.height = height\n\n    setTimeout(() => {\n      element.style.height = height\n    }, 100)\n  }\n\n  afterEnter(element) {\n    element.style.height = ''\n  }\n\n  beforeLeave(element) {\n    element.style.height = element.dataset.height\n  }\n\n  leave(element) {\n    setTimeout(() => {\n      element.style.height = '0px'\n    })\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransitionHeight.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransitionHeight.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TransitionHeight.vue?vue&type=template&id=72c05e1a&\"\nimport script from \"./TransitionHeight.vue?vue&type=script&lang=ts&\"\nexport * from \"./TransitionHeight.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}