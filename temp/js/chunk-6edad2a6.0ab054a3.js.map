{"version":3,"sources":["webpack:///./src/mixins/paneDialogMixin.ts","webpack:///./src/components/counters/CountersDialog.vue","webpack:///./src/components/counters/CountersSettings.vue","webpack:///./src/components/counters/CountersSettings.vue?2b5a","webpack:///./src/components/counters/CountersSettings.vue?0d56","webpack:///./src/components/counters/CountersSettings.vue?0c3d","webpack:///src/components/counters/CountersDialog.vue","webpack:///./src/components/counters/CountersDialog.vue?3739","webpack:///./src/components/counters/CountersDialog.vue?dd8f"],"names":["PaneDialogMixin","Vue","this","$store","state","panes","paneId","name","markets","length","pair","parseMarket","type","value","commit","id","dialogService","prompt","action","input","data","close","JSON","parse","stringify","panesSettings","dispatch","workspacesService","getState","Component","props","required","String","render","_vm","_c","_self","staticClass","on","scopedSlots","_u","key","fn","domProps","_s","renamePane","proxy","attrs","staticRenderFns","_setupProxy","directives","rawName","placement","expression","countersCount","$event","target","checked","countersStepsStringified","replaceCounters","liquidationsOnly","_v","count","steps","now","Date","countersSteps","map","a","ago","join","counters","split","trim","test","parseFloat","filter","item","pos","self","indexOf","isNaN","title","default_1","component","components","CountersSettings","mixins","renaming","methods"],"mappings":"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","file":"js/chunk-6edad2a6.0ab054a3.js","sourcesContent":["import dialogService from '@/services/dialogService'\nimport { parseMarket } from '@/services/productsService'\nimport workspacesService from '@/services/workspacesService'\nimport { Pane } from '@/store/panes'\nimport panesSettings from '@/store/panesSettings'\nimport Vue from 'vue'\nimport Component from 'vue-class-component'\n\n@Component({\n  props: {\n    paneId: {\n      required: true,\n      type: String\n    }\n  }\n})\nexport default class PaneDialogMixin extends Vue {\n  paneId: string\n\n  get pane(): Pane {\n    return this.$store.state.panes.panes[this.paneId]\n  }\n\n  get name() {\n    const name = this.$store.state.panes.panes[this.paneId].name\n\n    if (!name) {\n      if (!name && this.$store.state.panes.panes[this.paneId].markets.length) {\n        const [, pair] = parseMarket(\n          this.$store.state.panes.panes[this.paneId].markets[0]\n        )\n        return pair + ' - ' + this.$store.state.panes.panes[this.paneId].type\n      } else {\n        return this.paneId\n      }\n    }\n\n    return name\n  }\n\n  set name(value: string) {\n    this.$store.commit('panes/SET_PANE_NAME', { id: this.paneId, name: value })\n  }\n\n  async renamePane() {\n    const name = await dialogService.prompt({\n      action: 'Rename',\n      input: this.name\n    })\n\n    if (name !== this.name) {\n      this.name = name\n    }\n  }\n\n  async resetPane(data?: any) {\n    await (this as any).close()\n\n    if (!data) {\n      data = JSON.parse(\n        JSON.stringify(\n          panesSettings[this.$store.state.panes.panes[this.paneId].type].state\n        )\n      )\n    }\n\n    await this.$store.dispatch('panes/resetPane', { id: this.paneId, data })\n  }\n\n  async getPreset() {\n    return await workspacesService.getState(this.paneId)\n  }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Dialog',{staticClass:\"pane-dialog\",on:{\"clickOutside\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"title -editable\",domProps:{\"textContent\":_vm._s(_vm.name)},on:{\"dblclick\":_vm.renamePane}}),_c('div',{staticClass:\"column -center\"})]},proxy:true}])},[_c('counters-settings',{attrs:{\"paneId\":_vm.paneId}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"settings-counters\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"form-group -tight\"},[_c('label',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'bottom' }),expression:\"{ placement: 'bottom' }\"}],staticClass:\"checkbox-control checkbox-control-input -auto flex-right\",attrs:{\"title\":\"Sum amount of trades instead of volume\"}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.countersCount},on:{\"change\":function($event){return _vm.$store.commit(_vm.paneId + '/TOGGLE_COUNT', $event.target.checked)}}}),_c('div',{attrs:{\"on\":\"count\",\"off\":\"volume\"}})])]),_c('div',{staticClass:\"form-group -fill\"},[_c('input',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"form-control\",attrs:{\"title\":\"Comma separated list of steps (ex: 1m, 5m, 10m, 15m)\",\"type\":\"string\",\"placeholder\":\"Enter a set of timeframes (ie 1m, 15m)\"},domProps:{\"value\":_vm.countersStepsStringified},on:{\"change\":function($event){return _vm.replaceCounters($event.target.value)}}})])]),_c('div',{staticClass:\"form-group mt8\"},[_c('label',{staticClass:\"checkbox-control -rip checkbox-control-input\",on:{\"change\":function($event){return _vm.$store.commit(\n          _vm.paneId + '/TOGGLE_LIQUIDATIONS_ONLY',\n          $event.target.checked\n        )}}},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.liquidationsOnly}}),_c('div'),_c('span',[_vm._v(\"Only count liquidations\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { ago } from '@/utils/helpers'\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  name: 'CountersSettings',\n  props: {\n    paneId: {\n      type: String,\n      required: true\n    }\n  }\n})\nexport default class extends Vue {\n  paneId: string\n\n  get countersCount() {\n    return this.$store.state[this.paneId].count\n  }\n\n  get countersSteps() {\n    return this.$store.state[this.paneId].steps\n  }\n\n  get liquidationsOnly() {\n    return this.$store.state[this.paneId].liquidationsOnly\n  }\n\n  get countersStepsStringified() {\n    const now = Date.now()\n\n    return this.countersSteps.map(a => ago(now - a)).join(', ')\n  }\n\n  replaceCounters(value) {\n    const counters = value\n      .split(',')\n      .map(a => {\n        a = a.trim()\n\n        if (/[\\d.]+s/.test(a)) {\n          return parseFloat(a) * 1000\n        } else if (/[\\d.]+h/.test(a)) {\n          return parseFloat(a) * 1000 * 60 * 60\n        } else {\n          return parseFloat(a) * 1000 * 60\n        }\n      })\n      .filter(function(item, pos, self) {\n        return self.indexOf(item) == pos\n      })\n\n    if (counters.filter(a => isNaN(a)).length) {\n      this.$store.dispatch('app/showNotice', {\n        type: 'error',\n        title: `Counters (${value}) contains invalid steps.`\n      })\n      return\n    }\n\n    this.$store.commit(this.paneId + '/REPLACE_COUNTERS', counters)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountersSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountersSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CountersSettings.vue?vue&type=template&id=7f8fff46&\"\nimport script from \"./CountersSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./CountersSettings.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <Dialog @clickOutside=\"close\" class=\"pane-dialog\">\n    <template v-slot:header>\n      <div class=\"title -editable\" @dblclick=\"renamePane\" v-text=\"name\"></div>\n      <div class=\"column -center\"></div>\n    </template>\n    <counters-settings :paneId=\"paneId\" />\n  </Dialog>\n</template>\n\n<script>\nimport DialogMixin from '../../mixins/dialogMixin'\nimport PaneDialogMixin from '../../mixins/paneDialogMixin'\nimport CountersSettings from './CountersSettings.vue'\n\nexport default {\n  components: { CountersSettings },\n  mixins: [DialogMixin, PaneDialogMixin],\n  data: () => ({\n    renaming: false\n  }),\n  methods: {}\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountersDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountersDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CountersDialog.vue?vue&type=template&id=6e7c2f54&\"\nimport script from \"./CountersDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./CountersDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}