(function(t){function e(e){for(var o,i,r=e[0],l=e[1],c=e[2],p=0,u=[];p<r.length;p++)i=r[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(u.length)u.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],o=!0,i=1;i<s.length;i++){var r=s[i];0!==n[r]&&(o=!1)}o&&(a.splice(e--,1),t=l(l.s=s[0]))}return t}var o={},i={app:0},n={app:0},a=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-00f8fb9c":"e72c81a7","chunk-3bbacbcd":"5deea3d4","chunk-662f5aef":"c34ac558","chunk-d2fbbe60":"c554081e","chunk-1e0e1a87":"d0da451f","chunk-03130df0":"4e228326","chunk-1d61eeb5":"a17341d5","chunk-1e3ac1a1":"4d720fe4","chunk-2d0cc844":"3183866d","chunk-3a77d76f":"f83cb0e8","chunk-3c639b53":"9ddd8c71","chunk-5c268662":"1384ff03","chunk-73666f02":"3b6892f1","chunk-10024d20":"68b4f063","chunk-ebc5e646":"e1e7a10e","chunk-48f0107b":"dc0cf54d","chunk-2f4fd947":"cfe5b6d9","chunk-6edad2a6":"0ab054a3","chunk-653050d6":"52231507"}[t]+".js"}function l(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(t){var e=[],s={"chunk-3bbacbcd":1,"chunk-662f5aef":1,"chunk-1e0e1a87":1,"chunk-03130df0":1,"chunk-1d61eeb5":1,"chunk-1e3ac1a1":1,"chunk-3a77d76f":1,"chunk-3c639b53":1,"chunk-5c268662":1,"chunk-ebc5e646":1,"chunk-48f0107b":1};i[t]?e.push(i[t]):0!==i[t]&&s[t]&&e.push(i[t]=new Promise((function(e,s){for(var o="css/"+({}[t]||t)+"."+{"chunk-00f8fb9c":"31d6cfe0","chunk-3bbacbcd":"058181ef","chunk-662f5aef":"3a3e7136","chunk-d2fbbe60":"31d6cfe0","chunk-1e0e1a87":"22f03d2a","chunk-03130df0":"8dbd7c45","chunk-1d61eeb5":"6dc9840e","chunk-1e3ac1a1":"dbf034c7","chunk-2d0cc844":"31d6cfe0","chunk-3a77d76f":"5cdb843c","chunk-3c639b53":"8f814b58","chunk-5c268662":"a5e77379","chunk-73666f02":"31d6cfe0","chunk-10024d20":"31d6cfe0","chunk-ebc5e646":"903252b6","chunk-48f0107b":"52743c60","chunk-2f4fd947":"31d6cfe0","chunk-6edad2a6":"31d6cfe0","chunk-653050d6":"31d6cfe0"}[t]+".css",n=l.p+o,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var c=a[r],p=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(p===o||p===n))return e()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){c=u[r],p=c.getAttribute("data-href");if(p===o||p===n)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||n,a=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete i[t],d.parentNode.removeChild(d),s(a)},d.href=n;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){i[t]=0})));var o=n[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise((function(e,s){o=n[t]=[e,s]}));e.push(o[2]=a);var c,p=document.createElement("script");p.charset="utf-8",p.timeout=120,l.nc&&p.setAttribute("nonce",l.nc),p.src=r(t);var u=new Error;c=function(e){p.onerror=p.onload=null,clearTimeout(d);var s=n[t];if(0!==s){if(s){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,s[1](u)}n[t]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:p})}),12e4);p.onerror=p.onload=c,document.head.appendChild(p)}return Promise.all(e)},l.m=t,l.c=o,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(s,o,function(e){return t[e]}.bind(null,o));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],p=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=p;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("cd49")},"01ad":function(t,e,s){},"0613":function(t,e,s){"use strict";s.d(e,"a",(function(){return ut}));var o=s("2b0e"),i=s("2f62"),n=s("d951"),a=s("0c01"),r=s("28f3"),l=function(){var t=this,e=t._self._c;return e("Dialog",{staticClass:"-sticky-footer -mobile-fs -internal-scroll -auto",class:[t.loading&&"-loading"],on:{clickOutside:t.hide},scopedSlots:t._u([{key:"header",fn:function(){return[t.paneId?e("div",[e("div",{staticClass:"title"},[t._v("ADD/REMOVE SOURCES")]),e("div",{staticClass:"subtitle",staticStyle:{opacity:"1"}},[t._v(" to "),e("span",{staticClass:"text-success",domProps:{textContent:t._s(t.paneName)}}),t._v(" pane "),e("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -small ml4 -text",attrs:{type:"button",title:"Target all instead"},on:{click:t.detargetPane}},[e("i",{staticClass:"icon-cross"})])])]):e("div",[e("div",{staticClass:"title"},[t._v("REPLACE SOURCES")]),e("div",{staticClass:"subtitle"},[t._v("across all panes")])]),e("div",{staticClass:"column -center"})]},proxy:!0}])},[e("div",{staticClass:"search"},[e("div",{staticClass:"search__side hide-scrollbar",class:{"-show":t.mobileShowFilters}},[e("section",{staticClass:"section"},[t.sections.indexOf("extras")>-1?e("div",{staticClass:"section__content"},[e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.normalize},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","normalize")}}}),e("div"),e("span",[t._v("Group by pair")])]),e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.mergeUsdt},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","mergeUsdt")}}}),e("div"),e("span",[t._v("Merge stablecoins")])]),e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.historical},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","historical")}}}),e("div"),e("span",[t._v("With historical data")])]),e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.recent},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","recent")}}}),e("div"),e("span",[t._v("Show recents")])])]):t._e(),e("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_PANEL","extras")}}},[t._v(" Extras "),e("i",{staticClass:"icon-up-thin"})])]),e("section",{staticClass:"section"},[t.sections.indexOf("exchanges")>-1?e("div",{staticClass:"section__content"},[e("label",{staticClass:"section__controls checkbox-control -small mb4 flex-right"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.allExchangesEnabled},on:{change:t.toggleAll}}),e("div")]),t._l(t.exchanges,(function(s){return[t.$store.state.exchanges[s].disabled?t._e():e("label",{key:s,staticClass:"checkbox-control -small mb4 -custom hide-scrollbar"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:!1!==t.searchExchanges[s]},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_EXCHANGE",s)}}}),e("div",{class:"icon-"+s}),e("span",[e("span",{domProps:{textContent:t._s(s)}}),t.canRefreshProducts?e("a",{directives:[{name:"tippy",rawName:"v-tippy",value:{boundary:"window",placement:"left"},expression:"{ boundary: 'window', placement: 'left' }"}],staticClass:"-text",attrs:{href:"javascript:void(0);",title:`Refresh ${s}'s products`},on:{click:function(e){return e.stopPropagation(),t.refreshExchangeProducts(s)}}},[e("i",{staticClass:"icon-refresh ml8 mr8"})]):t._e()])])]}))],2):t._e(),e("div",{staticClass:"section__title text-muted mb8",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_PANEL","exchanges")}}},[t._v(" Exchanges "),t.canRefreshProducts?e("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"refresh-all -text",attrs:{href:"javascript:void(0);",title:"Refresh all exchange's products"},on:{click:function(e){return e.stopPropagation(),t.refreshExchangeProducts()}}},[e("i",{staticClass:"icon-refresh ml8 mr8"})]):t._e(),e("i",{staticClass:"icon-up-thin"})])]),e("section",{staticClass:"section mb16"},[t.sections.indexOf("types")>-1?e("div",{staticClass:"section__content"},[e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.spots},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","spots")}}}),e("div"),e("span",[t._v("Spots")])]),e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.perpetuals},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","perpetuals")}}}),e("div"),e("span",[t._v("Perpetuals")])]),e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.futures},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","futures")}}}),e("div"),e("span",[t._v("Futures")])])]):t._e(),e("div",{staticClass:"section__title text-muted mb8",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_PANEL","types")}}},[t._v(" Type "),e("i",{staticClass:"icon-up-thin"})])]),e("section",{staticClass:"section"},[t.sections.indexOf("quotes")>-1?e("div",{staticClass:"section__content"},t._l(t.quoteCurrencies,(function(s){return e("label",{key:s,staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:!0===t.searchQuotes[s]||void 0===t.searchQuotes[s]},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_QUOTE",{key:s,value:e.target.checked})}}}),e("div"),e("span",[t._v(t._s(s))])])})),0):t._e(),e("div",{staticClass:"section__title text-muted mb8",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_PANEL","quotes")}}},[t._v(" Quote currency "),e("i",{staticClass:"icon-up-thin"})])])]),e("div",{staticClass:"search__wrapper hide-scrollbar"},[e("div",{ref:"selection",staticClass:"search-selection search__tags form-control",class:t.groupsCount<10&&"-sticky",on:{click:function(e){return t.$refs.input.focus()}}},[t.selection.length?e("div",{staticClass:"search-selection__controls"},[e("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{boundary:"window",placement:"bottom"},expression:"{ boundary: 'window', placement: 'bottom' }"}],staticClass:"btn -text",attrs:{title:"Toggle grouping"},on:{click:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","normalize")}}},[e("i",{staticClass:"icon-merge"})]),e("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{boundary:"window",placement:"bottom"},expression:"{ boundary: 'window', placement: 'bottom' }"}],staticClass:"btn -text",attrs:{title:"Clear"},on:{click:t.clearSelection}},[e("i",{staticClass:"icon-eraser"})])]):t._e(),t.searchTypes.normalize?t._l(t.groupedSelection,(function(s,o){return e("button",{key:o,staticClass:"btn -pill",attrs:{title:"Click to remove "+s.join(", ")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deselectWhileRetainingScroll(s)}}},[s.length>1?e("span",{staticClass:"badge -compact ml8",domProps:{textContent:t._s(s.length)}}):t._e(),e("span",{domProps:{textContent:t._s(o)}})])})):t._l(t.selection,(function(s){return e("button",{key:s,staticClass:"btn",class:{"-green":-1!==t.activeMarkets.indexOf(s)},attrs:{title:"Click to remove"},domProps:{textContent:t._s(s)},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deselectWhileRetainingScroll(s)}}})})),e("input",{ref:"input",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.query},on:{input:function(e){t.page=0,t.query=e.target.value}}})],2),e("div",{staticClass:"search__results"},[t.searchTypes.recent&&t.previousSearchSelections.length?e("div",{staticClass:"search-recent-searches"},[e("carousel",{staticClass:"search__tags"},t._l(t.previousSearchSelections,(function(s){return e("button",{key:s.label,staticClass:"btn -pill -small",attrs:{title:s.markets.join(", ")},on:{click:function(e){return t.selectMarkets(s.markets,e.shiftKey)}}},[s.count>1?e("span",{staticClass:"badge -invert ml8",domProps:{textContent:t._s(s.markets.length)}}):t._e(),e("span",[t._v(t._s(s.label))])])})),0),e("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -outline search-history__clear",attrs:{title:"Clear recent searches<br><i>💡 SHIFT+CLIC to delete 1 item</i>"}},[e("i",{staticClass:"icon-trash -small",on:{click:function(e){return t.$store.commit("settings/CLEAR_SEARCH_HISTORY")}}})])],1):t._e(),t.results.length?[t.page>0?e("div",{staticClass:"d-flex mt8"},[e("button",{staticClass:"btn -text mlauto switch-page",on:{click:t.showLess}},[t._v(" ... go page "+t._s(t.page)+" ")])]):t._e(),t.searchTypes.normalize?e("table",{staticClass:"table mt8"},[e("tbody",t._l(t.results,(function(s,o){return e("tr",{key:s.localPair,staticClass:"-action",class:{active:t.activeIndex===o},on:{click:function(e){return t.selectMarkets(s.markets)}}},[e("td",{domProps:{textContent:t._s(s.localPair)}}),e("td",[e("small",{domProps:{textContent:t._s(s.markets.join(", "))}})])])})),0)]):e("table",{staticClass:"table mt8"},[e("tbody",t._l(t.results,(function(s,o){return e("tr",{key:s.id,staticClass:"-action",class:{active:t.activeIndex===o},on:{click:function(e){return t.selectMarket(s.id)}}},[e("td",{staticClass:"icon search__exchange text-center",class:"icon-"+s.exchange}),e("td",{domProps:{textContent:t._s(s.exchange)}}),e("td",{domProps:{textContent:t._s(s.pair)}}),e("td",{domProps:{textContent:t._s(s.type)}}),e("td",{staticClass:"text-center"},[-1!==t.historicalMarkets.indexOf(s.id)?e("i",{staticClass:"icon-candlestick",attrs:{title:"historical data available for this market"}}):t._e()])])})),0)]),e("div",{staticClass:"mt8 d-flex"},[e("button",{staticClass:"btn -text",on:{click:t.addAll}},[e("i",{staticClass:"icon-plus mr8"}),t._v(" add all of the above ")]),t.results.length===t.resultsPerPage?e("button",{staticClass:"btn -text mlauto switch-page",on:{click:t.showMore}},[t._v(" go page "+t._s(t.page+2)+" ... ")]):t._e()])]:t.query.length?e("p",{staticClass:"mb0 pb0"},[e("span",{staticClass:"text-muted"},[t._v('No results found for "'+t._s(t.query)+'".')]),e("br"),t.hasFilters||!t.allExchangesEnabled?e("button",{staticClass:"btn -cases -text",on:{click:t.clearFilters}},[e("i",{staticClass:"icon-refresh"}),t._v(" Retry without filters ")]):t._e()]):t._e()],2)])]),e("footer",[e("a",{staticClass:"btn -text mrauto search__side-toggle",attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(t.mobileShowFilters?"Hide filters":"Show filters")},on:{click:function(e){t.mobileShowFilters=!t.mobileShowFilters}}}),e("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},on:{click:t.hide}},[t._v("Cancel")]),e("button",{staticClass:"btn -large ml8 -green",class:t.loading&&"-loading",on:{click:t.submit}},[t._v(" "+t._s(t.submitLabel)+" "),t.loading?e("div",{staticClass:"lds-spinner -center"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")]):t._e()])])])},c=[],p=s("7250"),u=s("1ea0"),d=s("be31"),h=s("06c2"),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"carousel",class:[t.canRight&&"carousel--can-right",t.canLeft&&"carousel--can-left"]},[e("div",{ref:"scroller",staticClass:"carousel__wrapper",on:{scroll:t.onScroll}},[e("vnodes",{attrs:{vnodes:this.$slots.default}})],1)])},g=[],f={name:"Carousel",components:{Vnodes:{functional:!0,render:(t,e)=>e.props.vnodes}},data:()=>({canRight:!1,canLeft:!1}),mounted(){this.$nextTick().then(()=>this.onScroll())},methods:{onScroll(){const{scrollWidth:t,scrollLeft:e,clientWidth:s}=this.$refs.scroller;this.canLeft=e>0,this.canRight=e<t-s},goLeft(){const t=this.$refs.scroller;t.scroll({left:Math.max(0,t.scrollLeft-t.clientWidth),behavior:"smooth"})},goRight(){const t=this.$refs.scroller,{scrollWidth:e,scrollLeft:s,clientWidth:o}=t,i=t.scrollLeft+t.clientWidth,n=e-o;Math.ceil(s)<n&&t.scroll({left:Math.min(n,i),behavior:"smooth"})}}},b=f,C=(s("ea82"),s("2877")),v=Object(C["a"])(b,m,g,!1,null,"3742e45a",null),y=v.exports;const w=25;var _={mixins:[u["a"]],components:{Dialog:p["a"],Carousel:y},props:{paneId:{required:!1}},data:()=>({page:0,query:"",markets:[],loading:!1,selection:[],originalSelection:[],activeIndex:null,mobileShowFilters:!1,canRefreshProducts:!0,flattenedProducts:[],quoteCurrencies:["USD","USDT","UST","USDC","BUSD","ETH","BTC","BNB","EUR","AUD","GBP","OTHERS"]}),computed:{sections(){return this.$store.state.settings.searchSections},previousSearchSelections(){return this.$store.state.settings.previousSearchSelections},resultsPerPage(){return w},otherPanes(){return Object.keys(this.$store.state.panes.panes).filter(t=>t!==this.paneId).map(t=>this.$store.state.panes.panes[t])},paneName(){return this.paneId?this.$store.state.panes.panes[this.paneId].name||this.paneId:null},activeMarkets(){return Object.keys(this.$store.state.panes.marketsListeners)},paneMarkets(){return this.paneId?this.$store.state.panes.panes[this.paneId].markets:[]},toConnect(){return this.paneId?this.selection.filter(t=>-1===this.paneMarkets.indexOf(t)).length:this.selection.filter(t=>-1===this.activeMarkets.indexOf(t)).length},toDisconnect(){return this.originalSelection.filter(t=>-1===this.selection.indexOf(t)).length},submitLabel(){const t=+this.toConnect,e=+this.toDisconnect;let s="";return t&&(s+=`connect${this.loading?"ing":""} ${t}`),e&&(s+=`${t?" and ":""}disconnect${this.loading?"ing":""} ${e}`),s||"REFRESH"},searchTypes(){return this.$store.state.settings.searchTypes},searchQuotes(){const t=this.$store.state.settings.searchQuotes;return this.quoteCurrencies.reduce((e,s)=>(e[s]="undefined"!==typeof t[s]&&t[s],e),{})},allQuotes(){return!Object.values(this.searchQuotes).find(t=>!!t)},exchanges(){return this.$store.getters["exchanges/getExchanges"]},searchExchanges(){const t=this.$store.state.settings.searchExchanges;return Object.keys(this.$store.state.exchanges).reduce((e,s)=>(this.$store.state.exchanges[s].disabled||(e[s]="undefined"===typeof t[s]||t[s]),e),{})},allExchangesEnabled(){return"undefined"===typeof Object.values(this.searchExchanges).find(t=>!1===t)},hasFilters(){const t=this.searchTypes.historical,e=this.searchTypes.spots,s=this.searchTypes.perpetuals,o=this.searchTypes.futures,i=this.searchTypes.mergeUsdt;return i||t||e||s||o},historicalMarkets(){return this.$store.state.app.historicalMarkets},queryFilter:function(){const t=this.query.replace(/[ ,]/g,"|").replace(/(^|\w|\s)\*(\w|\s|$)/g,"$1.*$2");return this.searchTypes.normalize?new RegExp("^"+t,"i"):new RegExp(t,"i")},filteredProducts(){const t=this.searchTypes.historical,e=this.searchTypes.spots,s=this.searchTypes.perpetuals,o=this.searchTypes.futures,i=this.searchExchanges,n=e||s||o,a=this.searchQuotes,r=this.allQuotes;return this.page=0,this.flattenedProducts.filter(l=>(!t||-1!==this.historicalMarkets.indexOf(l.id))&&(!(!r&&("boolean"===typeof a[l.quote]&&!1===a[l.quote]||"boolean"!==typeof a[l.quote]&&!a.OTHERS))&&(!!i[l.exchange]&&(!n||!(!o&&"future"===l.type||!s&&"perp"===l.type||!e&&"spot"===l.type)))))},results:function(){const t=this.page*w;if(this.searchTypes.normalize){const e=this.filteredProducts.filter(t=>-1===this.selection.indexOf(t.id)&&this.queryFilter.test(t.local)).reduce((t,e)=>{let s=e.local;return this.searchTypes.mergeUsdt&&(s=Object(h["o"])(s)),t[s]||(t[s]=[]),t[s].push(e.id),t},{});return Object.keys(e).slice(t,t+w).map(t=>({localPair:t,markets:e[t]}))}return this.filteredProducts.filter(t=>-1===this.selection.indexOf(t.id)&&this.queryFilter.test(t.id)).slice(t,t+w)},groupedSelection:function(){return this.selection.reduce((t,e)=>{const[s]=e.split(":");if(!h["k"][s])return t;const o=h["k"][s].find(t=>t.id===e);let i=o?o.local:e;return this.searchTypes.mergeUsdt&&(i=Object(h["o"])(i)),t[i]||(t[i]=[]),t[i].push(e),t},{})},groupsCount(){return Object.keys(this.groupedSelection).length}},watch:{"$store.state.app.showSearch":function(t){t||this.close(!1)}},async created(){await Object(h["b"])(),this.initSelection(),this.cacheProducts()},mounted(){this.$nextTick(()=>{this.$refs.input&&this.$refs.input.focus()}),document.addEventListener("paste",this.onPaste),document.addEventListener("keydown",this.onKeydown)},beforeDestroy(){document.removeEventListener("paste",this.onPaste),document.removeEventListener("keydown",this.onKeydown),this._hideHistoryTimeout&&clearTimeout(this._hideHistoryTimeout)},methods:{detargetPane(){this.$store.commit("app/SET_FOCUSED_PANE",null),this.paneId=null,this.initSelection()},initSelection(){this.paneId?this.selection=this.$store.state.panes.panes[this.paneId].markets.slice():this.selection=this.activeMarkets.slice(),this.originalSelection=this.selection.slice()},containMultipleMarketsConfigurations(){return Object.keys(this.$store.state.panes.panes).map(t=>Object(r["k"])(this.$store.state.panes.panes[t].markets)).filter((t,e,s)=>s.indexOf(t)===e).length>1},selectPaneMarkets(t){const e=this.otherPanes[t];for(let s=0;s<e.markets.length;s++)-1===this.selection.indexOf(e.markets[s])&&this.selection.push(e.markets[s])},selectMarket(t){this.selection.push(t)},selectMarkets(t,e){if(e)return this.$store.commit("settings/REMOVE_SEARCH_HISTORY",t),void clearTimeout(this._hideHistoryTimeout);const s=t.filter(t=>-1===this.selection.indexOf(t));s.length?this.selection=this.selection.concat(s):this.$store.dispatch("app/showNotice",{id:"select-market-already-added",title:`You already selected ${t.length>1?"these markets":t[0]} !`,type:"error"})},async deselectWhileRetainingScroll(t){const e=this.$refs.selection.scrollTop;Array.isArray(t)?this.deselectMarkets(t):this.deselectMarket(t),await this.$nextTick(),this.$refs.input.focus(),this.$refs.selection.scrollTop=e},deselectMarket(t){this.selection.splice(this.selection.indexOf(t),1)},deselectMarkets(t){for(const e of t)this.deselectMarket(e)},async submit(){if(this.selection.length&&this.$store.dispatch("settings/saveSearchSelection",this.selection),this.paneId)this.loading=!0,await this.$store.dispatch("panes/setMarketsForPane",{id:this.paneId,markets:this.selection});else{if(this.containMultipleMarketsConfigurations()&&!await a["a"].confirm("Are you sure ? Some of the panes are watching specific markets."))return;this.loading=!0,Object.keys(this.$store.state.panes.panes).length||await this.$store.dispatch("panes/addPane",{type:"trades"}),await this.$store.dispatch("panes/setMarketsForAll",this.selection)}this.loading=!1,this.hide()},hide(){this.$store.dispatch("app/hideSearch")},toggleType(t){this.$store.commit("settings/TOGGLE_SEARCH_TYPE",t)},toggleExchange(t){this.$store.commit("settings/TOGGLE_SEARCH_EXCHANGE",t)},clearSelection(){this.selection.splice(0,this.selection.length),this.query="",this.$refs.input.focus()},copySelection(){Object(r["d"])(this.selection.join(",")),this.$store.dispatch("app/showNotice",{id:"products-clipboard",title:`Copied ${this.selection.length} product(s) to clipboard`})},clearFilters(){this.$store.commit("settings/CLEAR_SEARCH_FILTERS"),this.toggleAll(!0)},onPaste(t){if(document.activeElement&&"INPUT"===document.activeElement.tagName)return;const e=t.clipboardData.getData("text/plain"),s=e.split(",").filter(t=>/^.{3,}:.{4,32}$/.test(t));s.length&&(this.selection=s)},onKeydown(t){switch(t.key){case"Enter":t.preventDefault(),this.results[this.activeIndex]&&(this.searchTypes.normalize?this.selectMarkets(this.results[this.activeIndex].markets):this.selectMarket(this.results[this.activeIndex].id));break;case"ArrowDown":case"ArrowUp":this.results.length&&("ArrowUp"===t.key?this.activeIndex=Math.max(0,this.activeIndex-1):null===this.activeIndex?this.activeIndex=0:this.activeIndex=Math.min(this.results.length-1,this.activeIndex+1));break;case"Backspace":case"Delete":this.deleteLast();break;case"c":!t.ctrlKey&&!t.metaKey||window.getSelection().toString().length||this.copySelection();break}},deleteLast(){if(!this.query.length&&this.selection.length)if(this.searchTypes.normalize){const t=Object.keys(this.groupedSelection).pop();this.deselectMarkets(this.groupedSelection[t])}else this.selection.splice(this.selection.length-1,1)},addAll(){const t=this.searchTypes.normalize,e=[];for(let s=0;s<this.results.length;s++)if(t)for(const t of this.results[s].markets)e.push(t);else e.push(this.results[s].id);this.selectMarkets(e)},toggleAll(t){"boolean"!==typeof t&&(t=Boolean(!this.allExchangesEnabled)),this.$set(this.$store.state.settings,"searchExchanges",this.exchanges.reduce((e,s)=>(e[s]=!!t,e),{}))},async refreshExchangeProducts(t){if(!t){if(await a["a"].confirm("Download all exchange's products ?\n\nThis might take a while."))for(const t of this.exchanges)await this.refreshExchangeProducts(t);return}this._refreshProductsTimeout&&clearTimeout(this._refreshProductsTimeout),this.canRefreshProducts=!1,this.$store.dispatch("app/showNotice",{id:t,title:`Refreshing ${t}'s products...`}),await d["a"].deleteProducts(t);const e=(await Object(h["j"])(t,await Object(h["g"])(t,!0))).length;this.$store.dispatch("app/showNotice",{id:t,title:`Saved ${e} ${t}'s products`}),await this.$store.dispatch("exchanges/disconnect",t),await this.$store.dispatch("exchanges/connect",t),this._refreshProductsTimeout=setTimeout(()=>{this._refreshProductsTimeout=null,this.canRefreshProducts=!0},1e4),this.cacheProducts()},showMore(){this.page++},showLess(){this.page=Math.max(this.page-1,0)},cacheProducts(){this.flattenedProducts=Array.prototype.concat(...Object.values(h["k"]))}}},k=_,T=(s("91bc"),Object(C["a"])(k,l,c,!1,null,"cf96adc4",null)),S=T.exports,E=function(){var t=this,e=t._self._c;return e("Dialog",{staticClass:"-timeframe",on:{clickOutside:t.hide},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",[e("div",{staticClass:"title"},[t._v("Timeframe")]),e("div",{staticClass:"subtitle pl0",domProps:{textContent:t._s(t.paneName)}})]),e("div",{staticClass:"column -center"})]},proxy:!0}])},[e("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("div",{staticClass:"text-center"},[e("timeframe-input",{staticClass:"form-control w-100",attrs:{placeholder:t.placeholder},on:{input:t.onTimeframe,submit:t.submit}})],1),e("div",{staticClass:"timeframe-for-human"},[t.valid?e("code",{staticClass:"text-muted",domProps:{textContent:t._s("= "+t.timeframeForHuman)}}):e("code",{staticClass:"form-feedback"},[t._v("Unknown timeframe")])]),e("footer",[e("button",{staticClass:"btn -green ml8 -large",attrs:{type:"submit"}},[t._v("Go")])])])])},O=[],A=s("a0a8"),x={components:{TimeframeInput:A["a"]},props:{timeframe:{type:String}},mixins:[u["a"]],data:()=>({newTimeframe:"",paneId:null}),computed:{paneName(){return this.$store.state.panes.panes[this.paneId].name||this.paneId},timeframeForHuman(){return Object(r["p"])(this.newTimeframe)},valid(){return null!==this.timeframeForHuman}},watch:{"$store.state.app.showSearch":function(t){t||this.close(!1)}},created(){this.paneId=this.$store.state.app.focusedPaneId,this.timeframe&&(this.newTimeframe=this.timeframe),this.placeholder=this.$store.state[this.paneId].timeframe},methods:{hide(){this.$store.dispatch("app/hideSearch")},onTimeframe({value:t}){this.newTimeframe=t},submit(){this.valid&&(this.$store.commit(this.paneId+"/SET_TIMEFRAME",this.newTimeframe),this.hide())}}},P=x,I=(s("8bd5"),Object(C["a"])(P,E,O,!1,null,null,null)),D=I.exports;const L={isBooted:!1,isLoading:!1,isExchangesReady:!1,showSearch:!1,activeExchanges:{},notices:[],historicalMarkets:[],apiSupportedTimeframes:[],version:"DEV",buildDate:"now",baseCurrency:"coin",baseCurrencySymbol:"฿",quoteCurrency:"dollar",quoteCurrencySymbol:"$",focusedPaneId:null},R={async boot({commit:t,dispatch:e}){await e("getApiSupportedPairs"),t("SET_API_SUPPORTED_TIMEFRAMES",""),t("SET_VERSION","3.2.0"),t("SET_BUILD_DATE","21 sep")},setBooted({commit:t},e=!0){t("SET_BOOTED",e)},async showNotice({commit:t,getters:e},s){if("string"===typeof s&&(s={title:s}),s.id&&e.getNoticeById(s.id)){if(s.update)return this.dispatch("app/updateNotice",s);try{await this.dispatch("app/hideNotice",s.id)}catch(o){return}}s.id||(s.id=Object(r["v"])()),"undefined"===typeof s.timeout&&(s.timeout="error"===s.type?1e4:3e3),s.timeout>0&&(s._timeout=setTimeout(()=>{delete s._timeout,this.dispatch("app/hideNotice",s.id)},s.timeout)),t("CREATE_NOTICE",s)},hideNotice({commit:t,getters:e},s){const o=e.getNoticeById(s);return o?(o._timeout&&clearTimeout(o._timeout),o._reject&&o._reject(),new Promise((e,s)=>{o._reject=s,o._timeout=setTimeout(()=>{t("REMOVE_NOTICE",o),delete o._reject,delete o._timeout,e()},100)})):Promise.resolve()},updateNotice({commit:t,getters:e,state:s},o){const i=e.getNoticeById(o.id),n=s.notices.indexOf(i);if(!i||-1===n)return Promise.resolve();t("UPDATE_NOTICE",{index:n,notice:o})},showSearch({commit:t,state:e},s){e.showSearch||(t("TOGGLE_SEARCH",!0),"undefined"===typeof s&&e.focusedPaneId&&(s=e.focusedPaneId),a["a"].open(S,{paneId:s}))},showTimeframe({commit:t,state:e,rootState:s}){!e.showSearch&&e.focusedPaneId&&s[e.focusedPaneId]&&(t("TOGGLE_SEARCH",!0),a["a"].open(D))},hideSearch({commit:t,state:e}){e.showSearch&&t("TOGGLE_SEARCH",!1)},async getApiSupportedPairs({commit:t}){const e=await Object(h["f"])();t("SET_HISTORICAL_MARKETS",e)}},B={SET_BOOTED:(t,e)=>{t.isBooted=e},SET_EXCHANGES_READY(t){t.isExchangesReady=!0},EXCHANGE_UPDATED(t,e){o["default"].set(t.activeExchanges,e,!this.state.exchanges[e].disabled)},TOGGLE_LOADING(t,e){t.isLoading=!!e},CREATE_NOTICE(t,e){t.notices.push(e)},UPDATE_NOTICE(t,{index:e,notice:s}){o["default"].set(t.notices,e,s)},REMOVE_NOTICE(t,e){const s=t.notices.indexOf(e);-1!==s&&t.notices.splice(s,1)},TOGGLE_SEARCH(t,e){t.showSearch="boolean"===typeof e?e:!t.showSearch},SET_HISTORICAL_MARKETS(t,e){t.historicalMarkets=e},SET_API_SUPPORTED_TIMEFRAMES(t,e){e&&e.trim()?t.apiSupportedTimeframes=e.split(","):t.apiSupportedTimeframes=[]},SET_VERSION(t,e){t.version=e},SET_BUILD_DATE(t,e){t.buildDate=e},SET_CURRENCIES(t,e){t.baseCurrency=e.base,t.baseCurrencySymbol=e.baseSymbol,t.quoteCurrency=e.quote,t.quoteCurrencySymbol=e.quoteSymbol},SET_FOCUSED_PANE(t,e){t.focusedPaneId=e}},M={getNoticeById:t=>e=>{for(let s=0;s<t.notices.length;s++)if(t.notices[s].id===e)return t.notices[s]}};var N={namespaced:!0,state:L,getters:M,actions:R,mutations:B},$=s("3e57"),U=s("fa07"),j=s("a914"),G=s("4902"),F=s("8766");const H=Object.assign({_id:"settings"},$),q={async boot({state:t,dispatch:e}){j["a"].dispatch({op:"configureAggregator",data:{key:"calculateSlippage",value:t.calculateSlippage}}),j["a"].dispatch({op:"configureAggregator",data:{key:"aggregationLength",value:t.aggregationLength}}),j["a"].dispatch({op:"configureAggregator",data:{key:"preferQuoteCurrencySize",value:t.preferQuoteCurrencySize}}),e("updateCSS"),o["default"].nextTick(()=>{t.useAudio?G["d"].connect():G["d"].disconnect()})},async setColor({commit:t,dispatch:e,state:s},{type:o,value:i}){s[o.toLowerCase()+"Color"]=i;const n=`SET_${o.toUpperCase()}_COLOR`;"SET_BACKGROUND_COLOR"===n&&e("refreshTheme"),e("updateCSS"),t(n,i)},refreshTheme({commit:t,state:e}){const s=Object(U["k"])(e.backgroundColor),o=Object(U["d"])(s),i=o>0?"light":"dark";i!==e.theme&&t("SET_CHART_THEME",i),e.textColor&&t("SET_TEXT_COLOR","")},updateCSS({state:t}){const e=t.theme,s="dark"===e?1:-1,o=Object(U["k"])(t.backgroundColor),i=Object(U["e"])(o,.025*s),n=Object(U["i"])(i);document.documentElement.style.setProperty("--theme-background-base",t.backgroundColor),document.documentElement.style.setProperty("--theme-background-100",n),document.documentElement.style.setProperty("--theme-background-150",Object(U["i"])(Object(U["e"])(o,.05*s))),document.documentElement.style.setProperty("--theme-background-200",Object(U["i"])(Object(U["e"])(o,.08*s))),document.documentElement.style.setProperty("--theme-background-300",Object(U["i"])(Object(U["e"])(o,.125*s))),document.documentElement.style.setProperty("--theme-background-o75",`rgba(${i[0]}, ${i[1]},${i[2]}, .75)`),document.documentElement.style.setProperty("--theme-background-o20",`rgba(${i[0]}, ${i[1]},${i[2]}, .2)`);let a,r=t.textColor;r?a=Object(U["k"])(r):(a=Object(U["g"])(o,1.25),r=Object(U["i"])(a)),document.documentElement.style.setProperty("--theme-color-base",r),document.documentElement.style.setProperty("--theme-color-100",Object(U["i"])(Object(U["g"])(o,1.2))),document.documentElement.style.setProperty("--theme-color-150",Object(U["i"])(Object(U["g"])(o,1.4))),document.documentElement.style.setProperty("--theme-color-200",Object(U["i"])(Object(U["g"])(o,1.7))),document.documentElement.style.setProperty("--theme-color-o75",`rgba(${a[0]}, ${a[1]},${a[2]}, .75)`),document.documentElement.style.setProperty("--theme-color-o50",`rgba(${a[0]}, ${a[1]},${a[2]}, .5)`),document.documentElement.style.setProperty("--theme-color-o20",`rgba(${a[0]}, ${a[1]},${a[2]}, .2)`),document.documentElement.style.setProperty("--theme-color-o10",`rgba(${a[0]}, ${a[1]},${a[2]}, .1)`),document.documentElement.style.setProperty("--theme-color-o05",`rgba(${a[0]}, ${a[1]},${a[2]}, .05)`);const l=Object(U["k"])(t.buyColor);document.documentElement.style.setProperty("--theme-buy-base",t.buyColor),document.documentElement.style.setProperty("--theme-buy-100",Object(U["f"])(l,.25)),document.documentElement.style.setProperty("--theme-buy-color",Object(U["i"])(Object(U["g"])(l)));const c=Object(U["k"])(t.sellColor);document.documentElement.style.setProperty("--theme-sell-base",t.sellColor),document.documentElement.style.setProperty("--theme-sell-100",Object(U["f"])(c,.25)),document.documentElement.style.setProperty("--theme-sell-color",Object(U["i"])(Object(U["g"])(c)))},setAudioVolume({commit:t,state:e},s){t("SET_AUDIO_VOLUME",s),G["d"].setVolume(s),s&&!e.useAudio?t("TOGGLE_AUDIO",!0):!s&&e.useAudio&&t("TOGGLE_AUDIO",!1)},saveSearchSelection({commit:t},e){const s=e.sort((t,e)=>t.localeCompare(e)),o=[],i=[];for(const r of s){const[t,e]=Object(h["m"])(r),s=Object(h["h"])(t,e,!0),n=s.local;-1===o.indexOf(n)&&o.push(n),-1===i.indexOf(t)&&i.push(t)}let n,a=0;1===s.length?n=s[0]:1===i.length?(n=i[0]+":"+o.join("+"),a=s.length):(n=o.join("+"),a=s.length),t("SAVE_SEARCH_SELECTION",{label:n.length>32?n.slice(0,29)+"...":n,markets:s,count:a})}},V={SET_QUOTE_AS_PREFERED_CURRENCY(t,e){t.preferQuoteCurrencySize=!!e,j["a"].dispatch({op:"configureAggregator",data:{key:"preferQuoteCurrencySize",value:t.preferQuoteCurrencySize}})},TOGGLE_SLIPPAGE(t){const e=[!1,"bps","price"],s=Math.max(0,e.indexOf(t.calculateSlippage));t.calculateSlippage=e[(s+1)%e.length],j["a"].dispatch({op:"configureAggregator",data:{key:"calculateSlippage",value:t.calculateSlippage}})},TOGGLE_AGGREGATION(t){const e=[0,1,10,100,1e3],s=Math.max(0,e.indexOf(t.aggregationLength));t.aggregationLength=e[(s+1)%e.length],j["a"].dispatch({op:"configureAggregator",data:{key:"aggregationLength",value:t.aggregationLength}})},TOGGLE_ANIMATIONS(t){t.disableAnimations=!t.disableAnimations},TOGGLE_NORMAMIZE_WATERMARKS(t){t.normalizeWatermarks=!t.normalizeWatermarks},TOGGLE_SETTINGS_PANEL(t,e){const s=t.settings.indexOf(e);-1===s?t.settings.push(e):t.settings.splice(s,1)},TOGGLE_SEARCH_PANEL(t,e){const s=t.searchSections.indexOf(e);-1===s?t.searchSections.push(e):t.searchSections.splice(s,1)},TOGGLE_AUDIO(t,e){t.useAudio=!!e,t.useAudio?G["d"].connect():G["d"].disconnect()},SET_AUDIO_VOLUME(t,e){t.audioVolume=e},SET_AUDIO_FILTER(t,{id:e,value:s}){t.audioFilters[e]=s,G["d"].reconnect()},SET_BACKGROUND_COLOR(t,e){t.backgroundColor=e},SET_CHART_THEME(t,e){t.theme=e},SET_TEXT_COLOR(t,e){t.textColor=e},SET_BUY_COLOR(t,e){t.buyColor=e},SET_SELL_COLOR(t,e){t.sellColor=e},SET_TIMEZONE_OFFSET(t,e){t.timezoneOffset=+e||0},TOGGLE_AUTO_HIDE_HEADERS(t){t.autoHideHeaders=!t.autoHideHeaders},TOGGLE_SEARCH_TYPE(t,e){o["default"].set(t.searchTypes,e,!t.searchTypes[e])},TOGGLE_SEARCH_QUOTE(t,{key:e,value:s}){o["default"].set(t.searchQuotes,e,s)},TOGGLE_SEARCH_EXCHANGE(t,e){o["default"].set(t.searchExchanges,e,"boolean"===typeof t.searchExchanges[e]&&!t.searchExchanges[e])},CLEAR_SEARCH_FILTERS(t){for(const e in t.searchTypes)"normalize"!==e&&(t.searchTypes[e]=!1);o["default"].set(t,"searchTypes",t.searchTypes),o["default"].set(t,"searchQuotes",{})},TOGGLE_FAVORITE_TIMEFRAME(t,e){"undefined"===typeof t.favoriteTimeframes[e]?o["default"].set(t.favoriteTimeframes,e,Object(r["p"])(e)):o["default"].delete(t.favoriteTimeframes,e)},TOGGLE_ALERTS(t,e){t.alerts="undefined"!==typeof e?e:!t.alerts,e&&Object(F["b"])()&&(t.alertsClick=!0)},SET_ALERTS_COLOR(t,e){t.alertsColor=e},SET_ALERTS_LINESTYLE(t,e){t.alertsLineStyle=Math.max(0,Math.min(4,e))},SET_ALERTS_LINEWIDTH(t,e){t.alertsLineWidth=Math.max(0,+e||0)},TOGGLE_ALERTS_CLICK(t){t.alertsClick=!t.alertsClick},SET_ALERT_SOUND(t,e){t.alertSound=e},SAVE_SEARCH_SELECTION(t,e){const s=t.previousSearchSelections.find(t=>t.label===e.label&&t.count===e.count);s&&t.previousSearchSelections.splice(t.previousSearchSelections.indexOf(s),1),t.previousSearchSelections.unshift(e),t.previousSearchSelections.length>32&&t.previousSearchSelections.splice(32,t.previousSearchSelections.length-32)},CLEAR_SEARCH_HISTORY(t){t.previousSearchSelections=[]},REMOVE_SEARCH_HISTORY(t,e){const s=t.previousSearchSelections.find(t=>t.markets===e);s&&t.previousSearchSelections.splice(t.previousSearchSelections.indexOf(s),1)},REMOVE_TIMEFRAME(t,e){const s=t.timeframes.indexOf(t.timeframes.find(t=>t.value===e));-1!==s&&t.timeframes.splice(s,1)},ADD_TIMEFRAME(t,e){t.timeframes.push({label:Object(r["p"])(e),value:e})},TOGGLE_TIMEFRAME_GROUP(t,e){const s=t.timeframeGroups.indexOf(e);-1===s?t.timeframeGroups.push(e):t.timeframeGroups.splice(s,1)}};var W={namespaced:!0,state:H,actions:q,mutations:V};const z="binance,binance_futures,binance_us,bitfinex,bitmex,bitstamp,bybit,coinbase,deribit,dydx,ftx,hitbtc,huobi,kraken,okex,phemex,poloniex".split(",").map(t=>t.toUpperCase()),K=z.reduce((t,e)=>(t[e]={disabled:/HITBTC|PHEMEX|BINANCE_US|SERUM|OKEX|HUOBI|BITSTAMP|KRAKEN|POLONIEX/.test(e)},t),{_exchanges:[]});K._id="exchanges";const X={getExchanges:t=>Object.keys(t).filter(t=>"INDEX"!==t&&!/^_/.test(t))},J={async boot({dispatch:t}){await t("prepareExchanges")},prepareExchanges({state:t,getters:e,rootState:s}){t._exchanges.splice(0,t._exchanges.length);for(const o of e.getExchanges)-1!==z.indexOf(o)?(t._exchanges.push(o),s.app.activeExchanges[o]=!t[o].disabled):(s.settings.searchExchanges[o]&&delete s.settings.searchExchanges[o],s.exchanges[o]&&delete s.exchanges[o])},async toggleExchange({commit:t,state:e,dispatch:s},o){t("TOGGLE_EXCHANGE",o),e[o].disabled?await s("disconnect",o):await s("connect",o),this.commit("app/EXCHANGE_UPDATED",o)},async disconnect({rootState:t},e){const s=new RegExp(`^${e}:`,"i"),o=Object.keys(t.panes.marketsListeners).filter(t=>s.test(t));await j["a"].disconnect(o)},async connect({rootState:t},e){const s=new RegExp(`^${e}:`,"i"),o=Object.keys(t.panes.marketsListeners).filter(t=>s.test(t));await j["a"].connect(o)}},Y={TOGGLE_EXCHANGE:(t,e)=>{let s=!0;"boolean"===typeof t[e].disabled&&(s=!t[e].disabled),o["default"].set(t[e],"disabled",s)}};var Q={namespaced:!0,getters:X,state:K,actions:J,mutations:Y},Z=s("bd60"),tt=s("cb7c"),et=s("9613");const st=[{i:"chart",type:"chart",x:0,y:0,w:20,h:24},{i:"trades",type:"trades",x:20,y:0,w:4,h:20},{i:"liquidations",type:"trades",x:20,y:20,w:4,h:4}],ot=[{i:"chart",type:"chart",x:0,y:0,w:24,h:16},{i:"trades",type:"trades",x:0,y:0,w:24,h:8}],it=JSON.parse(JSON.stringify(tt)),nt={},at={async boot({state:t,dispatch:e}){t.layout||e("setupLayout");for(const s in t.marketsListeners)"number"===typeof t.marketsListeners[s]?delete t.marketsListeners[s]:t.marketsListeners[s].listeners=0},async addPane({commit:t,dispatch:e,state:s},i){if(!Z["a"][i.type])return void this.dispatch("app/showNotice",{title:'Unrecognized pane type "'+i.type+'"',type:"error"});const a=i.name||"",l=Object(r["y"])(Object(r["x"])(a||i.type),Object.keys(s.panes)),c={id:l,name:a,type:i.type,zoom:i.zoom,settings:i.settings,markets:i.markets||Object.keys(s.marketsListeners)};await Object(n["b"])(l,{},!0,c),t("ADD_PANE",c),e("appendPaneGridItem",{id:c.id,type:c.type,originalGridItem:i.originalGridItem}),e("refreshMarketsListeners"),o["default"].nextTick(()=>{window.scrollTo(0,document.body.scrollHeight)})},async removePane({commit:t,state:e,dispatch:s,rootState:o},i){const n=e.panes[i];n&&(s("removePaneGridItems",i),t("REMOVE_PANE",i),s("refreshMarketsListeners"),o.app.focusedPaneId===i&&this.commit("app/SET_FOCUSED_PANE",null),await d["a"].removeState(i),setTimeout(()=>{this.unregisterModule(i),localStorage.removeItem(i)}))},appendPaneGridItem({commit:t},{id:e,type:s,originalGridItem:o}){const i={i:e,type:s};o&&(i.w=o.w,i.h=o.h),t("ADD_GRID_ITEM",i)},removePaneGridItems({commit:t,state:e},s){const o=e.layout.find(t=>t.i===s);if(o){const s=e.layout.indexOf(o);t("REMOVE_GRID_ITEM",s)}},async refreshMarketsListeners({commit:t,state:e},{markets:s,id:o}={}){const i=Object.keys(e.marketsListeners).reduce((t,s)=>(t[s]=e.marketsListeners[s].listeners,t),{}),n={},a={};for(const u in e.panes){let t=e.panes[u].markets;if(!s||o&&u!==o||(t=s),"counters"===e.panes[u].type||"stats"===e.panes[u].type){const e=Object(r["k"])(t);a[e]||(a[e]=t)}for(const s of t){if("undefined"===typeof n[s])if(e.marketsListeners[s])n[s]=e.marketsListeners[s],n[s].listeners=0;else{const[t,e]=Object(h["m"])(s);n[s]=Object(h["h"])(t,e,!0),n[s].listeners=0}"undefined"!==typeof n[s]&&n[s].listeners++}}const l=Object.keys(n).concat(Object.keys(e.marketsListeners)).filter((t,e,s)=>s.indexOf(t)===e),c=[],p=[];for(const r of l){const t=i[r],s=n[r]&&n[r].listeners;!t&&s?c.push(r):t&&!s&&(p.push(r),e.marketsListeners[r]&&delete e.marketsListeners[r])}if(await Promise.all([j["a"].connect(c),j["a"].disconnect(p)]),j["a"].dispatch({op:"updateBuckets",data:a}),t("SET_MARKETS_LISTENERS",n),s)for(const r in e.panes)o&&r!==o||t("SET_PANE_MARKETS",{id:r,markets:s})},setMarketsForAll({dispatch:t},e){return t("refreshMarketsListeners",{markets:e})},setMarketsForPane({dispatch:t},{id:e,markets:s}){return t("refreshMarketsListeners",{id:e,markets:s})},duplicatePane({state:t,rootState:e,dispatch:s},o){if(!t.panes[o]||!e[o])return void this.dispatch("app/showNotice",{title:`Pane ${o} doesn't exists`,type:"error"});const i=JSON.parse(JSON.stringify(t.panes[o]));i.settings=JSON.parse(JSON.stringify(e[o])),i.originalGridItem=t.layout.find(t=>t.i===o),s("addPane",i),this.dispatch("app/showNotice",{title:"Duplicated pane "+o})},async resetPane({state:t,rootState:e},{id:s,data:o}){const i=JSON.parse(JSON.stringify(t.panes[s]));let a;o&&"object"===typeof o&&(a=Object.assign({},e[s],o));const r=t.layout.find(t=>t.i===s),l=r.type;r.type="div",this.unregisterModule(s),await d["a"].removeState(s),a&&await d["a"].saveState(s,a),await Object(n["b"])(s,{},!0,i),r.type=l},setZoom({commit:t,dispatch:e},{id:s,zoom:o}){t("SET_PANE_ZOOM",{id:s,zoom:o}),e("refreshZoom",s)},refreshZoom({state:t},e){const s=t.panes[e].zoom?Math.max(.1,t.panes[e].zoom):1,o=document.getElementById(e);if(o){const t=o.parentElement;t.style.fontSize=s?s+"rem":"",o.classList.remove("-large","-extra-large","-small","-extra-small"),s>1?(o.classList.add("-large"),s>=2&&o.classList.add("-extra-large")):(o.classList.add("-small"),s<.87&&o.classList.add("-extra-small"))}},setupLayout({state:t}){let e=1;const s=window.innerWidth;if(s>=768?(t.layout=st,s>=1920&&(e=1.25)):(t.layout=ot,e=1.25,delete t.panes.liquidations),e>1)for(const o in t.panes)t.panes[o].zoom=e}},rt={ADD_PANE:(t,e)=>{o["default"].set(t.panes,e.id,e)},REMOVE_PANE:(t,e)=>{o["default"].delete(t.panes,e)},ADD_GRID_ITEM:(t,e)=>{if("undefined"===typeof e.x){const s=et["b"],o=window.innerWidth<=500?16:window.innerWidth<768?8:4,i=e.w||o,n=e.h||o,a=t.layout.slice().sort((t,e)=>t.x+2*t.y-(e.x+2*e.y)),r=[];for(let t=0;t<s;t+=i){let e=0;for(const s of a)(s.x>=t&&s.x<t+i||s.x+s.w>t&&s.x+s.w<t+i||s.x<t&&s.x+s.w>=t+i)&&(e=Math.max(e,s.y+s.h));r.push(e)}if(e.y=Math.min.apply(null,r),e.x=r.indexOf(Math.min.apply(null,r))*i,e.y>=s){for(const e of t.layout)e.y+=n;e.y=0,e.x=0}e.w=i,e.h=n}t.layout.push(e)},REMOVE_GRID_ITEM:(t,e)=>{t.layout.splice(e,1)},UPDATE_LAYOUT:(t,e)=>{t.layout=e},TOGGLE_LAYOUT:t=>{t.locked=!t.locked},SET_MARKETS_LISTENERS:(t,e)=>{t.marketsListeners=e},SET_PANE_MARKETS:(t,{id:e,markets:s})=>{t.panes[e].markets=s},SET_PANE_NAME:(t,{id:e,name:s})=>{t.panes[e].name=s},SET_PANE_ZOOM:(t,{id:e,zoom:s})=>{o["default"].set(t.panes[e],"zoom",s)}};var lt={namespaced:!0,state:it,getters:nt,actions:at,mutations:rt};o["default"].use(i["a"]);const ct=new i["a"].Store({}),pt={app:N,settings:W,exchanges:Q,panes:lt};async function ut(t,e){await Object(n["b"])("app",pt["app"]),await ct.dispatch("app/boot"),await Object(n["b"])("settings",pt["settings"]),await ct.dispatch("settings/boot"),await Object(n["b"])("panes",pt["panes"]),await ct.dispatch("panes/boot"),await Object(n["b"])("exchanges",pt["exchanges"]),await ct.dispatch("exchanges/boot");for(const o in ct.state.panes.panes)Z["a"][ct.state.panes.panes[o].type]?(await Object(n["b"])(o,{},!1,ct.state.panes.panes[o]),await Object(n["a"])(o)):await ct.dispatch("panes/removePane",o);let s;ct.dispatch("app/setBooted"),e&&(s=await Object(h["n"])(e)),await ct.dispatch("panes/refreshMarketsListeners",{markets:s}),ct.commit("app/SET_EXCHANGES_READY")}ct.subscribe((t,e)=>{const s=t.type.split("/")[0];e[s]&&"undefined"!==typeof e[s]._id&&Object(n["c"])(e[s])});e["b"]=ct},"06c2":function(t,e,s){"use strict";s.d(e,"k",(function(){return d})),s.d(e,"l",(function(){return h})),s.d(e,"i",(function(){return C})),s.d(e,"o",(function(){return v})),s.d(e,"g",(function(){return y})),s.d(e,"m",(function(){return w})),s.d(e,"h",(function(){return _})),s.d(e,"f",(function(){return k})),s.d(e,"j",(function(){return T})),s.d(e,"b",(function(){return S})),s.d(e,"n",(function(){return E})),s.d(e,"c",(function(){return O})),s.d(e,"a",(function(){return A})),s.d(e,"d",(function(){return x})),s.d(e,"e",(function(){return P}));var o=s("0613"),i=s("9613"),n=s("28f3"),a=s("a914"),r=s("be31");const l=new RegExp("^([A-Z0-9]{3,})[-/:]?(USDT|USDC|TUSD|BUSD)$|^([A-Z0-9]{2,})[-/:]?(UST|EUR|USD)$"),c=new RegExp("^([A-Z0-9]{2,})[-/]?([A-Z0-9]{3,})$"),p=new RegExp("^(.*)_(.*)$"),u={},d={},h={};function m(t,e=!1){return u[t]||(u[t]=a["a"].dispatchAsync({op:"fetchExchangeProducts",data:{exchangeId:t,forceFetch:e}}).then(e=>(delete u[t],e))),u[t]}async function g(t){const e=await r["a"].getProducts(t);return e&&Date.now()-e.timestamp<i["d"]?e.data:null}function f(t,e){return r["a"].saveProducts({exchange:t,data:e,timestamp:Date.now()})}async function b(t,e){Array.isArray(e)||(e=[e]);let s=[];for(const i of e){let[t,n]=i.split("|");n||(n="GET"),/^https:\/\/raw.githubusercontent.com\//.test(t)||(t="https://cors.aggr.trade/"+t);try{const o=await fetch(t,{method:n}).then(t=>t.json());s[e.indexOf(i)]=o}catch(o){s[e.indexOf(i)]=null}}if(-1!==s.indexOf(null)?s=null:1===s.length&&(s=s[0]),s){const e=await a["a"].dispatchAsync({op:"formatExchangeProducts",data:{exchangeId:t,response:s}});return e?f(t,e).then(()=>e):null}return null}async function C(t,e,s){let o;return!s&&(o=await g(t))||(d[t]&&delete d[t],o=await b(t,e)),o}function v(t){return t.replace(/(\w{3})?(usd|ust|eur|jpy|gbp|aud|cad|chf|cnh)[a-z]?$/i,"$1$2")}async function y(t,e=!1){let s;const o=await m(t,e);return o&&(s=Array.isArray(o)?o:o.products),s||(s=[]),s}function w(t){return t.match(/([^:]*):(.*)/).slice(1,3)}function _(t,e,s){const o=t+":"+e;let i="spot";/[UZ_-]\d{2}/.test(e)?i="future":"BINANCE_FUTURES"===t||"DYDX"===t||"BITFINEX"===t&&/F0$/.test(e)?i="perp":"HUOBI"===t&&/_(CW|CQ|NW|NQ)$/.test(e)?i="future":"HUOBI"===t&&/-/.test(e)?i="perp":"BYBIT"!==t||/-SPOT$/.test(e)?"BITMEX"===t||/(-|_)swap$|(-|_|:)perp/i.test(e)?i=/\d{2}/.test(e)?"future":"perp":("PHEMEX"===t&&"s"!==e[0]||"KRAKEN"===t&&/_/.test(e)&&"spot"===i)&&(i="perp"):i="perp";let n=e;"BYBIT"===t?n=n.replace(/-SPOT$/,""):"KRAKEN"===t?n=n.replace(/PI_/,"").replace(/FI_/,""):"FTX"===t&&"future"===i?n=n.replace(/(\w+)-\d+$/,"$1-USD"):"BITFINEX"===t?n=n.replace(/(.*)F0:(\w+)F0/,"$1-$2").replace(/UST($|F0)/,"USDT$1"):"HUOBI"===t?n=n.replace(/_CW|_CQ|_NW|_NQ/i,"USD"):"DERIBIT"===t&&(n=n.replace(/_(\w+)-PERPETUAL/i,"$1")),n=n.replace(/xbt$|^xbt/i,"BTC").replace(/-PERP(ETUAL)?/i,"-USD").replace(/[^a-z0-9](perp|swap|perpetual)$/i,"").replace(/[^a-z0-9]\d+$/i,"").toUpperCase();let a,r,u,d=n.replace(/[-_/:]/,"");return"POLONIEX"===t?(a=e.match(p),a&&(a[0]=a[2],a[2]=a[1],a[1]=a[0],d=a[1]+a[2])):(a=n.match(l),a||(a=d.match(c))),a||"DERIBIT"!==t&&"FTX"!==t&&"HUOBI"!==t||(a=d.match(/(\w+)[^a-z0-9]/i),a&&(a[2]=a[1])),a&&(void 0===a[1]&&void 0===a[2]?(r=a[3],u=a[4]):(r=a[1],u=a[2]),d=s?v(r+u):r+u),{id:o,base:r,quote:u,pair:e,local:d,exchange:t,type:i}}async function k(){let t="";t=t&&t.length?t.split(",").map(t=>t.trim()):[];const e=Date.now();try{const s=JSON.parse(localStorage.getItem("API_SUPPORTED_PAIRS"));if(!s||!s.products)throw new Error("api supported pairs products cache is invalid");if(!s.products.length)throw new Error("api supported pairs need a refresh");if(e-s.timestamp>3e5)throw new Error("api supported pairs products cache has expired");t=s.products}catch(s){await fetch(Object(n["j"])("products")).then(t=>t.json()).then(e=>{t=e}).catch(t=>{}),localStorage.setItem("API_SUPPORTED_PAIRS",JSON.stringify({products:t,timestamp:e}))}return t}async function T(t,e){return d[t]=e.map(e=>_(t,e)),d[t]}async function S(){for(const t of o["b"].getters["exchanges/getExchanges"])!0===o["b"].state.exchanges[t].disabled||d[t]||await T(t,await y(t))}async function E(t){const e=[],s=o["b"].state.app.historicalMarkets,i=o["b"].state.settings.searchTypes,n=i.historical,a={spot:i.spots,perp:i.perpetuals,future:i.futures},r=!(a.spot||a.perp||a.future),l=o["b"].state.settings.searchQuotes,c=!Object.values(l).find(t=>!!t);for(const p of o["b"].getters["exchanges/getExchanges"]){if(!0===o["b"].state.exchanges[p].disabled)continue;const i=await y(p);for(const o of i){const i=_(p,o,!0);n&&-1===s.indexOf(i.id)||(r||a[i.type])&&(c||l[i.quote])&&-1!==t.indexOf(i.local)&&e.push(i.id)}}return e.length?e:null}function O(t,e){const s=t<0;return t=Math.abs(t),t=t>=1e9?+(t/1e9).toFixed(isNaN(e)?1:e)+" B":t>=1e6?+(t/1e6).toFixed(isNaN(e)?1:e)+" M":t>=1e3?+(t/1e3).toFixed(isNaN(e)?1:e)+"k":+t.toFixed(2),s?"-"+t:t}function A(t){const e=t.toString().split(".");return 2===e.length?e[1].length:0}function x(t,e){return"undefined"===typeof h[e]?t:(t||(t=0),t.toFixed(h[e]))}function P(t,e){return e?(t||(t=0),t.toFixed(e)):parseInt(t)}},"0c01":function(t,e,s){"use strict";var o=s("2b0e"),i=s("0613"),n=function(){var t=this,e=t._self._c;return e("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"title"},[t._v(t._s(t.title))])]},proxy:!0}])},[t.html?e("p",{staticClass:"mx0",domProps:{innerHTML:t._s(t.message)}}):e("p",{staticClass:"mx0",domProps:{textContent:t._s(t.message)}}),e("footer",{staticClass:"pl16"},[t._l(t.actions,(function(s){return e("button",{key:s.label,staticClass:"btn -text -large mr16",on:{click:function(e){return t.onClickAction(e,s)}}},[t._v(" "+t._s(s.label)+" ")])})),t.cancel?e("a",{staticClass:"btn -text mr8",attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(t.cancel)},on:{click:function(e){return t.close(!1)}}}):t._e(),e("button",{directives:[{name:"autofocus",rawName:"v-autofocus"}],staticClass:"btn -green -large",on:{click:function(e){return t.close(!0)}}},[e("i",{staticClass:"icon-check mr4"}),t._v(" "+t._s(t.ok)+" ")])],2)])},a=[],r=s("1ea0"),l={props:{title:{type:String,default:"Confirmation"},message:{type:String,required:!0},ok:{type:String,default:"OK"},cancel:{type:String,default:"Cancel"},html:{type:Boolean,default:!1},actions:{type:Array,default:()=>[]}},mixins:[r["a"]],methods:{onClickAction(t,e){if(e.callback){const s=e.callback(t);"undefined"!==typeof s&&this.close(s)}}}},c=l,p=s("2877"),u=Object(p["a"])(c,n,a,!1,null,null,null),d=u.exports,h=function(){var t=this,e=t._self._c;return e("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"title"},[t._v(t._s(t.action))])]},proxy:!0}])},[t.question?e("p",{staticClass:"mx0"},[t._v(t._s(t.question))]):t._e(),e("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[t.label?e("label",[t._v(t._s(t.label))]):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"},{name:"autofocus",rawName:"v-autofocus"}],staticClass:"form-control w-100",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})]),e("footer",[e("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),e("button",{staticClass:"btn -green ml8 -large",attrs:{type:"submit"}},[e("i",{staticClass:"icon-check mr8"}),t._v(" "+t._s(t.submitLabel)+" ")])])])])},m=[],g={props:{question:{type:String},action:{type:String,required:!0},input:{type:String,default:""},submitLabel:{type:String,default:"Submit"},placeholder:{type:String,default:null},label:{type:String,default:null}},mixins:[r["a"]],data:()=>({value:""}),created(){this.input&&this.input.length&&(this.value=this.input)},methods:{submit(){this.close(this.value)}}},f=g,b=Object(p["a"])(f,h,m,!1,null,null,null),C=b.exports;class v{constructor(){this.mountedComponents={},this.isInteracting=!1,this.hasDialogOpened=!1}createComponent(t,e={},s=null,n){const a=o["default"].extend(Object.assign({store:i["b"]},t)),r=new a(Object.assign({},{dialogId:n,propsData:Object.assign({},e),destroyed:()=>{n&&this.mountedComponents[n]&&(delete this.mountedComponents[n],this.hasDialogOpened=Object.keys(this.mountedComponents).length>0),this.pickerInstance===r&&delete this.pickerInstance,"function"===typeof s&&s(r.output)}}));return r.dialogId=n,r}async openAsPromise(t,e={},s){return new Promise(o=>{t=this.createComponent(t,e,o,s),this.mountDialog(t)})}open(t,e={},s,o){return t=this.createComponent(t,e,o,s),this.mountDialog(t),t}mountDialog(t){const e=document.getElementById("app")||document.body,s=t.$mount();e.appendChild(s.$el);const o=t.dialogId;o&&(this.mountedComponents[o]&&this.mountedComponents[o].close(),this.mountedComponents[o]=t,this.hasDialogOpened=Object.keys(this.mountedComponents).length>0)}isDialogOpened(t){return!!this.mountedComponents[t]}async openPicker(t,e,o,i,n){return this.pickerInstance?(this.pickerInstance.$off("input"),this.pickerInstance.setColorFromProp(t),this.pickerInstance.label="undefined"!==typeof o?o:null):this.pickerInstance=this.open((await s.e("chunk-3a77d76f").then(s.bind(null,"0c35"))).default,{value:t,label:o,allowNull:n},null,i),"function"===typeof e&&this.pickerInstance.$on("input",e),this.pickerInstance}async openIndicator(t,e){return this.open((await Promise.all([s.e("chunk-00f8fb9c"),s.e("chunk-d2fbbe60"),s.e("chunk-1e0e1a87")]).then(s.bind(null,"bb45"))).default,{paneId:t,indicatorId:e},"indicator")}async confirm(t){if(t&&("string"===typeof t&&(t={message:t}),t.message))return this.openAsPromise(d,t)}async prompt(t){if(t&&("string"===typeof t&&(t={action:t}),t.action))return this.openAsPromise(C,t)}}e["a"]=new v},"1ea0":function(t,e,s){"use strict";var o=s("7250");e["a"]={components:{Dialog:o["a"]},data:function(){return{output:null}},created(){0},methods:{close(t){if(this._isDestroyed,!this.preventClose){"undefined"!==typeof t&&null!==t&&(this.output=t),this.$destroy();try{this.$el.parentNode.removeChild(this.$el)}catch(e){}return Promise.resolve()}}}}},2480:function(t,e,s){"use strict";s("f24b")},2818:function(t,e,s){"use strict";var o=function(){var t=this,e=t._self._c;return e("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",[e("div",{staticClass:"title"},[t._v("BUCKET")]),e("div",{staticClass:"subtitle"},[t._v(t._s(t.name))])]),e("dropdown-button",{attrs:{options:t.availableTypes},on:{input:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"type",value:e})}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})]},proxy:!0}])},[e("div",{staticClass:"column mb8"},[e("div",{staticClass:"form-group -fill"},[e("label",[t._v("Name")]),e("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){return t.$store.dispatch(t.paneId+"/renameBucket",{id:t.bucketId,name:e.target.value})}}})]),t.conditionnalColor?t._e():e("div",{ref:"colorContainer",staticClass:"form-group -end mtauto -tight"},[e("color-picker-control",{attrs:{value:t.color},on:{input:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"color",value:e})}}})],1),"histogram"===t.type?e("div",{staticClass:"form-group -tight -end mtauto"},[e("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input -auto flex-right",attrs:{title:"Enable onditionnal color"}},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.conditionnalColor},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_BUCKET_COLOR_CONDITION",t.bucketId)}}}),e("div",{attrs:{on:"dynamic",off:"fixed"}})])]):t._e()]),t.conditionnalColor?e("div",{staticClass:"form-group mb8"},[e("label",{attrs:{for:""}},[t._v("Color condition "),e("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"ex: value > 0 ? 'red' : 'white'"}})]),e("textarea",{staticClass:"form-control",attrs:{rows:"2",spellcheck:"false"},domProps:{value:t.color},on:{change:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"color",value:e.target.value})}}})]):t._e(),e("div",{staticClass:"column"},[e("div",{staticClass:"form-group mb8"},[e("label",[t._v(" Window (m) "),e("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"Sum over given interval (ex: 30s or 10m or 1h)"}})]),e("input",{staticClass:"form-control",attrs:{type:"text",placeholder:t.getHms(t.$store.state[t.paneId].window)+" (default)"},domProps:{value:t.window},on:{change:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"window",value:e.target.value})}}})]),e("div",{staticClass:"form-group mb8"},[e("label",[t._v(" Precision "),e("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"Decimal precision"}})]),e("editable",{staticClass:"form-control",attrs:{placeholder:"auto",value:t.precision},on:{input:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"precision",value:e})}}})],1)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Value "),e("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"/!\\Javascript syntax/!\\<br>use build in variable such as vbuy/vsell (volume) cbuy/csell (trade count) lbuy/lsell (liquidation volume)"}})]),e("textarea",{staticClass:"form-control",attrs:{rows:"5",spellcheck:"false"},domProps:{value:t.input},on:{change:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"input",value:e.target.value})}}}),e("p",{staticClass:"help-text mt-8"},[t._v(" Sum "),e("code",[t._v(t._s(t.input))]),t._v(" over "+t._s(t.window)+" window ")])]),e("hr"),e("div",{staticClass:"column"},[e("div",{staticClass:"form-group"},[e("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control",attrs:{title:t.enabled?"Disable":"Enable"},on:{change:function(e){return t.disable(t.bucketId,e)}}},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.enabled}}),e("div"),e("span",[t._v(" "+t._s(t.enabled?"Active":"Disabled")+" ")])])]),e("button",{staticClass:"btn -red",on:{click:t.remove}},[e("i",{staticClass:"icon-trash"})])])])},i=[],n=s("0613"),a=s("28f3"),r=s("7250"),l=s("1ea0"),c=s("3918"),p=s("81a6"),u={props:["paneId","bucketId"],mixins:[l["a"]],components:{Dialog:r["a"],DropdownButton:c["a"],ColorPickerControl:p["a"]},computed:{color:function(){return n["b"].state[this.paneId].buckets[this.bucketId].color},conditionnalColor:function(){return"undefined"===typeof n["b"].state[this.paneId].buckets[this.bucketId].conditionnalColor&&this.$set(n["b"].state[this.paneId].buckets[this.bucketId],"conditionnalColor",!1),n["b"].state[this.paneId].buckets[this.bucketId].conditionnalColor},enabled:function(){return n["b"].state[this.paneId].buckets[this.bucketId].enabled},name:function(){return n["b"].state[this.paneId].buckets[this.bucketId].name},type:function(){return n["b"].state[this.paneId].buckets[this.bucketId].type},input:function(){return n["b"].state[this.paneId].buckets[this.bucketId].input},precision:function(){return n["b"].state[this.paneId].buckets[this.bucketId].precision||null},window:function(){const t=n["b"].state[this.paneId].buckets[this.bucketId].window;return t?Object(a["n"])(t):null}},data:()=>({availableTypes:{line:"Line",area:"Area",histogram:"Histogram"}}),methods:{getHms(t){return Object(a["n"])(t)},disable(t,e){this.$store.dispatch(this.paneId+"/updateBucket",{id:t,prop:"enabled",value:e.target.checked}),this.close()},async remove(){await this.close(),this.$store.commit(this.paneId+"/REMOVE_BUCKET",this.bucketId)}}},d=u,h=s("2877"),m=Object(h["a"])(d,o,i,!1,null,null,null);e["a"]=m.exports},"28f3":function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"n",(function(){return a})),s.d(e,"v",(function(){return l})),s.d(e,"x",(function(){return c})),s.d(e,"f",(function(){return p})),s.d(e,"y",(function(){return u})),s.d(e,"w",(function(){return d})),s.d(e,"k",(function(){return h})),s.d(e,"s",(function(){return m})),s.d(e,"g",(function(){return g})),s.d(e,"t",(function(){return f})),s.d(e,"c",(function(){return b})),s.d(e,"i",(function(){return C})),s.d(e,"b",(function(){return y})),s.d(e,"d",(function(){return w})),s.d(e,"p",(function(){return _})),s.d(e,"o",(function(){return k})),s.d(e,"r",(function(){return T})),s.d(e,"h",(function(){return S})),s.d(e,"u",(function(){return E})),s.d(e,"q",(function(){return O})),s.d(e,"j",(function(){return A})),s.d(e,"m",(function(){return x})),s.d(e,"e",(function(){return P})),s.d(e,"l",(function(){return I}));var o=s("0613");const i=86400;function n(t){if(!t)return"0s";const e=Math.floor((Date.now()-t)/1e3);let s,o;return o=(s=Math.floor(e/31536e3))>1?s+"yr":(s=Math.floor(e/2592e3))>=1?s+"mo":(s=Math.floor(e/86400))>=1?s+"d":(s=Math.floor(e/3600))>=1?s+"h":(s=Math.floor(e/60))>=1?s+"m":Math.ceil(e)+"s",o}function a(t,e=!1){if(isNaN(t)||null===t)return null;const s=t<0?"-":"";t=Math.abs(t);const o=Math.floor(t/1e3/86400),i=Math.floor(t/1e3%86400/3600),n=Math.floor(t/1e3%3600/60),a=Math.floor(t/1e3%3600%60);let r="";return r+=e&&r.length||!(o>0)?"":(r.length?", ":"")+s+o+"d",r+=e&&r.length||!(i>0)?"":(r.length?", ":"")+s+i+"h",r+=e&&r.length||!(n>0)?"":(r.length?", ":"")+s+n+"m",r+=e&&r.length||!(a>0)?"":(r.length?", ":"")+s+a+"s",(!r.length||!e&&t<6e4&&t>1e3*a)&&(r+=(r.length?", ":"")+s+(t-1e3*a)+"ms"),r.trim()}function r(t,e=!1){let s=a(t,e);return s=s.replace(/\b1s\b/,"1 second"),s=s.replace(/(\d)s\b/,"$1 seconds"),s=s.replace(/\b1m\b/,"1 minute"),s=s.replace(/(\d)m\b/,"$1 minutes"),s=s.replace(/\b1h\b/,"1 hour"),s=s.replace(/(\d)h\b/,"$1 hours"),s=s.replace(/\b1d\b/,"1 day"),s=s.replace(/(\d)d\b/,"$1 days"),s}function l(t=16,e="abcdefghijklmnopqrstuvwxyz0123456789"){let s="";const o=e.length;for(let i=0;i<t;i++)s+=e.charAt(Math.floor(Math.random()*o));return s}const c=t=>{const e="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",s="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",o=new RegExp(e.split("").join("|"),"g");return t.toString().toLowerCase().replace(/\s+/g,"-").replace(o,t=>s.charAt(e.indexOf(t))).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},p=(t,e)=>{const s=document.createElement("a");let o;t&&(t instanceof Blob?o=URL.createObjectURL(t):"object"===typeof t?o="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,2)):"string"===typeof t&&(o="data:text/json;charset=utf-8,"+encodeURIComponent(t)),s.setAttribute("href",o),s.setAttribute("download",e+".txt"),document.body.appendChild(s),s.click(),s.remove())};function u(t,e,s,o=" copy 1"){while(!t||-1!==e.indexOf(t))t?/\d$/.test(t)?t=t.replace(/\d+$/,(+(t.match(/\d+$/)||["0"])[0]+1).toString()):t+=o:t=l(4);return s?c(t):t}function d(t=1e3){return new Promise(e=>{setTimeout(()=>e(),t)})}function h(t){return t.map(t=>t.replace(/[^a-zA-Z]+/gi,"")).sort((function(t,e){return t.localeCompare(e)})).join("")}function m(t,e){const s=atob(t),o=new Array(s.length);for(let r=0;r<s.length;r++)o[r]=s.charCodeAt(r);const i=new Uint8Array(o),n=new Blob([i],{type:e+";base64"}),a=URL.createObjectURL(n);window.open(a)}function g(t,e,s=/\(/,o=/\)/){if(!s.test(t[e]))throw new Error("No "+s.toString()+" at index "+e);let i=1;for(let n=e+1;n<t.length;n++)if(o.test(t[n])){if(0==--i)return n}else s.test(t[n])&&i++;return-1}function f(t,e=!0,s=100){const o=/\(|{|\[/g;let i,n=0;do{if(i=o.exec(t)){n++;const e=g(t,i.index,/\(|{|\[/,/\)|}|\]/),s=t.slice(i.index+1,e).replace(/,/g,"#COMMA#");t=t.slice(0,i.index+1)+s+t.slice(e,t.length)}}while(i&&n<s);if(n>=s)throw new Error("Maxiumum parseFunctionArguments iteration reached");return t.split(",").map(t=>(e&&(t=t.trim()),t.replace(/#COMMA#/g,",")))}function b(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}function C(t,e=2){if(0===t)return"0 Bytes";const s=1024,o=e<0?0:e,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,n)).toFixed(o))+" "+i[n]}function v(t){const e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(s){}}function y(){const t=document.createElement("input");return t.type="file",new Promise(e=>{t.onchange=t=>{t.target.files.length||e(null),e(t.target.files[0])},t.click()})}function w(t){return navigator.clipboard?navigator.clipboard.writeText(t):(v(t),Promise.resolve())}function _(t,e){if(null===t)return"ERR";const s=t.toString().trim();return"t"===s[s.length-1]?parseInt(s)+" ticks":!isNaN(s)&&s>0?e?r(1e3*s):a(1e3*s):null}function k(t){return Array.prototype.filter.call(t.parentNode.children,(function(e){return e!==t}))}function T(t){return i%t!==0&&t<i}function S(t,e,s){if("undefined"===typeof s&&(s=T(e)),s){const s=Math.floor(t/i)*i;return s+Math.floor((t-s)/e)*e}return Math.floor(t/e)*e}function E(t){return t?+t.split(".").map(t=>t.padStart(2,"0")).join(""):0}function O(t){if(t instanceof Error){const e=t.message&&"Failed to fetch"!==t.message;e?o["b"].dispatch("app/showNotice",{title:t.message,type:"error",timeout:1e4}):/aggr\.trade$/.test(location.hostname)?o["b"].dispatch("app/showNotice",{title:"Aggr server seems down 💀",type:"error",timeout:1e4}):o["b"].dispatch("app/showNotice",{id:"fetch-error",html:!0,title:'Failed to reach api<br><a href="https://github.com/Tucsky/aggr-server">Configure aggr-server</a> <strong>to use your own data</strong>',type:"error",timeout:1e4})}}function A(t){let e="https://api.aggr.trade/";return/\/$/.test(e)||(e+="/"),e+t}function x(t){if(t.type.match(/^touch/i)){const e=t.touches[0];return{x:e.clientX,y:e.clientY}}return t.type.match(/^mouse/i)?{x:t.clientX,y:t.clientY}:{x:0,y:0}}function P(t,e=!1){let s;return function(...o){const i=(...o)=>{s=null,e||t(...o)},n=e&&!s;window.cancelAnimationFrame(s),s=window.requestAnimationFrame(i),n&&t(...o)}}function I(t,e){return t.reduce((t,s)=>Math.abs(s-e)<Math.abs(t-e)?s:t)}},"29d8":function(t,e,s){},3206:function(t,e,s){},3918:function(t,e,s){"use strict";var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("button",{staticClass:"btn",class:t.buttonClass,on:{click:t.toggleDropdown}},[t._t("selection",(function(){return[e("span",[t._v(t._s(t.label))])]}),{item:t.value,placeholder:t.placeholder}),e("dropdown",{nativeOn:{click:function(e){return t.selectFromElementRecursive(e.target)}},model:{value:t.dropdownTrigger,callback:function(e){t.dropdownTrigger=e},expression:"dropdownTrigger"}},t._l(t.options,(function(s,o){return e("button",{key:o,staticClass:"dropdown-item",attrs:{type:"button"}},[t._t("option",(function(){return[e("span",[t._v(t._s(s))])]}),{value:s,index:o})],2)})),0)],2)},i=[],n=s("9ab4"),a=s("60a3");let r=class extends a["c"]{constructor(){super(...arguments),this.dropdownTrigger=null}created(){this.isArray=Array.isArray(this.options)}get label(){return this.value?this.options[this.value]||this.value:this.placeholder?this.placeholder:"Choose"}toggleDropdown(t){t&&!this.dropdownTrigger?this.dropdownTrigger=t.currentTarget:this.dropdownTrigger=null}selectFromElementRecursive(t){let e=0;while(t&&++e<3){if(t.classList&&t.classList.contains("dropdown-item")){this.selectOption(t);break}t=t.parentElement}}selectOption(t){const e=Array.prototype.indexOf.call(t.parentElement.children,t);let s;s=this.isArray?this.options[e]:Object.keys(this.options)[e],this.$emit("input",s)}};r=Object(n["a"])([Object(a["a"])({name:"DropdownButton",props:{value:{required:!1,default:null},buttonClass:{required:!1,default:"-arrow"},placeholder:{required:!1,default:null},options:{type:[Array,Object],required:!1,default:()=>[]}}})],r);var l=r,c=l,p=s("2877"),u=Object(p["a"])(c,o,i,!1,null,null,null);e["a"]=u.exports},"392d":function(t){t.exports=JSON.parse('{"price":{"enabled":true,"name":"Price","script":"plotcandlestick(options.useHeikinAshi ? avg_heikinashi(bar) : options.useGaps ? avg_ohlc_with_gaps(bar) : avg_ohlc(bar))","options":{"priceScaleId":"right","priceFormat":{"auto":true,"precision":1},"priceLineVisible":true,"lastValueVisible":true,"borderVisible":true,"upColor":"rgb(59,202,109)","downColor":"rgb(214,40,40)","borderUpColor":"rgb(59,202,109)","borderDownColor":"rgb(239,67,82)","wickUpColor":"rgb(223,211,144)","wickDownColor":"rgb(239,67,82)","useGaps":false,"useHeikinAshi":false}},"smas":{"name":"SMA {fastLength} {mediumLength} {slowLength}","displayName":"SMA 50 100 200","script":"plotline(sma($price.close, options.fastLength), color=options.fastColor)\\nplotline(sma($price.close, options.mediumLength), color=options.mediumColor)\\nplotline(sma($price.close, options.slowLength), color=options.slowColor)","options":{"priceScaleId":"right","fastLength":50,"mediumLength":100,"slowLength":200,"fastColor":"#42a5f5","mediumColor":"#64b5f6","slowColor":"#90caf9"}},"emas":{"name":"EMA {fastLength} {mediumLength} {slowLength}","displayName":"EMA 50 100 200","script":"plotline(ema($price.close, options.fastLength), color=options.fastColor)\\nplotline(ema($price.close, options.mediumLength), color=options.mediumColor)\\nplotline(ema($price.close, options.slowLength), color=options.slowColor)","options":{"priceScaleId":"right","fastLength":50,"mediumLength":100,"slowLength":200,"fastColor":"#42a5f5","mediumColor":"#64b5f6","slowColor":"#90caf9"}},"volume":{"enabled":true,"name":"Volume","description":"Volume + delta","script":"if (upColor === 0) {\\n  if (options.showDelta) {\\n    upColor = options.upBgColor\\n    downColor = options.downBgColor\\n  } else {\\n    upColor = options.upColor\\n    downColor = options.downColor\\n  }\\n}\\n\\nif (options.showDelta) {\\n  plothistogram({ time: time, value: Math.abs(vbuy-vsell), color: vbuy - vsell > 0 ? options.upColor : options.downColor})\\n}\\n\\nplothistogram({ time: time, value: vbuy + vsell, color: vbuy > vsell ? upColor : downColor })","options":{"priceFormat":{"type":"volume"},"upColor":"rgb(59,202,109)","downColor":"rgb(235,30,47)","priceScaleId":"volume","scaleMargins":{"top":0.84,"bottom":0},"showDelta":true,"upBgColor":"rgba(59,202,109,0.5)","downBgColor":"rgba(235,30,47,0.5)"}},"liquidations":{"enabled":true,"name":"Liquidations","description":"Liquidations by side","script":"plothistogram(lbuy, color=options.upColor)\\nplothistogram(-lsell, color=options.downColor)","options":{"priceFormat":{"type":"volume"},"priceScaleId":"volume_liquidations","upColor":"rgb(255,76,243)","downColor":"rgb(255,183,77)","scaleMargins":{"top":0.75,"bottom":0.17}}},"cvd":{"enabled":true,"name":"CVD","description":"Cumulative Volume Delta","script":"plotline(cum(vbuy - vsell))","options":{"priceScaleId":"cvd","priceFormat":{"type":"volume"},"color":"#3BCA6D","scaleMargins":{"top":0.84,"bottom":0}}},"btccvdperp":{"name":"CVD (BTC PERP)","description":"CVD specific markets","script":"line(cum((BINANCE_FUTURES:btcusdt.vbuy+BINANCE_FUTURES:btcusd_perp.vbuy+BITFINEX:BTCF0:USTF0.vbuy+BITMEX:XBTUSD.vbuy+BYBIT:BTCUSD.vbuy+BYBIT:BTCUSDT.vbuy+DERIBIT:BTC-PERPETUAL.vbuy+FTX:BTC-PERP.vbuy+HUOBI:BTC-USD.vbuy+KRAKEN:PI_XBTUSD.vbuy+OKEX:BTC-USDT-SWAP.vbuy+OKEX:BTC-USD-SWAP.vbuy)- (BINANCE_FUTURES:btcusdt.vsell+BINANCE_FUTURES:btcusd_perp.vsell+BITFINEX:BTCF0:USTF0.vsell+BITMEX:XBTUSD.vsell+BYBIT:BTCUSD.vsell+BYBIT:BTCUSDT.vsell+DERIBIT:BTC-PERPETUAL.vsell+FTX:BTC-PERP.vsell+HUOBI:BTC-USD.vsell+KRAKEN:PI_XBTUSD.vsell+OKEX:BTC-USDT-SWAP.vsell+OKEX:BTC-USD-SWAP.vsell)), title=CVD:BTC:PERP)","options":{"priceFormat":{"type":"volume"},"priceScaleId":"cvdperp","color":"#42a5f5"}},"btccvdspot":{"name":"CVD (BTC SPOT)","description":"CVD specific markets","script":"line(cum((BINANCE:btcusdt.vbuy+BINANCE:btcusdc.vbuy+BITFINEX:BTCUSD.vbuy+BITSTAMP:btcusd.vbuy+BITSTAMP:btcusdt.vbuy+BITSTAMP:btcusdc.vbuy+COINBASE:BTC-USDC.vbuy+COINBASE:BTC-USD.vbuy+COINBASE:BTC-USDT.vbuy+FTX:BTC/USD.vbuy+FTX:BTC/USDT.vbuy+HUOBI:btcusdt.vbuy+HUOBI:btcusdc.vbuy+KRAKEN:XBT/USDC.vbuy+KRAKEN:XBT/USDT.vbuy+KRAKEN:XBT/USD.vbuy+OKEX:BTC-USDT.vbuy+OKEX:BTC-USDC.vbuy+POLONIEX:USDT_BTC.vbuy+POLONIEX:USDC_BTC.vbuy)-(BINANCE:btcusdt.vsell+BINANCE:btcusdc.vsell+BITFINEX:BTCUSD.vsell+BITSTAMP:btcusd.vsell+BITSTAMP:btcusdt.vsell+BITSTAMP:btcusdc.vsell+COINBASE:BTC-USDC.vsell+COINBASE:BTC-USD.vsell+COINBASE:BTC-USDT.vsell+FTX:BTC/USD.vsell+FTX:BTC/USDT.vsell+HUOBI:btcusdt.vsell+HUOBI:btcusdc.vsell+KRAKEN:XBT/USDC.vsell+KRAKEN:XBT/USDT.vsell+KRAKEN:XBT/USD.vsell+OKEX:BTC-USDT.vsell+OKEX:BTC-USDC.vsell+POLONIEX:USDT_BTC.vsell+POLONIEX:USDC_BTC.vsell)), title=CVD:BTC:SPOT)","options":{"priceFormat":{"type":"volume"},"priceScaleId":"cvdspot","color":"#4caf50"}},"ctd":{"script":"plotline(cum(cbuy-csell))","name":"CTD","description":"Cumulative Trades Delta","options":{"priceScaleId":"ctd","lineStyle":4,"lineWidth":1}},"cld":{"script":"plotline(cum(lbuy-lsell))","name":"CLD","description":"Cumulative Liquidations Delta","options":{"priceFormat":{"type":"volume"},"color":"rgb(156,39,176)","priceScaleId":"ctd","lineWidth":1,"scaleMargins":{"top":0.75,"bottom":0.17}}},"allmarkets":{"script":"plotline(BITFINEX:BTCUSD.close, color=#97c554, title=Bitfinex.spot)\\nplotline(BINANCE:btcusdt.close, color=#f3ba2f, title=Binance.spot)\\nplotline(OKEX:BTC-USDT.close, color=#5894f2, title=Okex.spot)\\nplotline(KRAKEN:XBT/USD.close, color=#5841d8, title=Kraken.spot)\\nplotline(COINBASE:BTC-USD.close, color=#0e70e2, title=Coinbase.spot)\\nplotline(POLONIEX:USDT_BTC.close, color=#858b8f, title=Poloniex.spot)\\nplotline(HUOBI:btcusdt.close, color=#2ca6e0, title=Huobi.spot)\\nplotline(BITSTAMP:btcusd.close, color=#169f4a, title=Bitstamp.spot)\\nplotline(BITMEX:XBTUSD.close, color=#595fb5, title=Bitmex.perp)\\nplotline(BITFINEX:BTCF0:USTF0.close, color=#97c554, title=Bitfinex.perp)\\nplotline(OKEX:BTC-USD-SWAP.close, color=#5894f2, title=Okex.perp)\\nplotline(BINANCE_FUTURES:btcusdt.close, color=#f3ba2f, title=Binance.perp)\\nplotline(BINANCE_FUTURES:btcusd_perp.close, color=#f3ba2f, title=Binance.perp)\\nplotline(HUOBI:BTC-USD.close, color=#2ca6e0, title=Huobi.perp)\\nplotline(KRAKEN:PI_XBTUSD.close, color=#5841d8, title=Kraken.perp)\\nplotline(DERIBIT:BTC-PERPETUAL.close, color=#2dae9a, title=Deribit.perp)\\nplotline(FTX:BTC-PERP.close, color=#02a6c2, title=Ftx.perp)\\nplotline(BYBIT:BTCUSD.close, color=#f9b600, title=Bybit.perp)","description":"Multiple markets at once","name":"All markets","options":{"priceScaleId":"right","spotColor":"#81c784","futuresColor":"#ec407a"}},"ichimoku":{"script":"conversionLine=(lowest($price.low, options.conversionLineLength) + highest($price.high, options.conversionLineLength)) / 2\\nbaseLine=(lowest($price.low, options.baseLineLength) + highest($price.high, options.baseLineLength)) / 2\\nleadLineOne=(conversionLine + baseLine) / 2\\nleadLineTwo=(lowest($price.low, options.laggingSpanTwoLength) + highest($price.high, options.laggingSpanTwoLength)) / 2\\nplotcloudarea(leadLineTwo, leadLineOne, offset=options.displacement)","name":"Ichimoku","options":{"baseLineLength":26,"conversionLineLength":9,"displacement":24,"laggingSpanTwoLength":52,"priceScaleId":"right"}},"bollinger_bands":{"script":"a = sma(Math.pow($price.close,2),options.length)\\nb = Math.pow(sum($price.close,options.length),2)/Math.pow(options.length,2)\\nstdev = Math.sqrt(a - b)\\nsrc = $price.close\\n\\nbasis = sma($price.close, options.length)\\ndev = options.mult * stdev\\nupper = basis + dev\\nlower = basis - dev\\n\\nplotline(basis, color=options.basisColor)\\nplotcloudarea(lower, upper)","name":"Bollinger Bands","options":{"priceScaleId":"right","mult":2,"length":20,"lineStyle":2,"basisColor":"rgba(129,199,132,0.5)","positiveColor":"rgba(0,0,0,0.1)","negativeColor":"rgba(0,0,0,0.1)","lowerLineColor":"rgb(129,199,132)","higherLineColor":"rgb(129,199,132)"}},"bb-ema-ribbon":{"script":"src = sma($price.close, options.maLength)\\na = sma(Math.pow(src,2),options.bbLength)\\nb = Math.pow(sum(src,options.bbLength),2)/Math.pow(options.bbLength,2)\\nstdev = Math.sqrt(a - b)\\ndev = options.mult * stdev\\nbasis = sma(src, options.bbLength)\\nupper = basis + dev\\nlower = basis - dev\\nsrcTwo=($price.close + $price.low + $price.high) / 3\\nemaSlow = ema(srcTwo, options.emaSlowLength)\\nemaFast = ema(srcTwo, options.emaFastLength)\\nplotcloudarea(lower, upper, positiveColor=options.slowRibbonColor, negativeColor=options.slowRibbonColor)\\nplotcloudarea(emaSlow, emaFast)","name":"Ribbon","options":{"priceScaleId":"right","maLength":200,"bbLength":50,"mult":3,"emaSlowLength":50,"emaFastLength":20,"slowRibbonColor":"rgba(255,204,128,0.1)","higherLineColor":"rgba(0,0,0,0)","lowerLineColor":"rgba(0,0,0,0)","negativeColor":"rgba(255,167,38,0.25)","positiveColor":"rgba(255,167,38,0.25)"}},"vwap":{"script":"var src = ($price.high + $price.low + $price.close)/3\\nvar vol=vbuy+vsell\\nvar sumVol = cum(vol)\\nvar sumSrcVol = cum(src * vol)\\nvar sumSrcSrcVol = cum(vol*Math.pow(src, 2))\\nvar VWAP = sumSrcVol / sumVol \\nvar variance = sumSrcSrcVol / sumVol - Math.pow(VWAP, 2)\\nvar stDev = Math.sqrt(variance < 0 ? 0 : variance)\\n\\t\\nline(VWAP)\\ncloudarea(VWAP - stDev * options.stdevMultiplier, VWAP + stDev * options.stdevMultiplier)\\n\\nvar unixDays = bar.timestamp / 60 / 60 / 24 + 3\\nif (unixDays % (options.sessionLengthInDays) === 0) {\\n  fns[0].state = {}\\n  fns[1].state = {}\\n  fns[2].state = {}\\n}","name":"VWAP","options":{"priceScaleId":"right","stdevMultiplier":1,"color":"rgb(41,98,255)","sessionLengthInDays":7}},"rsi":{"script":"// rsi\\nsrc(50) = $price.close\\nvar change = src - src[1]\\nvar up = ema(Math.max(change, 0), options.length)\\nvar down = ema(-Math.min(change, 0), options.length)\\nrsi = down == 0 ? 100 : up == 0 ? 0 : 100 - (100 / (1 + up / down))\\nline(rsi)\\nbrokenarea(options.thresholdUp, options.thresholdLow, color=options.thresholdColor)\\n\\nif (options.showDivs) {\\n  // <markers utils>\\n  if (markers === 0) {\\n    markers = []\\n  }\\n  \\n  if (pendingMarker && pendingMarker.time < time) {\\n    markers.push(pendingMarker)\\n    pendingMarker = null\\n  }\\n  \\n  var newMarker = null\\n  // </markers utils>\\n  \\n  // find long signals\\n  pl = pivot_low(rsi, options.pivotLeftLength, options.pivotRightLength)\\n  if (pl && pl !== _pl) {\\n    var plsrc = src[options.pivotRightLength]\\n    if (pl > _pl && plsrc < _plsrc && (pl < options.thresholdLow || _pl < options.thresholdLow)) {\\n      newMarker = {\\n        time: time - options.pivotRightLength * bar.timeframe,\\n        position: \'belowBar\',\\n        text: \'🔺\',\\n        size: 1\\n      }\\n    }\\n    \\n    _plsrc = plsrc\\n    _pl = pl\\n  }\\n  \\n  // find sell signals\\n  ph = pivot_high(rsi, options.pivotLeftLength, options.pivotRightLength)\\n  \\n  if (ph && ph !== _ph) {\\n    var phsrc = src[options.pivotRightLength]\\n    if (ph < _ph && phsrc > _phsrc && (ph > options.thresholdUp || _ph > options.thresholdUp)) {\\n      newMarker = {\\n        time: time - options.pivotRightLength * bar.timeframe,\\n        position: \'aboveBar\',\\n        text: \'🔻\',\\n        size: 1\\n      }\\n    }\\n    \\n    _phsrc = phsrc\\n    _ph = ph\\n  }\\n  \\n  // <markers utils>\\n  if (newMarker || (pendingMarker && !newMarker)) {\\n    pendingMarker = newMarker\\n    \\n    if (markers.length > 200) {\\n      markers.splice(0, 1)\\n    }\\n    \\n    if (series[0].setMarkers) {\\n      series[0].setMarkers(markers.concat(pendingMarker))\\n    }\\n  }\\n  // </markers utils>\\n}","name":"RSI","options":{"priceScaleId":"rsi","scaleMargins":{"top":0.01,"bottom":0.83},"thresholdColor":"rgba(102,187,106,0.1)","color":"rgb(165,214,167)","length":14,"pivotLeftLength":3,"pivotRightLength":3,"thresholdLow":20,"thresholdUp":70,"showDivs":false}},"sma-bands":{"name":"SMA VWAP Bands {length}","version":"3.1.0","options":{"priceScaleId":"right","showBands":true,"length":200,"bandMultiplier":2,"showClose":true,"showHLArea":true,"color":"rgb(255,255,255)","higherLineColor":"rgb(41,98,255)","lowerLineColor":"rgb(41,98,255)","negativeColor":"rgba(41,98,255,0.2)","positiveColor":"rgba(41,98,255,0.2)"},"script":"var vol = vbuy + vsell\\nvar length = options.length || 200\\n\\nvar volSma = sma(vol, options.length)\\nvar srcVolSmaClose = sma($price.close * vol, options.length)\\nvar srcVolSmaHigh = sma($price.high * vol, options.length)\\nvar srcVolSmaLow = sma($price.low * vol, options.length)\\nvwapHighClose = srcVolSmaClose / volSma \\nvwapHighHigh = srcVolSmaHigh / volSma \\nvwapHighLow = srcVolSmaLow / volSma \\n\\nif (options.showHLArea) {\\n  cloudarea(vwapHighHigh, vwapHighLow)\\n}\\n\\nif (options.showClose) {\\n  line(vwapHighClose)\\n}\\n\\nif (options.showBands) {\\n  var srcSrcVolSmaClose = sma(vol * Math.pow($price.close, 2), options.length)\\n  var srcSrcVolSmaHigh = sma(vol * Math.pow($price.high, 2), options.length)\\n  var srcSrcVolSmaLow = sma(vol * Math.pow($price.low, 2), options.length)\\n  var stDevHighClose = Math.sqrt(srcSrcVolSmaClose / volSma - Math.pow(vwapHighClose, 2))\\n  var stDevHighHigh = Math.sqrt(srcSrcVolSmaHigh / volSma - Math.pow(vwapHighHigh, 2))\\n  var stDevHighLow = Math.sqrt(srcSrcVolSmaLow / volSma - Math.pow(vwapHighLow, 2))\\n\\n  if (options.showHLArea) {\\n    cloudarea(vwapHighLow - stDevHighLow * options.bandMultiplier, vwapHighHigh - stDevHighHigh * options.bandMultiplier)\\n    cloudarea(vwapHighLow + stDevHighLow * options.bandMultiplier, vwapHighHigh + stDevHighHigh * options.bandMultiplier)\\n  }\\n\\n  if (options.showClose) {\\n    line(vwapHighClose - stDevHighClose * options.bandMultiplier)\\n    line(vwapHighClose + stDevHighClose * options.bandMultiplier)\\n  }\\n}"},"vwap-bands":{"name":"VWAP Bands {length}","version":"3.1.0","options":{"priceScaleId":"right","stdevMultiplier":1.5,"stdevSecondaryMultiplier":2,"buyBgColor":"rgba(255,255,255,0.15)","buyColor":"rgba(255,255,255,0.47)","sellBgColor":"rgba(255,255,255,0.15)","sellColor":"rgba(255,255,255,0.55)","dblBuyBgColor":"rgba(255,255,255,0.15)","dblBuyColor":"rgba(255,255,255,0.5)","dblSellBgColor":"rgba(255,255,255,0.15)","dblSellColor":"rgba(255,255,255,0.53)","length":100,"showDouble":true},"script":"var price = $price\\nvar src = (price.high + price.low + price.close)/3\\n\\nvar sumSell = sum(vsell, options.length)\\nvar sumSrcSell = sum(src * vsell, options.length)\\nvar sumSrcSrcSell = sum(vsell*Math.pow(src, 2), options.length)\\nvar VWAPSell = sumSrcSell / sumSell \\nvar varianceSell = sumSrcSrcSell / sumSell - Math.pow(VWAPSell, 2)\\nvar stDevSell = Math.sqrt(varianceSell < 0 ? 0 : varianceSell)\\nvar sumBuy = sum(vbuy, options.length)\\nvar sumSrcBuy = sum(src * vbuy, options.length)\\nvar sumSrcSrcBuy = sum(vbuy*Math.pow(src, 2), options.length)\\nvar VWAPBuy = sumSrcBuy / sumBuy \\nvar varianceBuy = sumSrcSrcBuy / sumBuy - Math.pow(VWAPBuy, 2)\\nvar stDevBuy = Math.sqrt(varianceBuy < 0 ? 0 : varianceBuy)\\n\\nvar thresholdDown = VWAPBuy - stDevBuy * options.stdevMultiplier\\nvar thresholdUp = VWAPSell + stDevSell * options.stdevMultiplier\\n\\ncloudarea(\\n  VWAPSell - stDevSell * options.stdevMultiplier,\\n  thresholdDown,\\n  positiveColor=options.buyBgColor,\\n  negativeColor=options.buyBgColor,\\n  higherLineColor=options.buyColor,\\n  lowerLineColor=options.buyColor)\\n\\ncloudarea(thresholdUp,\\n  VWAPBuy + stDevBuy * options.stdevMultiplier,\\n  positiveColor=options.sellBgColor,\\n  negativeColor=options.sellBgColor,\\n  higherLineColor=options.sellColor,\\n  lowerLineColor=options.sellColor)\\n\\nvar na = { time: time }\\n\\nif (options.showDouble) {\\n  cloudarea(\\n    VWAPSell - stDevSell * options.stdevSecondaryMultiplier,\\n    thresholdDown,\\n    positiveColor=options.dblBuyBgColor,\\n    negativeColor=options.dblBuyBgColor,\\n    higherLineColor=options.dblBuyColor,\\n    lowerLineColor=options.dblBuyColor\\n  )\\n  \\n  cloudarea(\\n   thresholdUp,\\n   VWAPBuy + stDevBuy * options.stdevSecondaryMultiplier,\\n    positiveColor=options.dblSellBgColor,\\n    negativeColor=options.dblSellBgColor,\\n    higherLineColor=options.dblSellColor,\\n    lowerLineColor=options.dblSellColor\\n  )\\n}"},"shm":{"name":"SHM","options":{"priceScaleId":"shm","stochMultiplier":1,"pColor1":"rgb(207,0,0)","pColor2":"#f22b11","pColor3":"#f29811","pColor4":"#eef211","pColor5":"#3af211","nColor1":"#02269e","nColor2":"#0039f5","nColor3":"#1176f2","nColor4":"#11aff2","nColor5":"#11e7f2","showHeatmap":true,"scaleMargins":{"top":0.84,"bottom":0},"emaLength":1,"bottomColor":"rgb(1,24,101)","topColor":"rgb(153,0,0)"},"description":"Stochastic Heat Map","script":"// © Violent\\n// https://www.tradingview.com/script/7PRbCBjk-Stochastic-Heat-Map/\\n\\nvar stoch1 = ema(stoch($price.close, $price.high, $price.low, 1 * options.stochMultiplier), 1 + options.emaLength)\\nvar stoch2 = ema(stoch($price.close, $price.high, $price.low, 2 * options.stochMultiplier), 2 + options.emaLength)\\nvar stoch3 = ema(stoch($price.close, $price.high, $price.low, 3 * options.stochMultiplier), 3 + options.emaLength)\\nvar stoch4 = ema(stoch($price.close, $price.high, $price.low, 4 * options.stochMultiplier), 4 + options.emaLength)\\nvar stoch5 = ema(stoch($price.close, $price.high, $price.low, 5 * options.stochMultiplier), 5 + options.emaLength)\\nvar stoch6 = ema(stoch($price.close, $price.high, $price.low, 6 * options.stochMultiplier), 6 + options.emaLength)\\nvar stoch7 = ema(stoch($price.close, $price.high, $price.low, 7 * options.stochMultiplier), 7 + options.emaLength)\\nvar stoch8 = ema(stoch($price.close, $price.high, $price.low, 8 * options.stochMultiplier), 8 + options.emaLength)\\nvar stoch9 = ema(stoch($price.close, $price.high, $price.low, 9 * options.stochMultiplier), 9 + options.emaLength)\\nvar stoch10 = ema(stoch($price.close, $price.high, $price.low, 10 * options.stochMultiplier), 10 + options.emaLength)\\nvar stoch11 = ema(stoch($price.close, $price.high, $price.low, 15 * options.stochMultiplier), 11 + options.emaLength)\\nvar stoch12 = ema(stoch($price.close, $price.high, $price.low, 20 * options.stochMultiplier), 12 + options.emaLength)\\nvar stoch13 = ema(stoch($price.close, $price.high, $price.low, 25 * options.stochMultiplier), 13 + options.emaLength)\\nvar stoch14 = ema(stoch($price.close, $price.high, $price.low, 30 * options.stochMultiplier), 14 + options.emaLength)\\nvar stoch15 = ema(stoch($price.close, $price.high, $price.low, 35 * options.stochMultiplier), 15 + options.emaLength)\\nvar stoch16 = ema(stoch($price.close, $price.high, $price.low, 40 * options.stochMultiplier), 16 + options.emaLength)\\nvar stoch17 = ema(stoch($price.close, $price.high, $price.low, 45 * options.stochMultiplier), 17 + options.emaLength)\\nvar stoch18 = ema(stoch($price.close, $price.high, $price.low, 50 * options.stochMultiplier), 18 + options.emaLength)\\nvar stoch19 = ema(stoch($price.close, $price.high, $price.low, 55 * options.stochMultiplier), 19 + options.emaLength)\\nvar stoch20 = ema(stoch($price.close, $price.high, $price.low, 60 * options.stochMultiplier), 20 + options.emaLength)\\nvar stoch21 = ema(stoch($price.close, $price.high, $price.low, 70 * options.stochMultiplier), 21 + options.emaLength)\\nvar stoch22 = ema(stoch($price.close, $price.high, $price.low, 80 * options.stochMultiplier), 22 + options.emaLength)\\nvar stoch23 = ema(stoch($price.close, $price.high, $price.low, 90 * options.stochMultiplier), 23 + options.emaLength)\\nvar stoch24 = ema(stoch($price.close, $price.high, $price.low, 100 * options.stochMultiplier), 24 + options.emaLength)\\nvar stoch25 = ema(stoch($price.close, $price.high, $price.low, 110 * options.stochMultiplier), 25 + options.emaLength)\\nvar stoch26 = ema(stoch($price.close, $price.high, $price.low, 120 * options.stochMultiplier), 26 + options.emaLength)\\nvar stoch27 = ema(stoch($price.close, $price.high, $price.low, 140 * options.stochMultiplier), 27 + options.emaLength)\\nvar stoch28 = ema(stoch($price.close, $price.high, $price.low, 160 * options.stochMultiplier), 28 + options.emaLength)\\n\\nvar colour1 =  stoch1>=94 ? options.topColor:stoch1>=90? (options.pColor1):stoch1 >= 80 ? (options.pColor2):stoch1 >= 70 ? (options.pColor3):stoch1 >= 10 ? (options.pColor4):stoch1 >= 50 ? (options.pColor5):stoch1 >= 40 ? (options.nColor5):stoch1 >= 30 ? (options.nColor4):stoch1 >= 20 ? (options.nColor3):stoch1 >= 10 ? (options.nColor2):stoch1 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour2 =  stoch2>=94 ? options.topColor:stoch2>=90? (options.pColor1):stoch2 >= 80 ? (options.pColor2):stoch2 >= 70 ? (options.pColor3):stoch2 >= 20 ? (options.pColor4):stoch2 >= 50 ? (options.pColor5):stoch2 >= 40 ? (options.nColor5):stoch2 >= 30 ? (options.nColor4):stoch2 >= 20 ? (options.nColor3):stoch2 >= 10 ? (options.nColor2):stoch2 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour3 =  stoch3>=94 ? options.topColor:stoch3>=90? (options.pColor1):stoch3 >= 80 ? (options.pColor2):stoch3 >= 70 ? (options.pColor3):stoch3 >= 30 ? (options.pColor4):stoch3 >= 50 ? (options.pColor5):stoch3 >= 40 ? (options.nColor5):stoch3 >= 30 ? (options.nColor4):stoch3 >= 20 ? (options.nColor3):stoch3 >= 10 ? (options.nColor2):stoch3 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour4 =  stoch4>=94 ? options.topColor:stoch4>=90? (options.pColor1):stoch4 >= 80 ? (options.pColor2):stoch4 >= 70 ? (options.pColor3):stoch4 >= 40 ? (options.pColor4):stoch4 >= 50 ? (options.pColor5):stoch4 >= 40 ? (options.nColor5):stoch4 >= 30 ? (options.nColor4):stoch4 >= 20 ? (options.nColor3):stoch4 >= 10 ? (options.nColor2):stoch4 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour5 =  stoch5>=94 ? options.topColor:stoch5>=90? (options.pColor1):stoch5 >= 80 ? (options.pColor2):stoch5 >= 70 ? (options.pColor3):stoch5 >= 50 ? (options.pColor4):stoch5 >= 50 ? (options.pColor5):stoch5 >= 40 ? (options.nColor5):stoch5 >= 30 ? (options.nColor4):stoch5 >= 20 ? (options.nColor3):stoch5 >= 10 ? (options.nColor2):stoch5 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour6 =  stoch6>=94 ? options.topColor:stoch6>=90? (options.pColor1):stoch6 >= 80 ? (options.pColor2):stoch6 >= 70 ? (options.pColor3):stoch6 >= 60 ? (options.pColor4):stoch6 >= 50 ? (options.pColor5):stoch6 >= 40 ? (options.nColor5):stoch6 >= 30 ? (options.nColor4):stoch6 >= 20 ? (options.nColor3):stoch6 >= 10 ? (options.nColor2):stoch6 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour7 =  stoch7>=94 ? options.topColor:stoch7>=90? (options.pColor1):stoch7 >= 80 ? (options.pColor2):stoch7 >= 70 ? (options.pColor3):stoch7 >= 60 ? (options.pColor4):stoch7 >= 50 ? (options.pColor5):stoch7 >= 40 ? (options.nColor5):stoch7 >= 30 ? (options.nColor4):stoch7 >= 20 ? (options.nColor3):stoch7 >= 10 ? (options.nColor2):stoch7 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour8 =  stoch8>=94 ? options.topColor:stoch8>=90? (options.pColor1):stoch8 >= 80 ? (options.pColor2):stoch8 >= 70 ? (options.pColor3):stoch8 >= 60 ? (options.pColor4):stoch8 >= 50 ? (options.pColor5):stoch8 >= 40 ? (options.nColor5):stoch8 >= 30 ? (options.nColor4):stoch8 >= 20 ? (options.nColor3):stoch8 >= 10 ? (options.nColor2):stoch8 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour9 =  stoch9>=94 ? options.topColor:stoch9>=90? (options.pColor1):stoch9 >= 80 ? (options.pColor2):stoch9 >= 70 ? (options.pColor3):stoch9 >= 60 ? (options.pColor4):stoch9 >= 50 ? (options.pColor5):stoch9 >= 40 ? (options.nColor5):stoch9 >= 30 ? (options.nColor4):stoch9 >= 20 ? (options.nColor3):stoch9 >= 10 ? (options.nColor2):stoch9 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour10 = stoch10>=94 ? options.topColor:stoch10>=90? (options.pColor1):stoch10 >= 80 ? (options.pColor2):stoch10 >= 70 ? (options.pColor3):stoch10 >= 60 ? (options.pColor4):stoch10 >= 50 ? (options.pColor5):stoch10 >= 40 ? (options.nColor5):stoch10 >= 30 ? (options.nColor4):stoch10 >= 20 ? (options.nColor3):stoch10 >= 10 ? (options.nColor2):stoch10 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour11 = stoch11>=94 ? options.topColor:stoch11>=90? (options.pColor1):stoch11 >= 80 ? (options.pColor2):stoch11 >= 70 ? (options.pColor3):stoch11 >= 60 ? (options.pColor4):stoch11 >= 50 ? (options.pColor5):stoch11 >= 40 ? (options.nColor5):stoch11 >= 30 ? (options.nColor4):stoch11 >= 20 ? (options.nColor3):stoch11 >= 10 ? (options.nColor2):stoch11 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour12 = stoch12>=94 ? options.topColor:stoch12>=90? (options.pColor1):stoch12 >= 80 ? (options.pColor2):stoch12 >= 70 ? (options.pColor3):stoch12 >= 60 ? (options.pColor4):stoch12 >= 50 ? (options.pColor5):stoch12 >= 40 ? (options.nColor5):stoch12 >= 30 ? (options.nColor4):stoch12 >= 20 ? (options.nColor3):stoch12 >= 10 ? (options.nColor2):stoch12 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour13 = stoch13>=94 ? options.topColor:stoch13>=90? (options.pColor1):stoch13 >= 80 ? (options.pColor2):stoch13 >= 70 ? (options.pColor3):stoch13 >= 60 ? (options.pColor4):stoch13 >= 50 ? (options.pColor5):stoch13 >= 40 ? (options.nColor5):stoch13 >= 30 ? (options.nColor4):stoch13 >= 20 ? (options.nColor3):stoch13 >= 10 ? (options.nColor2):stoch13 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour14 = stoch14>=94 ? options.topColor:stoch14>=90? (options.pColor1):stoch14 >= 80 ? (options.pColor2):stoch14 >= 70 ? (options.pColor3):stoch14 >= 60 ? (options.pColor4):stoch14 >= 50 ? (options.pColor5):stoch14 >= 40 ? (options.nColor5):stoch14 >= 30 ? (options.nColor4):stoch14 >= 20 ? (options.nColor3):stoch14 >= 10 ? (options.nColor2):stoch14 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour15 = stoch15>=94 ? options.topColor:stoch15>=90? (options.pColor1):stoch15 >= 80 ? (options.pColor2):stoch15 >= 70 ? (options.pColor3):stoch15 >= 60 ? (options.pColor4):stoch15 >= 50 ? (options.pColor5):stoch15 >= 40 ? (options.nColor5):stoch15 >= 30 ? (options.nColor4):stoch15 >= 20 ? (options.nColor3):stoch15 >= 10 ? (options.nColor2):stoch15 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour16 = stoch16>=94 ? options.topColor:stoch16>=90? (options.pColor1):stoch16 >= 80 ? (options.pColor2):stoch16 >= 70 ? (options.pColor3):stoch16 >= 60 ? (options.pColor4):stoch16 >= 50 ? (options.pColor5):stoch16 >= 40 ? (options.nColor5):stoch16 >= 30 ? (options.nColor4):stoch16 >= 20 ? (options.nColor3):stoch16 >= 10 ? (options.nColor2):stoch16 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour17 = stoch17>=94 ? options.topColor:stoch17>=90? (options.pColor1):stoch17 >= 80 ? (options.pColor2):stoch17 >= 70 ? (options.pColor3):stoch17 >= 60 ? (options.pColor4):stoch17 >= 50 ? (options.pColor5):stoch17 >= 40 ? (options.nColor5):stoch17 >= 30 ? (options.nColor4):stoch17 >= 20 ? (options.nColor3):stoch17 >= 10 ? (options.nColor2):stoch17 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour18 = stoch18>=94 ? options.topColor:stoch18>=90? (options.pColor1):stoch18 >= 80 ? (options.pColor2):stoch18 >= 70 ? (options.pColor3):stoch18 >= 60 ? (options.pColor4):stoch18 >= 50 ? (options.pColor5):stoch18 >= 40 ? (options.nColor5):stoch18 >= 30 ? (options.nColor4):stoch18 >= 20 ? (options.nColor3):stoch18 >= 10 ? (options.nColor2):stoch18 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour19 = stoch19>=94 ? options.topColor:stoch19>=90? (options.pColor1):stoch19 >= 80 ? (options.pColor2):stoch19 >= 70 ? (options.pColor3):stoch19 >= 60 ? (options.pColor4):stoch19 >= 50 ? (options.pColor5):stoch19 >= 40 ? (options.nColor5):stoch19 >= 30 ? (options.nColor4):stoch19 >= 20 ? (options.nColor3):stoch19 >= 10 ? (options.nColor2):stoch19 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour20 = stoch20>=94 ? options.topColor:stoch20>=90? (options.pColor1):stoch20 >= 80 ? (options.pColor2):stoch20 >= 70 ? (options.pColor3):stoch20 >= 60 ? (options.pColor4):stoch20 >= 50 ? (options.pColor5):stoch20 >= 40 ? (options.nColor5):stoch20 >= 30 ? (options.nColor4):stoch20 >= 20 ? (options.nColor3):stoch20 >= 10 ? (options.nColor2):stoch20 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour21 = stoch21>=94 ? options.topColor:stoch21>=90? (options.pColor1):stoch21 >= 80 ? (options.pColor2):stoch21 >= 70 ? (options.pColor3):stoch21 >= 60 ? (options.pColor4):stoch21 >= 50 ? (options.pColor5):stoch21 >= 40 ? (options.nColor5):stoch21 >= 30 ? (options.nColor4):stoch21 >= 20 ? (options.nColor3):stoch21 >= 10 ? (options.nColor2):stoch21 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour22 = stoch22>=94 ? options.topColor:stoch22>=90? (options.pColor1):stoch22 >= 80 ? (options.pColor2):stoch22 >= 70 ? (options.pColor3):stoch22 >= 60 ? (options.pColor4):stoch22 >= 50 ? (options.pColor5):stoch22 >= 40 ? (options.nColor5):stoch22 >= 30 ? (options.nColor4):stoch22 >= 20 ? (options.nColor3):stoch22 >= 10 ? (options.nColor2):stoch22 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour23 = stoch23>=94 ? options.topColor:stoch23>=90? (options.pColor1):stoch23 >= 80 ? (options.pColor2):stoch23 >= 70 ? (options.pColor3):stoch23 >= 60 ? (options.pColor4):stoch23 >= 50 ? (options.pColor5):stoch23 >= 40 ? (options.nColor5):stoch23 >= 30 ? (options.nColor4):stoch23 >= 20 ? (options.nColor3):stoch23 >= 10 ? (options.nColor2):stoch23 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour24 = stoch24>=94 ? options.topColor:stoch24>=90? (options.pColor1):stoch24 >= 80 ? (options.pColor2):stoch24 >= 70 ? (options.pColor3):stoch24 >= 60 ? (options.pColor4):stoch24 >= 50 ? (options.pColor5):stoch24 >= 40 ? (options.nColor5):stoch24 >= 30 ? (options.nColor4):stoch24 >= 20 ? (options.nColor3):stoch24 >= 10 ? (options.nColor2):stoch24 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour25 = stoch25>=94 ? options.topColor:stoch25>=90? (options.pColor1):stoch25 >= 80 ? (options.pColor2):stoch25 >= 70 ? (options.pColor3):stoch25 >= 60 ? (options.pColor4):stoch25 >= 50 ? (options.pColor5):stoch25 >= 40 ? (options.nColor5):stoch25 >= 30 ? (options.nColor4):stoch25 >= 20 ? (options.nColor3):stoch25 >= 10 ? (options.nColor2):stoch25 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour26 = stoch26>=94 ? options.topColor:stoch26>=90? (options.pColor1):stoch26 >= 80 ? (options.pColor2):stoch26 >= 70 ? (options.pColor3):stoch26 >= 60 ? (options.pColor4):stoch26 >= 50 ? (options.pColor5):stoch26 >= 40 ? (options.nColor5):stoch26 >= 30 ? (options.nColor4):stoch26 >= 20 ? (options.nColor3):stoch26 >= 10 ? (options.nColor2):stoch26 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour27 = stoch27>=94 ? options.topColor:stoch27>=90? (options.pColor1):stoch27 >= 80 ? (options.pColor2):stoch27 >= 70 ? (options.pColor3):stoch27 >= 60 ? (options.pColor4):stoch27 >= 50 ? (options.pColor5):stoch27 >= 40 ? (options.nColor5):stoch27 >= 30 ? (options.nColor4):stoch27 >= 20 ? (options.nColor3):stoch27 >= 10 ? (options.nColor2):stoch27 >= 5 ? (options.nColor1):options.bottomColor\\nvar colour28 = stoch28>=94 ? options.topColor:stoch28>=90? (options.pColor1):stoch28 >= 80 ? (options.pColor2):stoch28 >= 70 ? (options.pColor3):stoch28 >= 60 ? (options.pColor4):stoch28 >= 50 ? (options.pColor5):stoch28 >= 40 ? (options.nColor5):stoch28 >= 30 ? (options.nColor4):stoch28 >= 20 ? (options.nColor3):stoch28 >= 10 ? (options.nColor2):stoch28 >= 5 ? (options.nColor1):options.bottomColor\\n\\nif (options.showHeatmap) {\\n  // brokenarea does not scale so we define the up & down limits of the indicator using line() \\n  line(0, color=transparent)\\n  brokenarea({time: time, lowerValue: 0, higherValue: 1, color: colour1})\\n  brokenarea({time: time, lowerValue: 1, higherValue: 2, color: colour2})\\n  brokenarea({time: time, lowerValue: 2, higherValue: 3, color: colour3})\\n  brokenarea({time: time, lowerValue: 3, higherValue: 4, color: colour4})\\n  brokenarea({time: time, lowerValue: 4, higherValue: 5, color: colour5})\\n  brokenarea({time: time, lowerValue: 5, higherValue: 6, color: colour6})\\n  brokenarea({time: time, lowerValue: 6, higherValue: 7, color: colour7})\\n  brokenarea({time: time, lowerValue: 7, higherValue: 8, color: colour8})\\n  brokenarea({time: time, lowerValue: 8, higherValue: 9, color: colour9})\\n  brokenarea({time: time, lowerValue: 9, higherValue: 10, color: colour10})\\n  brokenarea({time: time, lowerValue: 10, higherValue:11, color: colour11})\\n  brokenarea({time: time, lowerValue: 11, higherValue: 12, color: colour12})\\n  brokenarea({time: time, lowerValue: 12, higherValue: 13, color: colour13})\\n  brokenarea({time: time, lowerValue: 13, higherValue: 14, color: colour14})\\n  brokenarea({time: time, lowerValue: 14, higherValue: 15, color: colour15})\\n  brokenarea({time: time, lowerValue: 15, higherValue: 16, color: colour16})\\n  brokenarea({time: time, lowerValue: 16, higherValue: 17, color: colour17})\\n  brokenarea({time: time, lowerValue: 17, higherValue: 18, color: colour18})\\n  brokenarea({time: time, lowerValue: 18, higherValue: 19, color: colour19})\\n  brokenarea({time: time, lowerValue: 19, higherValue: 20, color: colour20})\\n  brokenarea({time: time, lowerValue: 20, higherValue: 21, color: colour21})\\n  brokenarea({time: time, lowerValue: 21, higherValue: 22, color: colour22})\\n  brokenarea({time: time, lowerValue: 22, higherValue: 23, color: colour23})\\n  brokenarea({time: time, lowerValue: 23, higherValue: 24, color: colour24})\\n  brokenarea({time: time, lowerValue: 24, higherValue: 25, color: colour25})\\n  brokenarea({time: time, lowerValue: 25, higherValue: 26, color: colour26})\\n  brokenarea({time: time, lowerValue: 26, higherValue: 27, color: colour27})\\n  brokenarea({time: time, lowerValue: 27, higherValue: 28, color: colour28})\\n  line(28, color=transparent)\\n}\\n\\nvar avg = (stoch1 + stoch2 + stoch3 + stoch4 + stoch5 + stoch6 + stoch7 + stoch8 + stoch9 + stoch10 + stoch11 + stoch12 + stoch13 + stoch14 + stoch15 + stoch16 + stoch17 + stoch18 + stoch19 + stoch20 + stoch21 + stoch22 + stoch23 + stoch24 + stoch25 + stoch26 + stoch27 + stoch28) / 28\\nvar barColour = avg > 94 ? options.topColor:avg>=90 ? (options.pColor1):avg >= 80 ? (options.pColor2):avg >= 70 ? (options.pColor3):avg >= 60 ? (options.pColor4):avg >= 50 ? (options.pColor5):avg >= 40 ? (options.nColor5):avg >= 30 ? (options.nColor4):avg >= 20 ? (options.nColor3):avg >= 10 ? (options.nColor2):avg >= 5 ? (options.nColor1):options.bottomColor\\n\\n$price.color = barColour"}}')},"3dbb":function(t,e,s){},"3e57":function(t){t.exports=JSON.parse('{"preferQuoteCurrencySize":true,"aggregationLength":1,"disableAnimations":false,"calculateSlippage":null,"autoHideHeaders":true,"theme":"dark","backgroundColor":"rgb(23,27,41)","textColor":"","buyColor":"rgb(100, 157, 102)","sellColor":"rgb(239, 67, 82)","timezoneOffset":0,"useAudio":false,"audioVolume":1,"audioFilters":{"PingPongDelay":true,"Compressor":false,"Delay":false,"HighPassFilter":true,"LowPassFilter":false},"settings":["other","workspaces","chart","stats","counters","audio"],"searchSections":["exchanges"],"searchTypes":{"recentSearches":true,"historical":true,"spots":true,"perpetuals":true,"futures":false,"normalize":true,"mergeUsdt":true},"searchQuotes":{"USD":true,"USDT":true,"UST":true},"previousSearchSelections":[],"searchExchanges":{},"timeframes":[{"label":"1s","value":"1"},{"label":"3s","value":"3"},{"label":"5s","value":"5"},{"label":"10s","value":"10"},{"label":"15s","value":"15"},{"label":"30s","value":"30"},{"label":"1m","value":"60"},{"label":"3m","value":"180"},{"label":"5m","value":"300"},{"label":"15m","value":"900"},{"label":"21m","value":"1260"},{"label":"30m","value":"1800"},{"label":"1h","value":"3600"},{"label":"2h","value":"7200"},{"label":"4h","value":"14400"},{"label":"6h","value":"21600"},{"label":"8h","value":"28800"},{"label":"12h","value":"43200"},{"label":"1d","value":"86400"},{"label":"21 ticks","value":"21t"},{"label":"50 ticks","value":"50t"},{"label":"89 ticks","value":"89t"},{"label":"100 ticks","value":"100t"},{"label":"200 ticks","value":"200t"},{"label":"610 ticks","value":"610t"},{"label":"1000 ticks","value":"1000t"},{"label":"1597 ticks","value":"1597t"}],"timeframeGroups":["seconds","minutes","hours"],"favoriteTimeframes":{},"normalizeWatermarks":true,"alerts":true,"alertsColor":"red","alertsLineStyle":2,"alertsLineWidth":2,"alertsClick":false,"alertSound":null}')},4902:function(t,e,s){"use strict";s.d(e,"c",(function(){return c})),s.d(e,"b",(function(){return p})),s.d(e,"a",(function(){return u}));var o=s("2b0e"),i=s("6502"),n=s.n(i),a=s("0613"),r=s("28f3"),l=s("be31");const c={frequency:"Tone frequency of the note you want to play (Hz)",gain:"Determine how loud it should be (0 to 1 to avoid saturation)",fadeOut:"Duration of the OUT transition (in seconds, default is 1)",delay:"Wait n seconds before play the note",fadeIn:"Duration of the IN transition (in seconds, default is 0)",holdDuration:"Hold the note for n seconds (default 0)",osc:"Type of wave used for the note (can be triangle, square, sawtooth, sin etc)",startGain:"Initial gain (before fadeIn)",endGain:"Final gain (after fadeOut)",url:"Direct link to song (.mp3, .wav, .ogg) or name of already imported file",startTime:"Offset the start of the song at second n (to play only a part of it)"},p={play:["frequency","gain","fadeOut","delay","fadeIn","holdDuration","osc","startGain","endGain"],playurl:["url","gain","holdDuration","delay","startTime","fadeIn","fadeOut","startGain","endGain"]},u={play:{frequency:329.63,gain:1,fadeOut:1,delay:0,fadeIn:0,holdDuration:0,osc:"'triangle'",startGain:.001,endGain:.001},playurl:{url:"'https://d7d3471nr939s.cloudfront.net/DeepHouseSessions_Noiz_SP/MP3/One+Shots/Bongo_08_73_SP.mp3?cb=6cfb91bb-f15f-432a-bfae-17ef22b22005'",gain:1,holdDuration:1,delay:0,startTime:0,fadeIn:0,fadeOut:0,startGain:1e-5,endGain:1e-5}};class d{constructor(){this.filtersOptions={HighPassFilter:{frequency:800,Q:10,gain:-10,filterType:"highpass",bypass:0},LowPassFilter:{frequency:1500,Q:1,gain:0,filterType:"lowpass",bypass:0},Compressor:{threshold:-1,makeupGain:1,attack:1,release:0,ratio:4,knee:5,automakeup:!0,bypass:0},Delay:{feedback:.33,delayTime:400},PingPongDelay:{wetLevel:.6,feedback:.01,delayTimeLeft:175,delayTimeRight:100},Chorus:{rate:1.5,feedback:.4,depth:.7,delay:.0045,bypass:0}},this.count=0,this.minTime=0}connect(){this.context||(this.minTime=0,this.count=0,o["default"].nextTick(()=>{this.bindContext(),this.bindOutput()}))}bindContext(){this.context=new(window.AudioContext||window.webkitAudioContext);let t=!1;if("suspended"===this.context.state){const e=document.body;setTimeout(()=>{e.focus()},500);const s=(()=>{t||(t=!0,this.context&&a["b"].state.settings.useAudio&&this.context.resume(),setTimeout(()=>{a["b"].state.settings.useAudio&&"suspended"===this.context.state?"suspended"===this.context.state&&a["b"].dispatch("app/showNotice",{id:"audio",type:"error",title:"Browser prevented audio from playing\nClick somewhere to resume."}):(a["b"].state.settings.useAudio&&a["b"].dispatch("app/showNotice",{id:"audio",type:"success",title:"Audio resumed successfully 🔊"}),window.removeEventListener("focus",s),window.removeEventListener("blur",s),e.removeEventListener("click",s)),t=!1},500))}).bind(this);window.addEventListener("blur",s),window.addEventListener("focus",s),e.addEventListener("click",s)}else a["b"].dispatch("app/showNotice",{id:"audio",type:"success",title:"Audio enabled 🔊"});return this.context}bindOutput(){if(!this.context)return;this.output&&(this.output.disconnect(),this.output=null),this.tuna=new n.a(this.context);const t=[];for(const e in this.filtersOptions){if(!a["b"].state.settings.audioFilters[e])continue;let s=e;"HighPassFilter"!==e&&"LowPassFilter"!==e||(s="Filter"),t.push(new this.tuna[s](this.filtersOptions[e]))}if(this.gainNode=new this.tuna.Gain({gain:a["b"].state.settings.audioVolume}),t.push(this.gainNode),t.length){let e;for(const s of t)e&&e.connect(s),e=s;e.connect(this.context.destination),this.output=t[0]}else this.output=this.context.destination}setVolume(t){this.gainNode&&(this.gainNode.gain.value=t)}fetchArrayBuffer(t){return fetch(t).then(t=>t.arrayBuffer())}async retrieveArrayBuffer(t){const e=(await l["a"].getSound(t)).data,s=new FileReader;return new Promise(t=>{s.onloadend=e=>t(e.target.result),s.readAsArrayBuffer(e)})}async loadSoundBuffer(t){if(d.savedAudioBuffers[t])return d.savedAudioBuffers[t];let e;e=-1!==t.indexOf("/")?await this.fetchArrayBuffer(t):await this.retrieveArrayBuffer(t),d.savedAudioBuffers[t]=await this.context.decodeAudioData(e)}async playurl(t,e,s,o,i,n,a,r,l){if("running"!==this.context.state||!d.savedAudioBuffers[t])return;const c=this.getNextTime(o);setTimeout(()=>{const o=this.context.createGain(),p=this.context.createBufferSource();p.buffer=d.savedAudioBuffers[t],p.connect(o),o.connect(this.output),this.fade(p,o,c,e,r,n,s,a,l,i)},1e3*(c-this.context.currentTime))}async play(t,e,s,o,i,n,a,r,l){if("running"!==this.context.state)return;let c=this.getNextTime(o);setTimeout(()=>{if(!this.context)return;c=this.context.currentTime;const o=this.context.createOscillator(),p=this.context.createGain();o.frequency.value=t,o.type=a,p.connect(this.output),o.connect(p),this.fade(o,p,c,e,r,i,n,s,l)},1e3*(c-this.context.currentTime))}fade(t,e,s,o,i,n,a,r,l,c){t.onended=()=>{e.disconnect(),this.count--},n?(e.gain.setValueAtTime(i,s),e.gain.exponentialRampToValueAtTime(o,s+n),r&&(e.gain.setValueAtTime(o,s+n+a),setTimeout(()=>{e.gain.exponentialRampToValueAtTime(l,s+n+a+r)},1e3*(n+a)))):(e.gain.setValueAtTime(o,s),r&&e.gain.exponentialRampToValueAtTime(l,s+n+a+r)),"undefined"!==typeof c?t.start(s,c):t.start(s),t.stop(s+n+a+r)}getNextTime(t){let e=0;this.minTime?(this.minTime=Math.max(this.minTime,this.context.currentTime),!t&&this.count&&(e=this.count>10?this.count>20?this.count>100?.01:.02:.04:.08)):this.minTime=this.context.currentTime;const s=this.minTime+e+t;return this.minTime+=e,this.count++,s}reconnect(){this.disconnect(),this.connect()}disconnect(){this.context&&"running"===this.context.state&&this.context.close(),this.output&&this.output.disconnect(),this.context=null,this.output=null,a["b"].dispatch("app/showNotice",{id:"audio",title:"Audio disabled 🔇"})}async buildAudioFunction(t,e,s=null,o=null,i=!1){t="'use strict'; \n    var gain = Math.sqrt(ratio);\n    "+t;const n=/(play|playurl)\(/g;let l=null;null===o&&(o=1);try{do{if(l=n.exec(t)){const e=t.slice(l.index+l[0].length,Object(r["g"])(t,l.index+l[0].length-1)),i=Object(r["t"])(e);if(!i)throw new Error("Invalid argument(s) for "+l[0]+" function");const n=Object.values(u[l[1]]);for(let t=0;t<n.length;t++){let e=n[t];if("undefined"!==typeof i[t]){if("string"===typeof i[t]){i[t]=i[t].trim();const e=/^('|").*('|")$/.test(i[t]),s=/^('|").*('|")$/.test(n[t]);e&&!s?i[t]=n[t]:!e&&s&&(i[t]=`'${i[t]}'`)}try{e=JSON.parse(i[t])}catch(c){e=i[t]}null!==e&&""!==e||(e=n[t])}i[t]=null===e?"null":e}if("play"===l[1]?+i[0]&&s&&1!==s&&(i[0]*=s):await this.loadSoundBuffer(i[0].slice(1,i[0].length-1)),o&&1!==o)for(let t=1;t<=2;t++)+i[1]?i[1]*=o:i[1]=o+"*("+i[1]+")";const a=i.join(", ");t=t.replace("("+e+")","("+a+")")}}while(l);return t=t.replaceAll("play(","audioService['play']("),t=t.replaceAll("playurl(","audioService['playurl']("),new Function("audioService","ratio",t)}catch(c){if(i)throw c;return a["b"].dispatch("app/showNotice",{id:"audio-script-error",type:"error",title:`Please check that ${e} audio script is syntactically correct.`+(c.message?"<br>"+c.message:""),timeout:6e4}),new Function}}async playOnce(t){await this.loadSoundBuffer(t),this.playurl(t,1,1,0,0,0,0,1e-5,1e-5)}}d.savedAudioBuffers={},e["d"]=new d},"4a20":function(t,e,s){},"4ee8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQ5JREFUeNrslz0KwjAUgJNCF3EoiIuniIu7eJF6BE9kLyLuLvYULiJ0EJdC8QWe4NA0eT91sQ9CWkj7ffnhJTHm38MKvs2hLPD5AaX9pcAHnuF7x5WwCnAjkbBKcLYERSBDeB5p16JEpymQCidL2BHgJAk7EjxZIiZQQJkJc80LSsMR0IBHJYYEVspZ90YVWArmvm8t3M0UU1AW4XO3uULllDj1/HRZhzJdKJxiR91Qqg1FpShQsVIxTMMRqlIKh+Hfc0bAx8HPn2Tu8R/87RhGwe8JZ8aa8PAt9L4RH0gYEklw0pGMIJEMJx9KQcKhRBFo0iC8FicihgQZzr6Y9Eiw4KKr2ZeE4cKn8PEWYACxq1U+/EnHbQAAAABJRU5ErkJggg=="},"56e8":function(t,e,s){},"5cfe":function(t,e,s){"use strict";s("4a20")},6220:function(t,e,s){},7250:function(t,e,s){"use strict";var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"dialog",class:{"-mask":t.mask},on:{click:t.clickOutside}},[e("div",{ref:"dialogContent",staticClass:"dialog-content",class:t.contentClass,style:{transform:`translate(${t.delta.x}px, ${t.delta.y}px)`},on:{click:function(t){t.stopPropagation()},mousedown:t.onMouseDown}},[t.header?e("header",{style:{color:t.headerColor,background:t.headerBackground},on:{mousedown:t.handleDrag,touchstart:t.handleDrag}},[t._t("header"),e("div",{staticClass:"dialog-controls"},[t._t("controls"),e("a",{staticClass:"dialog-controls__close -link -text -no-grab",attrs:{href:"javascript:void(0);"},on:{click:t.close,touchend:t.close}},[e("i",{staticClass:"icon-cross"})])],2)],2):t._e(),e("div",{staticClass:"dialog-body hide-scrollbar",class:t.bodyClass},[t._t("default")],2)])])},i=[],n=s("9ab4"),a=s("0c01"),r=s("fa07"),l=s("60a3"),c=s("28f3");let p=class extends l["c"]{constructor(){super(...arguments),this.delta={x:0,y:0},this.target={x:0,y:0},this.animating=!1}get headerColor(){if(this.headerBackground){const t=Object(r["d"])(Object(r["k"])(this.headerBackground));return t>0?"black":"white"}return null}created(){this.startPosition&&(this.startPosition.x&&(this.delta.x=window.innerWidth*this.startPosition.x),this.startPosition.y&&(this.delta.y=window.innerHeight*this.startPosition.y))}beforeDestroy(){this._handleRelease&&this._handleRelease()}handleDrag(t){if(2===t.button||t.target.classList.contains("-no-grab")||t.target.parentElement.classList.contains("-no-grab"))return;t.preventDefault();const e=Object.assign({},this.delta),s=Object(c["m"])(t),o=this.$refs.dialogContent.offsetTop,i=-1*o;this._handleDragging=t=>{const o=Object(c["m"])(t),n=e.x+o.x-s.x,a=Math.max(i,e.y+o.y-s.y);this.target.x=n,this.target.y=a,this.animate()},this._handleRelease=()=>{document.removeEventListener("mousemove",this._handleDragging),document.removeEventListener("mouseup",this._handleRelease),document.removeEventListener("touchmove",this._handleDragging),document.removeEventListener("touchend",this._handleRelease),delete this._handleRelease},document.addEventListener("mousemove",this._handleDragging),document.addEventListener("mouseup",this._handleRelease),document.addEventListener("touchmove",this._handleDragging),document.addEventListener("touchend",this._handleRelease)}onMouseDown(){this._deinteractionTimeout&&clearTimeout(this._deinteractionTimeout),a["a"].isInteracting=!0;const t=()=>{document.removeEventListener("mouseup",t),this._deinteractionTimeout=setTimeout(()=>{a["a"].isInteracting=!1,this._deinteractionTimeout=null},100)};document.addEventListener("mouseup",t)}animate(){this.delta.x=this.target.x,this.delta.y=this.target.y;const t=Math.abs(this.delta.x-this.target.x)+Math.abs(this.delta.y-this.target.y);if(t>10&&!this.animating)return this.animating=!0,requestAnimationFrame(this.animate);this.animating=!1}clickOutside(){if(a["a"].isInteracting)return!1;this.$emit("clickOutside")}close(){this.$emit("clickOutside")}};p=Object(n["a"])([Object(l["a"])({name:"Dialog",props:{open:{type:Boolean},mask:{type:Boolean,default:!0},header:{type:Boolean,default:!0},headerBackground:{required:!1},bodyClass:{required:!1},contentClass:{required:!1},startPosition:{required:!1}}})],p);var u=p,d=u,h=s("2877"),m=Object(h["a"])(d,o,i,!1,null,null,null);e["a"]=m.exports},7596:function(t){t.exports=JSON.parse('[{"name":"threshold:bongo 🥁","type":"threshold","data":{"0":{"buyAudio":"playurl(https://d7d3471nr939s.cloudfront.net/DeepHouseSessions_Noiz_SP/MP3/One+Shots/Bongo_08_73_SP.mp3?cb=6cfb91bb-f15f-432a-bfae-17ef22b22005, gain * .75)","sellAudio":"playurl(https://d7d3471nr939s.cloudfront.net/DeepHouseSessions_Noiz_SP/MP3/One+Shots/Bongo_13_73_SP.mp3?cb=6ff3b374-9c98-4d3e-9f8e-4f02eef40c8e, gain * .75)"},"1":{"buyAudio":"playurl(https://d7d3471nr939s.cloudfront.net/SaharanRhythms_Noiz_SP/MP3/One+Shots/BongoHighFlam_SP_223_01.mp3?cb=4d88d832-850d-4ad1-9e89-a23b3cbdfb89, gain)","sellAudio":"playurl(https://d7d3471nr939s.cloudfront.net/SaharanRhythms_Noiz_SP/MP3/One+Shots/BongoLowFlamQuiet_SP_223_01.mp3?cb=ae87962f-a948-484e-a2dc-392c41f14105, gain)"},"2":{"buyAudio":"playurl(https://d7d3471nr939s.cloudfront.net/SaharanRhythms_Noiz_SP/MP3/One+Shots/BongoHighRoll_SP_223_01.mp3?cb=6d81f0bb-9e13-4404-aae5-02bce10d2a0a, gain)","sellAudio":"playurl(https://d7d3471nr939s.cloudfront.net/SaharanRhythms_Noiz_SP/MP3/One+Shots/BongoLowRoll_SP_223_01.mp3?cb=39110d56-d2cd-4be7-8e1f-d2f1c9f677cf, gain)"},"3":{"buyAudio":"playurl(https://d7d3471nr939s.cloudfront.net/CinematicPercussion_Noiiz_SP/MP3/One+Shots/Chimes+&+Bells/TubularBell_5_Mallet_395_SP.mp3?cb=2baef87d-892e-4704-8068-26d15072850c, gain / 2, 30)","sellAudio":"playurl(https://d7d3471nr939s.cloudfront.net/CinematicPercussion_Noiiz_SP/MP3/One+Shots/Chimes+&+Bells/TubularBell_7_Mallet_395_SP.mp3?cb=dfd72abd-0bdc-4d0e-8085-dea85017a49c, gain / 2, 20)"},"liquidations":{"buyAudio":"playurl(https://d7d3471nr939s.cloudfront.net/PlasticDrums_Noiiz/MP3/One+Shots/Kitchen+Kit/D_WaterBottleTom_01_631.mp3?cb=d1d46d16-81be-4674-875c-6c55cb54c797, gain)","sellAudio":"playurl(https://d7d3471nr939s.cloudfront.net/PlasticDrums_Noiiz/MP3/One+Shots/Kitchen+Kit/C%23_PlasticBottleKick_01_631.mp3?cb=eb673166-02a6-43b9-8187-daf05ea65a16, gain)"}}},{"name":"indicator:price:default","type":"indicator","version":"3.0.8","data":{"options":{"upColor":"rgba(100, 157, 102, 0)","downColor":"rgb(156,52,62)","borderUpColor":"rgb(59, 202, 109)","borderDownColor":"rgb(239,67,82)","wickUpColor":"rgb(59, 202, 109)","wickDownColor":"rgb(239,67,82)","borderVisible":true,"lastValueVisible":true,"priceLineColor":"rgba(255, 255, 255, .5)","priceLineVisible":true}}},{"name":"indicator:price:blue","type":"indicator","version":"3.0.8","data":{"options":{"upColor":"rgba(33, 150, 243, 0)","borderUpColor":"rgb(255, 255, 255)","wickUpColor":"rgba(255, 255, 255, .45)","downColor":"rgba(66, 165, 245, .47)","borderDownColor":"rgb(255, 255, 255, .33)","wickDownColor":"rgb(100, 181, 246, .53)","borderVisible":true,"lastValueVisible":true,"priceLineColor":"rgba(255, 255, 255, .5)","priceLineVisible":true}}},{"name":"indicator:price:light","type":"indicator","version":"3.0.8","data":{"options":{"upColor":"rgb(165,214,167)","downColor":"rgb(239,154,154)","borderUpColor":"rgb(102,187,106)","borderDownColor":"rgb(229,115,115)","wickUpColor":"rgb(102,187,106)","wickDownColor":"rgb(239,154,154)","priceLineColor":"rgba(0,0,0,0.5)"}}},{"name":"threshold:100k+","type":"threshold","data":{"0":{"amount":100000},"1":{"amount":250000},"2":{"amount":1000000},"3":{"amount":10000000}}},{"name":"threshold:250k+","type":"threshold","data":{"0":{"amount":250000},"1":{"amount":500000},"2":{"amount":2000000},"3":{"amount":10000000}}},{"name":"threshold:default colors","type":"threshold","version":"3.0.8","data":{"liquidations":[{"buyColor":"rgba(236,64,122,0.5)","sellColor":"rgba(255,152,0,0.5)"},{"buyColor":"rgba(236,64,122,0.6)","sellColor":"rgba(255,152,0,0.7)"},{"buyColor":"rgba(236,64,122,0.7)","sellColor":"rgba(255,152,0,0.8)"},{"buyColor":"rgb(156,39,176)","sellColor":"rgb(255,235,59)"}],"thresholds":[{"buyColor":"rgba(119, 148, 92, 0.25)","sellColor":"rgba(239, 67, 82, 0.25)"},{"buyColor":"rgb(100, 157, 102)","sellColor":"rgb(239, 67, 82)"},{"buyColor":"rgb(59, 202, 109)","sellColor":"rgb(235, 30, 47)"},{"buyColor":"rgb(0, 255, 127)","sellColor":"rgb(217, 31, 28)"}]}},{"name":"threshold:legacy colors","type":"threshold","version":"3.0.8","data":{"thresholds":[{"buyColor":"rgba(76,175,80,0.33)","sellColor":"rgba(229,115,115,.33)"},{"buyColor":"rgb(91,130,48)","sellColor":"rgb(224,91,82)"},{"buyColor":"rgb(156,204,101)","sellColor":"rgb(244,67,54)"},{"buyColor":"rgb(255,160,0)","sellColor":"rgb(233,30,99)"}]}},{"name":"threshold:saturated colors","type":"threshold","version":"3.0.8","data":{"thresholds":[{"buyColor":"rgba(119,148,92,0.5)","sellColor":"rgba(217,31,28,0.5)"},{"buyColor":"rgb(100, 157, 102)","sellColor":"rgb(157,20,20)"},{"buyColor":"rgb(59, 202, 109)","sellColor":"rgb(180,23,23)"},{"buyColor":"rgb(0, 255, 127)","sellColor":"rgb(217, 31, 28)"}],"liquidations":[{"buyColor":"rgba(255,76,243,0.25)","sellColor":"rgba(255,152,0,0.5)"},{"buyColor":"rgb(57,32,120)","sellColor":"rgba(255,152,0,0.7)"},{"buyColor":"rgb(78,44,169)","sellColor":"rgba(255,152,0,0.8)"},{"buyColor":"rgb(117,66,244)","sellColor":"rgb(255,235,59)"}]}}]')},"7ab0":function(t,e,s){"use strict";var o=function(){var t=this,e=t._self._c;return e("div",{ref:"wrapper",staticClass:"slider",class:{"-disabled":t.disabled}},[e("div",{ref:"track",staticClass:"slider__track"},[e("div",{ref:"fill",staticClass:"slider__fill",on:{mousedown:t.select,touchstart:t.select}}),t.showCompletion&&t.handles[0]?e("div",{staticClass:"slider__completion",style:`width: ${t.handles[0].positionX}px`}):t._e(),t._l(t.handles,(function(s,o){return e("div",{key:o,staticClass:"slider__handle",style:`transform: translate(${s.positionX}px, ${s.positionY}px); background-color: ${s.color};`,on:{mousedown:t.select,touchstart:t.select}},[t.label?e("div",{staticClass:"slider__label"},[t._t("tooltip",(function(){return[t._v(" "+t._s(s.value)+" ")]}),{value:s.value})],2):t._e()])}))],2)])},i=[],n=s("bea1"),a=s("28f3"),r={name:"VerteSlider",props:{gradient:Array,colorCode:{type:Boolean,default:!1},label:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:255},step:{type:Number,default:1},value:{type:Number,default:0},handlesValue:{type:Array,default:()=>[0]},showCompletion:{type:Boolean,default:!0},log:{type:Boolean,default:!1}},data:()=>({fill:{translate:0,scale:0},multiple:!1,currentValue:0,handles:[],values:[]}),watch:{gradient(t){this.initGradient(t),this.reloadHandlesColor()},values(){this.multiple=this.values.length>1,this.fill=!this.multiple&&(this.fill||{})},value(t,e){t!==e&&t!==this.currentValue&&this.updateValue(this.value,!0)}},methods:{init(){this.$emitInputEvent=Object(a["e"])(()=>{this.$emit("input",this.currentValue)}),this.multiple=this.values.length>1,this.values=this.handlesValue,this.handles=this.handlesValue.map(t=>({value:t,positionX:0,positionY:0,color:"#fff"})),1===this.values.length&&(this.values[0]=Number(this.value)),this.values.sort(),this.initElements(),this.gradient&&this.initGradient(this.gradient),this.initEvents(),this.values.forEach((t,e)=>{this.activeHandle=e,this.updateValue(t,!0)})},initElements(){this.wrapper=this.$refs.wrapper,this.track=this.$refs.track,this.fill=this.$refs.fill,this.classes&&this.wrapper.classList.add(...this.classes)},initGradient(t){t.length>1?this.fill.style.backgroundImage=`linear-gradient(90deg, ${t})`:(this.fill.style.backgroundImage="",this.fill.style.backgroundColor=t[0],this.handles.forEach(e=>{e.style.color=t[0]}))},handleResize(){this.updateSize(),this.updateValue(this.currentValue,!0)},initEvents(){window.addEventListener("resize",this.handleResize)},beforeDestroy(){this.removeEventListener("resize",this.handleResize)},select(t){if(t.preventDefault(),2===t.buttons)return;if(this._dblClickTimeout&&clearTimeout(this._dblClickTimeout),this.pendingDblClick)return this.pendingDblClick=!1,void this.$emit("reset");this.pendingDblClick=!0,this.updateSize(),this.track.classList.add("slider--dragging"),this.ticking=!1;const e=this.getStepValue(t);if(this.multiple){const t=Object(a["l"])(this.values,e);this.activeHandle=this.values.indexOf(t)}this.updateValue(e),this.tempDrag=this.dragging.bind(this),this.tempRelease=this.release.bind(this),document.addEventListener("mousemove",this.tempDrag),document.addEventListener("touchmove",this.tempDrag),document.addEventListener("touchend",this.tempRelease),document.addEventListener("mouseup",this.tempRelease)},dragging(t){const e=this.getStepValue(t);this.ticking||(window.requestAnimationFrame(()=>{this.updateValue(e),this.ticking=!1}),this.ticking=!0)},release(){this.track.classList.remove("slider--dragging"),document.removeEventListener("mousemove",this.tempDrag),document.removeEventListener("touchmove",this.tempDrag),document.removeEventListener("mouseup",this.tempRelease),document.removeEventListener("touchend",this.tempRelease),this.pendingDblClick&&(this._dblClickTimeout=window.setTimeout(()=>{this.pendingDblClick=!1,this._dblClickTimeout=null},150))},getStepValue(t){const{x:e}=Object(a["m"])(t);let s;if(this.log){const t=Math.max(0,Math.log(this.min+1)||0),o=t/Math.log(this.max+1)*this.width,i=Math.max(this.width/3*-1,Math.min(1.5*this.width,e-this.left));s=Math.max(0,Math.exp((o+i/this.width*(this.width-o))/this.width*Math.log(this.max+1))-1)}else{const t=e-this.left,o=parseInt(t/this.stepWidth+.5,10);s=o*this.step+this.min}return this.decimalsCount?Number(s.toFixed(this.decimalsCount)):s},updateSize(){const t=this.track.getBoundingClientRect();this.left=t.left,this.width=this.$el.clientWidth,this.width||(this.width=parseInt(this.track.parentElement.style.width)),!this.width&&t.width&&(this.width=t.width),this.stepWidth=this.width/(this.max-this.min)*this.step},getPositionPercentage(t){return this.log?Math.log(t+1)/Math.log(this.max+1):(t-this.min)/(this.max-this.min)},normalizeValue(t){if(isNaN(Number(t)))return this.value;if(this.multiple){const e=this.values[this.activeHandle-1]||this.min,s=this.values[this.activeHandle+1]||this.max;t=Math.min(Math.max(Number(t),e),s)}return Math.min(Math.max(Number(t),this.min),this.max)},addHandle(t){const e=Object(a["l"])(this.values,t),s=this.values.indexOf(e),o=this.values[s],i=o<=t?s+1:s;this.handles.splice(i,0,{value:t,positionX:0,positionY:0,color:"#fff"}),this.values.splice(i,0,t),this.activeHandle=i,this.currentValue=null,this.updateValue(t)},removeHandle(t){this.handles.splice(t,1),this.values.splice(t,1),this.activeHandle=0===t?t+1:t-1},getHandleColor(t){const e=this.gradient.length-1,s=t;for(let o=1;o<=e;o++)if(s>=(o-1)/e&&s<=o/e){const t=(s-(o-1)/e)/(1/e);return Object(n["b"])(this.gradient[o-1],this.gradient[o],t)}return"rgb(0, 0, 0)"},reloadHandlesColor(){this.handles.forEach((t,e)=>{const s=this.getPositionPercentage(t.value),o=this.getHandleColor(s);this.handles[e].color=o.toString()})},updateValue(t,e=!1){window.requestAnimationFrame(()=>{const s=this.normalizeValue(t),o=this.getPositionPercentage(s);if(this.fill&&(this.fill.translate=o*this.width,this.fill.scale=1-o),this.values[this.activeHandle]=s,this.handles[this.activeHandle].value=s,this.handles[this.activeHandle].positionX=o*this.width,this.currentValue=s,this.gradient){const t=this.getHandleColor(o);this.handles[this.activeHandle].color=t.toString(),this.colorCode&&(this.currentValue=t)}e||this.$emitInputEvent()})}},created(){const t=this.step.toString().split(".")[1];this.currentValue=this.value,this.decimalsCount=t?t.length:0},mounted(){this.init(),this.$nextTick(()=>{this.updateSize(),this.updateValue(void 0,!0)})},destroyed(){window.removeEventListener("resize",this.handleResize),this._updateSizeTimeout&&clearTimeout(this._updateSizeTimeout)}},l=r,c=(s("2480"),s("2877")),p=Object(c["a"])(l,o,i,!1,null,null,null);e["a"]=p.exports},"7e2b":function(t,e,s){},"81a6":function(t,e,s){"use strict";var o=function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn color-picker-control",on:{click:t.openPicker}},[e("div",{staticClass:"color-picker-control__color",style:{backgroundColor:t.value}}),t._m(0)])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"color-picker-control__wrapper"},[e("i",{staticClass:"icon-dropper"})])}],n=s("0c01"),a={name:"ColorPickerControl",props:{value:{type:String,default:"#000"},label:{type:String},allowNull:{type:Boolean}},data:()=>({dialogInstance:null}),beforeDestroy(){this.dialogInstance&&this.dialogInstance.close()},methods:{async openPicker(){let t,e=!1;this.dialogInstance=await n["a"].openPicker(this.value,s=>{t&&clearTimeout(t),e=!0,t=setTimeout(()=>{t=null,this.$emit("input",s)},500)},this.label,()=>this.$emit("close",e),this.allowNull)}}},r=a,l=(s("5cfe"),s("2877")),c=Object(l["a"])(r,o,i,!1,null,"0116c0c8",null);e["a"]=c.exports},8219:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAS5JREFUeNrsljEOgjAUQIuEGJ1c3D0C3kDdTTyCB3F09wgewl2OIEdwN5o6SFQM+Jt8TAeV/t8fF2zyQ4D+/15bKCjV9BZwExebSQyHBE/Hy+k2/ZmABe/hJc2VCATgykciEIKzJQIC3EB3EIOarnuIIUhol7otAjxxgCvsk2CO/wxY8Jj4uKS4HJot4AF3lqhbgpUHXGHumvUMwOhN4lxgs5thLfIMSMBftUBiRBVIBQW0cL1/a8j/QB8iEuLkEAfqWxAJDjTi7AOZoMDl043wS9IV7/vOhBnImSMgIZHhJqS4ApVE27Gv3e4Qp7pOrkWpEjnCSymBkiBh4EeIwqUwZVpdJEhwxVhXI3GD6L7ZxAoqnCNgS3QsiQr+oBYLma9XYUmUCM//XzZOewowABKyYnH/TytxAAAAAElFTkSuQmCC"},8766:function(t,e,s){"use strict";function o(){const t=" -webkit- -moz- -o- -ms- ".split(" "),e=function(t){return window.matchMedia(t).matches};if("ontouchstart"in window)return!0;const s=["(",t.join("touch-enabled),("),"heartz",")"].join("");return e(s)}function i(t){let e=t.offsetX,s=t.offsetY;if(t.touches&&t.touches.length){const o=t.target.getBoundingClientRect();e=t.touches[0].pageX-o.left,s=t.touches[0].pageY-o.top}return{x:e,y:s}}s.d(e,"b",(function(){return o})),s.d(e,"a",(function(){return i}))},"8bd5":function(t,e,s){"use strict";s("56e8")},"914d":function(t,e,s){"use strict";s("01ad")},"91bc":function(t,e,s){"use strict";s("3dbb")},9613:function(t,e,s){"use strict";s.d(e,"a",(function(){return o})),s.d(e,"c",(function(){return i})),s.d(e,"b",(function(){return n})),s.d(e,"d",(function(){return a}));const o=Date.now(),i=(/aggr.trade$/.test(window.location.hostname),1e4),n=24,a=6048e5},a0a8:function(t,e,s){"use strict";var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"input",staticClass:"w-100",attrs:{contenteditable:"",placeholder:t.placeholder},on:{input:t.onInput,keydown:t.onKeydown}})},i=[],n=s("9ab4"),a=s("8766"),r=s("60a3"),l=s("28f3");let c=class extends r["c"]{mounted(){Object(a["b"])()||this.$nextTick(()=>{this.$refs.input.focus()})}onKeydown(t){13===t.which&&(t.preventDefault(),this.$emit("submit",this.format(t.currentTarget.innerText)),this.$refs.input.innerText="")}format(t){const e=t.trim();let s;return/t$|ticks?$/i.test(e)?parseInt(e)+"t":(s=/d$/i.test(e)?60*parseFloat(e)*60*24:/h$/i.test(e)?60*parseFloat(e)*60:/m$/i.test(e)?60*parseFloat(e):/ms$/i.test(e)?parseFloat(e)/1e3:parseFloat(e),s)}onInput(t){const e=this.format(t.currentTarget.innerText)||null;let s;if(s=e?Object(l["p"])(e):t.currentTarget.innerText,!s||!s.length)return this.$emit("input",null);this.$emit("input",{value:e,label:s})}};c=Object(n["a"])([Object(r["a"])({name:"TimeframeInput",props:{hero:{type:Boolean,required:!1,default:!1},placeholder:{type:String,required:!1,default:null},autofocus:{type:String,required:!1,default:null}}})],c);var p=c,u=p,d=s("2877"),h=Object(d["a"])(u,o,i,!1,null,null,null);e["a"]=h.exports},a914:function(t,e,s){"use strict";var o=s("0613"),i=s("28f3"),n=s("ba10"),a=s.n(n);function r(){return new Worker(s.p+"js/aggregator.32a5e2d4.worker.js")}var l=s("06c2"),c=s("be31");class p extends a.a{constructor(){super(),this.worker=new r,this.worker.addEventListener("message",t=>{this.emit(t.data.op,t.data.data,t.data.trackingId)}),this.listenUtilityEvents()}listenUtilityEvents(){this.once("hello",()=>{c["a"].initialize()}),this.on("price",({market:t,price:e})=>{l["l"][t]=Object(l["a"])(e),this._normalizeDecimalsTimeout&&clearTimeout(this._normalizeDecimalsTimeout),this._normalizeDecimalsTimeout=setTimeout(this.normalizeDecimals.bind(this),1e3)}),this.on("getExchangeProducts",async({exchangeId:t,endpoints:e,forceFetch:s},o)=>{const i=await Object(l["i"])(t,e,s);this.dispatch({op:"getExchangeProducts",data:{exchangeId:t,data:i},trackingId:o})})}dispatch(t){this.worker.postMessage(t)}dispatchAsync(t){const e=Object(i["v"])(8);return new Promise(s=>{const o=({data:e})=>{e.trackingId===t.trackingId&&(this.worker.removeEventListener("message",o),s(e.data))};this.worker.addEventListener("message",o),t.trackingId=e,this.worker.postMessage(t)})}async connect(t){if(t.length){for(let e=0;e<t.length;e++){const[s]=Object(l["m"])(t[e]);if(o["b"].state.exchanges[s].disabled){const s=[];for(const i in o["b"].state.panes.panes)-1!==o["b"].state.panes.panes[i].markets.indexOf(t[e])&&s.push(i);t.splice(e,1),e--}}await this.dispatchAsync({op:"connect",data:t})}}async disconnect(t){t.length&&await this.dispatchAsync({op:"disconnect",data:t})}normalizeDecimals(){this._normalizeDecimalsTimeout=null;const t={};for(const e in l["l"]){if(!o["b"].state.panes.marketsListeners[e])continue;const s=o["b"].state.panes.marketsListeners[e].local.replace("USDT","USD").replace("USDC","USD");t[s]||(t[s]=[]),t[s].push(l["l"][e])}for(const e in l["l"]){if(!o["b"].state.panes.marketsListeners[e])continue;const s=Object(l["o"])(o["b"].state.panes.marketsListeners[e].local);if(!t[s])continue;const i=Math.round(t[s].reduce((t,e)=>t+e)/t[s].length);l["l"][e]=l["l"][s]=i}this.emit("decimals")}}e["a"]=new p},b7d5:function(t,e,s){"use strict";s("d569")},bd60:function(t,e,s){"use strict";var o=s("0c01"),i=s("be31"),n=s("28f3"),a=s("d951"),r=s("2b0e"),l=s("da81"),c=s.n(l);const p={},u={indicatorsErrors:{},indicators:{},priceScales:{right:{scaleMargins:{top:.04,bottom:.26}}},layouting:!1,timeframe:10,refreshRate:1e3,showLegend:!0,fillGapsWithEmpty:!0,forceNormalizePrice:!1,showHorizontalGridlines:!1,horizontalGridlinesColor:"rgba(255,255,255,.1)",showVerticalGridlines:!1,verticalGridlinesColor:"rgba(255,255,255,.1)",showWatermark:!0,watermarkColor:"rgba(255,255,255,.1)",hiddenMarkets:{},barSpacing:null},d={async boot({state:t}){if(t.indicatorsErrors={},t.layouting=!1,!Object.keys(t.indicators).length){const e=await i["a"].getIndicators();for(const s of e)!0===s.enabled&&(s.series||(s.series=[]),r["default"].set(t.indicators,s.id,s));Object(a["c"])(t)}},addIndicator({state:t,commit:e},s){const o=Object.keys(t.indicators);return s.id=Object(n["y"])(s.id,o),s={script:"plotline(avg_close(bar))",...s,options:{priceScaleId:s.priceScaleId||s.id,...s.options}},e("ADD_INDICATOR",s),e("UPDATE_INDICATOR_DISPLAY_NAME",s.id),s.id},duplicateIndicator({state:t,dispatch:e},s){const o=c()({},t.indicators[s]),i=Object.values(t.indicators);o.name=Object(n["y"])(o.name,i.map(t=>t.name)),o.id=Object(n["x"])(o.name),delete o.updatedAt,delete o.createdAt,delete o.enabled,e("addIndicator",o)},async downloadIndicator({state:t},e){const s=t.indicators[e],o=t.priceScales[s.options.priceScaleId]||{},i=Object.assign({},s.options,o?{scaleMargins:o.scaleMargins}:{});await Object(n["f"])({type:"indicator",name:"indicator:"+s.name,data:{options:i,description:s.description,script:s.script}},"indicator_"+e)},toggleSerieVisibility({commit:t,state:e},s){t("SET_INDICATOR_OPTION",{id:s,key:"visible",value:!(!e.indicators[s].options||"undefined"===typeof e.indicators[s].options.visible)&&!e.indicators[s].options.visible})},setIndicatorOption({commit:t,state:e},{id:s,key:o,value:i,silent:n}){try{i=JSON.parse(i)}catch(a){}e.indicators[s]&&e.indicators[s].options[o]===i||(t("SET_INDICATOR_OPTION",{id:s,key:o,value:i,silent:n}),e.indicators[s].unsavedChanges||t("FLAG_INDICATOR_AS_UNSAVED",s),-1!==e.indicators[s].name.indexOf(o)&&t("UPDATE_INDICATOR_DISPLAY_NAME",s))},async removeIndicator({state:t,commit:e,dispatch:s},{id:i,confirm:a=!0}){if(o["a"].mountedComponents.indicator&&o["a"].mountedComponents.indicator.indicatorId===i&&await o["a"].mountedComponents.indicator.close(),t.indicators[i].unsavedChanges&&a){const t=await o["a"].confirm({title:"Save changes ?",message:'This indicator has <strong>unsaved changes <i class="icon-warning"></i></strong>',cancel:"DISCARD CHANGES",ok:"SAVE",actions:[{label:"Cancel",callback:()=>2}],html:!0});if(null===t||2===t)return;t&&await s("saveIndicator",i)}e("REMOVE_INDICATOR",i),await Object(n["w"])(100)},async saveIndicator({state:t,commit:e,dispatch:s},o){e("FLAG_INDICATOR_AS_SAVED",o),i["a"].saveIndicator(t.indicators[o]),await s("transferIndicator",t.indicators[o])},async renameIndicator({commit:t,state:e,dispatch:s},{id:o,name:i}){const a=Object(n["y"])(Object(n["x"])(i),Object.keys(e.indicators)),r=JSON.parse(JSON.stringify(e.indicators[o])),l={...r,name:i,id:a};return t("ADD_INDICATOR",l),s("removeIndicator",{id:o,confirm:!1}),t("UPDATE_INDICATOR_DISPLAY_NAME",a),a},transferIndicator({state:t,rootState:e},s){for(const o in e.panes.panes){if(o===t._id||"chart"!==e.panes.panes[o].type)continue;const i=e[o].indicators[s.id];i.unsavedChanges||(i.options=s.options,this.commit(o+"/SET_INDICATOR_SCRIPT",{id:s.id}))}},async setIndicatorNavigationState({state:t},{id:e,navigationState:s}){t.indicators[e].navigationState=s,Object(a["d"])(t)},async undoIndicator({state:t,commit:e},s){const o=await i["a"].getIndicator(s);o?(t.indicators[s]=o,e("SET_INDICATOR_SCRIPT",{id:s})):this.dispatch("app/showNotice",{title:`Indicator ${s} doesn't exist in your library, nothing to rollback to.`,type:"error"})},toggleMarkets({state:t,rootState:e,commit:s},{type:o,id:i,inverse:n}){const a="undefined"!==typeof e.panes.panes[t._id].markets.find(e=>!0===t.hiddenMarkets[e]);for(const l of e.panes.panes[t._id].markets){const s=!0===t.hiddenMarkets[l];if(o)if("all"===o)a!==!s&&r["default"].set(t.hiddenMarkets,l,!a);else{const i=e.panes.marketsListeners[l],n=o!==i.type;n!==s&&r["default"].set(t.hiddenMarkets,l,n)}else if(n)s||l===i?s&&l===i&&r["default"].set(t.hiddenMarkets,l,!1):r["default"].set(t.hiddenMarkets,l,!0);else{if(l!==i)continue;r["default"].set(t.hiddenMarkets,l,!s)}}s("TOGGLE_MARKET")}},h={SET_REFRESH_RATE(t,e){t.refreshRate=+e||0},TOGGLE_LEGEND(t){t.showLegend=!t.showLegend},SET_GRIDLINES(t,{type:e,value:s}){"vertical"===e?"boolean"===typeof s?t.showVerticalGridlines=s:t.verticalGridlinesColor=s:"boolean"===typeof s?t.showHorizontalGridlines=s:t.horizontalGridlinesColor=s},SET_WATERMARK(t,{value:e}){"boolean"===typeof e?t.showWatermark=e:t.watermarkColor=e},SET_INDICATOR_SERIES(t,{id:e,series:s}){t.indicators[e].series=s},SET_INDICATOR_ERROR(t,{id:e,error:s}){s?r["default"].set(t.indicatorsErrors,e,s):r["default"].set(t.indicatorsErrors,e,null)},SET_TIMEFRAME(t,e){t.timeframe=e},ADD_INDICATOR(t,e){r["default"].set(t.indicators,e.id,e)},UPDATE_DESCRIPTION(t,{id:e,description:s}){r["default"].set(t.indicators[e],"description",s)},REMOVE_INDICATOR(t,e){r["default"].delete(t.indicators,e)},SET_INDICATOR_OPTION(t,{id:e,key:s,value:o}){t.indicators[e]||(t.indicators[e]={}),t.indicators[e].options||(t.indicators[e].options={}),r["default"].set(t.indicators[e].options,s,o)},REMOVE_INDICATOR_OPTION(t,{id:e,key:s}){t.indicators[e]&&r["default"].delete(t.indicators[e].options,s)},SET_INDICATOR_SCRIPT(t,e){"undefined"!==typeof e.value&&(t.indicators[e.id].script!==e.value&&this.commit(t._id+"/FLAG_INDICATOR_AS_UNSAVED",e.id),r["default"].set(t.indicators[e.id],"script",e.value))},FLAG_INDICATOR_AS_UNSAVED(t,e){r["default"].set(t.indicators[e],"unsavedChanges",!0)},FLAG_INDICATOR_AS_SAVED(t,e){r["default"].set(t.indicators[e],"unsavedChanges",!1)},TOGGLE_LAYOUTING(t,e){"string"!==typeof e||t.layouting?t.layouting=!t.layouting:t.layouting=e},TOGGLE_FILL_GAPS_WITH_EMPTY(t){t.fillGapsWithEmpty=!t.fillGapsWithEmpty},TOGGLE_FORCE_NORMALIZE_PRICE(t){t.forceNormalizePrice=!t.forceNormalizePrice},UPDATE_INDICATOR_DISPLAY_NAME(t,e){const s=t.indicators[e].name.replace(/\{([\w\d_]+)\}/g,(s,o)=>t.indicators[e].options[o]||"");r["default"].set(t.indicators[e],"displayName",s)},TOGGLE_MARKET(t,e){e&&r["default"].set(t.hiddenMarkets,e,!t.hiddenMarkets[e])},SET_PRICE_SCALE(t,{id:e,priceScale:s}){s?t.priceScales[e]=s:delete t.priceScales[e]},SET_BAR_SPACING(t,e){t.barSpacing=e}};var m={namespaced:!0,state:u,getters:p,actions:d,mutations:h},g=s("2818");const f={},b={granularity:5e3,window:6e4,enableChart:!1,buckets:{trades:{id:"trades",name:"TRADES",input:"cbuy + csell",enabled:!0,color:"rgba(255, 255, 255, .25)",precision:2,type:"line"},vold:{id:"vold",name:"VOLUME Δ",input:"vbuy - vsell",enabled:!0,color:"#40d745",type:"area"},tradesd:{id:"tradesd",name:"TRADES Δ",input:"cbuy - csell",enabled:!0,color:"#2196f3",precision:2,type:"line"},"1hliq":{id:"1hliq",name:"1H LIQUIDATIONS Δ",window:36e5,input:"lbuy-lsell",enabled:!1,color:"value>0?'#43a047':'#f44336'",conditionnalColor:!0,type:"histogram"}}},C={createBucket({state:t,commit:e}){const s=Object.keys(t.buckets),i=s.map(e=>t.buckets[e].name),a=Object(n["y"])("Untitled Bucket",i),r=Object(n["y"])(Object(n["x"])(a),s);e("CREATE_BUCKET",{id:r,name:a}),o["a"].open(g["a"],{paneId:t._id,bucketId:r})},updateBucket({commit:t,state:e},{id:s,prop:o,value:i}){if(e.buckets[s][o]===i)return;let n="";n+="boolean"===typeof i?"TOGGLE_BUCKET":"SET_BUCKET_"+o.toUpperCase(),t(n,{id:s,value:i})},renameBucket({commit:t,state:e},{id:s,name:o}){const i=Object.keys(e.buckets).filter(t=>t!==s).map(t=>e.buckets[t].name);o=Object(n["y"])(o,i),t("RENAME_BUCKET",{id:s,name:o})}},v={TOGGLE_BUCKET(t,{id:e,value:s}){const o=t.buckets[e];o.enabled=!!s,r["default"].set(t.buckets,e,o)},SET_BUCKET_INPUT(t,{id:e,value:s}){const o=t.buckets[e];o.input=s,r["default"].set(t.buckets,e,o)},RENAME_BUCKET(t,{id:e,name:s}){const o=t.buckets[e];o.name=s,r["default"].set(t.buckets,e,o)},SET_BUCKET_COLOR(t,{id:e,value:s}){const o=t.buckets[e];o.color=s,r["default"].set(t.buckets,e,o)},SET_BUCKET_TYPE(t,{id:e,value:s}){const o=t.buckets[e];o.type=s,o.conditionnalColor&&"histogram"!==s&&this.commit(t._id+"/TOGGLE_BUCKET_COLOR_CONDITION",e),r["default"].set(t.buckets,e,o)},TOGGLE_BUCKET_COLOR_CONDITION(t,e){const s=t.buckets[e];s.conditionnalColor=!s.conditionnalColor,s.conditionnalColor||this.commit(t._id+"/SET_BUCKET_COLOR",{id:e,value:this.state.settings.textColor}),r["default"].set(t.buckets,e,s)},SET_BUCKET_PRECISION(t,{id:e,value:s}){const o=t.buckets[e];s=parseInt(s),o.precision=isNaN(s)?null:s,r["default"].set(t.buckets,e,o)},SET_BUCKET_WINDOW(t,{id:e,value:s}){const o=t.buckets[e];let i=parseInt(s);isNaN(i)?o.window=null:(/[\d.]+s/.test(s)?i*=1e3:/[\d.]+h/.test(s)?i*=36e5:i*=6e4,o.window=i),r["default"].set(t.buckets,e,o)},CREATE_BUCKET(t,{id:e,name:s}){r["default"].set(t.buckets,e,{id:e,name:s,input:"vbuy + vsell",enabled:!1})},REMOVE_BUCKET(t,e){r["default"].delete(t.buckets,e)},SET_WINDOW(t,e){let s=parseInt(e)||0;/[\d.]+s/.test(e)?s*=1e3:/[\d.]+h/.test(e)?s*=36e5:s*=6e4,t.window=s},TOGGLE_CHART(t,e){t.enableChart=!!e}};var y={namespaced:!0,state:b,getters:f,actions:C,mutations:v},w=s("06c2"),_=s("fa07");const k={getThreshold:t=>e=>{for(let s=0;s<t.thresholds.length;s++)if(t.thresholds[s].id===e)return t.thresholds[s];for(let s=0;s<t.liquidations.length;s++)if(t.liquidations[s].id===e)return t.liquidations[s]}},T={liquidations:[{id:"liquidation_threshold",amount:5e4,buyColor:"rgba(236,64,122,0.5)",sellColor:"rgba(255,152,0,0.5)",buyAudio:"var srqtR = Math.min(1, gain / 4)\nplay(329.63, srqtR, srqtR*2,0,,,'sine')\nplay(329.63, srqtR, srqtR*4,0.08,,,'sine')",sellAudio:"var srqtR = Math.min(1, gain / 6)\nplay(440, srqtR, srqtR*2,0,,,'sine')\nplay(440, srqtR, srqtR*4,0.08,,,'sine')"},{id:"liquidation_significant",amount:1e5,buyColor:"rgba(236,64,122,0.6)",sellColor:"rgba(255,152,0,0.7)",buyAudio:"var srqtR = Math.min(1, gain / 4)\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\nplay(329.63, srqtR, srqtR*6,0.08,,,'sine')",sellAudio:"var srqtR = Math.min(1, gain / 6)\nplay(440, srqtR, srqtR*4,0,,,'sine')\nplay(440, srqtR, srqtR*6,0.08,,,'sine')"},{id:"liquidation_huge",amount:2e5,buyGif:"flying money",sellGif:"flying money",buyColor:"rgba(236,64,122,0.7)",sellColor:"rgba(255,152,0,0.8)",buyAudio:"var srqtR = Math.min(1, gain / 4)\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\nplay(329.63, srqtR, srqtR*8,0.08,,,'sine')",sellAudio:"var srqtR = Math.min(1, gain / 6)\nplay(440, srqtR, srqtR*4,0,,,'sine')\nplay(440, srqtR, srqtR*8,0.08,,,'sine')"},{id:"liquidation_rare",amount:1e6,buyGif:"explosion",sellGif:"explosion",buyColor:"rgb(156,39,176)",sellColor:"rgb(255,235,59)",buyAudio:"var srqtR = Math.min(1, gain / 10)\nplay(329.63, srqtR, 1,0,,,'sine')\nplay(329.63, srqtR, srqtR*10,0.08,,,'sine')",sellAudio:"var srqtR = Math.min(1, gain / 10)\nplay(440, srqtR, 1,0,,,'sine')\nplay(440, srqtR, srqtR*10,0.08,,,'sine')"}],thresholds:[{id:"threshold",amount:1e5,buyColor:"rgba(119, 148, 92, 0.25)",sellColor:"rgba(239, 67, 82, 0.25)",buyAudio:"play(659.26, gain / 10, 0.1 + gain / 7)",sellAudio:"play(493.88, gain * 1.5 / 10, 0.1 + gain / 7)"},{id:"significant",amount:25e4,buyColor:"rgb(100, 157, 102)",sellColor:"rgb(239, 67, 82)",buyAudio:"play(659.26, 0.05 + gain / 10, 0.2 + ratio * 0.23,0,,0);\nplay(830.6, 0.05 + gain / 10, 0.2 + ratio * 0.23, 0.08,,0)",sellAudio:"play(493.88, 0.05 + gain * 1.5 / 10, 0.2 + ratio * 0.23,0,,0);\nplay(392, 0.05 + gain * 1.5 / 10, 0.2 + ratio * 0.23, 0.08,,0)"},{id:"huge",amount:1e6,buyGif:"cash bullish",sellGif:"cash bearish",buyColor:"rgb(59, 202, 109)",sellColor:"rgb(235, 30, 47)",buyAudio:"play(659.26, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0,,0);\nplay(830.6, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0.08,,0);\nplay(987.76, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0.16,,0);\nplay(1318.52, 0.05 + gain / 10, 0.1 + ratio * 0.23, 0.24,,0)",sellAudio:"play(493.88, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0,,0);\nplay(369.99, 0.05 + gain * 1.5 / 10, 0.2, 0.08,,0);\nplay(293.66, 0.05 + gain * 1.5 / 10, 0.2, 0.16,,0);\nplay(246.94, 0.05 + gain * 1.5 / 10, 0.1 + ratio * 0.23, 0.24,,0)"},{id:"rare",amount:1e7,buyGif:"explosion",sellGif:"explosion",buyColor:"rgb(0, 255, 127)",sellColor:"rgb(217, 31, 28)",buyAudio:"play(659.26, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0,,0);\nplay(830.6, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0.08,,0);\nplay(987.76, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0.16,,0);\nplay(1318.52, 0.05 + gain / 10, 0.1 + ratio * 0.13, 0.24,,0)",sellAudio:"play(493.88, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0,,0);\nplay(369.99, 0.05 + gain * 1.5 / 10, 0.2, 0.08,,0);\nplay(293.66, 0.05 + gain * 1.5 / 10, 0.2, 0.16,,0);\nplay(246.94, 0.05 + gain * 1.5 / 10, 0.1 + ratio * 0.13, 0.24,,0)"}],audioThreshold:null,multipliers:{},showThresholdsAsTable:!0,maxRows:100,muted:!1,audioPitch:null,audioVolume:null,showTradesPairs:!1,tradeType:"both",showLogos:!0,monochromeLogos:!1,showTimeAgo:!0,showPrice:!0,thresholdsMultipler:1},S={boot({rootState:t,dispatch:e},s){s&&e("generateSwatch",{buyColor:t.settings.buyColor,sellColor:t.settings.sellColor})},updateThreshold({state:t,commit:e},{index:s,prop:o,value:i}){const n=t.thresholds[s];if(!n)throw new Error("No threshold");let a={index:s};i&&"object"===typeof i?a={...a,...i}:a.value=i,e("SET_THRESHOLD_"+o,a),t.thresholds=JSON.parse(JSON.stringify(t.thresholds))},updateLiquidations({state:t,commit:e},{prop:s,value:o}){const i=t.liquidations;if(!i)throw new Error("No liquidation threshold");e("SET_LIQUIDATIONS_"+s,o)},generateSwatch({state:t},{buyColor:e,sellColor:s,baseVariance:o=.15}){const i=t.thresholds.length,n=i/2*-o,a=Object(_["k"])(e),r=Object(_["k"])(s);for(let l=0;l<i;l++){let e=Object(_["f"])(a,n+o*l);l||(e=Object(_["i"])([...Object(_["k"])(e),.33])),t.thresholds[l].buyColor=e;let s=Object(_["f"])(r,n+o*l);l||(s=Object(_["i"])([...Object(_["k"])(s),.33])),t.thresholds[l].sellColor=s}this.dispatch("app/showNotice",{title:`Generating swatches for ${i} thresholds with ${o} variance`,type:"info"})}},E={TOGGLE_TRADES_PAIRS(t){t.showTradesPairs=!t.showTradesPairs},SET_MAX_ROWS(t,e){t.maxRows=e},TOGGLE_LOGOS(t){t.monochromeLogos?(t.showLogos=!1,t.monochromeLogos=!1):t.showLogos?t.monochromeLogos=!0:(t.showLogos=!0,t.monochromeLogos=!1)},TOGGLE_MUTED(t){t.muted=!t.muted,t.muted||0!==t.audioVolume||(t.audioVolume=null)},SET_AUDIO_PITCH(t,e){"string"===typeof e&&(e=e.replace(/[^0-9-.]/g,"")),e=+e,t.audioPitch=e&&1!==e?e:null},SET_AUDIO_VOLUME(t,e){"string"===typeof e&&(e=e.replace(/[^0-9-.]/g,"")),isNaN(+e)||null===e?t.audioVolume=null:(t.audioVolume=+e,0!==t.audioVolume||t.muted?t.audioVolume>0&&t.muted&&(t.muted=!1):t.muted=!0)},TOGGLE_MONOCHROME_LOGOS(t,e){t.monochromeLogos=!!e},TOGGLE_TRADE_TYPE(t){const e=["both","liquidations","trades"],s=Math.max(0,e.indexOf(t.tradeType));t.tradeType=e[(s+1)%e.length]},TOGGLE_TIME_AGO(t){t.showTimeAgo=!t.showTimeAgo},TOGGLE_PRICE(t){t.showPrice=!t.showPrice},TOGGLE_THRESHOLDS_TABLE(t,e){t.showThresholdsAsTable=!!e},SET_THRESHOLD_AMOUNT(t,{id:e,value:s}){const o=this.getters[t._id+"/getThreshold"](e);o&&("string"===typeof s&&/m|k$/i.test(s)&&(/m$/i.test(s)?o.amount=1e6*parseFloat(s):o.amount=1e3*parseFloat(s)),o.amount=+s)},TOGGLE_THRESHOLD_MAX(t,e){const s=this.getters[t._id+"/getThreshold"](e);s&&r["default"].set(s,"max",!s.max)},SET_THRESHOLD_MULTIPLIER(t,{identifier:e,multiplier:s}){null===s||isNaN(s)||s<0?r["default"].delete(t.multipliers,e):(0===s&&(s=.01),r["default"].set(t.multipliers,e,s))},SET_THRESHOLD_GIF(t,e){const s=this.getters[t._id+"/getThreshold"](e.id),o=e.side+"Gif";s&&(e.value.trim().length?s[o]=e.value:(e.value=s.gif,e.isDeleted=!0,s[o]=null))},SET_THRESHOLD_COLOR(t,{id:e,side:s,value:o}){const i=this.getters[t._id+"/getThreshold"](e);i&&(i[s]=o)},SET_THRESHOLD_AUDIO(t,{id:e,buyAudio:s,sellAudio:o}){const i=this.getters[t._id+"/getThreshold"](e);i&&(i["buyAudio"]=s,i["sellAudio"]=o)},ADD_THRESHOLD(t,e){const s=t[e][t[e].length-1];let o="play(659.26, ratio, ratio, 0)",i="play(493.88, ratio, ratio, 0)";s&&(o=s.buyAudio,i=s.sellAudio),t[e].push({id:Object(n["v"])(8),amount:2*t[e][t.thresholds.length-1].amount,buyColor:"rgb(0, 255, 0)",sellColor:"rgb(255, 0, 0)",buyAudio:o,sellAudio:i})},DELETE_THRESHOLD(t,e){const s=t.thresholds.indexOf(t.thresholds.find(t=>t.id===e));if(-1!==s)return void t.thresholds.splice(s,1);const o=t.liquidations.indexOf(t.liquidations.find(t=>t.id===e));-1===o||t.liquidations.splice(o,1)},SET_AUDIO_THRESHOLD(t,e){t.audioThreshold=e},SET_THRESHOLDS_MULTIPLER(t,{value:e,market:s}){e=Math.max(e,.01);const o=(e-t.thresholdsMultipler)/t.thresholdsMultipler;t.thresholdsMultipler=e;for(const i of t.thresholds)i.amount=+Object(w["d"])(i.amount+i.amount*o,s);for(const i of t.liquidations)i.amount=+Object(w["d"])(i.amount+i.amount*o,s)}};var O={namespaced:!0,state:T,getters:k,actions:S,mutations:E};const A={},x={animateSort:!0,showPairs:!0,showVolume:!0,showVolumeDelta:!0,period:0,showChange:!0,showPrice:!0,sortType:"change",sortOrder:-1},P={},I={TOGGLE_SORT_ANIMATION(t){t.animateSort=!t.animateSort},TOGGLE_PAIRS(t){t.showPairs=!t.showPairs},TOGGLE_VOLUME(t){t.showVolume=!t.showVolume},TOGGLE_VOLUME_DELTA(t){t.showVolumeDelta=!t.showVolumeDelta},SET_PERIOD(t,e){t.period=e},TOGGLE_CHANGE(t){t.showChange=!t.showChange},TOGGLE_PRICE(t){t.showPrice=!t.showPrice},TOGGLE_SORT_ORDER(t){t.sortOrder=t.sortOrder>0?-1:1},SET_SORT_TYPE(t,e){t.sortType=e}};var D={namespaced:!0,state:x,getters:A,actions:P,mutations:I};const L={},R={granularity:5e3,liquidationsOnly:!1,steps:[3e4,6e4,9e5,18e5],count:!1},B={},M={REPLACE_COUNTERS(t,e){t.steps=e.sort((t,e)=>t-e)},TOGGLE_COUNT(t){t.count=!t.count},TOGGLE_LIQUIDATIONS_ONLY(t){t.liquidationsOnly=!t.liquidationsOnly}};var N={namespaced:!0,state:R,getters:L,actions:B,mutations:M};const $={},U={url:null,reloadTimer:0,interactive:!1,locked:!1},j={async boot({state:t,dispatch:e}){setTimeout(()=>{e("setTitle",t.url)})},setUrl({dispatch:t,commit:e},s){if(s)try{new URL(s),t("setTitle",s),e("SET_URL",s)}catch(o){}},setTitle({rootState:t,state:e},s){let o="";try{o=new URL(e.url).hostname}catch(n){}let i="";try{i=new URL(s).hostname}catch(n){}t.panes.panes[e._id].name&&t.panes.panes[e._id].name!==o||this.commit("panes/SET_PANE_NAME",{id:e._id,name:i})}},G={SET_URL(t,e){t.url=e},TOGGLE_INTERACTIVE(t){t.interactive=!t.interactive},UNLOCK_URL(t){t.locked=!1},SET_RELOAD_TIMER(t,e){t.reloadTimer=e}};var F={namespaced:!0,state:U,getters:$,actions:j,mutations:G};e["a"]={chart:m,stats:y,trades:O,prices:D,counters:N,website:F,"trades-lite":O}},be31:function(t,e,s){"use strict";var o=s("392d"),i=s("7596"),n=s("cb7c"),a=s("0613"),r=s("28f3"),l=s("3f4f"),c=s("bd60"),p=s("06c2");const u={0:t=>{const e=t.createObjectStore("workspaces",{keyPath:"id"});e.createIndex("name","name");const s=t.createObjectStore("series",{keyPath:"id"});s.createIndex("name","name"),t.createObjectStore("products",{keyPath:"exchange"}),t.createObjectStore("gifs",{keyPath:"slug"})},1:t=>{t.deleteObjectStore("series");const e=t.createObjectStore("indicators",{keyPath:"id"});e.createIndex("name","name")},2:t=>{t.createObjectStore("presets",{keyPath:"name"})},3:t=>{t.createObjectStore("sounds",{keyPath:"name"}),t.createObjectStore("colors",{autoIncrement:!0})},5:async t=>{t.createObjectStore("alerts",{keyPath:"market"})},7:async(t,e)=>{const s=e.objectStore("alerts"),o=await s.getAllKeys();for(const i of o){const[t,e]=Object(p["m"])(i),{local:o}=Object(p["h"])(t,e,!0),n=await s.get(i);let a;a=n.prices?n.prices.map(t=>({price:t,market:o,active:!0})):n.alerts.map(t=>({...t,market:o})),a=a.filter(t=>t.price>=0),await s.delete(i),a.length&&await s.put({market:o,alerts:a})}}},d={1:t=>{const e=t.states.panes.layout;t.states.panes.layouts={lg:JSON.parse(JSON.stringify(e))},delete t.states.panes.layout;const s=JSON.parse(JSON.stringify(c["a"].trades.state)),o=JSON.parse(JSON.stringify(n.panes.liquidations.settings)),i=(t,e)=>{let i,n=null,a=null;if(i="liquidations"===e?o:s,"liquidations"===t.id)n=s.liquidations.buyAudio,a=s.liquidations.sellAudio;else{const e=i.thresholds.find(e=>e.id===t.id);e&&(n=e.buyAudio,a=e.sellAudio)}null!==n&&null!==a&&(t.buyAudio=n,t.sellAudio=a)};for(const n in t.states.panes.panes)if("trades"===t.states.panes.panes[n].type&&t.states[n]){i(t.states[n].liquidations,n);for(const e of t.states[n].thresholds)i(e,n)}},2:t=>{t.states.settings&&(t.states.settings.audioFilters={HighPassFilter:!!t.states.settings.audioFilter,LowPassFilter:!1,Compressor:!!t.states.settings.audioCompressor,Delay:!!t.states.settings.audioDelay,PingPongDelay:!!t.states.settings.audioPingPong,Chorus:!1},delete t.states.settings.audioFilter,delete t.states.settings.audioCompressor,delete t.states.settings.audioPingPong,delete t.states.settings.audioDelay)},3:t=>{const e={xl:1400,lg:1024,md:768,sm:480,xs:0},s={xl:32,lg:24,md:16,sm:12,xs:8},o=t.states.panes.layouts,i=Object.keys(o).reduce((t,s)=>(t[s]=e[s],t),{}),n=Object.keys(i).sort((t,e)=>s[e]-s[t]);i[n[n.length-1]]=0;const a=window.innerWidth;let r;for(r of n)if(a>i[r])break;const l=t.states.panes.layouts[r];if("lg"!==r){const t=s[r],e=s.lg/t;for(const s of l)s.x=Math.floor(s.x*e),s.y=Math.floor(s.y*e),s.w=Math.floor(s.w*e),s.h=Math.floor(s.h*e)}t.states.panes.layout=l,delete t.states.panes.layouts;for(const c in t.states.panes.panes){if("chart"!==t.states.panes.panes[c].type||!t.states[c])continue;let e={top:.1,bottom:.2};if(t.states[c].indicators){const s=Object.keys(t.states[c].indicators).find(e=>t.states[c].indicators[e].options&&t.states[c].indicators[e].options.scaleMargins&&"right"===t.states[c].indicators[e].options.priceScaleId);s&&(e=t.states[c].indicators[s].options.scaleMargins)}t.states[c].priceScales={right:{mode:0,scaleMargins:e}}}},4:t=>{for(const e in t.states.panes.panes){if("trades"!==t.states.panes.panes[e].type||!t.states[e])continue;const s=t.states[e];let o={id:"liquidation_threshold",amount:1e4,buyColor:"rgba(236,64,122,0.5)",sellColor:"rgba(255,152,0,0.5)",buyAudio:"var srqtR = Math.min(1, gain / 4)\nplay(329.63, srqtR, srqtR*2,0,,,'sine')\nplay(329.63, srqtR, srqtR*4,0.08,,,'sine')",sellAudio:"var srqtR = Math.min(1, gain / 6)\nplay(440, srqtR, srqtR*2,0,,,'sine')\nplay(440, srqtR, srqtR*4,0.08,,,'sine')"};t.states[e].liquidation&&t.states[e].liquidation.amount<25e3&&(o=t.states[e].liquidation,o.id="liquidation_threshold",t.states[e].liquidation.gif&&(o.buyGif=t.states[e].liquidation.gif,o.sellGif=t.states[e].liquidation.gif,delete o.gif)),s.liquidations=[o,{id:"liquidation_significant",amount:25e3,buyColor:"rgba(236,64,122,0.6)",sellColor:"rgba(255,152,0,0.7)",buyAudio:"var srqtR = Math.min(1, gain / 4)\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\nplay(329.63, srqtR, srqtR*6,0.08,,,'sine')",sellAudio:"var srqtR = Math.min(1, gain / 6)\nplay(440, srqtR, srqtR*4,0,,,'sine')\nplay(440, srqtR, srqtR*6,0.08,,,'sine')"},{id:"liquidation_huge",amount:1e5,buyGif:"rekt",sellGif:"rekt",buyColor:"rgba(236,64,122,0.7)",sellColor:"rgba(255,152,0,0.8)",buyAudio:"var srqtR = Math.min(1, gain / 4)\nplay(329.63, srqtR, srqtR*4,0,,,'sine')\nplay(329.63, srqtR, srqtR*8,0.08,,,'sine')",sellAudio:"var srqtR = Math.min(1, gain / 6)\nplay(440, srqtR, srqtR*4,0,,,'sine')\nplay(440, srqtR, srqtR*8,0.08,,,'sine')"},{id:"liquidation_rare",amount:1e6,buyGif:"explosion",sellGif:"explosion",buyColor:"rgb(156,39,176)",sellColor:"rgb(255,235,59)",buyAudio:"var srqtR = Math.min(1, gain / 10)\nplay(329.63, srqtR, 1,0,,,'sine')\nplay(329.63, srqtR, srqtR*10,0.08,,,'sine')",sellAudio:"var srqtR = Math.min(1, gain / 10)\nplay(440, srqtR, 1,0,,,'sine')\nplay(440, srqtR, srqtR*10,0.08,,,'sine')"}];for(let t=0;t<s.thresholds.length;t++)s.thresholds[t].gif&&(s.thresholds[t].buyGif=s.thresholds[t].gif,s.thresholds[t].sellGif=s.thresholds[t].gif,delete s.thresholds[t].gif)}},5:t=>{for(const e in t.states.panes.panes){const s=t.states.panes.panes[e];s.zoom=.0625*Math.ceil(s.zoom/.0625)}}};var h=s("f634"),m=s("0c01");class g{constructor(){this.urlStrategy="history",this.defaultInserted=!1,/github\.io/.test(window.location.hostname)&&(this.urlStrategy="hash"),this.latestDatabaseVersion=Math.max.apply(null,Object.keys(u)),this.latestWorkspaceVersion=Math.max.apply(null,Object.keys(d)),this.previousAppVersion=Object(r["u"])(localStorage.getItem("version")||"-1"),this.latestAppVersion=Object(r["u"])("3.2.0")}async initialize(){this.db=await this.createDatabase(),this.defaultInserted||setTimeout(()=>{this.insertDefault(this.db)},3e3),h["a"].syncTriggeredAlerts();const t=await this.getCurrentWorkspace();this.setCurrentWorkspace(t)}async createDatabase(){let t;return new Promise(e=>{Object(l["b"])("aggr",this.latestDatabaseVersion,{upgrade:(e,s,o,i)=>{t=new Promise(t=>{i.oncomplete=async()=>{await this.insertDefault(e),t()},i.onerror=async e=>{t()}});for(let t=s?s+1:s;t<=o;t++)"function"===typeof u[t]&&u[t](e,i)},blocked(){alert("Aggr is trying to upgrade.\nClose any other window with aggr open in order to allow it to upgrade.")},blocking(){},terminated(){alert("Browser abnormally terminated the connection with aggr db.")}}).then(s=>t?t.then(()=>e(s)):e(s)).catch(t=>{alert(t.message+"\n\nEither reset the browser data on this site or contact the devs on the github :\nhttps://github.com/Tucsky/aggr/issues/new")})})}upgradeWorkspace(t){"undefined"===typeof t.version&&(t.version=0);while(t.version<this.latestWorkspaceVersion)t.version++,"function"===typeof d[t.version]&&d[t.version](t)}async insertDefault(t){this.defaultInserted=!0,await this.insertDefaultIndicators(t),await this.insertDefaultPresets(t),localStorage.setItem("version","3.2.0")}async insertDefaultIndicators(t){const e=Date.now(),s=t.transaction("indicators","readwrite"),i=await s.store.getAllKeys();for(const a in o){const t=o[a];if(!(Object(r["u"])(t.version)<=this.previousAppVersion||-1!==i.indexOf(a))){try{await s.store.add({...t,id:a,createdAt:e,updatedAt:null})}catch(n){throw n}0}}await s.done}async insertDefaultPresets(t){const e=t.transaction("presets","readwrite"),s=await e.store.getAllKeys();for(const o of i)Object(r["u"])(o.version)<this.previousAppVersion||-1!==s.indexOf(o.name)||(await e.store.add(o));await e.done}async getCurrentWorkspace(){const t=localStorage.getItem("workspace");let e,s,o;return"hash"===this.urlStrategy?e=location.hash.substring(1):[,e,s]=decodeURIComponent(location.pathname).split("/"),e&&(o=await this.getWorkspace(e)),!o&&t&&(o=await this.getWorkspace(t)),o?!s&&e&&e!==o.id&&(s=e):(o=await this.createWorkspace(e),!s&&e&&(s=e)),s&&s.trim().length>4&&(this.pairsFromURL=s.split(/\+|,/).map(t=>Object(p["o"])(t.toUpperCase()))),o}async setCurrentWorkspace(t){let e;return this.workspace?(e=this.workspace.id,window.location.href=window.location.href.replace(e,t.id),void("hash"===this.urlStrategy&&window.location.reload())):(this.upgradeWorkspace(t),this.workspace=t,"hash"===this.urlStrategy?location.hash=this.workspace.id:window.history.replaceState("Object","Title","/"+this.workspace.id),localStorage.setItem("workspace",this.workspace.id),await Object(a["a"])(t,this.pairsFromURL),t)}async addAndSetWorkspace(t){await this.setCurrentWorkspace(await this.addWorkspace(t)),this.getWorkspaces()}async saveState(t,e){if(!this.workspace)throw new Error("There is no current workspace");return e=this.cleanState(e),this.workspace.states[t]=e,this.saveWorkspace(this.workspace)}cleanState(t){t=JSON.parse(JSON.stringify(t));for(const e in t)"_"===e[0]&&"_id"!==e&&delete t[e];return t}async downloadWorkspace(t){const e=await this.getWorkspace(t);e&&(e.states.panes&&delete e.states.panes.marketsListeners,Object(r["f"])(e,e.id+"_"+Object(r["x"])(e.name)))}async getState(t){if(!this.workspace)throw new Error("There is no current workspace");return this.workspace.states[t]?this.workspace.states[t]:null}async removeState(t){if(!this.workspace)throw new Error("There is no current workspace");return delete this.workspace.states[t],this.workspace.states[t]&&delete this.workspace.states[t],this.saveWorkspace(this.workspace)}async addWorkspace(t){const e=Date.now();return await this.makeUniqueWorkspace(t),await this.db.add("workspaces",{...t,createdAt:e,updatedAt:null}),this.getWorkspace(t.id)}async makeUniqueWorkspace(t){const e=await this.getWorkspaces();t.name=Object(r["y"])(t.name||Object(r["v"])(4),e.map(t=>t.name)),t.id=Object(r["y"])(Object(r["x"])(t.name),e.map(t=>t.id),!0,"copy 1")}async getWorkspace(t){let e;if(!t||this.workspace&&t===this.workspace.id?e=this.workspace:"string"===typeof t?e=await this.db.get("workspaces",t):"object"===typeof t&&(e=t),e)return e}async createWorkspace(t){const e=Date.now(),s=JSON.parse(JSON.stringify(n)),o={version:this.latestWorkspaceVersion,createdAt:e,updatedAt:null,name:t,id:null,states:{panes:s}};return await this.makeUniqueWorkspace(o),await this.db.add("workspaces",o),await this.getWorkspace(o.id)}async duplicateWorkspace(t){const e=await this.getWorkspace(t);if(!e)return;const s=Date.now(),o=JSON.parse(JSON.stringify(e));return o.createdAt=s,o.updatedAt=null,await this.makeUniqueWorkspace(o),await this.db.add("workspaces",o),await this.setCurrentWorkspace(await this.getWorkspace(o.id))}getWorkspaces(){return this.db.getAllFromIndex("workspaces","name")}async renameWorkspace(t,e){return await this.removeWorkspace(t.id),t.name=e,this.makeUniqueWorkspace(t),this.db.add("workspaces",t)}async saveWorkspace(t){return t.updatedAt=Date.now(),this.db.put("workspaces",JSON.parse(JSON.stringify(t)))}removeWorkspace(t){return this.db.delete("workspaces",t)}saveProducts(t){return this.db.put("products",t)}getProducts(t){return this.db.get("products",t)}deleteProducts(t){return this.db.delete("products",t)}saveGifs(t){return this.db.put("gifs",t)}getGifs(t){return this.db.get("gifs",t)}getGifsKeywords(){return this.db.getAllKeys("gifs")}deleteGifs(t){return this.db.delete("gifs",t)}async saveIndicator(t){const e=Date.now();return t.createdAt?t.updatedAt=e:t.createdAt=e,a["b"].dispatch("app/showNotice",{type:"info",title:"Saved indicator "+t.id}),this.db.put("indicators",t)}async incrementIndicatorUsage(t){const e=await this.getIndicator(t);if(e)return e.uses||(e.uses=0),e.uses++,this.saveIndicator(e)}getIndicator(t){return this.db.get("indicators",t)}getIndicators(){return this.db.getAllFromIndex("indicators","name")}getIndicatorsIds(){return this.db.getAllKeys("indicators")}deleteIndicator(t){return this.db.delete("indicators",t)}async savePreset(t,e,s=!0){if(e){const s=t.type.split(":")[0],o=e.split(":")[0];if(o!==s)throw new Error(`Preset type ${s} is not ${o} type`);t.type=o,t.name=e+":"+t.name.split(":").pop()}if(s&&await this.getPreset(t.name)&&!await m["a"].confirm({message:`This preset "${t.name}" already exists.`,ok:"Continue anyway",cancel:"Cancel"}))throw new Error("Save preset : aborted");return this.db.put("presets",t)}async getPreset(t){return this.db.get("presets",t)}getPresetsKeysByType(t){return this.db.getAllKeys("presets",IDBKeyRange.bound(t,t+"|",!0,!0))}removePreset(t){return this.db.delete("presets",t)}saveSound(t){return this.db.put("sounds",t)}async getSound(t){return this.db.get("sounds",t)}removeSound(t){return this.db.delete("sounds",t)}saveColor(t){return this.db.put("colors",t)}async getColors(){return this.db.getAll("colors")}removeColor(t){return this.db.delete("colors",t)}async getAlerts(t){const e=await this.db.get("alerts",t);return e?e.alerts:[]}saveAlerts(t){return t.alerts.length?this.db.put("alerts",t):this.db.delete("alerts",t.market)}async reset(){this.db&&(this.db.close(),this.db=null,this.workspace=null),await Object(l["a"])("aggr"),localStorage.removeItem("workspace"),localStorage.removeItem("version")}async exportDatabase(){const{Dexie:t}=await s.e("chunk-2d0cc844").then(s.bind(null,"4dec")),{exportDB:e}=await s.e("chunk-73666f02").then(s.bind(null,"9e91")),o=await new t("aggr").open(),i=await e(o,{filter:t=>"products"!==t&&"gifs"!==t}),n=(await this.getWorkspaces()).sort((t,e)=>e.updatedAt-t.updatedAt).map(t=>t.id);Object(r["f"])(i,"aggr-"+n.join("-"))}}e["a"]=new g},c1f9:function(t,e,s){},c38a:function(t,e,s){"use strict";s("c1f9")},cb7c:function(t){t.exports=JSON.parse('{"_id":"panes","locked":false,"panes":{"chart":{"id":"chart","name":"","type":"chart","markets":["BINANCE_FUTURES:btcusd_perp","BITFINEX:BTCUSD","BITMEX:XBTUSD","BYBIT:BTCUSD","COINBASE:BTC-USD","DERIBIT:BTC-PERPETUAL","FTX:BTC-PERP","FTX:BTC/USD","BINANCE:btcusdt","BINANCE_FUTURES:btcusdt","BITFINEX:BTCUST","BITFINEX:BTCF0:USTF0","BITMEX:XBTUSDT","BYBIT:BTCUSDT","COINBASE:BTC-USDT","FTX:BTC/USDT"]},"trades":{"id":"trades","name":"","type":"trades","markets":["BINANCE_FUTURES:btcusd_perp","BITFINEX:BTCUSD","BITMEX:XBTUSD","BYBIT:BTCUSD","COINBASE:BTC-USD","DERIBIT:BTC-PERPETUAL","FTX:BTC-PERP","FTX:BTC/USD","BINANCE:btcusdt","BINANCE_FUTURES:btcusdt","BITFINEX:BTCUST","BITFINEX:BTCF0:USTF0","BITMEX:XBTUSDT","BYBIT:BTCUSDT","COINBASE:BTC-USDT","FTX:BTC/USDT"],"settings":{"tradeType":"trades","thresholds":[{"amount":100000}],"liquidations":{"amount":50000}}},"liquidations":{"id":"liquidations","name":"REKTS","type":"trades","markets":["BITFINEX:BTCUSD","BITMEX:XBTUSD","BITMEX:XBTUSDT","BITFINEX:BTCF0:USTF0","BINANCE_FUTURES:btcusdt","BINANCE_FUTURES:btcusd_perp","DERIBIT:BTC-PERPETUAL","FTX:BTC-PERP","FTX:BTC/USD","FTX:BTC/USDT","BYBIT:BTCUSD","BYBIT:BTCUSDT"],"settings":{"tradeType":"liquidations"}}},"marketsListeners":{}}')},cd49:function(t,e,s){"use strict";s.r(e);var o=s("2b0e"),i=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.isBooted?e("div",{class:{"-loading":t.isLoading,"-no-animations":t.disableAnimations,"-auto-hide-headers":t.autoHideHeaders,"-light":"light"===t.theme},attrs:{id:"app","data-prefered-sizing-currency":t.preferedSizingCurrency,"data-base":t.baseCurrency,"data-base-symbol":t.baseCurrencySymbol,"data-quote":t.quoteCurrency,"data-quote-symbol":t.quoteCurrencySymbol}},[e("Notices"),e("div",{staticClass:"app__wrapper"},[e("Menu"),e("div",{staticClass:"app__layout"},[e("Panes")],1)],1)],1):e("div",{attrs:{id:"app"}},[e("div",{staticClass:"app-loader d-flex -column"},[t.showStuck?e("div",{staticClass:"px8 py8"},[t._v(" 💡 Stuck here ? "),e("button",{staticClass:"btn -text",on:{click:t.resetAndReload}},[t._v(" reset everything ")])]):t._e(),t._m(0)])])},n=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"lds-spinner -center"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")])}],a=s("9ab4"),r=s("60a3"),l=s("a914"),c=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("transition-height",{staticClass:"notices",attrs:{name:t.transitionGroupName,tag:"div"}},t._l(t.notices,(function(s){return e("div",{key:s.id,staticClass:"notice",class:"-"+s.type},[e("div",{staticClass:"notice__wrapper",on:{click:function(e){return t.$store.dispatch("app/hideNotice",s.id)}}},[s.icon?e("i",{staticClass:"notice__icon",class:s.icon}):t._e(),s.html?e("div",{staticClass:"notice__title",domProps:{innerHTML:t._s(s.title)}}):e("div",{staticClass:"notice__title",domProps:{textContent:t._s(s.title)}})])])})),0)},p=[],u=s("fea2");let d=class extends r["c"]{get notices(){return this.$store.state.app.notices}get disableAnimations(){return this.$store.state.settings.disableAnimations}get transitionGroupName(){return this.disableAnimations?null:"slide-notice"}onButtonClick(t){let e=!0;"function"===typeof t.button.click&&(e=t.button.click()),!1!==e&&this.$store.dispatch("app/hideNotice",t.id)}};d=Object(a["a"])([Object(r["a"])({components:{TransitionHeight:u["a"]},name:"Notices"})],d);var h=d,m=h,g=s("2877"),f=Object(g["a"])(m,c,p,!1,null,null,null),b=f.exports,C=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"menu",class:{"-open":t.open},attrs:{id:"menu"}},[e("button",{staticClass:"menu__button btn",on:{click:function(e){return t.$refs.menuDropdown.toggle(e.currentTarget)}}},[e("i",{staticClass:"icon-menu"})]),e("dropdown",{ref:"menuDropdown"},[e("button",{staticClass:"dropdown-item dropdown-item--space-between",attrs:{type:"button"},on:{click:function(e){return t.$store.dispatch("app/showSearch",null)}}},[e("span",{staticClass:"mr4"},[t._v("Search")]),e("i",{staticClass:"icon-search"})]),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.$refs.panesDropdown.toggle(e.currentTarget)}}},[e("i",{staticClass:"icon-dashboard -center mr8"}),e("span",{staticClass:"mr4"},[t._v("Pane")]),e("i",{staticClass:"icon-plus mlauto"})]),e("dropdown",{ref:"panesDropdown",nativeOn:{mousedown:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[e("button",{staticClass:"dropdown-item dropdown-item--space-between",on:{click:function(e){return t.addPane("chart")}}},[e("div",[e("div",[t._v("Chart")]),e("div",{staticClass:"dropdown-item__subtitle"},[t._v("Live Chart")])]),e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"dropdown-item dropdown-item--space-between",on:{click:function(e){return t.addPane("trades")}}},[e("div",[e("div",[t._v("Trades")]),e("div",{staticClass:"dropdown-item__subtitle"},[t._v("Legacy trades feed")])]),e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"dropdown-item dropdown-item--space-between",on:{click:function(e){return t.addPane("trades-lite")}}},[e("div",[e("div",[t._v("Trades "),e("span",[t._v("LITE ⚡️")])]),e("div",{staticClass:"dropdown-item__subtitle"},[t._v(" Minimal but faster ")])]),e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"dropdown-item dropdown-item--space-between",on:{click:function(e){return t.addPane("prices")}}},[e("div",[e("div",[t._v("Markets")]),e("div",{staticClass:"dropdown-item__subtitle"},[t._v("Price change & volume")])]),e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"dropdown-item dropdown-item--space-between",on:{click:function(e){return t.addPane("website")}}},[e("div",[e("div",[t._v("Website")]),e("div",{staticClass:"dropdown-item__subtitle"},[t._v("Embed website")])]),e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"dropdown-item dropdown-item--space-between",on:{click:function(e){return t.addPane("stats")}}},[e("div",[e("div",[t._v("Stats")]),e("div",{staticClass:"dropdown-item__subtitle"},[t._v("Custom rolling metrics")])]),e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"dropdown-item dropdown-item--space-between",on:{click:function(e){return t.addPane("counters")}}},[e("div",[e("div",[t._v("Counters")]),e("div",{staticClass:"dropdown-item__subtitle"},[t._v("Buys/sells by intervals")])]),e("i",{staticClass:"icon-plus"})])]),e("dropdown",t._g({ref:"volumeSlider",staticClass:"volume-slider",attrs:{interactive:"","no-scroll":"",transparent:"","on-sides":""},nativeOn:{mousedown:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()},mouseleave:function(e){return t.volumeSliderTriggerEvents.mouseleave.apply(null,arguments)}},model:{value:t.volumeSliderOpened,callback:function(e){t.volumeSliderOpened=e},expression:"volumeSliderOpened"}},t.volumeSliderEvents),[e("slider",{staticStyle:{width:"100px"},attrs:{min:0,max:3,step:.01,label:!0,value:t.audioVolume,log:""},on:{input:function(e){return t.$store.dispatch("settings/setAudioVolume",e)},reset:function(e){return t.$store.dispatch("settings/setAudioVolume",1)}},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v(" "+t._s(+(100*t.audioVolume).toFixed(2))+"% ")]},proxy:!0}])})],1),e("button",t._g({ref:"volumeSliderTrigger",staticClass:"dropdown-item dropdown-item--space-between",attrs:{type:"button"},on:{click:t.toggleAudio}},t.volumeSliderTriggerEvents),[e("span",{staticClass:"mr4"},[t._v("Audio")]),t.useAudio?e("i",{staticClass:"icon-volume-medium",class:{"icon-volume-high":t.audioVolume>1}}):e("i",{staticClass:"icon-volume-off"})]),e("button",{staticClass:"dropdown-item dropdown-item--space-between",attrs:{type:"button"},on:{click:t.toggleFullscreen}},[e("span",{staticClass:"mr4",domProps:{textContent:t._s(t.isFullscreen?"Exit":"Go Fullscreen")}}),e("i",{staticClass:"icon-enlarge"})]),e("button",{staticClass:"dropdown-item dropdown-item--space-between",attrs:{type:"button"},on:{click:t.showSettings}},[e("span",{staticClass:"mr4"},[t._v("Settings")]),e("i",{staticClass:"icon-cog"})])],1)],1)},v=[],y=s("0c01"),w=s("8766"),_=s("7ab0"),k=function(){var t=this,e=t._self._c;return e("Dialog",{staticClass:"-sticky-footer",attrs:{contentClass:"settings"},on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",[e("div",{staticClass:"title"},[t._v("Settings")]),t.hits?e("div",{staticClass:"subtitle"},[e("i",{staticClass:"icon-bolt"}),t._v(" "),e("code",{domProps:{textContent:t._s(t.hits)}}),t._v(" messages /s ")]):t._e()]),e("div",{staticClass:"column -center"})]},proxy:!0}])},[t.currentWorkspace?e("section",{staticClass:"section"},[t.settings.indexOf("workspaces")>-1?e("div",[e("div",{staticClass:"column"},[e("button",{staticClass:"btn -blue -large -cases flex-grow-1 column text-ellipsis",attrs:{type:"button"},on:{click:function(e){return t.toggleWorkspaceDropdown(e,t.currentWorkspace.id)}}},[e("i",{staticClass:"icon-dashboard -center mr16"}),e("div",{staticClass:"-fill text-left text-ellipsis"},[e("div",{staticClass:"text-ellipsis"},[t._v(" "+t._s(t.currentWorkspace.name)+" ")]),e("small",{staticClass:"text-muted"},[t._v(" created "+t._s(t.currentWorkspace.createdAt)+" ago ")])]),e("i",{staticClass:"icon-cog"})]),e("dropdown",{model:{value:t.workspaceDropdownTrigger,callback:function(e){t.workspaceDropdownTrigger=e},expression:"workspaceDropdownTrigger"}},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.openWorkspace(t.workspaceDropdownId,!0)}}},[e("i",{staticClass:"icon-external-link-square-alt"}),e("span",[t._v("Open in a new tab")])]),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.renameWorkspace(t.workspaceDropdownId)}}},[e("i",{staticClass:"icon-edit"}),e("span",[t._v("Rename")])]),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.duplicateWorkspace(t.workspaceDropdownId)}}},[e("i",{staticClass:"icon-copy-paste"}),e("span",[t._v("Duplicate")])]),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.exportWorkspace(t.workspaceDropdownId)}}},[e("i",{staticClass:"icon-download"}),e("span",[t._v("Download")])]),e("div",{staticClass:"dropdown-divider"}),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.removeWorkspace(t.workspaceDropdownId)}}},[e("i",{staticClass:"icon-cross"}),e("span",[t._v("Remove workspace")])])]),e("button",{staticClass:"btn -text -large -cases ml8",attrs:{type:"button"},on:{click:function(e){return t.$refs.createWorkspaceDropdown.toggle(e.currentTarget)}}},[e("i",{staticClass:"icon-plus mr4"}),e("span",[t._v("New")])]),e("dropdown",{ref:"createWorkspaceDropdown"},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:t.uploadWorkspace}},[e("i",{staticClass:"icon-upload"}),e("span",[t._v("Upload template file")])]),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:t.createBlankWorkspace}},[e("i",{staticClass:"icon-plus"}),e("span",[t._v("Create blank template")])])])],1),t.workspaces.length?e("table",{staticClass:"table mt8"},[e("thead",[e("tr",[e("th",[t._v("Name")]),e("th",{staticClass:"text-nowrap"},[t._v("Updated at")]),e("th")])]),e("tbody",t._l(t.workspaces,(function(s){return e("tr",{key:s.id,staticClass:"option -action",on:{click:function(e){return t.openWorkspace(s.id)}}},[e("td",{directives:[{name:"tippy",rawName:"v-tippy",value:{boundary:"window",placement:"left"},expression:"{ boundary: 'window', placement: 'left' }"}],staticClass:"table-input table-ellipsis text-nowrap",class:[s.id===t.currentWorkspace.id&&"text-bold"],attrs:{title:`${s.name}, created ${t.ago(s.createdAt)} ago`},domProps:{textContent:t._s(s.name)}}),e("td",{staticClass:"table-input table-min"},[t._v(" "+t._s(t.ago(s.updatedAt))+" ago ")]),e("td",{staticClass:"table-action -hover"},[e("button",{staticClass:"btn -text -small",on:{click:function(e){return e.stopPropagation(),t.toggleWorkspaceDropdown(e,s.id)}}},[e("i",{staticClass:"icon-more"})])])])})),0)]):t._e()]):t._e(),e("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","workspaces")}}},[t._v(" Workspaces "),e("small",[t._v("templates")]),e("i",{staticClass:"icon-up-thin"})])]):t._e(),e("section",{staticClass:"section"},[t.settings.indexOf("list")>-1?e("div",{staticClass:"settings-trades"},[e("div",{staticClass:"form-group column mb8"},[e("label",{staticClass:"checkbox-control -aggr -auto flex-grow-1"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:!0},on:{click:function(e){return e.preventDefault(),t.$store.commit("settings/TOGGLE_AGGREGATION")}}}),e("div",{attrs:{on:t.aggregationLength+"ms",off:"No aggregation"}}),t.aggregationLength?e("span",[t._v(t._s(t.aggregationLength)+"ms aggregation")]):e("span",[t._v("No aggregation")])])]),e("div",{staticClass:"form-group mb8"},[e("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left"},expression:"{ placement: 'left' }"}],staticClass:"checkbox-control -slippage",attrs:{title:"price"===t.calculateSlippage?"Show slippage in $":"bps"===t.calculateSlippage?"Show slippage in basis point (bps)":"Slippage disabled"}},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.calculateSlippage},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SLIPPAGE")}}}),e("div"),"price"===t.calculateSlippage?e("span",[t._v(" Calculate slippage in price change ("),e("i",{staticClass:"icon-dollar"}),t._v(") ")]):t._e(),"bps"===t.calculateSlippage?e("span",[t._v(" Calculate slippage in bps "),e("i",{staticClass:"icon-bps"})]):t._e(),t.calculateSlippage?t._e():e("span",[t._v("Do not show slippage")])])]),e("div",{staticClass:"form-group"},[e("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left"},expression:"{ placement: 'left' }"}],staticClass:"checkbox-control checkbox-control-input -auto",attrs:{title:"Size display preference"}},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.preferQuoteCurrencySize},on:{change:function(e){return t.$store.commit("settings/SET_QUOTE_AS_PREFERED_CURRENCY",e.target.checked)}}}),e("span",[t._v("Size in")]),e("div",{attrs:{on:"quote currency",off:"base currency"}}),e("span",[t._v("("),e("i",{class:t.preferQuoteCurrencySize?"icon-quote":"icon-base"}),t._v(")")])])])]):t._e(),e("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","list")}}},[t._v(" Trades "),e("small",[t._v("aggregation, slippage, currency")]),e("i",{staticClass:"icon-up-thin"})])]),e("section",{staticClass:"section"},[t.settings.indexOf("audio")>-1?e("audio-settings"):t._e(),e("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","audio")}}},[t._v(" Audio "),e("small",[t._v("main volume")]),e("i",{staticClass:"icon-up-thin"})])],1),e("section",{staticClass:"section"},[t.settings.indexOf("colors")>-1?e("div",{staticClass:"settings-chart"},[e("div",{staticClass:"form-group column mb8"},[e("color-picker-control",{attrs:{value:t.backgroundColor,label:"Background color"},on:{input:function(e){return t.$store.dispatch("settings/setColor",{type:"BACKGROUND",value:e})}}}),e("label",{staticClass:"-fill -center ml8"},[t._v("Background color")])],1),e("div",{staticClass:"form-group column mb8"},[e("color-picker-control",{attrs:{value:t.textColor,label:"App text color"},on:{input:function(e){return t.$store.dispatch("settings/setColor",{type:"TEXT",value:e})}}}),e("label",{staticClass:"-fill -center ml8",attrs:{for:""}},[t._v("Text color "),e("a",[t.textColor?e("i",{staticClass:"icon-cross text-small",on:{click:function(e){return t.$store.dispatch("settings/setColor",{type:"TEXT",value:null})}}}):t._e()])])],1),e("div",{staticClass:"form-group column mb8"},[e("color-picker-control",{attrs:{value:t.buyColor,label:"Buy color"},on:{close:t.regenerateSwatch,input:function(e){return t.$store.dispatch("settings/setColor",{type:"BUY",value:e})}}}),e("label",{staticClass:"-fill -center ml8"},[t._v("Buy color")])],1),e("div",{staticClass:"form-group column mb8"},[e("color-picker-control",{attrs:{value:t.sellColor,label:"Sell color"},on:{close:t.regenerateSwatch,input:function(e){return t.$store.dispatch("settings/setColor",{type:"SELL",value:e})}}}),e("label",{staticClass:"-fill -center ml8"},[t._v("Sell color")])],1)]):t._e(),e("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","colors")}}},[t._v(" Colors "),e("small",[t._v("background, buy/sell color")]),e("i",{staticClass:"icon-up-thin"})])]),e("section",{staticClass:"section"},[t.settings.indexOf("exchanges")>-1?e("div",{staticClass:"form-group"},[e("div",{staticClass:"settings-exchanges"},t._l(t.exchanges,(function(t){return e("Exchange",{key:t,attrs:{id:t}})})),1)]):t._e(),e("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","exchanges")}}},[t._v(" Exchanges "),e("small",[t._v("enable/disable exchange globally")]),e("i",{staticClass:"icon-up-thin"})])]),e("section",{staticClass:"section"},[t.settings.indexOf("other")>-1?e("other-settings"):t._e(),e("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","other")}}},[t._v(" Other "),e("i",{staticClass:"icon-up-thin"})])],1),e("footer",{staticClass:"section mt16 settings__footer"},[e("div",{staticClass:"form-group"},[t.version?e("div",{staticClass:"column"},[e("div",{staticClass:"-grow"},[e("button",{staticClass:"btn -text pl0"},[t._v(" v"+t._s(t.version)+" "),e("sup",{staticClass:"version-date"},[t._v(t._s(t.buildDate))])])]),e("a",{staticClass:"btn -text",attrs:{href:"https://github.com/Tucsky/aggr",target:"_blank"}},[t._v("github")]),e("i",{staticClass:"pipe -center"},[t._v("|")]),e("span",[e("dono-dropdown",{staticClass:"-top -text-left"})],1),e("i",{staticClass:"pipe -center"},[t._v("|")]),e("span",[e("button",{staticClass:"btn -text -arrow",attrs:{type:"button"},on:{click:function(e){return t.$refs.databaseDropdown.toggle(e.currentTarget)}}},[t._v(" Reset ")]),e("dropdown",{ref:"databaseDropdown"},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:t.reset}},[e("i",{staticClass:"icon-warning"}),e("span",[t._v("Reset to default")])]),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:t.exportDatabase}},[e("i",{staticClass:"icon-upload"}),e("span",[t._v("Export database")])])])],1)]):t._e()])])])},T=[],S=s("28f3"),E=s("7250"),O=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"settings-exchange",class:{"-active":t.active,"-enabled":!t.settings.disabled,"-expanded":t.expanded}},[e("div",{staticClass:"settings-exchange__header",on:{click:t.toggleExchange}},[e("div",{staticClass:"settings-exchange__name"},[e("span",[t._v(t._s(t.name))])]),e("div",{staticClass:"settings-exchange__controls"},[e("button",{staticClass:"settings-exchange__more",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.expanded=!t.expanded}}},[e("i",{staticClass:"icon-down-thin"})])])]),t.expanded?e("div",{staticClass:"settings-exchange__detail"},[t.markets.length?e("div",{staticClass:"form-group"},[e("small",{staticClass:"mb4 d-block"},[t._v("Connections")]),e("div",t._l(t.markets,(function(s){return e("div",{key:s.id,staticClass:"d-flex"},[e("div",{staticClass:"-fill -center"},[t._v(t._s(s.id))])])})),0)]):t._e()]):t._e()])},A=[],x=s("06c2");let P=class extends r["c"]{constructor(){super(...arguments),this.expanded=!1,this.prices={}}mounted(){l["a"].on("prices",this.updateMarketsPrices)}beforeDestroy(){l["a"].off("prices",this.updateMarketsPrices)}updateMarketsPrices(t){this.prices=t}get name(){return this.id.replace(/[\W_]+/g," ")}get settings(){return this.$store.state.exchanges[this.id]}get markets(){return Object.values(this.$store.state.panes.marketsListeners).filter(t=>t.exchange===this.id)}get active(){return this.markets.length}async toggleExchange(){await this.$store.dispatch("exchanges/toggleExchange",this.id)}formatAmount(t){return Object(x["c"])(t)}};P=Object(a["a"])([Object(r["a"])({name:"Exchange",components:{Slider:_["a"]},props:["id"]})],P);var I=P,D=I,L=(s("b7d5"),Object(g["a"])(D,O,A,!1,null,null,null)),R=L.exports,B=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("dropdown-button",{staticClass:"-text -arrow",attrs:{options:t.donationMenu,placeholder:t.label},on:{input:t.onSelect},scopedSlots:t._u([{key:"option",fn:function({value:s}){return[e("i",{staticClass:"-fill",class:"icon-"+s.icon}),e("span",{staticClass:"ml4"},[t._v(t._s(s.label))])]}}])})},M=[],N=s("3918");let $=class extends r["c"]{constructor(){super(...arguments),this.donationMenu=[{label:"with Bitcoin",icon:"bitcoin",click:()=>window.open("bitcoin:3PK1bBK8sG3zAjPBPD7g3PL14Ndux3zWEz")},{label:"with Monero",icon:"xmr",click:()=>window.open("monero:48NJj3RJDo33zMLaudQDdM8G6MfPrQbpeZU2YnRN2Ep6hbKyYRrS2ZSdiAKpkUXBcjD2pKiPqXtQmSZjZM7fC6YT6CMmoX6")},{label:"with other coin",icon:"COINBASE",click:()=>window.open("https://commerce.coinbase.com/checkout/c58bd003-5e47-4cfb-ae25-5292f0a0e1e8")}]}onSelect(t){"function"===typeof t.click&&t.click()}};$=Object(a["a"])([Object(r["a"])({components:{DropdownButton:N["a"]},props:{label:{default:"donate"}}})],$);var U=$,j=U,G=Object(g["a"])(j,B,M,!1,null,null,null),F=G.exports,H=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"settings-audio",class:{active:t.useAudio}},[e("div",{staticClass:"-fill"},[e("div",{staticClass:"column"},[e("div",{staticClass:"form-group -tight"},[e("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input flex-right",attrs:{title:"Enable audio"}},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.useAudio},on:{change:function(e){return t.$store.commit("settings/TOGGLE_AUDIO",e.target.checked)}}}),e("div")])]),e("div",{staticClass:"form-group -fill -center"},[e("slider",{attrs:{min:0,max:3,step:.01,label:!0,value:t.audioVolume,log:""},on:{input:function(e){return t.$store.dispatch("settings/setAudioVolume",e)},reset:function(e){return t.$store.dispatch("settings/setAudioVolume",1)}}})],1)]),t.useAudio?e("div",{staticClass:"mt8"},t._l(t.filters,(function(s){return e("div",{key:s,staticClass:"btn -text px0"},[e("label",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control checkbox-control-input -auto",attrs:{title:t.filtersDescriptions[s]}},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.$store.state.settings.audioFilters[s]},on:{change:function(e){return t.$store.commit("settings/SET_AUDIO_FILTER",{id:s,value:e.target.checked})}}}),e("div",{attrs:{on:s,off:s}})])])})),0):t._e()])])},q=[],V=s("4902");let W=class extends r["c"]{constructor(){super(...arguments),this.filters=[],this.filtersDescriptions={HighPassFilter:"High-Pass Filter passes frequencies above its cutoff frequency and attenuates frequencies below its cutoff frequency",LowPassFilter:"Low-Pass Filter passes frequencies below its cutoff frequency and attenuates frequencies above its cutoff frequency. This effect can therefore be used to reduce high pitched noise",Compressor:"A compressor has the ability to reduce the difference in order for the quiet notes to be louder and the peak notes to be quieter",Delay:"A delay effect is similar to an echo, in that the sound is repeated one or more times after the original sound",PingPongDelay:"Ping Pong Delay is a time-sensitive delay that pans the delay to the left and right speakers one after the other",Chorus:"An equal mix of the wet and dry signal is used with the wet signal being delayed and pitch modulated"}}get useAudio(){return this.$store.state.settings.useAudio}get audioVolume(){return this.$store.state.settings.audioVolume}created(){this.filters=Object.keys(V["d"].filtersOptions)}};W=Object(a["a"])([Object(r["a"])({components:{Slider:_["a"]},name:"AudioSettings"})],W);var z=W,K=z,X=(s("d340"),Object(g["a"])(K,H,q,!1,null,"75ae916c",null)),J=X.exports,Y=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"form-group mb8"},[e("label",{staticClass:"checkbox-control"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.autoHideHeaders},on:{change:function(e){return t.$store.commit("settings/TOGGLE_AUTO_HIDE_HEADERS")}}}),e("div"),e("span",[t._v("Auto hide headers")])])]),e("div",{staticClass:"form-group mb8"},[e("label",{staticClass:"checkbox-control -animations"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.animationsEnabled},on:{change:function(e){return t.$store.commit("settings/TOGGLE_ANIMATIONS")}}}),e("div"),e("span",[t._v(" "+t._s(t.animationsEnabled?"UI animations are enabled ✨":"UI animations are disabled 🚀")+" ")])])]),e("div",{staticClass:"form-group mb8"},[e("label",{staticClass:"checkbox-control -animations"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.locked},on:{change:function(e){return t.$store.commit("panes/TOGGLE_LAYOUT")}}}),e("div"),e("span",[t._v(" "+t._s(t.locked?"Layout is locked 🔒":"Layout is unlocked")+" ")])])]),e("div",{staticClass:"form-group mb8"},[e("label",{staticClass:"checkbox-control -animations"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.normalizeWatermarks},on:{change:function(e){return t.$store.commit("settings/TOGGLE_NORMAMIZE_WATERMARKS")}}}),e("div"),e("span",[t._v("Simple watermarks")])])]),e("div",{staticClass:"form-group mb8"},[e("label",{staticClass:"checkbox-control flex-left"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:!!t.timezoneOffset},on:{change:function(e){t.$store.commit("settings/SET_TIMEZONE_OFFSET",t.timezoneOffset?0:6e4*(new Date).getTimezoneOffset()*-1)}}}),e("div"),e("span",[t._v("Use local time for charts")])])])])},Q=[];let Z=class extends r["c"]{constructor(){super(...arguments),this.responsiveEnabled=null}get animationsEnabled(){return!this.$store.state.settings.disableAnimations}get autoHideHeaders(){return this.$store.state.settings.autoHideHeaders}get locked(){return this.$store.state.panes.locked}get normalizeWatermarks(){return this.$store.state.settings.normalizeWatermarks}get timezoneOffset(){return this.$store.state.settings.timezoneOffset}};Z=Object(a["a"])([Object(r["a"])({name:"OtherSettings"})],Z);var tt=Z,et=tt,st=Object(g["a"])(et,Y,Q,!1,null,null,null),ot=st.exports,it=s("81a6"),nt=s("e7a1"),at=s("be31"),rt=s("9613"),lt=s("1ea0"),ct={mixins:[lt["a"]],components:{Dialog:E["a"],Exchange:R,AudioSettings:J,OtherSettings:ot,DonoDropdown:F,ColorPickerControl:it["a"]},data(){return{currentWorkspace:null,workspaces:[],hits:null,workspaceDropdownId:null,workspaceDropdownTrigger:null}},computed:{exchanges(){return this.$store.getters["exchanges/getExchanges"]},version(){return this.$store.state.app.version},buildDate(){return this.$store.state.app.buildDate},settings(){return this.$store.state.settings.settings},backgroundColor(){return this.$store.state.settings.backgroundColor},textColor(){return this.$store.state.settings.textColor},buyColor(){return this.$store.state.settings.buyColor},sellColor(){return this.$store.state.settings.sellColor},aggregationLength(){return this.$store.state.settings.aggregationLength},preferQuoteCurrencySize(){return this.$store.state.settings.preferQuoteCurrencySize},calculateSlippage(){return this.$store.state.settings.calculateSlippage}},async created(){await this.getWorkspaces()},beforeDestroy(){this._hitsTimeout&&clearTimeout(this._hitsTimeout)},methods:{getHits(){null===this.hits&&(this.hits="..."),this._hitsTimeout=setTimeout(async()=>{const t=await l["a"].dispatchAsync({op:"getHits"}),e=Date.now()-rt["a"];this.hits=(t/(e/1e3)).toFixed(),this.getHits()},1e3)},async getWorkspaces(){const t=await at["a"].getWorkspaces();this.workspaces=t;const e=at["a"].workspace;this.currentWorkspace={name:e.name,id:e.id,updatedAt:Object(S["a"])(e.updatedAt),createdAt:Object(S["a"])(e.createdAt),states:null}},openWorkspace(t,e=!1){const s=window.location.href.replace(this.currentWorkspace.id,t);e?window.open(s):window.location.href=s},async removeWorkspace(t=this.workspaceDropdownId){const e=await at["a"].getWorkspace(t),s=this.currentWorkspace&&this.currentWorkspace.id===e.id;if(s&&await this.close(),await y["a"].confirm(`Delete ${s?"current workspace":"workspace"} ${e.name} ?`)){if(await at["a"].removeWorkspace(e.id),s){let t=this.workspaces.find(t=>t.id!==e.id);t||(t=await at["a"].createWorkspace()),await at["a"].setCurrentWorkspace(t)}return s?void 0:this.getWorkspaces()}},async exportWorkspace(t=this.workspaceDropdownId){at["a"].downloadWorkspace(t)},async duplicateWorkspace(t=this.workspaceDropdownId){at["a"].duplicateWorkspace(t)},async createBlankWorkspace(){const t=await fetch("https://random-word-api.herokuapp.com/word?number=2").then(t=>t.json()).then(t=>t.map(t=>t[0].toUpperCase()+t.slice(1)).join("")),e=await y["a"].prompt({label:"Name",input:t,action:"Name the template",placeholder:"Name (or leave empty)",submitLabel:"Create"});if("string"!==typeof e)return;await this.close();const s=await at["a"].createWorkspace(e);await at["a"].setCurrentWorkspace(s)},async uploadWorkspace(){try{const t=await Object(S["b"])();if(!t)return;await nt["a"].importWorkspace(t)}catch(t){this.$store.dispatch("app/showNotice",{title:t.message,type:"error",timeout:6e4})}},async renameWorkspace(t=this.workspaceDropdownId){const e=await at["a"].getWorkspace(t),s=await y["a"].prompt({action:"Rename",input:e.name});s&&(await at["a"].renameWorkspace(e,s),await this.getWorkspaces())},async exportDatabase(){return at["a"].exportDatabase()},async reset(){const t=await at["a"].db.getAllKeys("sounds"),e=await at["a"].db.getAllKeys("indicators"),s=await at["a"].db.getAllKeys("presets"),o=await at["a"].db.getAllKeys("alerts"),i=[];this.workspaces.length&&i.push(["workspace",this.workspaces.length]),e.length&&i.push(["indicator",e.length]),t.length&&i.push(["sound",t.length]),s.length&&i.push(["preset",s.length]),o.length&&i.push(["alert",o.length]),await y["a"].confirm({title:"Reset everything ?",html:!0,ok:"Reset & reload",message:"Everything will be removed"+(i.length?" including : \n\t - "+i.map(([t,e])=>e+" "+t+(e>1?"s":"")).join("\n\t - ")+"\n\n...and everything else!":".")})&&(await at["a"].reset(),window.location.reload())},ago(t){return Object(S["a"])(t)},toggleWorkspaceDropdown(t,e){this.workspaceDropdownTrigger?this.workspaceDropdownTrigger=null:(this.workspaceDropdownTrigger=t.currentTarget,this.workspaceDropdownId=e)},async regenerateSwatch(t){if(t&&await y["a"].confirm("Generate thresholds colors ?")){const t=this.$store.state.settings.buyColor,e=this.$store.state.settings.sellColor;for(const s in this.$store.state.panes.panes)/^trades/.test(this.$store.state.panes.panes[s].type)&&(this.$store.dispatch(s+"/generateSwatch",{buyColor:t,sellColor:e,baseVariance:.25}),this.$store.state[s].thresholds=JSON.parse(JSON.stringify(this.$store.state[s].thresholds)));this.$store.commit("settings/SET_BACKGROUND_COLOR",this.$store.state.settings.backgroundColor)}}}},pt=ct,ut=(s("f6c7"),Object(g["a"])(pt,k,T,!1,null,null,null)),dt=ut.exports;let ht=class extends r["c"]{constructor(){super(...arguments),this.volumeSliderOpened=!1,this.isFullscreen=!1,this.open=!1}get useAudio(){return this.$store.state.settings.useAudio}get audioVolume(){return this.$store.state.settings.audioVolume}get volumeSliderEvents(){return this.volumeSliderOpened?{[Object(w["b"])()?"touchstart":"mousedown"]:t=>{t.stopPropagation()},mouseleave:t=>{t.toElement===this.$refs.volumeSliderTrigger||this.$refs.volumeSliderTrigger.contains(t.toElement)||(this.volumeSliderOpened=null)}}:null}get volumeSliderTriggerEvents(){return this.volumeSliderOpened?{mouseleave:t=>{t.toElement===this.$refs.volumeSlider.$el||this.$refs.volumeSlider.$el.contains(t.toElement)||(this.volumeSliderOpened=null)}}:{mouseenter:t=>{this.volumeSliderOpened=t.currentTarget}}}showSettings(){y["a"].open(dt)}toggleFullscreen(){let t=document.body;event instanceof HTMLElement&&(t=event),t.requestFullScreen=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||function(){return!1},document.cancelFullScreen=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||function(){return!1},this.isFullscreen?(document.cancelFullScreen(),this.isFullscreen=!1):(t.requestFullScreen(),this.isFullscreen=!0)}toggleMenu(){this.open=!this.open,this.open&&(this.isFullscreen=!(!document.webkitIsFullScreen&&!document.mozFullScreen))}addPane(t){this.$store.dispatch("panes/addPane",{type:t})}toggleAudio(){this.$store.commit("settings/TOGGLE_AUDIO",!this.useAudio)}};ht=Object(a["a"])([Object(r["a"])({name:"Menu",components:{Slider:_["a"]}})],ht);var mt=ht,gt=mt,ft=(s("914d"),Object(g["a"])(gt,C,v,!1,null,null,null)),bt=ft.exports,Ct=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("grid-layout",{ref:"grid",attrs:{layout:t.layout,"col-num":t.cols,"row-height":t.rowHeight,margin:[0,0],"is-resizable":t.unlocked,"is-draggable":t.unlocked,"vertical-compact":!0,"use-css-transforms":!0,"use-style-cursor":!1},on:{"layout-ready":function(e){t.layoutReady=!0},"layout-updated":t.onLayoutUpdated}},t._l(t.layout,(function(s){return e("grid-item",{key:s.i,attrs:{type:s.type,"drag-allow-from":".pane-header","drag-ignore-from":"a, button, .-no-grab",x:s.x,y:s.y,w:s.w,h:s.h,i:s.i},on:{"container-resized":t.onContainerResized,resized:t.onItemResized}},[t.layoutReady?e(s.type,{ref:"panes",refInFor:!0,tag:"component",staticClass:"pane",attrs:{paneId:s.i}}):t._e()],1)})),1)},vt=[],yt=s("2fe1"),wt=s("7be8"),_t=s.n(wt);let kt=class extends o["default"]{constructor(){super(...arguments),this.draggable=!0,this.resizable=!0,this.rowHeight=80,this.cols=null,this.breakpoint=null,this.layoutReady=!1}get panes(){return this.$store.state.panes.panes}get unlocked(){return!this.$store.state.panes.locked}get layout(){return this.$store.state.panes.layout}created(){this.cols=rt["b"],this.updateRowHeight()}mounted(){window.addEventListener("resize",this.updateRowHeight)}beforeDestroy(){window.addEventListener("resize",this.updateRowHeight)}resizeMaximizedPane(){let t;t=this._maximizedPaneId?document.getElementById(this._maximizedPaneId).parentElement:document.getElementsByClassName("-maximized")[0],this.$nextTick(()=>{if(t){const e=t.children[0].id;let s,o;this._maximizedPaneId?(s=parseFloat(t.style.width),o=parseFloat(t.style.height),this._maximizedPaneId=null):(s=t.clientWidth,o=t.clientHeight,this._maximizedPaneId=e),this.resizePane(e,o,s)}})}resizePane(t,e,s){if(!this.$refs.panes)return;const o=this.$refs.panes.find(e=>e.paneId===t);o&&"function"===typeof o.onResize&&o.$nextTick(()=>{o.onResize(s,e)})}onItemResized(t,e,s,o,i){this.resizePane(t,+o,+i),this.$store.commit("panes/UPDATE_LAYOUT",this.layout)}updateItem(t){const e=this.layout.find(e=>e.i===t);this.$store.commit("panes/UPDATE_ITEM",e)}onLayoutUpdated(t){this.$store.commit("panes/UPDATE_LAYOUT",t)}onContainerResized(t,e,s,o,i){this.resizePane(t,+o,+i)}updateRowHeight(t){!t||t.isTrusted?(this._resizeTimeout&&clearTimeout(this._resizeTimeout),t?this._resizeTimeout=window.setTimeout(this.updateRowHeight.bind(this),200):(this._resizeTimeout=null,this.rowHeight=window.innerHeight/this.cols)):this.resizeMaximizedPane()}};kt=Object(a["a"])([Object(yt["b"])({components:{GridLayout:_t.a.GridLayout,GridItem:_t.a.GridItem,Chart:()=>Promise.all([s.e("chunk-00f8fb9c"),s.e("chunk-662f5aef")]).then(s.bind(null,"aa6c")),Trades:()=>s.e("chunk-5c268662").then(s.bind(null,"34d5")),Stats:()=>Promise.all([s.e("chunk-00f8fb9c"),s.e("chunk-3bbacbcd")]).then(s.bind(null,"bdba")),Counters:()=>s.e("chunk-1e3ac1a1").then(s.bind(null,"cd00")),Prices:()=>s.e("chunk-3c639b53").then(s.bind(null,"daa3")),Website:()=>s.e("chunk-1d61eeb5").then(s.bind(null,"f1ea")),TradesLite:()=>s.e("chunk-03130df0").then(s.bind(null,"bfd2"))}})],kt);var Tt=kt,St=Tt,Et=Object(g["a"])(St,Ct,vt,!1,null,null,null),Ot=Et.exports,At=s("8219"),xt=s.n(At),Pt=s("4ee8"),It=s.n(Pt);let Dt=class extends r["c"]{constructor(){super(...arguments),this.price=null,this.showStuck=!1}get showSearch(){return this.$store.state.app.showSearch}get isBooted(){const t=this.$store.state.app&&this.$store.state.app.isBooted;return clearTimeout(this._stuckTimeout),t||(this.showStuck=!1,this._stuckTimeout=setTimeout(()=>{this.showStuck=!0},15e3)),t}get isLoading(){return this.$store.state.app.isLoading}get theme(){return this.$store.state.settings.theme}get autoHideHeaders(){return this.$store.state.settings.autoHideHeaders}get preferedSizingCurrency(){return this.$store.state.settings.preferQuoteCurrencySize?"quote":"base"}get baseCurrency(){return this.$store.state.app.baseCurrency}get baseCurrencySymbol(){return this.$store.state.app.baseCurrencySymbol}get quoteCurrency(){return this.$store.state.app.quoteCurrency}get quoteCurrencySymbol(){return this.$store.state.app.quoteCurrencySymbol}get disableAnimations(){return this.$store.state.settings.disableAnimations}mounted(){this.bindDropFile(),l["a"].on("notice",t=>{this.$store.dispatch("app/showNotice",t)}),l["a"].on("prices",this.updatePrice),document.addEventListener("keydown",this.onDocumentKeyPress),window.addEventListener("blur",this.onBlur)}beforeDestroy(){this.unbindDropFile(),this.stopUpdatingPrice()}updatePrice(t){let e=0,s=0;for(const o of this._mainMarkets)t[o]&&null!==t[o].price&&(e+=t[o].price,s++);s?(e/=s,null!==this.price&&(e>+this.price?this.updateFavicon("up"):e<+this.price&&this.updateFavicon("down")),this.price=Object(x["d"])(e,this._mainMarkets[0]),window.document.title=this._mainPair+" "+this.price):(this.price=null,this.updateFavicon("neutral"),window.document.title=this._mainPair?this._mainPair:"AGGR")}stopUpdatingPrice(){l["a"].off("prices",this.updatePrice),this.price=null}updateFavicon(t){this._faviconElement||(this._faviconElement=document.createElement("link"),this._faviconElement.id="favicon",this._faviconElement.rel="shortcut icon",document.head.appendChild(this._faviconElement)),this._faviconElement.href="up"===t?xt.a:It.a}onDocumentKeyPress(t){if(!this.isBooted)return;const e=document.activeElement;27!==t.keyCode?this.$store.state.app.showSearch||t.metaKey||t.ctrlKey||t.altKey||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||e.isContentEditable||(t=t||window.event,/^[a-z]$/i.test(t.key)?this.$store.dispatch("app/showSearch"):/^[0-9]$/i.test(t.key)&&this.$store.dispatch("app/showTimeframe")):this.$store.dispatch("app/hideSearch")}onBlur(){this.$store.commit("app/SET_FOCUSED_PANE",null)}async resetAndReload(){const t=await y["a"].confirm({title:"Reset app",message:"Are you sure ?",ok:"Reset settings",cancel:at["a"].workspace?"Download workspace "+at["a"].workspace.id:"Cancel"});!0===t?(await at["a"].reset(),window.location.reload()):!1===t&&at["a"].workspace&&at["a"].downloadWorkspace()}bindDropFile(){document.body.addEventListener("drop",this.handleDrop),document.body.addEventListener("dragover",this.handleDrop)}unbindDropFile(){document.body.removeEventListener("drop",this.handleDrop),document.body.removeEventListener("dragover",this.handleDrop)}async handleDrop(t){if(t.preventDefault(),"drop"!==t.type)return!1;if(t.dataTransfer.files&&t.dataTransfer.files.length)for(const s of t.dataTransfer.files)try{await nt["a"].importAnything(s)}catch(e){this.$store.dispatch("app/showNotice",{title:e.message,type:"error",timeout:6e4})}}refreshMainMarkets(t){const e={};for(const s in t){const o=t[s].local;e[o]||(e[o]=0),e[o]+=t[s].listeners}this._mainPair=Object.keys(e).sort((t,s)=>e[s]-e[t])[0],this._mainMarkets=Object.keys(t).filter(e=>t[e].local===this._mainPair).map(e=>t[e].exchange+":"+t[e].pair)}};Dt=Object(a["a"])([Object(r["a"])({name:"App",components:{Menu:bt,Notices:b,Panes:Ot},watch:{"$store.state.panes.marketsListeners":function(t,e){t!==e&&this.refreshMainMarkets(t)}}})],Dt);var Lt=Dt,Rt=Lt,Bt=Object(g["a"])(Rt,i,n,!1,null,null,null),Mt=Bt.exports,Nt=s("6018"),$t=(s("29d8"),s("0613")),Ut=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{contenteditable:!1!==t.editable,disabled:!1===t.editable},on:{keydown:t.onKeyDown,input:function(e){t.changed=!0},focus:t.onFocus,blur:t.onBlur,wheel:t.onWheel}})},jt=[];let Gt=class extends r["c"]{constructor(){super(...arguments),this.changed=!1}mounted(){const t=this.$el;t.innerText=this.value}onValueChange(){this.$el.innerText!==this.value&&(this.$el.innerText=this.value)}getCaretPosition(){let t,e,s=0;return window.getSelection&&(t=window.getSelection(),t.rangeCount&&(e=t.getRangeAt(0),e.commonAncestorContainer.parentNode==this.$el&&(s=e.endOffset))),s}onBlur(t){13!==t.which||isNaN(t.target.innerText)?(this.changed&&(t.target.innerHTML=t.target.innerText,this.$emit("input",t.target.innerText)),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()):t.preventDefault()}onKeyDown(t){if(this.disabled||13===t.which)return t.preventDefault(),this.$el.blur(),void(t.target.innerText=this.value);38!==t.which&&40!==t.which||this.increment((40===t.which?1:-1)*(t.shiftKey?10:1))}onFocus(){this.changed=!1}increment(t){const e=this.$el.innerText.trim().split(",");let s,o,i,n=0;if(e.length>0){this._incrementSelectionTimeout&&clearTimeout(this._incrementSelectionTimeout),i=this.position?this.position:this.getCaretPosition();for(let t=0;t<e.length;t++){const a=e[t];if(i>=n&&i<=n+a.length){s=a.replace(/[^0-9-.]/g,""),o=t;break}n+=a.length+1}}else s=e[0];if(isNaN(s))return;const a="undefined"===typeof this.max?1/0:this.max,r="undefined"===typeof this.min?-1/0:this.min,l=Object(x["a"])(s),c=1/Math.pow(10,l),p=c*t*-1;s=Math.max(r,Math.min(a,+s+p)).toFixed(l),e.length>1&&(this.position=i,e[o]=s,s=e.join(","),this._incrementSelectionTimeout=setTimeout(()=>{let t;this._incrementSelectionTimeout=null,document.selection?(t=document.selection.createRange(),t.moveStart("character",i),t.select()):(t=window.getSelection(),t.collapse(this.$el.lastChild,i)),this.position=null},100)),this.$el.innerText=s,this._emitTimeout&&clearTimeout(this._emitTimeout),this._emitTimeout=setTimeout(()=>{this._emitTimeout=null,this.$emit("input",s)},50)}onWheel(t){const e=document.activeElement;e===t.target&&e.isContentEditable&&(t.preventDefault(),this.increment(Math.sign(t.deltaY)*(t.shiftKey?10:1)))}};Object(a["a"])([Object(r["d"])("value")],Gt.prototype,"onValueChange",null),Gt=Object(a["a"])([Object(r["a"])({name:"Editable",props:["value","step","min","max","editable","disabled"]})],Gt);var Ft=Gt,Ht=Ft,qt=Object(g["a"])(Ht,Ut,jt,!1,null,null,null),Vt=qt.exports,Wt=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"dropdown"},on:{enter:t.onEnterStart}},[t.triggerElement?e("div",{staticClass:"dropdown hide-scrollbar",class:[t.noScroll&&"dropdown--no-scroll",t.transparent&&"dropdown--transparent"],style:{top:t.top+"px",left:t.left+"px"},on:{click:function(e){e.stopPropagation(),!t.interactive&&t.toggle(null,!0)}}},[t._t("default")],2):t._e()])},zt=[],Kt={name:"Dropdown",props:{value:{required:!1,default:null},margin:{type:Number,required:!1,default:16},interactive:{type:Boolean,required:!1,default:!1},noScroll:{type:Boolean,required:!1,default:!1},onSides:{type:Boolean,required:!1,default:!1},transparent:{type:Boolean,required:!1,default:!1}},watch:{value(t){this.toggle(t)}},data:()=>({triggerElement:null,top:null,left:null}),beforeDestroy(){this.toggle(null,!0),this.$el instanceof HTMLElement&&document.getElementById("app").removeChild(this.$el)},methods:{async open(t){t.classList.add("dropdown-trigger"),document.getElementById("app").appendChild(this.$el),this.$el instanceof HTMLElement&&this.fitScreen(),this.bindResize(),await this.$nextTick(),this.bindClickOutside()},close(){this.triggerElement&&(this.triggerElement.classList&&this.triggerElement.classList.remove("dropdown-trigger"),this.unbindResize(),this.unbindClickOutside())},async onEnterStart(){await this.$nextTick(),this.fitScreen();const t=this.$el.querySelector("button");t&&t.focus()},toggle(t,e=!1){const s=t&&t!==this.triggerElement?t:null;this.triggerElement&&this.close(),this.triggerElement=s,s&&s.classList&&this.open(s),e&&this.$emit("input",this.triggerElement)},fitScreen(){const t=this.triggerElement;if(!t||!t.getBoundingClientRect)return;const e=this.$el;if(!e||!e.getBoundingClientRect)return;e.offsetHeight;const s=window.innerWidth,o=window.innerHeight,i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=n.width;let r;if(this.onSides){const t=i.left>s/2;r=t?i.left-a-this.margin:i.left+i.width+this.margin}else r=s-a-2*this.margin;this.left=Math.max(this.margin,Math.min(i.left+i.width/2-a/2,r));const l=i.top-2*this.margin;e.style.maxHeight=l+"px";const c=Math.min(l,e.scrollHeight);if(this.onSides)this.top=i.top+i.height/2-c/2;else{const t=i.top>o/2;t?this.top=i.top-(c+this.margin):(e.style.maxHeight=o-i.top-i.height-2*this.margin+"px",this.top=i.top+i.height+this.margin)}},bindResize(){this._resizeHandler||(this._resizeHandler=this.onResize.bind(this),window.addEventListener("resize",this._resizeHandler))},onResize(){this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(()=>{this.fitScreen(!0),this._resizeTimeout=null},500)},unbindResize(){this._resizeHandler&&(window.removeEventListener("resize",this._resizeHandler),this._resizeHandler=null)},bindClickOutside(){this.clickOutsideHandler||(this.clickOutsideHandler=t=>{this.$el.contains(t.target)||this.triggerElement.contains(t.target)||this.triggerElement===t.target||this.toggle(null,!0)},document.addEventListener(Object(w["b"])()?"touchstart":"mousedown",this.clickOutsideHandler))},unbindClickOutside(){this.clickOutsideHandler&&(document.removeEventListener(Object(w["b"])()?"touchstart":"mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)}}},Xt=Kt,Jt=(s("c38a"),Object(g["a"])(Xt,Wt,zt,!1,null,"391e405b",null)),Yt=Jt.exports,Qt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("button",{staticClass:"btn -green -arrow mrauto",attrs:{type:"button"},on:{click:t.toggleDropdown}},[t._v(" Presets "),e("dropdown",{on:{input:function(e){e?t.bindPaste:t.unbindPaste}},model:{value:t.dropdownTrigger,callback:function(e){t.dropdownTrigger=e},expression:"dropdownTrigger"}},[e("div",{staticClass:"d-flex btn-group",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"btn -green",on:{click:function(e){return t.savePreset()}}},[e("i",{staticClass:"icon-plus mr8"}),e("small",[t._v("new")])]),e("div",{staticClass:"btn -blue -file"},[e("i",{staticClass:"icon-upload mr8"}),e("small",[t._v("import")]),e("input",{attrs:{type:"file",title:"Browse"},on:{change:t.handleFile}})]),e("div",{staticClass:"-fill"}),e("div",{staticClass:"btn -red flex-grow-1 flex-right",on:{click:t.applyDefault}},[e("i",{staticClass:"icon-eraser mr8"}),e("small",[t._v("Reset")])])]),t._l(t.presets,(function(s){return e("div",{key:s.id,staticClass:"dropdown-item",on:{click:function(e){return t.selectPreset(s.id)}}},[e("span",{staticClass:"mr8"},[t._v(t._s(s.label))]),e("button",{staticClass:"dropdown-option__action btn -small mlauto -text",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.openPreset(s.id,s.label)}}},[e("i",{staticClass:"icon-edit"})]),e("button",{staticClass:"dropdown-option__action btn -small ml4 -text",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.deletePreset(s)}}},[e("i",{staticClass:"icon-trash"})])])}))],2)],1)},Zt=[],te=function(){var t=this,e=t._self._c;return e("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",[e("div",{staticClass:"title"},[e("div",{domProps:{textContent:t._s(t.meta.name)},on:{dblclick:t.renamePreset}})]),e("div",{staticClass:"subtitle",domProps:{textContent:t._s(t.meta.type)}})])]},proxy:!0}])},[this.preset.createdAt||this.preset.updatedAt?e("div",{staticClass:"d-flex flex-middle mb8"},[e("i",{staticClass:"icon-info mr16"}),this.preset.createdAt?e("div",{staticClass:"mr16"},[e("small",{staticClass:"text-muted"},[t._v("Created at")]),e("div",[t._v(t._s(t.createdAt)+" ago")])]):t._e(),this.preset.updatedAt?e("div",[e("small",{staticClass:"text-muted"},[t._v("Updated at")]),e("div",[t._v(t._s(t.updatedAt)+" ago")])]):t._e()]):t._e(),e("p",{staticClass:"mt0"},[t._v(" What's included : "),e("button",{staticClass:"btn -text",attrs:{type:"button"},domProps:{textContent:t._s(t.showDetails?"hide":"show")},on:{click:function(e){t.showDetails=!t.showDetails}}})]),t.showDetails?e("ul",t._l(t.dataProperties,(function(s){return e("li",{key:s},[e("code",{domProps:{textContent:t._s(s)}})])})),0):t._e(),e("footer",[e("button",{staticClass:"btn -text -arrow",attrs:{type:"button"},on:{click:function(e){return t.$refs.presetDropdown.toggle(e.currentTarget)}}},[e("i",{staticClass:"icon-cog mr4"}),t._v(" Manage ")]),e("dropdown",{ref:"presetDropdown"},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:t.downloadPreset}},[e("i",{staticClass:"icon-download"}),e("span",[t._v("Download")])]),e("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"dropdown-item",attrs:{type:"button",title:"Replace with current settings"},on:{click:t.replacePreset}},[e("i",{staticClass:"icon-refresh"}),e("span",[t._v("Replace")])]),e("div",{staticClass:"dropdown-divider"}),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:t.deletePreset}},[e("i",{staticClass:"icon-trash"}),e("span",[t._v("Delete")])])]),e("button",{staticClass:"btn -text -large mlauto",attrs:{type:"button"},on:{click:t.copyPreset}},[e("i",{staticClass:"icon-copy-paste mr4"}),t._v(" Copy ")]),e("button",{staticClass:"btn -blue -large ml16",attrs:{type:"button"},on:{click:t.replacePreset}},[e("i",{staticClass:"icon-check mr4"}),t._v(" Set ")])],1)])},ee=[],se={mixins:[lt["a"]],props:{preset:{required:!0}},data(){return{menu:[{icon:"swap",label:"Override",click:this.replacePreset},{icon:"external-link-square-alt",label:"Export",click:this.downloadPreset},{icon:"trash",label:"Delete",click:this.deletePreset}],dataProperties:[],createdAt:"N/A",updatedAt:"N/A",showDetails:!1}},computed:{meta(){const[,t,e,s]=this.preset.name.match(/^([a-z-]+):?([a-z-]+)?:(.*)/);return{type:t,cat:e,name:s}}},created(){this.retrieveDataProperties(this.preset.data),this.preset.updatedAt&&(this.updatedAt=Object(S["a"])(this.preset.updatedAt)),this.preset.createdAt&&(this.createdAt=Object(S["a"])(this.preset.createdAt))},methods:{async deletePreset(){await at["a"].removePreset(this.preset.name),this.close()},downloadPreset(){Object(S["f"])(this.preset,Object(S["x"])(this.preset.name))},retrieveDataProperties(t){for(const e in t)t[e]&&"object"===typeof t[e]?this.retrieveDataProperties(t[e]):isNaN(e)&&-1===this.dataProperties.indexOf(e)&&this.dataProperties.push(e)},replacePreset(){this.close("replace")},async copyPreset(){await Object(S["d"])(JSON.stringify(this.preset)),this.$store.dispatch("app/showNotice",{id:"preset-clipboard",title:`Copied preset ${this.preset.name} to clipboard`})},async renamePreset(){const t=await y["a"].prompt({action:"Rename",input:this.name});t&&t!==this.meta.name&&(await at["a"].removePreset(this.preset.name),this.preset.name=this.meta.type+":"+(this.meta.cat?this.meta.cat+":":"")+t,await at["a"].savePreset(this.preset))}}},oe=se,ie=Object(g["a"])(oe,te,ee,!1,null,null,null),ne=ie.exports;let ae=class extends r["c"]{constructor(){super(...arguments),this.dropdownTrigger=null,this.presets=[]}created(){this.getPresets()}beforeDestroy(){this.unbindPaste()}toggleDropdown(t){this.dropdownTrigger?this.dropdownTrigger=null:this.dropdownTrigger=t.currentTarget}async getPresets(){this.presets.splice(1,this.presets.length);const t=await at["a"].getPresetsKeysByType(this.type);this.presets=t.map(t=>({id:t,label:t.split(":").pop()}))}async selectPreset(t){const e=await at["a"].getPreset(t);this.applyPreset(e)}async openPreset(t,e){const s=await at["a"].getPreset(t),o=await y["a"].openAsPromise(ne,{preset:s});"replace"===o?this.savePreset(e):"set"===o&&this.applyPreset(s),this.getPresets()}async savePreset(t){const e=!!t;if(t&&"string"===typeof t){if(!await y["a"].confirm(`Override preset ${t} with current settings ?`))return}else t=await y["a"].prompt("Enter a name");if(!t)return;const s=await this.adapter();if(!s)return void this.$store.dispatch("app/showNotice",{type:"error",title:e?"Canceled preset override":"Canceled preset creation"});s._id&&delete s._id,t=this.type+":"+t;const o=Date.now(),i=await at["a"].getPreset(t);await at["a"].savePreset({name:t,type:this.type,data:s,createdAt:i?i.createdAt:o,updatedAt:i?o:null},this.type),await this.getPresets()}async applyDefault(){await y["a"].confirm("Reset "+this.type+" to default settings ?")&&this.$emit("apply")}async applyPreset(t){this.$emit("apply",t.data)}async handleFile(t){const e=t.target.files[0];if(e)try{await nt["a"].importPreset(e,this.type)&&await this.getPresets()}catch(s){this.$store.dispatch("app/showNotice",{title:s.message,type:"error"})}}async deletePreset(t){await y["a"].confirm('Remove preset "'+t.label+'" ?')&&(await at["a"].removePreset(t.id),await this.getPresets())}bindPaste(){this._pasteHandler||(this._pasteHandler=this.onPaste.bind(this),document.addEventListener("paste",this._pasteHandler))}unbindPaste(){this._pasteHandler&&(document.removeEventListener("paste",this._pasteHandler),this._pasteHandler=null)}async onPaste(t){if(!document.activeElement||"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName)try{const e=JSON.parse(t.clipboardData.getData("text/plain"));if(!e.name||!e.type||!e.data)throw new Error("missing name or type or data property");const s=+new Date;await at["a"].savePreset({name:e.name,type:e.type,data:e.data,createdAt:s,updatedAt:null},this.type),await this.getPresets()}catch(e){this.$store.dispatch("app/showNotice",{type:"error",title:"Unable to parse preset (paste error)\n"+e.message})}}};ae=Object(a["a"])([Object(r["a"])({props:{type:{required:!0},adapter:{required:!0},label:{default:"Presets"}}})],ae);var re=ae,le=re,ce=Object(g["a"])(le,Qt,Zt,!1,null,null,null),pe=ce.exports,ue={bind(t){setTimeout(()=>{t.focus(),"INPUT"===t.tagName&&t.setSelectionRange(0,t.value.length)})}},de=s("9f95"),he=s.n(de);"serviceWorker"in navigator&&he.a.register(),o["default"].use(Nt["b"],{maxWidth:"200px",duration:0,arrow:!0,animation:"none",delay:[200,0],animateFill:!1,theme:"dark"}),o["default"].component("tippy",Nt["a"]),o["default"].component("dropdown",Yt),o["default"].component("editable",Vt),o["default"].component("presets",pe),o["default"].directive("autofocus",ue),new o["default"]({el:"#app",store:$t["b"],render:t=>t(Mt)})},d340:function(t,e,s){"use strict";s("3206")},d569:function(t,e,s){},d951:function(t,e,s){"use strict";s.d(e,"d",(function(){return c})),s.d(e,"c",(function(){return p})),s.d(e,"a",(function(){return d})),s.d(e,"b",(function(){return h})),s.d(e,"e",(function(){return m}));var o=s("0613"),i=s("da81"),n=s.n(i),a=s("bd60"),r=s("be31");const l={};async function c(t){"undefined"!==typeof t._id&&("number"===typeof l[t._id]&&(clearTimeout(l[t._id]),delete l[t._id]),await r["a"].saveState(t._id,t))}function p(t){if("undefined"!==typeof t._id)return"number"===typeof l[t._id]&&clearTimeout(l[t._id]),new Promise(e=>{l[t._id]=setTimeout(async()=>{await c(t),e()},500)})}async function u(t){try{const e=await r["a"].getState(t._id);if(e)return Object.assign({},t,e)}catch(e){r["a"].removeState(t._id)}return t}async function d(t,e=!1){if(o["b"]._actions[t+"/boot"])try{await o["b"].dispatch(t+"/boot",e)}catch(s){}}async function h(t,e,s,i){i?(e={...a["a"][i.type],state:JSON.parse(JSON.stringify(a["a"][i.type].state))},e.state._id=t,"object"===typeof i.settings&&(i.settings._id&&delete i.settings._id,n()(e.state,i.settings))):e={...e,state:JSON.parse(JSON.stringify(e.state))},"undefined"!==typeof e.state._id&&(e.state=await u(e.state)),o["b"].registerModule(t,e),s&&i&&await d(t,!0),o["b"].state.app.isBooted&&c(e.state)}function m(t){return new Promise(e=>{const s=o["b"].watch(t,t=>{e(t),s()})})}},e7a1:function(t,e,s){"use strict";var o=s("0c01"),i=s("be31"),n=function(){var t=this,e=t._self._c;return e("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"title"},[t._v("Import settings")])]},proxy:!0}])},[e("div",{staticClass:"form-group mb16"},[e("label",[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.workspace.name,expression:"workspace.name"}],staticClass:"form-control w-100",attrs:{type:"text"},domProps:{value:t.workspace.name},on:{input:function(e){e.target.composing||t.$set(t.workspace,"name",e.target.value)}}})]),e("div",{staticClass:"d-flex flex-middle"},[e("i",{staticClass:"icon-info mr16"}),e("div",{staticClass:"mr16"},[e("small",{staticClass:"text-muted"},[t._v("Version")]),e("div",[t._v("v"+t._s(t.workspace.version||0))])]),e("div",{staticClass:"mr16"},[e("small",{staticClass:"text-muted"},[t._v("Created at")]),e("div",[t._v(t._s(t.createdAt)+" ago")])]),e("div",[e("small",{staticClass:"text-muted"},[t._v("Updated at")]),e("div",[t._v(t._s(t.updatedAt)+" ago")])])]),t.panes.length?e("div",{staticClass:"form-group mt16"},[e("label",[t._v("Panels")]),t._l(t.panes,(function(s){return e("div",{key:s.id,staticClass:"column flex-middle"},[e("i",{staticClass:"icon-plus mr8 -small"}),e("span",[t._v(t._s(s.type.toUpperCase()))]),e("small",{staticClass:"ml4"},[e("code",[t._v(t._s(s.id))])])])}))],2):t._e(),t.panes.length?e("div",{staticClass:"form-group mt16"},[e("label",[t._v("Markets")]),t._l(t.markets,(function(s,o){return e("button",{key:o,staticClass:"btn -small mr4 mb4",attrs:{type:"button",disabled:""}},[t._v(" "+t._s(s)+" ")])}))],2):t._e(),e("footer",[e("a",{staticClass:"btn -text mr8",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),e("button",{staticClass:"btn -large -green",on:{click:function(e){return t.close(t.workspace)}}},[t._v(" IMPORT ")])])])},a=[],r=s("7250"),l=s("1ea0"),c=s("28f3"),p={props:{workspace:{required:!0,type:Object}},mixins:[l["a"]],computed:{createdAt(){return Object(c["a"])(this.workspace.createdAt)},updatedAt(){return Object(c["a"])(this.workspace.updatedAt)},panes(){return this.workspace.states.panes&&this.workspace.states.panes.panes?Object.keys(this.workspace.states.panes.panes).map(t=>({id:t,name:this.workspace.states.panes.panes[t].name,type:this.workspace.states.panes.panes[t].type,markets:this.workspace.states.panes.panes[t].markets})):[]},markets(){return this.panes.reduce((t,e)=>{for(const s of e.markets)-1===t.indexOf(s)&&t.push(s);return t},[])}},components:{Dialog:r["a"]},data:()=>({}),methods:{}},u=p,d=s("2877"),h=Object(d["a"])(u,n,a,!1,null,null,null),m=h.exports,g=s("0613");class f{getJSON(t){return new Promise((e,s)=>{const o=new FileReader;o.onload=t=>{try{const s=JSON.parse(t.target.result);e(s)}catch(o){s(o)}},o.readAsText(t)}).catch(()=>{throw new Error("Unable to read file")})}async importSound(t){if(0!==t.type.indexOf("audio"))throw new Error("File must be audio file");let e=await i["a"].getSound(t.name);if(!e)return e={name:t.name,data:new Blob([t],{type:t.type})},await i["a"].saveSound(e),g["b"].dispatch("app/showNotice",{title:"Successfully imported sound "+t.name,type:"info"}),e}async importPreset(t,e){const s=await this.getJSON(t);if(!s.data)throw new Error("Preset is empty");return await i["a"].savePreset(s,e),g["b"].dispatch("app/showNotice",{title:"Successfully imported preset "+s.name,type:"info"}),s}async importWorkspace(t){const e=await this.getJSON(t);if(!e.id||!e.name||!e.states)throw new Error("Unrecognized workspace file");if(0===Object.keys(e.states).length)throw new Error("Workspace seems empty");for(const s in e.states){const t=e.states[s];"website"===t.type&&(t.locked=!0)}if(!await i["a"].getWorkspace(e.id)||await o["a"].confirm({message:`Workspace "${e.id}" already exists`,ok:"Import anyway",cancel:"Annuler"}))return await o["a"].openAsPromise(m,{workspace:e})?(await i["a"].addAndSetWorkspace(e),g["b"].dispatch("app/showNotice",{title:"Successfully imported workspace "+e.name,type:"info"}),e):null}async importIndicator(t){let e;if(g["b"].state.app.focusedPaneId&&"chart"===g["b"].state.panes.panes[g["b"].state.app.focusedPaneId].type)e=g["b"].state.app.focusedPaneId;else for(const o in g["b"].state.panes.panes)if("chart"===g["b"].state.panes.panes[o].type){e=o;break}if(!e)throw new Error("No chart found");const s=await i["a"].getIndicatorsIds(),n=t.name.split(":").slice(1).join(":"),a=Object(c["y"])(Object(c["x"])(n),s),r={id:a,name:n,script:t.data.script||"",options:t.data.options||{},description:t.data.description||null,unsavedChanges:!0};g["b"].dispatch(e+"/addIndicator",r),o["a"].openIndicator(e,r.id)}async importAnything(t){if("application/json"===t.type||"text/plain"===t.type){const e=await this.getJSON(t);e.formatName?await this.importDatabase(t):e.type&&e.data?"indicator"===e.type&&e.name.split(":").length<3?this.importIndicator(e):await this.importPreset(t):await this.importWorkspace(t)}else/^audio\//.test(t.type)&&await this.importSound(t)}async importDatabase(t){if(!await o["a"].confirm({message:"This action will override ALL your aggr data.",ok:"Yes override please",cancel:"Cancel"})||!await o["a"].confirm({message:"Are you sure ?",ok:"Proceed with import",cancel:"Cancel"}))return;await s.e("chunk-2d0cc844").then(s.bind(null,"4dec"));const{importDB:e}=await s.e("chunk-73666f02").then(s.bind(null,"9e91")),n=i["a"].workspace.id;let a;await i["a"].reset();const r=t.name.match(/aggr-(\w{4})/);r&&r[1]&&(a=r[1]),await e(t),setTimeout(()=>{a?(localStorage.setItem("workspace",a),window.location.href=window.location.href.replace(n,"")):window.location.reload()},250)}}e["a"]=new f},ea82:function(t,e,s){"use strict";s("7e2b")},f24b:function(t,e,s){},f634:function(t,e,s){"use strict";var o=s("28f3"),i=s("a914"),n=s("be31");class a{constructor(){this.publicVapidKey="",this.url=Object(o["j"])("alert")}urlBase64ToUint8Array(t){const e="=".repeat((4-t.length%4)%4),s=(t+e).replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(s),i=new Uint8Array(o.length);for(let n=0;n<o.length;++n)i[n]=o.charCodeAt(n);return i}async getAlerts(t){return this._promiseOfSync&&await this._promiseOfSync,n["a"].getAlerts(t)}async syncTriggeredAlerts(){this._promiseOfSync=new Promise(t=>{navigator.serviceWorker.ready.then(async e=>{await this.markAlertsAsTriggered((await e.getNotifications()).map(t=>({price:t.data.price,market:t.data.market}))),t()})}).then(()=>{navigator.serviceWorker.addEventListener("message",t=>{this.markAlertsAsTriggered([t.data]),i["a"].emit("alert",t.data)})})}async markAlertsAsTriggered(t){const e=t.reduce((t,{price:e,market:s})=>s&&"number"===typeof e?(t[s]||(t[s]=[]),t[s].push(e),t):t,{});for(const s in e){const t=await n["a"].getAlerts(s);if(t.length){for(const o of e[s]){const e=t.find(t=>t.price===o);e&&(e.triggered=!0)}await n["a"].saveAlerts({market:s,alerts:t})}}}async getPushSubscription(){if(this.publicVapidKey){if(this.pushSubscription)return this.pushSubscription;if("serviceWorker"in navigator){const t=await navigator.serviceWorker.getRegistration("sw.js");this.pushSubscription=JSON.parse(JSON.stringify(await t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(this.publicVapidKey)})))}return this.pushSubscription}}subscribe(t,e){return this.toggleAlert(t,e)}unsubscribe(t,e){return this.toggleAlert(t,e,!0)}modify(t,e,s){return this.moveAlert(t,e,s)}getPrice(t){return new Promise(e=>{i["a"].once("prices",s=>{const o=s[t];if(!o)return e(null);e(s[t].price)})})}async validateAlert(t,e){const s=await this.getPrice(t);if(s){const t=100*(e/s-1);if(e<0||t>100||t<-50)return!1}return!0}async toggleAlert(t,e,s){const i=await this.getPushSubscription();if(!i)return;if(!await this.validateAlert(t,e))return;const n=location.href.replace(/#.*/,"");return fetch(this.url,{method:"POST",body:JSON.stringify({...i,origin:n,market:t,price:e,unsubscribe:s}),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{if(t.error)throw new Error(t.error);return!0}).catch(t=>(Object(o["q"])(t),!1))}async moveAlert(t,e,s){const i=await this.getPushSubscription();if(!i)return;if(!await this.validateAlert(t,s))return;const n=location.href;return fetch(this.url,{method:"POST",body:JSON.stringify({...i,origin:n,market:t,price:e,newPrice:s}),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{if(t.error)throw new Error(t.error);return!0}).catch(t=>(Object(o["q"])(t),!1))}}e["a"]=new a},f6c7:function(t,e,s){"use strict";s("6220")},fa07:function(t,e,s){"use strict";s.d(e,"a",(function(){return o})),s.d(e,"c",(function(){return i})),s.d(e,"j",(function(){return n})),s.d(e,"h",(function(){return a})),s.d(e,"d",(function(){return r})),s.d(e,"k",(function(){return p})),s.d(e,"i",(function(){return u})),s.d(e,"b",(function(){return d})),s.d(e,"f",(function(){return h})),s.d(e,"g",(function(){return f})),s.d(e,"e",(function(){return b}));const o=["#ffffff","#D1D4DC","#B2B5BE","#9598A1","#787B86","#5D606B","#434651","#2A2E39","#131722","#000000","#F23645","#FF9800","#ffeb3b","#4caf50","#089981","#00bcd4","#2962FF","#673ab7","#9c27b0","#e91e63","#FCCBCD","#FFE0B2","#FFF9C4","#C8E6C9","#ACE5DC","#B2EBF2","#BBD9FB","#D1C4E9","#E1BEE7","#F8BBD0","#FAA1A4","#FFCC80","#FFF59D","#A5D6A7","#70CCBD","#80DEEA","#90BFF9","#B39DDB","#CE93D8","#f48fb1","#F77C80","#ffb74d","#FFF176","#81c784","#42BDA8","#4dd0e1","#5B9CF6","#9575cd","#ba68c8","#f06292","#F7525F","#FFA726","#ffee58","#66BB6A","#22AB94","#26c6da","#3179F5","#7e57c2","#ab47bc","#ec407a","#B22833","#F57C00","#fbc02d","#388e3c","#056656","#0097A7","#1848CC","#512da8","#7b1fa2","#C2185B","#801922","#e65100","#F57F17","#1B5E20","#00332A","#006064","#0C3299","#311B92","#4A148C","#880E4F"];function i(t,e,s){if(s>1)return e;const o=s,i=2*o-1,n=(i/1+1)/2,a=1-n,r=[Math.round(e[0]*n+t[0]*a),Math.round(e[1]*n+t[1]*a),Math.round(e[2]*n+t[2]*a)];return r}function n(t,e){const s=1-t[3];return t[0]=Math.round(255*(t[3]*(t[0]/255)+s*(e[0]/255))),t[1]=Math.round(255*(t[3]*(t[1]/255)+s*(e[1]/255))),t[2]=Math.round(255*(t[3]*(t[2]/255)+s*(e[2]/255))),t.splice(3,1),t}function a(t){const e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,(function(t,e,s,o){return e+e+s+s+o+o}));const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(t);return s?[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16),parseInt(s[4],16)||1]:null}function r(t,e){return"undefined"!==typeof t[3]&&e&&(t=n(t,e)),(.2126*t[0]+.7152*t[1]+.0722*t[2]-127.5)/127.5}const l={};function c(t){if(l[t])return l[t].slice();const e=document.createElement("canvas");e.width=e.height=1;const s=e.getContext("2d");s.clearRect(0,0,1,1),s.fillStyle="#000",s.fillStyle=t,s.fillRect(0,0,1,1);const o=s.getImageData(0,0,1,1).data;return l[t]=[o[0],o[1],o[2],o[3]/255],l[t]}function p(t,e){if("#"===t[0])return a(t);if(!/^rgb/.test(t)&&/^[a-z]+$/i.test(t))return c(t);let s,o;try{if(s=t.match(/rgba?\((\d+)[\s,]*(\d+)[\s,]*(\d+)(?:[\s,]*([\d.]+))?\)/),!s)throw new Error;o=[+s[1],+s[2],+s[3]]}catch(i){o=[0,0,0]}return s&&"undefined"!==typeof s[4]&&(o.push(+s[4]),e&&(o=n(o,e))),o}function u(t){const[e,s,o,i]=t;return"rgb"+(i?"a(":"(")+e+","+s+","+o+(i?","+i+")":")")}function d(){const t=getComputedStyle(document.getElementById("app")).backgroundColor;let e;return e=-1!==t.indexOf("#")?a(t):p(t),e}function h(t,e){const s=r(t);let o=e;s<0&&s>-.9&&(o*=1-Math.abs(s)),o=Math.max(-1,Math.min(1,o));const i=o<0,n=i?0:65025*o,a=i?1+o:1-o,l="rgb("+Math.round((a*t[0]**2+n)**.5)+","+Math.round((a*t[1]**2+n)**.5)+","+Math.round((a*t[2]**2+n)**.5)+")";return l}function m([t,e,s]){t/=255,e/=255,s/=255;const o=Math.max(t,e,s),i=Math.min(t,e,s);let n,a;const r=(o+i)/2;if(o==i)n=a=0;else{const l=o-i;switch(a=r>.5?l/(2-o-i):l/(o+i),o){case t:n=(e-s)/l+(e<s?6:0);break;case e:n=(s-t)/l+2;break;case s:n=(t-e)/l+4;break}n/=6}return[n,a,r]}function g([t,e,s]){let o,i,n;if(0==e)o=i=n=s;else{function a(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(e-t)*s:s<.5?e:s<2/3?t+(e-t)*(2/3-s)*6:t}const r=s<.5?s*(1+e):s+e-s*e,l=2*s-r;o=a(l,r,t+1/3),i=a(l,r,t),n=a(l,r,t-1/3)}return[Math.round(255*o),Math.round(255*i),Math.round(255*n)]}function f(t,e=.4){const s=r(t);s<-.95&&(t=[255,255,255]);const o=m(t),i=s>.33,n=Math.log(1-Math.abs(s)+1)/2,a=Math.log(1+e+n)*(i?-1.25:1),l=Math.min(1,o[1]+a),c=Math.max(.01,Math.min(.99,o[2]+a)),p=g([o[0],l,c]);return p}function b(t,e,s){"undefined"===typeof s&&(s=e<0);const o=m(t),i=r(t),n=(i+1)/2,a=.1-.1*Math.max(.05,n),l=Math.log(1+a);e+=l*(s?-1:1);const c=Math.min(1,o[1]*(1+e)),p=Math.max(.01,Math.min(.99,o[2]+e));return g([o[0],c,p])}},fea2:function(t,e,s){"use strict";var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(t.name?t.single?"transition":"transition-group":"div",{tag:"component",attrs:{name:t.name,tag:t.tag},on:{beforeEnter:t.beforeEnter,enter:t.enter,afterEnter:t.afterEnter,beforeLeave:t.beforeLeave,leave:t.leave}},[t._t("default")],2)},i=[],n=s("9ab4"),a=s("60a3");let r=class extends a["c"]{mounted(){this.$nextTick(()=>{const t=this.$el;t instanceof Element&&(t.dataset.height=this.getChildrenHeight(t))})}getChildrenHeight(t){const e=t.children[0];if(!e)return"0px";let s=e.offsetHeight;const o=window.getComputedStyle(e);return s+=parseInt(o.getPropertyValue("margin-top")),s+=parseInt(o.getPropertyValue("margin-bottom")),s+"px"}beforeEnter(t){t.style.height="0px"}enter(t){const e=this.getChildrenHeight(t);t.dataset.height=e,setTimeout(()=>{t.style.height=e},100)}afterEnter(t){t.style.height=""}beforeLeave(t){t.style.height=t.dataset.height}leave(t){setTimeout(()=>{t.style.height="0px"})}};r=Object(n["a"])([Object(a["a"])({name:"Transitionheight",props:{name:{type:String,required:!1,default:null},single:{type:Boolean,required:!1},tag:{type:String,required:!1,default:null}}})],r);var l=r,c=l,p=s("2877"),u=Object(p["a"])(c,o,i,!1,null,null,null);e["a"]=u.exports}});
//# sourceMappingURL=app.735cd00b.js.map